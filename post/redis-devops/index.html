<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/icon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/icon.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.4.2',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":"flat"},
    back2top: {"enable":true,"sidebar":true,"scrollpercent":true},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: true,
    lazyload: false,
    pangu: true,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    },
    sidebarPadding: 40
  };
</script>

  <meta property="og:type" content="article">
<meta property="og:title" content="ã€ŠRediså¼€å‘ä¸è¿ç»´ã€‹">
<meta property="og:url" content="https:&#x2F;&#x2F;blog.palemoky.top&#x2F;post&#x2F;redis-devops&#x2F;index.html">
<meta property="og:site_name" content="å¯°å®‡æ˜Ÿè¾°">
<meta property="og:locale" content="en">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;middle&#x2F;006y8mN6ly1g8ronsawmbj30ku0aft9d.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;006y8mN6ly1g8rmou0bzdj30hx0kb0xe.jpg">
<meta property="og:updated_time" content="2019-11-10T13:58:24.638Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;middle&#x2F;006y8mN6ly1g8ronsawmbj30ku0aft9d.jpg">

<link rel="canonical" href="https://blog.palemoky.top/post/redis-devops/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>ã€ŠRediså¼€å‘ä¸è¿ç»´ã€‹ | å¯°å®‡æ˜Ÿè¾°</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

  <script type="text/javascript">
    var host = "blog.palemoky.top";
    if ((host == window.location.host) && (window.location.protocol != "https:"))
        window.location.protocol = "https";
</script>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">å¯°å®‡æ˜Ÿè¾°</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">ä»¥æœ‰é™å­—ç¬¦åˆ›é€ æ— é™å¯èƒ½<br>Make it possible</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>About</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-todo">

    <a href="/todo/" rel="section"><i class="fa fa-fw fa-list"></i>Todo</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="Searching..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/palemoky" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="en">
    <link itemprop="mainEntityOfPage" href="https://blog.palemoky.top/post/redis-devops/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/orca.jpg">
      <meta itemprop="name" content="Palemoky">
      <meta itemprop="description" content="Learn by doing !">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="å¯°å®‡æ˜Ÿè¾°">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          ã€ŠRediså¼€å‘ä¸è¿ç»´ã€‹
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-11-09 10:31:49" itemprop="dateCreated datePublished" datetime="2019-11-09T10:31:49+08:00">2019-11-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-11-10 21:58:24" itemprop="dateModified" datetime="2019-11-10T21:58:24+08:00">2019-11-10</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index">
                    <span itemprop="name">å­¦ä¹ ç¬”è®°</span>
                  </a>
                </span>
            </span>

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/post/redis-devops/#comments" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="post/redis-devops/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><img src="https://tva1.sinaimg.cn/middle/006y8mN6ly1g8ronsawmbj30ku0aft9d.jpg" alt=""></p>
<a id="more"></a>

<h1 id="ç¬¬-1-ç« -åˆè¯†-Redis"><a href="#ç¬¬-1-ç« -åˆè¯†-Redis" class="headerlink" title="ç¬¬ 1 ç«  åˆè¯† Redis"></a>ç¬¬ 1 ç«  åˆè¯† Redis</h1><h2 id="Redis-æ•°æ®ç±»å‹"><a href="#Redis-æ•°æ®ç±»å‹" class="headerlink" title="Redis æ•°æ®ç±»å‹"></a>Redis æ•°æ®ç±»å‹</h2><ul>
<li>string(Bitmaps &amp; HyperLogLog)</li>
<li>hash</li>
<li>list</li>
<li>set</li>
<li>zset</li>
</ul>
<h2 id="Redis-æä¾›çš„åŠŸèƒ½"><a href="#Redis-æä¾›çš„åŠŸèƒ½" class="headerlink" title="Redis æä¾›çš„åŠŸèƒ½"></a>Redis æä¾›çš„åŠŸèƒ½</h2><ul>
<li>é”®è¿‡æœŸ</li>
<li>å‘å¸ƒè®¢é˜…ï¼ˆæ¶ˆæ¯ç³»ç»Ÿï¼‰</li>
<li>äº‹åŠ¡</li>
<li>æµæ°´çº¿ï¼ˆä¸€æ‰¹å‘½ä»¤ä¸€æ¬¡å‘é€åˆ° Redisï¼Œé¿å…ç½‘ç»œå¼€é”€ï¼‰</li>
<li>Lua è„šæœ¬</li>
</ul>
<h2 id="Redis-ä½¿ç”¨åœºæ™¯"><a href="#Redis-ä½¿ç”¨åœºæ™¯" class="headerlink" title="Redis ä½¿ç”¨åœºæ™¯"></a>Redis ä½¿ç”¨åœºæ™¯</h2><ul>
<li>ç¼“å­˜</li>
<li>æ’è¡Œæ¦œ</li>
<li>è®¡æ•°å™¨ï¼ˆè§†é¢‘æ’­æ”¾æ•°ï¼Œå•†å“æµè§ˆé‡ï¼‰</li>
<li>ç¤¾äº¤ï¼ˆå…±åŒå¥½å‹ã€ç²‰ä¸ã€ç‚¹èµï¼‰</li>
<li>æ¶ˆæ¯é˜Ÿåˆ—</li>
<li>å…±äº« Session</li>
<li>é™é€Ÿï¼ˆå¦‚ï¼Œ60s è·å–ä¸€æ¬¡æ‰‹æœºéªŒè¯ç ï¼š<code>redis.set(phoneNum, 1, &quot;EX 60&quot;, &quot;NX&quot;)</code>ï¼‰</li>
<li>ä½¿ç”¨å“ˆå¸Œç±»å‹æ¨¡æ‹Ÿå…³ç³»å‹æ•°æ®åº“ï¼ˆä¼˜ç‚¹ï¼šç”¨æˆ·ä¿¡æ¯å†…èšæ€§è¾ƒå¼ºï¼Œå ç”¨çš„é”®è¾ƒå°‘ï¼›ç¼ºç‚¹ï¼šå“ˆå¸Œç±»å‹æ˜¯ç¨€ç–çš„ï¼Œéš¾ä»¥åšå¤æ‚çš„å…³ç³»æŸ¥è¯¢ã€‚æ³¨æ„ï¼šè¦æ§åˆ¶å“ˆå¸Œåœ¨ ziplist å’Œ hashtable ä¸¤ç§å†…éƒ¨ç¼–ç çš„è½¬æ¢ï¼Œhashtable ä¼šæ¶ˆè€—æ›´å¤šçš„å†…å­˜ï¼‰</li>
</ul>
<h2 id="ä¸ºä»€ä¹ˆ-Redis-å¾ˆå¿«ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆ-Redis-å¾ˆå¿«ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆ Redis å¾ˆå¿«ï¼Ÿ"></a>ä¸ºä»€ä¹ˆ Redis å¾ˆå¿«ï¼Ÿ</h2><ul>
<li>å†…å­˜è®¿é—®</li>
<li>C è¯­è¨€å®ç°</li>
<li>å•çº¿ç¨‹æ¶æ„ï¼Œé¿å…çº¿ç¨‹åˆ‡æ¢ä¸ç«æ€äº§ç”Ÿçš„æ¶ˆè€—</li>
<li>I/O å¤šè·¯å¤ç”¨æ¨¡å‹ï¼ˆepollï¼‰</li>
</ul>
<p>å®‰è£…è½¯ä»¶æ—¶ï¼Œä¸ºè½¯ä»¶å»ºç«‹è½¯è¿æ¥æ˜¯ä¸€ç§å¥½ä¹ æƒ¯ï¼Œé¿å…å°†è½¯ä»¶å›ºå®šåœ¨æŒ‡å®šç‰ˆæœ¬ä¸Šï¼Œæœ‰åˆ©äºæœªæ¥è½¯ä»¶çš„ç‰ˆæœ¬å‡çº§ã€‚</p>
<p>Redis å€Ÿé‰´äº† Linux å¯¹äºç‰ˆæœ¬å·çš„å‘½åè§„åˆ™ï¼šç‰ˆæœ¬å·ç¬¬äºŒä½å¦‚æœæ˜¯å¥‡æ•°ï¼Œåˆ™ä¸ºéç¨³å®šç‰ˆæœ¬ï¼ˆå¦‚ 2.7ã€2.9ã€3.1ï¼‰ï¼Œå¦åˆ™ä¸ºç¨³å®šç‰ˆæœ¬ï¼ˆå¦‚ 2.6ã€2.8ã€3.0ï¼‰</p>
<h2 id="Redis-å¯æ‰§è¡Œæ–‡ä»¶è¯´æ˜"><a href="#Redis-å¯æ‰§è¡Œæ–‡ä»¶è¯´æ˜" class="headerlink" title="Redis å¯æ‰§è¡Œæ–‡ä»¶è¯´æ˜"></a>Redis å¯æ‰§è¡Œæ–‡ä»¶è¯´æ˜</h2><table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td><code>redis-server</code></td>
<td>å¯åŠ¨ Redis</td>
</tr>
<tr>
<td><code>redis-cli</code></td>
<td>Redis å‘½ä»¤è¡Œå®¢æˆ·ç«¯</td>
</tr>
<tr>
<td><code>redis-cli shutdown</code></td>
<td>å…³é—­ Redis</td>
</tr>
<tr>
<td><code>redis-benchmark</code></td>
<td>Redis åŸºå‡†æµ‹è¯•å·¥å…·</td>
</tr>
<tr>
<td><code>redis-check-of</code></td>
<td>Redis AOF æŒä¹…åŒ–æ–‡ä»¶æ£€æµ‹ä¸ä¿®å¤å·¥å…·</td>
</tr>
<tr>
<td><code>redis-check-dump</code></td>
<td>Redis RDB æŒä¹…åŒ–æ–‡ä»¶æ£€æµ‹ä¸ä¿®å¤å·¥å…·</td>
</tr>
<tr>
<td><code>redis-sentinel</code></td>
<td>å¯åŠ¨ Redis Sentinel</td>
</tr>
</tbody></table>
<h2 id="å¯åŠ¨-Redis-çš„3ç§æ–¹å¼ï¼š"><a href="#å¯åŠ¨-Redis-çš„3ç§æ–¹å¼ï¼š" class="headerlink" title="å¯åŠ¨ Redis çš„3ç§æ–¹å¼ï¼š"></a>å¯åŠ¨ Redis çš„3ç§æ–¹å¼ï¼š</h2><ol>
<li>é»˜è®¤é…ç½®(<code>redis-server</code>)</li>
<li>è¿è¡Œé…ç½®(<code>redis-server --port 6380</code>)</li>
<li>é…ç½®æ–‡ä»¶(<code>redis-server /opt/redis/redis.conf</code>)</li>
</ol>
<h1 id="ç¬¬-2-ç« -API-çš„ç†è§£å’Œä½¿ç”¨"><a href="#ç¬¬-2-ç« -API-çš„ç†è§£å’Œä½¿ç”¨" class="headerlink" title="ç¬¬ 2 ç«  API çš„ç†è§£å’Œä½¿ç”¨"></a>ç¬¬ 2 ç«  API çš„ç†è§£å’Œä½¿ç”¨</h1><table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>é€‰é¡¹</th>
<th>è¿”å›å€¼</th>
<th>å«ä¹‰</th>
<th>å¤æ‚åº¦</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody><tr>
<td><code>keys pattern</code></td>
<td>pattern ä½¿ç”¨çš„æ˜¯ glob é£æ ¼çš„é€šé…ç¬¦</td>
<td></td>
<td>æŸ¥çœ‹æ‰€æœ‰é”®</td>
<td>$O(n)$</td>
<td>å¤§é‡é”®æ—¶ç¦æ­¢ä½¿ç”¨</td>
</tr>
<tr>
<td><code>dbsize</code></td>
<td></td>
<td>intï¼ˆ&gt;=0ï¼‰</td>
<td>é”®æ€»æ•°</td>
<td>$O(1)$</td>
<td>ä¸éå†é”®ï¼Œç›´æ¥è¯»å–å†…ç½®é”®æ€»æ•°</td>
</tr>
<tr>
<td><code>exists key</code></td>
<td></td>
<td>intboolï¼ˆå­˜åœ¨ä¸º 1ï¼Œå¦åˆ™ä¸º 0ï¼‰</td>
<td>æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>del key [key ...]</code></td>
<td></td>
<td>intï¼ˆæˆåŠŸåˆ é™¤çš„ä¸ªæ•°ï¼Œè‹¥åˆ é™¤ä¸å­˜åœ¨çš„é”®ï¼Œè¿”å› 0ï¼‰</td>
<td>åˆ é™¤é”®</td>
<td>$O(k)$ï¼Œğ‘˜ä¸ºé”®çš„ä¸ªæ•°</td>
<td></td>
</tr>
<tr>
<td><code>expire key seconds</code><br><br><code>expireat key timestamp</code><br><br><code>pexpire key milliseconds</code><br><br><code>pexpireat key milliseconds-timestamp</code></td>
<td></td>
<td>boolintï¼ˆæˆåŠŸä¸º 1ï¼Œkey ä¸å­˜åœ¨æˆ–æ— æ³•è®¾ç½®ä¸º 0ï¼‰</td>
<td>é”®è¿‡æœŸ</td>
<td></td>
<td>1. æ— è®ºä½¿ç”¨å“ªç§å½¢å¼ï¼Œåœ¨ Redis å†…éƒ¨æœ€ç»ˆä½¿ç”¨çš„éƒ½æ˜¯<code>pexpireat</code>ï¼›<br>2. å¦‚æœ<code>expire key</code>çš„é”®ä¸å­˜åœ¨ï¼Œè¿”å› 0;<br>3. å¦‚æœè¿‡æœŸæ—¶é—´ä¸ºè´Ÿå€¼ï¼Œé”®ä¼šè¢«ç«‹å³åˆ é™¤ï¼ŒçŠ¹å¦‚ä½¿ç”¨äº†<code>del</code>;<br>4. <code>persist key</code>å¯ä»¥å°†é”®çš„è¿‡æœŸæ—¶é—´æ¸…é™¤ï¼›<br>5. <strong>å¯¹äºå­—ç¬¦ä¸²ç±»å‹é”®ï¼Œæ‰§è¡Œ<code>set</code>å‘½ä»¤ä¼šå»æ‰è¿‡æœŸæ—¶é—´</strong>;<br>6. Redis ä¸æ”¯æŒäºŒçº§æ•°æ®ç»“æ„ï¼ˆå“ˆå¸Œã€åˆ—è¡¨ï¼‰å†…éƒ¨å…ƒç´ çš„è¿‡æœŸåŠŸèƒ½ï¼Œå¦‚ä¸èƒ½å¯¹åˆ—è¡¨ç±»å‹çš„ä¸€ä¸ªå…ƒç´ åšè¿‡æœŸæ—¶é—´è®¾ç½®ï¼›<br>7. <code>setex</code>ä½œä¸º<code>set</code>+<code>expire</code>çš„ç»„åˆï¼Œä¸ä½†æ˜¯åŸå­æ‰§è¡Œï¼ŒåŒæ—¶å‡å°‘äº†ä¸€æ¬¡ç½‘ç»œé€šè®¯çš„æ—¶é—´</td>
</tr>
<tr>
<td><code>ttl key</code><br><code>pttl key</code></td>
<td></td>
<td>intï¼ˆ&gt;=0ï¼šé”®å‰©ä½™è¿‡æœŸæ—¶é—´ï¼›-1ï¼šé”®æœªè®¾ç½®è¿‡æœŸæ—¶é—´ï¼›-2ï¼šé”®ä¸å­˜åœ¨ï¼‰</td>
<td>æŸ¥çœ‹é”®å‰©ä½™å­˜æ´»æ—¶é—´ï¼ˆç§’/æ¯«ç§’ï¼‰</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>type key</code></td>
<td></td>
<td>é”®å­˜åœ¨è¿”å›æ•°æ®ç±»å‹ï¼Œä¸å­˜åœ¨è¿”å› none</td>
<td>æŸ¥çœ‹é”®çš„æ•°æ®ç±»å‹</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>rename key newkey</code><br><code>renamenx key newkey</code></td>
<td></td>
<td>æˆåŠŸè¿”å›<code>OK</code>,å¤±è´¥ä¸º 0</td>
<td>é”®é‡å‘½å</td>
<td></td>
<td>1. å¦‚æœåœ¨é‡å‘½åä¹‹å‰ï¼Œé”®å€¼å·²ç»å­˜åœ¨ï¼Œåˆ™å€¼ä¼šè¢«è¦†ç›–ï¼›<br>2. ç”±äºé‡å‘½åé”®æœŸé—´ä¼šæ‰§è¡Œ<code>del</code>åˆ é™¤æ—§é”®ï¼Œå¦‚æœé”®å¯¹åº”çš„å€¼è¾ƒå¤§ï¼Œå¯èƒ½ä¼šè¢«é˜»å¡</td>
</tr>
<tr>
<td><code>randomkey</code></td>
<td></td>
<td></td>
<td>éšæœºè¿”å›ä¸€ä¸ªé”®</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>move key db</code><br><br><code>dump key</code> + <code>restore key ttl value</code><br><br><code>migrate host port key|&quot;&quot; destination-db timeout [copy] [replace] [keys key [key ...]]</code></td>
<td><code>ttl</code>ä¸º 0 æ—¶è¡¨ç¤ºæ— è¿‡æœŸæ—¶é—´<br><code>host</code>:ç›®æ ‡ä¸»æœº<br><code>port</code>:ç›®æ ‡ç«¯å£<br><code>key|&quot;&quot;</code>:è¿ç§»å•ä¸ªé”®æŒ‡å®šé”®åï¼Œå¤šä¸ªé”®åˆ™ä¸ºç©ºå­—ç¬¦ä¸²<br><code>destination-db</code>:ç›®æ ‡ db ç´¢å¼•<br><code>timeout</code>:è¿ç§»çš„è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰<br><code>copy</code>:ä¸åˆ é™¤æºé”®<br><code>replace</code>:å¯¹ç›®æ ‡ Redis è¦†å†™æ“ä½œã€‚è‹¥æœªæŒ‡å®šï¼Œæº Redis å’Œç›®æ ‡ Redis å­˜åœ¨åŒåé”®ä¼šæŠ¥é”™<br><code>keys key [key ...]</code>:è¿ç§»çš„é”®å</td>
<td></td>
<td>è¿ç§»é”®</td>
<td></td>
<td>æ–¹å¼äºŒä¸­ï¼Œ<code>dump</code>ä¼šå°†é”®å€¼åºåˆ—åŒ–ï¼Œæ ¼å¼é‡‡ç”¨ RDB æ ¼å¼ï¼Œåœ¨ç›®æ ‡ Redis ä¸Šï¼Œ<code>restore</code>å†å°†åºåˆ—åŒ–çš„å€¼å¤åŸ<br><br><code>migrate</code>å®è´¨ä¸Šæ˜¯<code>dump</code>ã€<code>restore</code>ã€<code>del</code>ä¸‰ä¸ªå‘½ä»¤çš„ç»„åˆã€‚<code>migrate</code>å…·æœ‰åŸå­æ€§ï¼Œåªéœ€åœ¨æº Redis ä¸Šæ‰§è¡Œå³å¯ï¼Œç›®æ ‡ Redis å®Œæˆ<code>restore</code>åè¿”å› OKï¼Œæº Redis å†æ ¹æ®<code>migrate</code>çš„å¯¹åº”é€‰é¡¹å†³å®šæ˜¯å¦åœ¨æº Redis ä¸Šåˆ é™¤å¯¹åº”çš„é”®</td>
</tr>
<tr>
<td><code>scan cursor [match pattern] [count number]</code></td>
<td><code>cursor</code>ï¼šæ¸¸æ ‡ï¼Œç¬¬ä¸€æ¬¡éå†ä»0å¼€å§‹ï¼Œæ¯æ¬¡<code>scan</code>éå†å®Œéƒ½ä¼šè¿”å›å½“å‰æ¸¸æ ‡çš„å€¼ï¼Œç›´åˆ°æ¸¸æ ‡å€¼ä¸º0ï¼Œè¡¨ç¤ºéå†ç»“æŸ<br><code>Â·match pattern</code>ï¼šæ¨¡å¼åŒ¹é…<br><code>count number</code>ï¼šæ˜æ¯æ¬¡è¦éå†çš„é”®ä¸ªæ•°ï¼Œé»˜è®¤å€¼æ˜¯10ï¼Œæ­¤å‚æ•°å¯ä»¥é€‚å½“å¢å¤§</td>
<td></td>
<td>æ¸è¿›å¼éå†</td>
<td></td>
<td>å¦‚æœåœ¨éå†è¿‡ç¨‹ä¸­é”®å‘ç”Ÿäº†å˜åŒ–ï¼Œåˆ™ç»“æœå¯èƒ½æ˜¯ä¸å‡†ç¡®çš„ï¼›<br><code>hscan</code> è§£å†³ <code>hgetall</code> çš„é˜»å¡<br><code>sscan</code>è§£å†³<code>smembers</code> çš„é˜»å¡<br><code>zscan</code>è§£å†³<code>zrange</code> çš„é˜»å¡</td>
</tr>
<tr>
<td><code>select dbIndex</code></td>
<td></td>
<td></td>
<td>åˆ‡æ¢æ•°æ®åº“</td>
<td></td>
<td>é»˜è®¤ 16 ä¸ªæ•°æ®åº“(0~15)ï¼ŒæœªæŒ‡å®šæ•°æ®åº“æ—¶ï¼Œé»˜è®¤ä¸º 0 æ•°æ®åº“;<br>å»ºè®®åªä½¿ç”¨ 0 å·æ•°æ®åº“ï¼Œé¿å…å¤šæ•°æ®åº“çš„åˆ‡æ¢é”™è¯¯ï¼Œä»¥åŠæ•…éšœæ’æŸ¥å›°éš¾ã€‚å¦‚æœéœ€è¦ä½¿ç”¨å¤šæ•°æ®åº“ï¼Œå¯ä»¥åœ¨å•æœºéƒ¨ç½²å¤šä¸ª Redis å®ä¾‹ï¼Œé€šè¿‡ç«¯å£åŒºåˆ†ä¸åŒæ•°æ®åº“</td>
</tr>
<tr>
<td><code>flushdb</code><br><code>flushall</code></td>
<td></td>
<td></td>
<td>æ¸…ç©ºå½“å‰/æ‰€æœ‰æ•°æ®åº“</td>
<td></td>
<td>è‹¥æ•°æ®åº“é”®å€¼è¾ƒå¤šï¼Œå¯èƒ½å¼•å‘é˜»å¡</td>
</tr>
<tr>
<td><strong>å­—ç¬¦ä¸² String</strong></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>set key value [ex seconds] [px milliseconds] [nx|xx]</code></td>
<td>exï¼šè®¾ç½®ç§’çº§è¿‡æœŸæ—¶é—´<br>pxï¼šè®¾ç½®æ¯«ç§’çº§è¿‡æœŸæ—¶é—´<br>nxï¼šé”®ä¸å­˜åœ¨æ‰èƒ½è®¾ç½®æˆåŠŸï¼Œç”¨äºæ·»åŠ <br>xxï¼šé”®å­˜åœ¨æ‰èƒ½è®¾ç½®æˆåŠŸï¼Œç”¨äºæ›´æ–°</td>
<td>æˆåŠŸè¿”å› OKï¼Œå¤±è´¥è¿”å› 0</td>
<td>è®¾ç½®å€¼</td>
<td>$O(1)$</td>
<td></td>
</tr>
<tr>
<td><code>setex key seconds value</code></td>
<td></td>
<td>æˆåŠŸè¿”å› OKï¼Œå¤±è´¥è¿”å› 0</td>
<td>è®¾å®šçš„å€¼å­˜åœ¨æ‰ä¼šæˆåŠŸ</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>setnx key value</code></td>
<td></td>
<td>æˆåŠŸè¿”å› OKï¼Œå¤±è´¥è¿”å› 0</td>
<td>è®¾å®šçš„å€¼ä¸å­˜åœ¨æ‰ä¼šæˆåŠŸ</td>
<td></td>
<td>å¸¸ç”¨äºåˆ†å¸ƒå¼é”</td>
</tr>
<tr>
<td><code>get key</code></td>
<td></td>
<td>é”®å­˜åœ¨æ—¶è¿”å›å€¼ï¼Œä¸å­˜åœ¨è¿”å› nil</td>
<td>è·å–å€¼</td>
<td>$O(1)$</td>
<td></td>
</tr>
<tr>
<td><code>mset key value [key value ...]</code></td>
<td></td>
<td>æˆåŠŸè¿”å› OKï¼Œå¤±è´¥è¿”å› 0</td>
<td>æ‰¹é‡è®¾ç½®å€¼</td>
<td>$O(k)$ï¼Œğ‘˜ä¸ºé”®çš„ä¸ªæ•°</td>
<td></td>
</tr>
<tr>
<td><code>mget key [key ...]</code></td>
<td></td>
<td>é”®å­˜åœ¨æ—¶è¿”å›å€¼ï¼Œä¸å­˜åœ¨è¿”å› nilã€‚ç»“æœæŒ‰ç…§ä¼ å…¥é”®çš„é¡ºåºè¿”å›</td>
<td>æ‰¹é‡è·å–å€¼</td>
<td>$O(k)$ï¼Œğ‘˜ä¸ºé”®çš„ä¸ªæ•°</td>
<td></td>
</tr>
<tr>
<td><code>incr key</code></td>
<td></td>
<td>å€¼ä¸æ˜¯æ•´æ•°ï¼Œè¿”å›é”™è¯¯<br>å€¼æ˜¯æ•´æ•°ï¼Œè¿”å›è‡ªå¢åç»“æœ<br>é”®ä¸å­˜åœ¨ï¼ŒæŒ‰ç…§å€¼ä¸º 0 è‡ªå¢ï¼Œè¿”å›ç»“æœä¸º 1</td>
<td>å€¼è‡ªå¢</td>
<td>$O(1)$</td>
<td></td>
</tr>
<tr>
<td><code>decr key</code></td>
<td></td>
<td>int</td>
<td>å€¼è‡ªå‡</td>
<td>$O(1)$</td>
<td></td>
</tr>
<tr>
<td><code>incrby key increment</code></td>
<td></td>
<td>int</td>
<td>è‡ªå¢æŒ‡å®šæ•°å­—</td>
<td>$O(1)$</td>
<td></td>
</tr>
<tr>
<td><code>decrby key decrement</code></td>
<td></td>
<td>int</td>
<td>è‡ªå‡æŒ‡å®šæ•°å­—</td>
<td>$O(1)$</td>
<td></td>
</tr>
<tr>
<td><code>incrbyfloat key increment</code></td>
<td></td>
<td>float</td>
<td>è‡ªå¢æµ®ç‚¹æ•°</td>
<td>$O(1)$</td>
<td></td>
</tr>
<tr>
<td><code>append key value</code></td>
<td></td>
<td>intï¼ˆè¿”å›è¿½åŠ åçš„å­—ç¬¦é•¿åº¦ï¼‰</td>
<td>å‘å­—ç¬¦ä¸²å°¾éƒ¨è¿½åŠ å€¼</td>
<td>$O(1)$</td>
<td></td>
</tr>
<tr>
<td><code>strlen key</code></td>
<td></td>
<td>intï¼ˆæ ¹æ®ä¸åŒç¼–ç è¿”å›å­—ç¬¦é•¿åº¦ï¼Œå¦‚ UTF8 çš„â€œä¸­å›½â€è¿”å›å€¼ä¸º 6ï¼‰</td>
<td>å­—ç¬¦ä¸²é•¿åº¦</td>
<td>$O(1)$</td>
<td></td>
</tr>
<tr>
<td><code>getset key value</code></td>
<td></td>
<td></td>
<td>è®¾ç½®å¹¶è¿”å›å€¼</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>setrange key offeset value</code></td>
<td></td>
<td>intï¼ˆè¿”å›å­—ç¬¦é•¿åº¦ï¼‰</td>
<td>è®¾ç½®æŒ‡å®šä½ç½®çš„å­—ç¬¦</td>
<td>$O(1)$</td>
<td></td>
</tr>
<tr>
<td><code>getrange key start end</code></td>
<td></td>
<td>è¿”å›æˆªå–çš„å­—ç¬¦å†…å®¹</td>
<td>è·å–éƒ¨åˆ†å­—ç¬¦ä¸²</td>
<td>$O(n)$ï¼Œğ‘› ä¸ºå­—ç¬¦ä¸²é•¿åº¦ï¼Œç”±äºè·å–å­—ç¬¦ä¸²éå¸¸å¿«ï¼Œè‹¥å­—ç¬¦ä¸²ä¸æ˜¯å¾ˆé•¿ï¼Œå¯ä»¥è§†ä¸º$O(1)$</td>
<td></td>
</tr>
<tr>
<td><strong>å“ˆå¸Œ Hash</strong></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>hset key field value</code><br><code>hget key field</code></td>
<td></td>
<td></td>
<td>è®¾ç½®å€¼<br>è·å–å€¼</td>
<td>$O(1)$<br>$O(1)$</td>
<td>åœ¨ Redis ä¸­ï¼Œå“ˆå¸Œç±»å‹æ˜¯æŒ‡é”®å€¼æœ¬èº«åˆæ˜¯ä¸€ä¸ªé”®å€¼å¯¹ç»“æ„ï¼ˆå½¢å¦‚ JSONï¼‰ã€‚å“ˆå¸Œç±»å‹ä¸­çš„æ˜ å°„å…³ç³»å«ä½œfield-valueï¼Œæ³¨æ„è¿™é‡Œçš„valueæ˜¯æŒ‡fieldå¯¹åº”çš„å€¼ï¼Œä¸æ˜¯é”®å¯¹åº”çš„å€¼ï¼Œè¯·æ³¨æ„valueåœ¨ä¸åŒä¸Šä¸‹æ–‡çš„ä½œç”¨ã€‚</td>
</tr>
<tr>
<td><code>hdel key field [field ...]</code></td>
<td></td>
<td>int ï¼ˆæˆåŠŸä¸ºåˆ é™¤çš„ä¸ªæ•°ï¼‰</td>
<td>åˆ é™¤ field</td>
<td>$O(k)$ ï¼Œğ‘˜æ˜¯fieldä¸ªæ•°</td>
<td></td>
</tr>
<tr>
<td><code>hlen key</code></td>
<td></td>
<td>int</td>
<td>è®¡ç®— field ä¸ªæ•°</td>
<td>$O(1)$</td>
<td></td>
</tr>
<tr>
<td><code>hmset key field value [field value ...]</code><br><code>hmget key field [field ...]</code></td>
<td></td>
<td></td>
<td>æ‰¹é‡è®¾ç½®æˆ–è·å–field-value</td>
<td>$O(k)$ ï¼Œğ‘˜æ˜¯fieldä¸ªæ•°<br>$O(k)$ ï¼Œğ‘˜æ˜¯fieldä¸ªæ•°</td>
<td></td>
</tr>
<tr>
<td><code>hexists key field</code></td>
<td></td>
<td>å­˜åœ¨ä¸º 1ï¼Œå¦åˆ™ä¸º 0</td>
<td>åˆ¤æ–­fieldæ˜¯å¦å­˜åœ¨</td>
<td>$O(1)$</td>
<td></td>
</tr>
<tr>
<td><code>hsetnx key field value</code></td>
<td></td>
<td></td>
<td></td>
<td>$O(1)$</td>
<td></td>
</tr>
<tr>
<td><code>hkeys key</code></td>
<td></td>
<td></td>
<td>è·å–æ‰€æœ‰field</td>
<td>$O(n)$ ï¼Œğ‘› æ˜¯fieldä¸ªæ•°</td>
<td><code>hkeys</code> å« <code>hfields</code>æ›´æ°å½“</td>
</tr>
<tr>
<td><code>hvals key</code></td>
<td></td>
<td></td>
<td>è·å–æ‰€æœ‰value</td>
<td>$O(n)$ ï¼Œğ‘› æ˜¯fieldä¸ªæ•°</td>
<td></td>
</tr>
<tr>
<td><code>hgetall key</code></td>
<td></td>
<td></td>
<td>è·å–æ‰€æœ‰çš„field-value</td>
<td>$O(n)$ ï¼Œğ‘› æ˜¯fieldä¸ªæ•°</td>
<td>åœ¨ä½¿ç”¨<code>hgetall</code>æ—¶ï¼Œå¦‚æœå“ˆå¸Œå…ƒç´ ä¸ªæ•°æ¯”è¾ƒå¤šï¼Œå¯èƒ½ä¼šé˜»å¡Redisã€‚å¦‚æœå¼€å‘äººå‘˜åªéœ€è¦è·å–éƒ¨åˆ†fieldï¼Œå¯ä»¥ä½¿ç”¨<code>hmget</code>ï¼Œå¦‚æœä¸€å®šè¦è·å–å…¨éƒ¨field-valueï¼Œå¯ä»¥ä½¿ç”¨<code>hscan</code>å‘½ä»¤ï¼Œè¯¥å‘½ä»¤ä¼šæ¸è¿›å¼éå†å“ˆå¸Œç±»å‹ã€‚</td>
</tr>
<tr>
<td><code>hincrby key field</code><br><code>hincrbyfloat key field</code></td>
<td></td>
<td></td>
<td>æŒ‰æŒ‡å®šå€¼é€’å¢</td>
<td>$O(1)$<br>$O(1)$</td>
<td></td>
</tr>
<tr>
<td><code>hstrlen key field</code></td>
<td></td>
<td></td>
<td>è®¡ç®—valueçš„å­—ç¬¦ä¸²é•¿åº¦</td>
<td>$O(1)$</td>
<td></td>
</tr>
<tr>
<td>åˆ—è¡¨ List</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>lpush key value [value ...]</code><br><code>rpush key value [value ...]</code></td>
<td></td>
<td>intï¼ˆæˆåŠŸæ’å…¥å…ƒç´ ä¸ªæ•°ï¼‰</td>
<td>ä»å·¦/å³ä¾§æ’å…¥å…ƒç´ </td>
<td>$O(k)$ï¼Œğ‘˜ ä¸ºå…ƒç´ ä¸ªæ•°</td>
<td>åˆ—è¡¨ç±»å‹çš„ä¸¤ä¸ªç‰¹ç‚¹ï¼šç¬¬ä¸€ï¼Œåˆ—è¡¨ä¸­çš„å…ƒç´ æ˜¯æœ‰åºçš„ï¼ˆå³ï¼Œå¯ä»¥é€šè¿‡ç´¢å¼•ä¸‹æ ‡è·å–å…ƒç´ ï¼‰ï¼›ç¬¬äºŒï¼Œåˆ—è¡¨ä¸­çš„å…ƒç´ å¯ä»¥æ˜¯é‡å¤çš„</td>
</tr>
<tr>
<td><code>lpop key</code><br><code>rpop key</code></td>
<td></td>
<td></td>
<td>ä»åˆ—è¡¨å·¦/å³ä¾§å¼¹å‡ºå…ƒç´ </td>
<td>$O(1)$</td>
<td></td>
</tr>
<tr>
<td><code>linsert key before|after pivot value</code></td>
<td></td>
<td>intï¼ˆè¿”å›å½“å‰åˆ—è¡¨é•¿åº¦ï¼‰</td>
<td>å‘æŸä¸ªå…ƒç´ å‰æˆ–è€…åæ’å…¥å…ƒç´ </td>
<td>$O(n)$ï¼Œğ‘› æ˜¯ pivot è·ç¦»åˆ—è¡¨å¤´æˆ–å°¾çš„è·ç¦»</td>
<td></td>
</tr>
<tr>
<td><code>lrange key start end</code></td>
<td></td>
<td></td>
<td>è·å–æŒ‡å®šèŒƒå›´å†…çš„å…ƒç´ åˆ—è¡¨</td>
<td>$O(s+n)$ï¼Œğ‘  æ˜¯ start åç§»é‡ï¼Œğ‘› æ˜¯start åˆ° end çš„èŒƒå›´</td>
<td>1. <code>lrange 0 -1</code> å¯è·å–åˆ—è¡¨æ‰€æœ‰å…ƒç´ <br>2. end åŒ…å«äº†è‡ªèº«</td>
</tr>
<tr>
<td><code>lindex key index</code></td>
<td></td>
<td></td>
<td>è·å–åˆ—è¡¨æŒ‡å®šç´¢å¼•ä¸‹æ ‡çš„å…ƒç´ </td>
<td>$O(n)$ï¼Œğ‘› æ˜¯ç´¢å¼•çš„åç§»é‡</td>
<td></td>
</tr>
<tr>
<td><code>llen key</code></td>
<td></td>
<td>int</td>
<td>è·å–åˆ—è¡¨é•¿åº¦</td>
<td>$O(1)$</td>
<td></td>
</tr>
<tr>
<td><code>lrem key count value</code></td>
<td></td>
<td>count &gt; 0ï¼Œä»å·¦åˆ°å³ï¼Œåˆ é™¤æœ€å¤š count ä¸ªå…ƒç´ <br>count &lt; 0ï¼Œä»å³åˆ°å·¦ï¼Œåˆ é™¤æœ€å¤š count ç»å¯¹å€¼ä¸ªå…ƒç´ <br>count = 0ï¼Œåˆ é™¤æ‰€æœ‰</td>
<td>åˆ é™¤æŒ‡å®šå…ƒç´ </td>
<td>$O(n)$ï¼Œğ‘› æ˜¯åˆ—è¡¨é•¿åº¦</td>
<td></td>
</tr>
<tr>
<td><code>ltrim key start end</code></td>
<td></td>
<td></td>
<td>æŒ‰ç…§ç´¢å¼•èŒƒå›´ä¿®å‰ªåˆ—è¡¨</td>
<td>$O(n)$ï¼Œğ‘› æ˜¯è¦è£å‰ªçš„å…ƒç´ æ€»æ•°</td>
<td></td>
</tr>
<tr>
<td><code>lset key index newValue</code></td>
<td></td>
<td></td>
<td>ä¿®æ”¹æŒ‡å®šç´¢å¼•ä¸‹æ ‡çš„å…ƒç´ </td>
<td>$O(n)$ï¼Œğ‘› æ˜¯ç´¢å¼•çš„åç§»é‡</td>
<td></td>
</tr>
<tr>
<td><code>blpop key [key ...] timeout</code><br><code>brpop key [key ...] timeout</code></td>
<td><code>timeout</code> ä¸ºé˜»å¡æ—¶é—´</td>
<td></td>
<td>é˜»å¡å¼å¼¹å‡º</td>
<td>$O(1)$</td>
<td>å¦‚æœæœ‰å¤šä¸ªé”®ï¼Œé‚£ä¹ˆ<code>brpop</code>ä¼šä»å·¦è‡³å³éå†é”®ï¼Œä¸€æ—¦æœ‰ä¸€ä¸ªé”®èƒ½å¼¹å‡ºå…ƒç´ ï¼Œå®¢æˆ·ç«¯ç«‹å³è¿”å›</td>
</tr>
<tr>
<td><strong>é›†åˆ(Set)</strong></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>sadd key element [element ...]</code></td>
<td></td>
<td>intï¼ˆè¿”å›æ·»åŠ æˆåŠŸå…ƒç´ çš„ä¸ªæ•°ï¼‰</td>
<td>æ·»åŠ å…ƒç´ </td>
<td>$O(k)$ï¼Œğ‘˜æ˜¯å…ƒç´ ä¸ªæ•°</td>
<td></td>
</tr>
<tr>
<td><code>srem key element [element ...]</code></td>
<td></td>
<td>intï¼ˆè¿”å›åˆ é™¤æˆåŠŸå…ƒç´ çš„ä¸ªæ•°ï¼‰</td>
<td>åˆ é™¤å…ƒç´ </td>
<td>$O(k)$ï¼Œğ‘˜æ˜¯å…ƒç´ ä¸ªæ•°</td>
<td></td>
</tr>
<tr>
<td><code>scard key</code></td>
<td></td>
<td></td>
<td>è®¡ç®—å…ƒç´ ä¸ªæ•°</td>
<td>$O(1)$</td>
<td>åŒ<code>dbsize</code>ç±»ä¼¼ï¼Œç›´æ¥è¯»å–å†…ç½®å˜é‡</td>
</tr>
<tr>
<td><code>sismember key element</code></td>
<td></td>
<td>intï¼ˆå­˜åœ¨è¿”å› 1ï¼Œå¦åˆ™ä¸º 0ï¼‰</td>
<td>åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨é›†åˆä¸­</td>
<td>$O(1)$</td>
<td></td>
</tr>
<tr>
<td><code>srandmember key [count]</code></td>
<td></td>
<td></td>
<td>éšæœºä»é›†åˆè¿”å›æŒ‡å®šä¸ªæ•°å…ƒç´ </td>
<td>$O(count)$</td>
<td></td>
</tr>
<tr>
<td><code>spop key</code></td>
<td></td>
<td></td>
<td>ä»é›†åˆéšæœºå¼¹å‡ºå…ƒç´ </td>
<td>$O(1)$</td>
<td><code>srandmember</code>å’Œ<code>spop</code>éƒ½æ˜¯éšæœºä»é›†åˆé€‰å‡ºå…ƒç´ ï¼Œä¸¤è€…ä¸åŒçš„æ˜¯<code>spop</code>å‘½ä»¤æ‰§è¡Œåï¼Œå…ƒç´ ä¼šä»é›†åˆä¸­åˆ é™¤ï¼Œè€Œ<code>srandmember</code>ä¸ä¼šã€‚</td>
</tr>
<tr>
<td><code>smembers key</code></td>
<td></td>
<td></td>
<td>è·å–æ‰€æœ‰å…ƒç´ ï¼Œç»“æœæ˜¯æ— åºçš„</td>
<td>$O(n)$ï¼Œğ‘›æ˜¯å…ƒç´ æ€»æ•°</td>
<td><code>smembers</code>å’Œ<code>lrange</code>ã€<code>hgetall</code>éƒ½å±äºæ¯”è¾ƒé‡çš„å‘½ä»¤ï¼Œå¦‚æœå…ƒç´ è¿‡å¤šå­˜åœ¨é˜»å¡Redisçš„å¯èƒ½æ€§ï¼Œè¿™æ—¶å€™å¯ä»¥ä½¿ç”¨<code>sscan</code>æ¥å®Œæˆ</td>
</tr>
<tr>
<td><code>sinter key [key ...]</code></td>
<td></td>
<td></td>
<td>å–äº¤é›†</td>
<td>$O(m*k)$ï¼Œğ‘˜æ˜¯å¤šä¸ªé›†åˆå…ƒç´ æœ€å°‘çš„ä¸ªæ•°ï¼Œğ‘šæ˜¯é”®ä¸ªæ•°</td>
<td></td>
</tr>
<tr>
<td><code>suinon key [key ...]</code></td>
<td></td>
<td></td>
<td>å–å¹¶é›†</td>
<td>$O(k)$ï¼Œğ‘˜æ˜¯å¤šä¸ªé›†åˆå…ƒç´ ä¸ªæ•°å’Œ</td>
<td></td>
</tr>
<tr>
<td><code>sdiff key [key ...]</code></td>
<td></td>
<td></td>
<td>å–å·®é›†</td>
<td>$O(k)$ï¼Œğ‘˜æ˜¯å¤šä¸ªé›†åˆå…ƒç´ ä¸ªæ•°å’Œ</td>
<td></td>
</tr>
<tr>
<td><code>sinterstore destination key [key ...]</code><br><code>suionstore destination key [key ...]</code><br><code>sdiffstore destination key [key ...]</code></td>
<td></td>
<td></td>
<td>ï¼‰å°†äº¤é›†ã€å¹¶é›†ã€å·®é›†çš„ç»“æœä¿å­˜</td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>æœ‰åºé›†åˆï¼ˆZsetï¼‰</strong></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>zadd key score member [score member ...]</code></td>
<td></td>
<td></td>
<td>æ·»åŠ æˆå‘˜</td>
<td>$O(k*log(n))$ï¼Œğ‘˜æ˜¯æ·»åŠ æˆå‘˜çš„ä¸ªæ•°ï¼Œğ‘›æ˜¯å½“å‰æœ‰åºé›†åˆæˆå‘˜ä¸ªæ•°</td>
<td></td>
</tr>
<tr>
<td><code>zcard key</code></td>
<td></td>
<td>int</td>
<td>è®¡ç®—æˆå‘˜ä¸ªæ•°</td>
<td>$O(1)$</td>
<td></td>
</tr>
<tr>
<td><code>zscore key member</code></td>
<td></td>
<td>intï¼ˆæˆå‘˜ä¸å­˜åœ¨è¿”å› nilï¼‰</td>
<td>è®¡ç®—æŸä¸ªæˆå‘˜çš„åˆ†æ•°</td>
<td>$O(1)$</td>
<td></td>
</tr>
<tr>
<td><code>zrank key member</code><br><code>zrevrank key member</code></td>
<td></td>
<td>è¿”å›åˆ†æ•°ä»ä½åˆ°é«˜/ä»é«˜åˆ°ä½çš„æ’å</td>
<td>è®¡ç®—æˆå‘˜çš„æ’å</td>
<td>$O(log(n))$ï¼Œğ‘›æ˜¯å½“å‰æœ‰åºé›†åˆæˆå‘˜ä¸ªæ•°</td>
<td></td>
</tr>
<tr>
<td><code>zrem key member [member ...]</code></td>
<td></td>
<td>è¿”å›åˆ é™¤æˆå‘˜çš„ä¸ªæ•°</td>
<td>åˆ é™¤æˆå‘˜</td>
<td>$O(k*log(n))$ï¼Œğ‘˜æ˜¯åˆ é™¤æˆå‘˜çš„ä¸ªæ•°ï¼Œğ‘›æ˜¯å½“å‰æœ‰åºé›†åˆæˆå‘˜ä¸ªæ•°</td>
<td></td>
</tr>
<tr>
<td><code>zincrby key increment member</code></td>
<td></td>
<td></td>
<td>å¢åŠ æˆå‘˜çš„åˆ†æ•°</td>
<td>$O(log(n))$ï¼Œğ‘›æ˜¯å½“å‰æœ‰åºé›†åˆæˆå‘˜ä¸ªæ•°</td>
<td></td>
</tr>
<tr>
<td><code>zrange key start end [withscores]</code><br><code>zrevrange key start end [withscores]</code></td>
<td><code>withscores</code>ä¼šåŒæ—¶è¿”å›æˆå‘˜åˆ†æ•°</td>
<td>è¿”å›åˆ†æ•°ä»ä½åˆ°é«˜/ä»é«˜åˆ°ä½çš„æ’å</td>
<td>è¿”å›æŒ‡å®šæ’åèŒƒå›´çš„æˆå‘˜</td>
<td>$O(log(n)+k)$ï¼Œğ‘˜æ˜¯è¦è·å–çš„æˆå‘˜ä¸ªæ•°ï¼Œğ‘›æ˜¯å½“å‰æœ‰åºé›†åˆæˆå‘˜ä¸ªæ•°</td>
<td></td>
</tr>
<tr>
<td><code>zrangebyscore key min max [withscores] [limit offset count]</code><br><code>zrevrangebyscore key max min [withscores] [limit offset count]</code></td>
<td><code>min</code>å’Œ<code>max</code>è¿˜æ”¯æŒå¼€åŒºé—´ï¼ˆå°æ‹¬å·ï¼‰å’Œé—­åŒºé—´ï¼ˆä¸­æ‹¬å·ï¼‰ï¼Œ<code>-inf</code>å’Œ<code>+inf</code>åˆ†åˆ«ä»£è¡¨æ— é™å°å’Œæ— é™å¤§</td>
<td></td>
<td>è¿”å›æŒ‡å®šåˆ†æ•°èŒƒå›´çš„æˆå‘˜</td>
<td>$O(log(n)+k)$ï¼Œğ‘˜æ˜¯è¦è·å–çš„æˆå‘˜ä¸ªæ•°ï¼Œğ‘›æ˜¯å½“å‰æœ‰åºé›†åˆæˆå‘˜ä¸ªæ•°</td>
<td></td>
</tr>
<tr>
<td><code>zcount key min max</code></td>
<td></td>
<td></td>
<td>è¿”å›æŒ‡å®šåˆ†æ•°èŒƒå›´æˆå‘˜ä¸ªæ•°</td>
<td>$O(log(n))$ï¼Œğ‘›æ˜¯å½“å‰æœ‰åºé›†åˆæˆå‘˜ä¸ªæ•°</td>
<td></td>
</tr>
<tr>
<td><code>zremrangebyrank key start end</code></td>
<td></td>
<td></td>
<td>åˆ é™¤æŒ‡å®šæ’åå†…çš„å‡åºå…ƒç´ </td>
<td>$O(log(n)+k)$ï¼Œğ‘˜æ˜¯è¦åˆ é™¤çš„æˆå‘˜ä¸ªæ•°ï¼Œğ‘›æ˜¯å½“å‰æœ‰åºé›†åˆæˆå‘˜ä¸ªæ•°</td>
<td></td>
</tr>
<tr>
<td><code>zremrangebyscore key min max</code></td>
<td></td>
<td></td>
<td>åˆ é™¤æŒ‡å®šåˆ†æ•°èŒƒå›´çš„æˆå‘˜</td>
<td>$O(log(n)+k)$ï¼Œğ‘˜æ˜¯è¦åˆ é™¤çš„æˆå‘˜ä¸ªæ•°ï¼Œğ‘›æ˜¯å½“å‰æœ‰åºé›†åˆæˆå‘˜ä¸ªæ•°</td>
<td></td>
</tr>
<tr>
<td><code>zinterstore destination numkeys key [key ...] [weights weight [weight ...]] [aggregate sum|min|max]</code></td>
<td><code>destination</code>ï¼šäº¤é›†è®¡ç®—ç»“æœä¿å­˜åˆ°è¿™ä¸ªé”®ï¼›<br><code>numkeys</code>ï¼šéœ€è¦åšäº¤é›†è®¡ç®—é”®çš„ä¸ªæ•°ï¼›<br><code>key [key...]</code>ï¼šéœ€è¦åšäº¤é›†è®¡ç®—çš„é”®ï¼›<br><code>weights weight[weight...]</code>ï¼šæ¯ä¸ªé”®çš„æƒé‡ï¼Œåœ¨åšäº¤é›†è®¡ç®—æ—¶ï¼Œæ¯ä¸ªé”®ä¸­çš„æ¯ä¸ª member ä¼šå°†è‡ªå·±åˆ†æ•°ä¹˜ä»¥è¿™ä¸ªæƒé‡ï¼Œæ¯ä¸ªé”®çš„æƒé‡é»˜è®¤æ˜¯1ï¼›<br><code>aggregate sum|min|max</code>ï¼šè®¡ç®—æˆå‘˜äº¤é›†åï¼Œåˆ†å€¼å¯ä»¥æŒ‰ç…§sumï¼ˆå’Œï¼‰ã€minï¼ˆæœ€å°å€¼ï¼‰ã€maxï¼ˆæœ€å¤§å€¼ï¼‰åšæ±‡æ€»ï¼Œé»˜è®¤å€¼æ˜¯sum</td>
<td></td>
<td>å–äº¤é›†</td>
<td>$O(n * k)+O(m*log(m))$ï¼Œğ‘›æ˜¯æˆå‘˜æ•°æœ€å°çš„æœ‰åºé›†åˆæˆå‘˜ä¸ªæ•°ï¼Œğ‘˜æ˜¯æœ‰åºé›†åˆçš„ä¸ªæ•°ï¼Œğ‘šæ˜¯ç»“æœé›†ä¸­æˆå‘˜ä¸ªæ•°</td>
<td></td>
</tr>
<tr>
<td><code>zunionstore destination numkeys key [key ...] [weights weight [weight ...]] [aggregate sum|min|max]</code></td>
<td></td>
<td></td>
<td>å–å¹¶é›†</td>
<td>$O(n)+O(m*log(m))$ï¼Œğ‘›æ˜¯æ‰€æœ‰æœ‰åºé›†åˆæˆå‘˜ä¸ªæ•°å’Œï¼Œğ‘šæ˜¯ç»“æœé›†ä¸­æˆå‘˜ä¸ªæ•°</td>
<td></td>
</tr>
</tbody></table>
<h2 id="åˆ¤æ–­é”®ä¸å­˜åœ¨çš„æ–¹æ³•ï¼š"><a href="#åˆ¤æ–­é”®ä¸å­˜åœ¨çš„æ–¹æ³•ï¼š" class="headerlink" title="åˆ¤æ–­é”®ä¸å­˜åœ¨çš„æ–¹æ³•ï¼š"></a>åˆ¤æ–­é”®ä¸å­˜åœ¨çš„æ–¹æ³•ï¼š</h2><ol>
<li><code>exists</code> è¿”å› 0</li>
<li><code>del</code> è¿”å› 0</li>
<li><code>ttl</code> è¿”å› -2</li>
<li><code>type</code> è¿”å› <code>none</code></li>
<li><code>get</code> è¿”å› <code>nil</code></li>
</ol>
<p>è®¾è®¡åˆç†çš„é”®åï¼Œæœ‰åŠ©äºé˜²æ­¢é”®å†²çªå’Œé¡¹ç›®çš„å¯ç»´æŠ¤æ€§ï¼Œæ¯”è¾ƒæ¨èçš„æ–¹å¼æ˜¯ä½¿ç”¨â€œä¸šåŠ¡åï¼šå¯¹è±¡åï¼šidï¼š[å±æ€§]â€ä½œä¸ºé”®åã€‚å¦‚æœé”®åè¾ƒé•¿ï¼Œå¯ä»¥åœ¨èƒ½æè¿°é”®å«ä¹‰çš„å‰æä¸‹é€‚å½“å‡å°‘é”®çš„é•¿åº¦ï¼Œä»è€Œå‡å°‘ç”±äºé”®åè¿‡é•¿è€Œå¯¼è‡´çš„å†…å­˜æµªè´¹ã€‚</p>
<h2 id="åˆ—è¡¨çš„å››ç§æ“ä½œç±»å‹"><a href="#åˆ—è¡¨çš„å››ç§æ“ä½œç±»å‹" class="headerlink" title="åˆ—è¡¨çš„å››ç§æ“ä½œç±»å‹"></a>åˆ—è¡¨çš„å››ç§æ“ä½œç±»å‹</h2><table>
<thead>
<tr>
<th>æ“ä½œç±»å‹</th>
<th>æ“ä½œ</th>
</tr>
</thead>
<tbody><tr>
<td>æ·»åŠ </td>
<td><code>rpush</code> <code>lpush</code> <code>linsert</code></td>
</tr>
<tr>
<td>æŸ¥</td>
<td><code>lrange</code> <code>lindex</code> <code>llen</code></td>
</tr>
<tr>
<td>åˆ é™¤</td>
<td><code>lpop</code> <code>rpop</code> <code>lrem</code> <code>ltrim</code></td>
</tr>
<tr>
<td>ä¿®æ”¹</td>
<td><code>lset</code></td>
</tr>
<tr>
<td>é˜»å¡æ“ä½œ</td>
<td><code>blpop</code> <code>brpop</code></td>
</tr>
</tbody></table>
<h2 id="åˆ—è¡¨çš„ä½¿ç”¨åœºæ™¯ï¼š"><a href="#åˆ—è¡¨çš„ä½¿ç”¨åœºæ™¯ï¼š" class="headerlink" title="åˆ—è¡¨çš„ä½¿ç”¨åœºæ™¯ï¼š"></a>åˆ—è¡¨çš„ä½¿ç”¨åœºæ™¯ï¼š</h2><ul>
<li><code>lpush</code> + <code>lpop</code> = Stackï¼ˆæ ˆï¼‰</li>
<li><code>lpush</code> + <code>rpop</code> = Queueï¼ˆé˜Ÿåˆ—ï¼‰</li>
<li><code>lpush</code> + <code>ltrim</code> = Capped Collectionï¼ˆæœ‰é™é›†åˆï¼‰</li>
<li><code>lpush</code> + <code>brpop</code> = Message Queueï¼ˆæ¶ˆæ¯é˜Ÿåˆ—ï¼‰</li>
</ul>
<h2 id="é›†åˆçš„ä½¿ç”¨åœºæ™¯"><a href="#é›†åˆçš„ä½¿ç”¨åœºæ™¯" class="headerlink" title="é›†åˆçš„ä½¿ç”¨åœºæ™¯"></a>é›†åˆçš„ä½¿ç”¨åœºæ™¯</h2><ul>
<li><code>sadd</code> = Taggingï¼ˆæ ‡ç­¾ï¼‰</li>
<li><code>spop/srandmember</code> = Random itemï¼ˆç”Ÿæˆéšæœºæ•°ï¼Œæ¯”å¦‚æŠ½å¥–ï¼‰</li>
<li><code>sadd</code> + <code>sinter</code>= Social Graphï¼ˆç¤¾äº¤éœ€æ±‚ï¼‰</li>
</ul>
<h2 id="åˆ—è¡¨ã€é›†åˆã€æœ‰åºé›†åˆçš„å¼‚åŒç‚¹"><a href="#åˆ—è¡¨ã€é›†åˆã€æœ‰åºé›†åˆçš„å¼‚åŒç‚¹" class="headerlink" title="åˆ—è¡¨ã€é›†åˆã€æœ‰åºé›†åˆçš„å¼‚åŒç‚¹"></a>åˆ—è¡¨ã€é›†åˆã€æœ‰åºé›†åˆçš„å¼‚åŒç‚¹</h2><table>
<thead>
<tr>
<th>æ•°æ®ç»“æ„</th>
<th align="center">æ˜¯å¦å…è®¸é‡å¤å…ƒç´ </th>
<th align="center">æ˜¯å¦æœ‰åº</th>
<th>æœ‰åºå®ç°æ–¹å¼</th>
<th>åº”ç”¨åœºæ™¯</th>
</tr>
</thead>
<tbody><tr>
<td>åˆ—è¡¨</td>
<td align="center">æ˜¯</td>
<td align="center">æ˜¯</td>
<td>ç´¢å¼•ä¸‹æ ‡</td>
<td>æ—¶é—´è½´ã€æ¶ˆæ¯é˜Ÿåˆ—ç­‰</td>
</tr>
<tr>
<td>é›†åˆ</td>
<td align="center">å¦</td>
<td align="center">å¦</td>
<td>æ— </td>
<td>æ ‡ç­¾ã€ç¤¾äº¤ç­‰</td>
</tr>
<tr>
<td>æœ‰åºé›†åˆ</td>
<td align="center">å¦</td>
<td align="center">æ˜¯</td>
<td>åˆ†å€¼</td>
<td>æ’è¡Œæ¦œã€ç¤¾äº¤ç­‰</td>
</tr>
</tbody></table>
<h2 id="Redis-æ•°æ®ç»“æ„ä¸å†…éƒ¨ç¼–ç "><a href="#Redis-æ•°æ®ç»“æ„ä¸å†…éƒ¨ç¼–ç " class="headerlink" title="Redis æ•°æ®ç»“æ„ä¸å†…éƒ¨ç¼–ç "></a>Redis æ•°æ®ç»“æ„ä¸å†…éƒ¨ç¼–ç </h2><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8rmou0bzdj30hx0kb0xe.jpg" alt="Redisæ•°æ®ç»“æ„ä¸å†…éƒ¨ç¼–ç "></p>
<ul>
<li>å­—ç¬¦ä¸²<ul>
<li>int: 8ä¸ªå­—èŠ‚çš„é•¿æ•´å‹</li>
<li>embstr: &lt;=39 Byte çš„å­—ç¬¦ä¸²</li>
<li>raw: &gt;39 Byte çš„å­—ç¬¦ä¸²</li>
</ul>
</li>
<li>å“ˆå¸Œ<ul>
<li>ziplist: å½“å“ˆå¸Œç±»å‹å…ƒç´ ä¸ªæ•°å°äº <code>hash-max-ziplist-entries</code> é…ç½®ï¼ˆé»˜è®¤512ä¸ªï¼‰ã€åŒæ—¶æ‰€æœ‰å€¼éƒ½å°äº <code>hash-max-ziplist-value</code> é…ç½®ï¼ˆé»˜è®¤64å­—èŠ‚ï¼‰æ—¶ï¼ŒRedis ä¼šä½¿ç”¨ ziplist ä½œä¸ºå“ˆå¸Œçš„å†…éƒ¨å®ç°ï¼Œziplist ä½¿ç”¨æ›´åŠ ç´§å‡‘çš„ç»“æ„å®ç°å¤šä¸ªå…ƒç´ çš„è¿ç»­å­˜å‚¨ï¼Œæ‰€ä»¥åœ¨<strong>èŠ‚çœå†…å­˜æ–¹é¢æ¯” hashtable æ›´åŠ ä¼˜ç§€</strong>ã€‚</li>
<li>hashtable: å½“å“ˆå¸Œç±»å‹æ— æ³•æ»¡è¶³ ziplist çš„æ¡ä»¶æ—¶ï¼ŒRedis ä¼šä½¿ç”¨ hashtable ä½œä¸ºå“ˆå¸Œçš„å†…éƒ¨å®ç°ï¼Œå› ä¸ºæ­¤æ—¶ ziplist çš„è¯»å†™æ•ˆç‡ä¼šä¸‹é™ï¼Œè€Œ hashtable çš„è¯»å†™æ—¶é—´å¤æ‚åº¦ä¸º$O(1)$</li>
</ul>
</li>
<li>åˆ—è¡¨<ul>
<li>ziplist: å½“åˆ—è¡¨å…ƒç´ ä¸ªæ•°å°äº <code>list-max-ziplist-entries</code> é…ç½®ï¼ˆé»˜è®¤512ä¸ªï¼‰ã€åŒæ—¶æ¯ä¸ªå…ƒç´ å€¼éƒ½å°äº <code>list-max-ziplist-value</code> é…ç½®ï¼ˆé»˜è®¤64å­—èŠ‚ï¼‰æ—¶ï¼ŒRedis ä¼šä½¿ç”¨ ziplist æ¥ä½œä¸ºåˆ—è¡¨çš„å†…éƒ¨å®ç°æ¥å‡å°‘å†…å­˜</li>
<li>linkedlist: å½“æ— æ³•æ»¡è¶³ziplistæ¡ä»¶æ—¶</li>
</ul>
</li>
<li>é›†åˆ<ul>
<li>intset: å½“é›†åˆä¸­çš„å…ƒç´ éƒ½æ˜¯æ•´æ•°ä¸”å…ƒç´ ä¸ªæ•°å°äº<code>set-maxintset-entries</code>é…ç½®ï¼ˆé»˜è®¤512ä¸ªï¼‰æ—¶ï¼ŒRedisä¼šé€‰ç”¨intsetæ¥ä½œä¸ºé›†åˆçš„å†…éƒ¨å®ç°ï¼Œä»è€Œå‡å°‘å†…å­˜çš„ä½¿ç”¨ã€‚</li>
<li>hashtable: æ— æ³•æ»¡è¶³intsetæ—¶</li>
</ul>
</li>
<li>æœ‰åºé›†åˆ<ul>
<li>ziplist: å½“æœ‰åºé›†åˆçš„å…ƒç´ ä¸ªæ•°å°äº<code>zset-max-ziplistentries</code>é…ç½®ï¼ˆé»˜è®¤128ä¸ªï¼‰ï¼ŒåŒæ—¶æ¯ä¸ªå…ƒç´ çš„å€¼éƒ½å°äº<code>zset-max-ziplist-value</code>é…ç½®ï¼ˆé»˜è®¤64å­—èŠ‚ï¼‰æ—¶ï¼ŒRedisä¼šç”¨ziplistæ¥ä½œä¸ºæœ‰åºé›†åˆçš„å†…éƒ¨å®ç°æ¥å‡å°‘å†…å­˜</li>
<li>skiplist: å½“æ— æ³•æ»¡è¶³ziplistæ¡ä»¶æ—¶</li>
</ul>
</li>
</ul>
<p>Redis è®¾è®¡å†…éƒ¨ç¼–ç ä¸å¤–éƒ¨ç»“æ„æœ‰ä¸¤ä¸ªå¥½å¤„</p>
<ol>
<li>æ”¹è¿›å†…éƒ¨ç¼–ç è€Œå¯¹å¤–éƒ¨æ•°æ®ç»“æ„å’Œå‘½ä»¤æ²¡æœ‰å½±å“</li>
<li>å¤šç§å†…éƒ¨ç¼–ç å®ç°å¯ä»¥åœ¨ä¸åŒåœºæ™¯ä¸‹å‘æŒ¥å„è‡ªçš„ä¼˜åŠ¿ï¼Œå¦‚ ziplist æ¯”è¾ƒèŠ‚çœå†…å­˜ï¼Œä½†åœ¨åˆ—è¡¨å…ƒç´ è¾ƒå¤šçš„æƒ…å†µä¸‹ï¼Œæ€§èƒ½ä¼šæœ‰æ‰€ä¸‹é™ï¼Œæ­¤æ—¶ Redis ä¼šæ ¹æ®é…ç½®é€‰é¡¹å°†åˆ—è¡¨ç±»å‹çš„å†…éƒ¨å®ç°è½¬æ¢ä¸º linkedlistã€‚</li>
</ol>
<p>å¯ä»¥é€šè¿‡<code>object encoding key</code>å‘½ä»¤æŸ¥è¯¢å†…éƒ¨ç¼–ç ã€‚</p>
<h1 id="ç¬¬-3-ç« -å°åŠŸèƒ½å¤§ç”¨å¤„"><a href="#ç¬¬-3-ç« -å°åŠŸèƒ½å¤§ç”¨å¤„" class="headerlink" title="ç¬¬ 3 ç«  å°åŠŸèƒ½å¤§ç”¨å¤„"></a>ç¬¬ 3 ç«  å°åŠŸèƒ½å¤§ç”¨å¤„</h1><h2 id="æ…¢æŸ¥è¯¢"><a href="#æ…¢æŸ¥è¯¢" class="headerlink" title="æ…¢æŸ¥è¯¢"></a>æ…¢æŸ¥è¯¢</h2><h3 id="æ…¢æŸ¥è¯¢é…ç½®"><a href="#æ…¢æŸ¥è¯¢é…ç½®" class="headerlink" title="æ…¢æŸ¥è¯¢é…ç½®"></a>æ…¢æŸ¥è¯¢é…ç½®</h3><ul>
<li><code>slowlog-log-slower-than</code> æ‰§è¡Œæ—¶é—´é˜ˆå€¼<ul>
<li>å•ä½ä¸ºå¾®ç§’ï¼Œé»˜è®¤ 10,000ï¼Œä¸º 0 è¡¨ç¤ºè®°å½•æ‰€æœ‰å‘½ä»¤ï¼Œ&lt;0 ä¸è®°å½•ä»»ä½•å‘½ä»¤</li>
<li>åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œéœ€è¦å°†è¯¥å€¼å‘ä¸‹è°ƒæ•´</li>
</ul>
</li>
<li><code>slowlog-max-len</code><ul>
<li>Redis ä½¿ç”¨åˆ—è¡¨ç»“æ„å­˜å‚¨æ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œè¯¥å‚æ•°ä¸ºåˆ—è¡¨æœ€å¤§é•¿åº¦</li>
<li>å½“åˆ—è¡¨è¾¾æœ€å¤§é•¿åº¦æ—¶ï¼Œæœ€æ—©æ’å…¥çš„å‘½ä»¤ä¼šè¢«ä»åˆ—è¡¨ä¸­ç§»å‡º</li>
<li>å¯å®šæ—¶å°†æ…¢æŸ¥è¯¢æ—¥å¿—æŒä¹…åŒ–å¤„ç†ï¼Œä¾¿äºæ’æŸ¥æ•…éšœ</li>
</ul>
</li>
</ul>
<h3 id="æ…¢æŸ¥è¯¢å‘½ä»¤"><a href="#æ…¢æŸ¥è¯¢å‘½ä»¤" class="headerlink" title="æ…¢æŸ¥è¯¢å‘½ä»¤"></a>æ…¢æŸ¥è¯¢å‘½ä»¤</h3><table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>é€‰é¡¹</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td><code>slowlog get [n]</code></td>
<td><code>n</code>: æŒ‡å®šæ¡æ•°</td>
<td></td>
</tr>
<tr>
<td><code>slowlog len</code></td>
<td></td>
<td>è·å–å½“å‰æ…¢æŸ¥è¯¢åˆ—è¡¨é•¿åº¦</td>
</tr>
<tr>
<td><code>slowlog reset</code></td>
<td></td>
<td>é‡ç½®æ—¥å¿—ï¼Œå³æ¸…ç†æ…¢æŸ¥è¯¢åˆ—è¡¨</td>
</tr>
</tbody></table>
<h3 id="æ…¢æŸ¥è¯¢æ—¥å¿—ç»“æ„"><a href="#æ…¢æŸ¥è¯¢æ—¥å¿—ç»“æ„" class="headerlink" title="æ…¢æŸ¥è¯¢æ—¥å¿—ç»“æ„"></a>æ…¢æŸ¥è¯¢æ—¥å¿—ç»“æ„</h3><p>ç”± 4 ä¸ªå±æ€§ç»„æˆ</p>
<ol>
<li>æ—¥å¿—æ ‡è¯† ID</li>
<li>æ—¶é—´æˆ³</li>
<li>å‘½ä»¤è€—æ—¶</li>
<li>æ‰§è¡Œå‘½ä»¤å’Œå‚æ•°<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; slowlog get</span><br><span class="line">1) 1) (integer) 666</span><br><span class="line">   2) (integer) 1456786500</span><br><span class="line">   3) (integer) 11615</span><br><span class="line">   4) 1) &quot;BGREWRITEAOF&quot;</span><br><span class="line">2) 1) (integer) 665</span><br><span class="line">   2) (integer) 1456718400</span><br><span class="line">   3) (integer) 12006</span><br><span class="line">   4) 1) &quot;SETEX&quot;</span><br><span class="line">      2) &quot;video_info_200&quot;</span><br><span class="line">      3) &quot;300&quot;</span><br><span class="line">      4) &quot;2&quot;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="Redis-Shell"><a href="#Redis-Shell" class="headerlink" title="Redis Shell"></a>Redis Shell</h2><h3 id="redis-cli"><a href="#redis-cli" class="headerlink" title="redis-cli"></a><code>redis-cli</code></h3><table>
<thead>
<tr>
<th>ç¤ºä¾‹</th>
<th>é€‰é¡¹</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody><tr>
<td><code>redis-cli -r 3 ping</code></td>
<td><code>-r</code>(repeat)ï¼šæŒ‡å®šå‘½ä»¤æ‰§è¡Œæ¬¡æ•°</td>
<td></td>
</tr>
<tr>
<td><code>redis-cli -r 5 -i 1 ping</code></td>
<td><code>-i</code>(interval)ï¼šæ‰§è¡Œå‘½ä»¤é—´éš”æ—¶é—´ï¼Œå•ä½ç§’</td>
<td><code>-i</code>å¿…é¡»ä¸<code>-r</code>ä¸€åŒä½¿ç”¨<br>è¯¥é€‰é¡¹ä¸æ”¯æŒæ¯«ç§’ä¸ºå•ä½ï¼Œè‹¥æƒ³ä»¥ 10ms ä¸ºé—´éš”ï¼Œå¯ä»¥ä½¿ç”¨<code>-i 0.01</code></td>
</tr>
<tr>
<td><code>echo &quot;world&quot; | redis-cli -x set hello</code></td>
<td><code>-x</code>: ä» stdin è¯»å–æ•°æ®ä½œä¸º <code>redis-cli</code>çš„æœ€åä¸€ä¸ªå‚æ•°</td>
<td></td>
</tr>
<tr>
<td></td>
<td><code>-c</code>(cluster): è¿æ¥ Redis cluster æ—¶ä½¿ç”¨ï¼Œå¯ä»¥é˜²æ­¢ <code>moved</code> å’Œ <code>ask</code> å¼‚å¸¸</td>
<td></td>
</tr>
<tr>
<td></td>
<td><code>-a</code>(auth): å¯†ç è®¤è¯</td>
<td></td>
</tr>
<tr>
<td><code>redis-cli --scan --pattern &quot;app*&quot;</code></td>
<td><code>--scan</code> &amp; <code>--pattern</code>: äºæ‰«ææŒ‡å®šæ¨¡å¼çš„é”®</td>
<td></td>
</tr>
<tr>
<td><code>redis-cli --slave</code></td>
<td><code>--slave</code>é€‰é¡¹æ˜¯æŠŠå½“å‰å®¢æˆ·ç«¯æ¨¡æ‹Ÿæˆå½“å‰ Redis èŠ‚ç‚¹çš„ä»èŠ‚ç‚¹ï¼Œå¯ä»¥ç”¨æ¥è·å–å½“å‰ Redis èŠ‚ç‚¹çš„æ›´æ–°æ“ä½œ</td>
<td></td>
</tr>
<tr>
<td></td>
<td><code>--rdb</code>: å°† Redis å®ä¾‹æŒä¹…åŒ–</td>
<td></td>
</tr>
<tr>
<td></td>
<td><code>--pipe</code>: å°†å‘½ä»¤å°è£…æˆRedisé€šä¿¡åè®®å®šä¹‰çš„æ•°æ®æ ¼å¼ï¼Œæ‰¹é‡å‘é€ç»™Redisæ‰§è¡Œ</td>
<td></td>
</tr>
<tr>
<td><code>redis-cli --bigkeys</code></td>
<td><code>--bigkeys</code>: ä½¿ç”¨scanå‘½ä»¤å¯¹Redisçš„é”®è¿›è¡Œé‡‡æ ·ï¼Œä»ä¸­æ‰¾åˆ°å†…å­˜å ç”¨æ¯”è¾ƒå¤§çš„é”®å€¼ï¼Œè¿™äº›é”®å¯èƒ½æ˜¯ç³»ç»Ÿçš„ç“¶é¢ˆ</td>
<td></td>
</tr>
<tr>
<td></td>
<td><code>--eval</code>: æŒ‡å®š Lua è„šæœ¬</td>
<td></td>
</tr>
<tr>
<td><code>redis-cli -h {machineB} --latency</code><br><code>redis-cli -h {machineB} --latency-history</code><br><code>redis-cli -h {machineB} --latency-dist</code></td>
<td><code>--latency</code>: æµ‹è¯•ç›®æ ‡ Redis ç½‘ç»œå»¶æ—¶ã€‚ä»…è¿”å›ä¸€æ¡ç»“æœ<br><code>--latency-history</code>: æ¯é—´éš”ä¸€å®šæ—¶é—´ï¼ˆå¯é€šè¿‡<code>-i</code>è®¾å®šï¼‰è¿”å›ç»“æœ<br><code>--latency-dist</code>: ä»¥ç»Ÿè®¡å›¾è¡¨çš„æ–¹å¼è¾“å‡ºç»Ÿè®¡ä¿¡æ¯</td>
<td></td>
</tr>
<tr>
<td><code>redis-cli --stat</code></td>
<td><code>--stat</code>: å®æ—¶è·å– Redis ç»Ÿè®¡ä¿¡æ¯</td>
<td><code>redis-cli info</code>ä¹Ÿèƒ½æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯</td>
</tr>
<tr>
<td><code>redis-cli --no-raw get apple</code></td>
<td><code>--raw</code> &amp; <code>--no-raw</code>: æ˜¯å¦æ ¼å¼åŒ–è¾“å‡º</td>
<td></td>
</tr>
</tbody></table>
<h3 id="redis-server"><a href="#redis-server" class="headerlink" title="redis-server"></a><code>redis-server</code></h3><p><code>redis-server --test-memory 1024</code> å¯ç”¨äºæ£€æµ‹å½“å‰ OS æ˜¯å¦èƒ½ç¨³å®šåˆ†é…æŒ‡å®šå®¹é‡å†…å­˜ç»™ Redisï¼Œè¯¥å‘½ä»¤é€šå¸¸ç”¨äºå‹æµ‹ã€‚</p>
<h3 id="redis-benchmark"><a href="#redis-benchmark" class="headerlink" title="redis-benchmark"></a><code>redis-benchmark</code></h3><p>è¯¥å‘½ä»¤ä¼šå¯¹å„ç±»æ•°æ®ç»“æ„çš„å‘½ä»¤è¿›è¡Œæµ‹è¯•ï¼Œå¹¶ç»™å‡ºæ€§èƒ½æŒ‡æ ‡ã€‚</p>
<ul>
<li><code>-c</code>(client) å¯æŒ‡å®šå®¢æˆ·ç«¯å¹¶å‘æ•°ï¼ˆé»˜è®¤ 50ï¼‰</li>
<li><code>-n</code> æŒ‡å®šå®¢æˆ·ç«¯è¯·æ±‚æ€»é‡ï¼ˆé»˜è®¤ 100,000ï¼‰</li>
<li><code>-q</code> ä»…æ˜¾ç¤ºæ¯ç§’æ¥æ”¶è¯·æ±‚æ•°</li>
<li><code>-r</code>(random) éšæœºæ’å…¥é”®ï¼Œä»¥è¿›è¡ŒåŸºå‡†æµ‹è¯•</li>
<li><code>-P</code> æ¯ä¸ªè¯·æ±‚ pipeline çš„æ•°æ®é‡ï¼ˆé»˜è®¤ä¸º 1ï¼‰</li>
<li><code>-k</code> å®¢æˆ·ç«¯æ˜¯å¦ä½¿ç”¨<code>keepalive</code>ï¼Œ1 ä¸ºä½¿ç”¨ï¼Œ0 ä¸ºä¸ä½¿ç”¨ï¼Œé»˜è®¤ä¸º 1</li>
<li><code>-t</code> å¯¹æŒ‡å®šå‘½ä»¤è¿›è¡ŒåŸºå‡†æµ‹è¯•ï¼Œå¦‚<code>redis-benchmark -t get,set -q</code></li>
<li><code>--csv</code> å°†ç»“æœæŒ‰ç…§ csv æ ¼å¼è¾“å‡º</li>
</ul>
<h2 id="Pipeline"><a href="#Pipeline" class="headerlink" title="Pipeline"></a>Pipeline</h2><p>ç”±äº Redis æ˜¯å•çº¿ç¨‹æœºåˆ¶ï¼Œå½“éœ€è¦æ‰§è¡Œå¤šæ¡å‘½ä»¤æ—¶ï¼Œç½‘ç»œ I/O æˆä¸ºäº†ç“¶é¢ˆï¼Œå› æ­¤ pipeline å¯å°†å¾…æ‰§è¡Œå‘½ä»¤â€œæ‰“åŒ…â€ï¼Œé€šè¿‡ä¸€æ¬¡å¾€è¿”å³å¯å®Œæˆã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœ pipeline æ•°æ®é‡è¿‡å¤§ï¼Œå°†ä¼šå¯¼è‡´ç½‘ç»œé˜»å¡ã€‚</p>
<h2 id="äº‹åŠ¡ä¸-Lua"><a href="#äº‹åŠ¡ä¸-Lua" class="headerlink" title="äº‹åŠ¡ä¸ Lua"></a>äº‹åŠ¡ä¸ Lua</h2><p>Redis ä¸­ï¼Œå°†ä¸€ç»„éœ€è¦ä¸€èµ·æ‰§è¡Œçš„äº‹åŠ¡å‘½ä»¤æ”¾åˆ°<code>multi</code>(å¼€å§‹)å’Œ<code>exec</code>(ç»“æŸ)ä¹‹é—´å³å¯ï¼Œå¦‚æœè¦åœæ­¢äº‹åŠ¡ï¼Œå¯ä»¥ä½¿ç”¨<code>discard</code>ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒRedis ä¸æ”¯æŒäº‹åŠ¡çš„å›æ»šæ“ä½œï¼Œä½†å¯ä»¥é€šè¿‡ Lua æ¥å®ç°å›æ»šã€‚</p>
<p>æœ‰äº›åº”ç”¨åœºæ™¯éœ€è¦åœ¨äº‹åŠ¡ä¹‹å‰ï¼Œç¡®ä¿äº‹åŠ¡ä¸­çš„<code>key</code>æ²¡æœ‰è¢«å…¶ä»–å®¢æˆ·ç«¯ä¿®æ”¹è¿‡ï¼Œæ‰æ‰§è¡Œäº‹åŠ¡ï¼Œå¦åˆ™ä¸æ‰§è¡Œï¼ˆç±»ä¼¼ä¹è§‚é”ï¼‰ã€‚Redisæä¾›äº†<code>watch</code>å‘½ä»¤æ¥è§£å†³è¿™ç±»é—®é¢˜ã€‚</p>
<p>Lua çš„æ•°æ®ç±»å‹ï¼š</p>
<ol>
<li>booleans(å¸ƒå°”)</li>
<li>numbers(æ•°å€¼)</li>
<li>strings(å­—ç¬¦ä¸²)</li>
<li>tables(è¡¨æ ¼)</li>
</ol>
<h3 id="åœ¨-Redis-ä¸­æ‰§è¡Œ-Lua-çš„æ–¹æ³•"><a href="#åœ¨-Redis-ä¸­æ‰§è¡Œ-Lua-çš„æ–¹æ³•" class="headerlink" title="åœ¨ Redis ä¸­æ‰§è¡Œ Lua çš„æ–¹æ³•"></a>åœ¨ Redis ä¸­æ‰§è¡Œ Lua çš„æ–¹æ³•</h3><p>æ–¹å¼ä¸€<br><code>eval è„šæœ¬å†…å®¹ keyä¸ªæ•° keyåˆ—è¡¨ å‚æ•°åˆ—è¡¨</code></p>
<p>æ–¹å¼äºŒ<br>å…ˆå°† Lua è„šæœ¬åŠ è½½å…¥ Redisï¼Œå¾—åˆ°è¯¥è„šæœ¬çš„ SHA1ï¼Œ<code>evalsha</code>ä½¿ç”¨<code>SHA1</code>æ‰§è¡Œå¯¹åº”çš„è„šæœ¬ã€‚è¿™æ ·å¯ä»¥é‡å¤æ‰¹å¤„ç†ã€‚</p>
<ul>
<li>åŠ è½½è„šæœ¬ï¼š<code>redis-cli script load &quot;$(cat lua_get.lua)&quot;</code></li>
<li>æ‰§è¡Œè„šæœ¬ï¼š<code>evalsha è„šæœ¬SHA1å€¼ keyä¸ªæ•° keyåˆ—è¡¨ å‚æ•°åˆ—è¡¨</code></li>
<li>åˆ¤æ–­è„šæœ¬æ˜¯å¦å·²ç»è¢«åŠ è½½ï¼š<code>scripts exists sha1 [sha1 â€¦]</code>ï¼Œè¿”å›å­˜åœ¨çš„è„šæœ¬ä¸ªæ•°</li>
<li>æ¸…é™¤æ‰€æœ‰è„šæœ¬ï¼š<code>script flush</code></li>
<li>å¼ºåˆ¶ç»ˆæ­¢è„šæœ¬ï¼š<code>script kill</code>ã€‚å¦‚æœå½“å‰è„šæœ¬æ­£åœ¨å†™å…¥ï¼Œåˆ™è¯¥å‘½ä»¤ä¸ä¼šç”Ÿæ•ˆï¼Œæ­¤æ—¶è¦ä¹ˆç­‰å¾…è„šæœ¬æ‰§è¡Œç»“æŸï¼Œè¦ä¹ˆä½¿ç”¨<code>shutdown save</code>åœæ­¢ Redis æœåŠ¡</li>
</ul>
<blockquote>
<p>Lua è„šæœ¬åœ¨ Redis ä¸­æ˜¯åŸå­æ‰§è¡Œçš„ï¼Œæ‰§è¡Œè¿‡ç¨‹ä¸­ä¸ä¼šæ’å…¥å…¶å®ƒå‘½ä»¤ã€‚</p>
</blockquote>
<h2 id="Bitmaps"><a href="#Bitmaps" class="headerlink" title="Bitmaps"></a>Bitmaps</h2><p>Bitmapsæœ¬èº«ä¸æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå®é™…ä¸Šå®ƒå°±æ˜¯å­—ç¬¦ä¸²ï¼Œä½†æ˜¯å®ƒå¯ä»¥å¯¹å­—ç¬¦ä¸²çš„ä½è¿›è¡Œæ“ä½œã€‚</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>è¯´æ˜</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody><tr>
<td><code>setbit key offset value</code></td>
<td>è®¾ç½®å€¼</td>
<td>å¾ˆå¤šåº”ç”¨çš„ç”¨æˆ·idä»¥ä¸€ä¸ªæŒ‡å®šæ•°å­—ï¼ˆä¾‹å¦‚10000ï¼‰å¼€å¤´ï¼Œç›´æ¥å°†ç”¨æˆ·idå’ŒBitmapsçš„åç§»é‡å¯¹åº”åŠ¿å¿…ä¼šé€ æˆä¸€å®šçš„æµªè´¹ï¼Œé€šå¸¸çš„åšæ³•æ˜¯æ¯æ¬¡åš <code>setbit</code> æ“ä½œæ—¶å°†ç”¨æˆ·idå‡å»è¿™ä¸ªæŒ‡å®šæ•°å­—ã€‚åœ¨ç¬¬ä¸€æ¬¡åˆå§‹åŒ– Bitmaps æ—¶ï¼Œå‡å¦‚åç§»é‡éå¸¸å¤§ï¼Œé‚£ä¹ˆæ•´ä¸ªåˆå§‹åŒ–è¿‡ç¨‹æ‰§è¡Œä¼šæ¯”è¾ƒæ…¢ï¼Œå¯èƒ½ä¼šé€ æˆRedisçš„é˜»å¡</td>
</tr>
<tr>
<td><code>gitbit key offset</code></td>
<td>è·å–å€¼</td>
<td></td>
</tr>
<tr>
<td><code>bitcount key [start][end]</code></td>
<td>è·å–BitmapsæŒ‡å®šèŒƒå›´å€¼ä¸º1çš„ä¸ªæ•°</td>
<td></td>
</tr>
<tr>
<td><code>bitop operator destkey key[key....]</code></td>
<td>Bitmapsé—´çš„è¿ç®—</td>
<td><code>bitop</code>æ˜¯ä¸€ä¸ªå¤åˆæ“ä½œï¼Œå®ƒå¯ä»¥åšå¤šä¸ªBitmapsçš„<code>and</code>ã€<code>or</code>ã€<code>not</code>ã€<code>xor</code>æ“ä½œå¹¶å°†ç»“æœä¿å­˜åœ¨<code>destkey</code>ä¸­</td>
</tr>
<tr>
<td><code>bitpos key targetBit [start] [end]</code></td>
<td>è®¡ç®—Bitmapsä¸­ç¬¬ä¸€ä¸ªå€¼ä¸ºtargetBitçš„åç§»é‡</td>
<td></td>
</tr>
</tbody></table>
<p>å½“ç”¨æˆ·é‡å¾ˆå¤§æ—¶ï¼Œä½¿ç”¨ bitmaps å­˜å‚¨ç”¨æˆ·çš„æ´»è·ƒæƒ…å†µæ˜¯éå¸¸å¥½çš„ä¸€ç§æ–¹æ¡ˆï¼Œä½†æ´»è·ƒç”¨æˆ·é‡è¾ƒå°‘æ—¶åˆ™ä¸åˆç†ï¼Œå¤§å¤šæ•°ä½éƒ½æ˜¯ 0ã€‚</p>
<h2 id="HyperLogLog"><a href="#HyperLogLog" class="headerlink" title="HyperLogLog"></a>HyperLogLog</h2><p>HyperLogLogå¹¶ä¸æ˜¯ä¸€ç§æ–°çš„æ•°æ®ç»“æ„ï¼ˆå®é™…ç±»å‹ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼‰ï¼Œé€šè¿‡HyperLogLogå¯ä»¥åˆ©ç”¨æå°çš„å†…å­˜ç©ºé—´å®Œæˆç‹¬ç«‹æ€»æ•°çš„ç»Ÿè®¡ï¼Œæ•°æ®é›†å¯ä»¥æ˜¯IPã€Emailã€IDç­‰ã€‚</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>è¯´æ˜</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody><tr>
<td><code>pfadd key element [element â€¦]</code></td>
<td>æ·»åŠ ï¼ŒæˆåŠŸè¿”å› 1</td>
<td></td>
</tr>
<tr>
<td><code>pfcount key [key â€¦]</code></td>
<td>è®¡ç®—ç‹¬ç«‹ç”¨æˆ·</td>
<td></td>
</tr>
<tr>
<td><code>pfmerge destkey sourcekey [sourcekey ...]</code></td>
<td>åˆå¹¶</td>
<td></td>
</tr>
</tbody></table>
<p>ç›¸æ¯”äºé›†åˆç±»å‹ï¼ŒHyperLogLog å†…å­˜å ç”¨é‡éå¸¸å°ï¼Œä½†æ˜¯å­˜åœ¨é”™è¯¯ç‡ï¼Œå› æ­¤ï¼Œåœ¨æ•°æ®ç»“æ„é€‰å‹æ—¶ï¼Œéœ€è¦å¹³è¡¡è¯¯å·®ä¸ç©ºé—´å ç”¨ç‡ã€‚</p>
<h2 id="å‘å¸ƒè®¢é˜…"><a href="#å‘å¸ƒè®¢é˜…" class="headerlink" title="å‘å¸ƒè®¢é˜…"></a>å‘å¸ƒè®¢é˜…</h2><table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>è¯´æ˜</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody><tr>
<td><code>publish channel message</code></td>
<td>å‘å¸ƒæ¶ˆæ¯ï¼Œè¿”å›è®¢é˜…è€…ä¸ªæ•°</td>
<td></td>
</tr>
<tr>
<td><code>subscribe channel [channel ...]</code></td>
<td>è®¢é˜…æ¶ˆæ¯</td>
<td>å®¢æˆ·ç«¯åœ¨æ‰§è¡Œè®¢é˜…å‘½ä»¤ä¹‹åè¿›å…¥äº†è®¢é˜…çŠ¶æ€ï¼Œåªèƒ½æ¥æ”¶<code>subscribe</code>ã€<code>psubscribe</code>ã€<code>unsubscribe</code>ã€<code>punsubscribe</code>çš„å››ä¸ªå‘½ä»¤<br>æ–°å¼€å¯çš„è®¢é˜…å®¢æˆ·ç«¯ï¼Œæ— æ³•æ”¶åˆ°è¯¥é¢‘é“ä¹‹å‰çš„æ¶ˆæ¯ï¼Œå› ä¸ºRedisä¸ä¼šå¯¹å‘å¸ƒçš„æ¶ˆæ¯è¿›è¡ŒæŒä¹…åŒ–</td>
</tr>
<tr>
<td><code>unsubscribe [channel [channel ...]]</code></td>
<td>å–æ¶ˆè®¢é˜…</td>
<td></td>
</tr>
<tr>
<td><code>psubscribe pattern [pattern...]</code><br><code>punsubscribe [pattern [pattern ...]]</code></td>
<td>æŒ‰ç…§æ¨¡å¼è®¢é˜…å’Œå–æ¶ˆè®¢é˜…</td>
<td></td>
</tr>
<tr>
<td><code>pubsub channels [pattern]</code></td>
<td>æŸ¥çœ‹æ´»è·ƒçš„é¢‘é“</td>
<td></td>
</tr>
<tr>
<td><code>pubsub numsub [channel ...]</code></td>
<td>æŸ¥çœ‹é¢‘é“è®¢é˜…æ•°</td>
<td></td>
</tr>
<tr>
<td><code>pubsub numpat</code></td>
<td>æŸ¥çœ‹æ¨¡å¼è®¢é˜…æ•°</td>
<td></td>
</tr>
</tbody></table>
<h2 id="GEO"><a href="#GEO" class="headerlink" title="GEO"></a>GEO</h2><p>GEOåº•å±‚ç”± zset å®ç°ã€‚</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>è¯´æ˜</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody><tr>
<td><code>geoadd key longitude latitude member [longitude latitude member ...]</code></td>
<td>å¢åŠ åœ°ç†ä½ç½®ä¿¡æ¯ã€‚è¿”å›æˆåŠŸæ·»åŠ çš„ä¸ªæ•°</td>
<td>æ›´æ–°åœ°ç†ä½ç½®ä¿¡æ¯ä»ç„¶å¯ä»¥ä½¿ç”¨è¯¥å‘½ä»¤ï¼Œä½†è¿”å›ä¸º 0ã€‚è¯¥å‘½ä»¤åŒæ—¶æ”¯æŒå¤šä¸ªåœ°ç†ä½ç½®æ·»åŠ </td>
</tr>
<tr>
<td><code>geopos key member [member ...]</code></td>
<td>è·å–åœ°ç†ä½ç½®ä¿¡æ¯</td>
<td></td>
</tr>
<tr>
<td><code>geodist key member1 member2 [unit]</code></td>
<td>è·å–ä¸¤ä¸ªåœ°ç†ä½ç½®çš„è·ç¦»</td>
<td><code>unit</code>ä¸ºå•ä½ï¼Œåˆ†åˆ«ä¸º<code>m</code>(ç±³)ï¼Œ<code>km</code>(å…¬é‡Œ)ï¼Œ<code>mi</code>(è‹±é‡Œ)ï¼Œ<code>ft</code>(å°º)</td>
</tr>
<tr>
<td><code>georadius key longitude latitude radiusm|km|ft|mi [withcoord] [withdist] [withhash] [COUNT count] [asc|desc] [store key] [storedist key]</code><br><br><code>georadiusbymember key member radiusm|km|ft|mi [withcoord] [withdist] [withhash] [COUNT count] [asc|desc] [store key] [storedist key]</code></td>
<td>è·å–æŒ‡å®šä½ç½®èŒƒå›´å†…çš„åœ°ç†ä¿¡æ¯ä½ç½®é›†åˆ</td>
<td><code>georadius</code>å’Œ<code>georadiusbymember</code>ä¸¤ä¸ªå‘½ä»¤çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ä»¥ä¸€ä¸ªåœ°ç†ä½ç½®ä¸ºä¸­å¿ƒç®—å‡ºæŒ‡å®šåŠå¾„å†…çš„å…¶ä»–åœ°ç†ä¿¡æ¯ä½ç½®ï¼Œä¸åŒçš„æ˜¯<code>georadius</code>å‘½ä»¤çš„ä¸­å¿ƒä½ç½®ç»™å‡ºäº†å…·ä½“çš„ç»çº¬åº¦ï¼Œ<code>georadiusbymember</code>åªéœ€ç»™å‡ºæˆå‘˜å³å¯ã€‚å…¶ä¸­<code>radiusm|km|ft|mi</code>æ˜¯å¿…éœ€å‚æ•°ï¼ŒæŒ‡å®šäº†åŠå¾„<br><code>withcoord</code>:è¿”å›ç»çº¬åº¦ï¼›<br><code>withdist</code>:è¿”å›ç¦»ä¸­å¿ƒèŠ‚ç‚¹ä½ç½®çš„è·ç¦»ï¼›<br><code>withhash</code>:è¿”å›<code>geohash</code>ï¼›<br><code>COUNT count</code>:è¿”å›æŒ‡å®šç»“æœæ•°é‡ï¼›<br><code>asc|desc</code>:æŒ‰è·ä¸­å¿ƒèŠ‚ç‚¹è·ç¦»å‡åºæˆ–é™åºï¼›<br><code>store key</code>:å°†ç»“æœä¿å­˜åˆ°æŒ‡å®šé”®ï¼›<br><code>storedist key</code>:å°†è·ä¸­å¿ƒèŠ‚ç‚¹è·ç¦»ä¿å­˜åˆ°æŒ‡å®šé”®</td>
</tr>
<tr>
<td><code>geohash key member [member ...]</code></td>
<td>è·å–geohash</td>
<td>Rediså°†æ‰€æœ‰åœ°ç†ä½ç½®ä¿¡æ¯çš„<code>geohash</code>å­˜æ”¾åœ¨<code>zset</code>ä¸­ï¼Œå­—ç¬¦ä¸²è¶Šé•¿ï¼Œè¡¨ç¤ºçš„ä½ç½®æ›´ç²¾ç¡®</td>
</tr>
<tr>
<td><code>zrem key member</code></td>
<td>åˆ é™¤åœ°ç†ä½ç½®ä¿¡æ¯</td>
<td></td>
</tr>
</tbody></table>
<h1 id="ç¬¬-4-ç« -å®¢æˆ·ç«¯"><a href="#ç¬¬-4-ç« -å®¢æˆ·ç«¯" class="headerlink" title="ç¬¬ 4 ç«  å®¢æˆ·ç«¯"></a>ç¬¬ 4 ç«  å®¢æˆ·ç«¯</h1><h1 id="ç¬¬-5-ç« -æŒä¹…åŒ–"><a href="#ç¬¬-5-ç« -æŒä¹…åŒ–" class="headerlink" title="ç¬¬ 5 ç«  æŒä¹…åŒ–"></a>ç¬¬ 5 ç«  æŒä¹…åŒ–</h1><h1 id="ç¬¬-6-ç« -å¤åˆ¶"><a href="#ç¬¬-6-ç« -å¤åˆ¶" class="headerlink" title="ç¬¬ 6 ç«  å¤åˆ¶"></a>ç¬¬ 6 ç«  å¤åˆ¶</h1><h1 id="ç¬¬-7-ç« -é˜»å¡"><a href="#ç¬¬-7-ç« -é˜»å¡" class="headerlink" title="ç¬¬ 7 ç«  é˜»å¡"></a>ç¬¬ 7 ç«  é˜»å¡</h1><h1 id="ç¬¬-8-ç« -ç†è§£å†…å­˜"><a href="#ç¬¬-8-ç« -ç†è§£å†…å­˜" class="headerlink" title="ç¬¬ 8 ç«  ç†è§£å†…å­˜"></a>ç¬¬ 8 ç«  ç†è§£å†…å­˜</h1><h1 id="ç¬¬-9-ç« -å“¨å…µ"><a href="#ç¬¬-9-ç« -å“¨å…µ" class="headerlink" title="ç¬¬ 9 ç«  å“¨å…µ"></a>ç¬¬ 9 ç«  å“¨å…µ</h1><h1 id="ç¬¬-10-ç« -é›†ç¾¤"><a href="#ç¬¬-10-ç« -é›†ç¾¤" class="headerlink" title="ç¬¬ 10 ç«  é›†ç¾¤"></a>ç¬¬ 10 ç«  é›†ç¾¤</h1><h1 id="ç¬¬-11-ç« -ç¼“å­˜è®¾è®¡"><a href="#ç¬¬-11-ç« -ç¼“å­˜è®¾è®¡" class="headerlink" title="ç¬¬ 11 ç«  ç¼“å­˜è®¾è®¡"></a>ç¬¬ 11 ç«  ç¼“å­˜è®¾è®¡</h1><h1 id="ç¬¬-12-ç« -Devops-çš„é™·é˜±"><a href="#ç¬¬-12-ç« -Devops-çš„é™·é˜±" class="headerlink" title="ç¬¬ 12 ç«  Devops çš„é™·é˜±"></a>ç¬¬ 12 ç«  Devops çš„é™·é˜±</h1><h1 id="ç¬¬-13-ç« -Redis-ç›‘æ§è¿ç»´äº‘å¹³å°-CachedCloud"><a href="#ç¬¬-13-ç« -Redis-ç›‘æ§è¿ç»´äº‘å¹³å°-CachedCloud" class="headerlink" title="ç¬¬ 13 ç«  Redis ç›‘æ§è¿ç»´äº‘å¹³å° CachedCloud"></a>ç¬¬ 13 ç«  Redis ç›‘æ§è¿ç»´äº‘å¹³å° CachedCloud</h1><h1 id="ç¬¬-14-ç« -Redis-é…ç½®ç»Ÿè®¡å­—å…¸"><a href="#ç¬¬-14-ç« -Redis-é…ç½®ç»Ÿè®¡å­—å…¸" class="headerlink" title="ç¬¬ 14 ç«  Redis é…ç½®ç»Ÿè®¡å­—å…¸"></a>ç¬¬ 14 ç«  Redis é…ç½®ç»Ÿè®¡å­—å…¸</h1>
    </div>

    
    
    
      
        <div class="reward-container">
  <div>å› ä¸ºçƒ­çˆ±ï¼Œæ‰€ä»¥æ‰§ç€ã€‚</div>
  <button disable="enable" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    Donate
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechat.png" alt="Palemoky WeChat Pay">
        <p>WeChat Pay</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/images/alipay.png" alt="Palemoky Alipay">
        <p>Alipay</p>
      </div>

  </div>
</div>

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:  </strong>Palemoky
  </li>
  <li class="post-copyright-link">
    <strong>Post link: </strong>
    <a href="https://blog.palemoky.top/post/redis-devops/" title="ã€ŠRediså¼€å‘ä¸è¿ç»´ã€‹">https://blog.palemoky.top/post/redis-devops/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/null" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.
  </li>
</ul>
</div>


      <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
                <a href="/post/get-bank-info-by-unionpay/" rel="next" title="é“¶è”æŸ¥è¯¢é“¶è¡Œå¡ä¿¡æ¯">
                  <i class="fa fa-chevron-left"></i> é“¶è”æŸ¥è¯¢é“¶è¡Œå¡ä¿¡æ¯
                </a>
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
            </div>
          </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          
    
  <div class="comments" id="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#ç¬¬-1-ç« -åˆè¯†-Redis"><span class="nav-number">1.</span> <span class="nav-text">ç¬¬ 1 ç«  åˆè¯† Redis</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Redis-æ•°æ®ç±»å‹"><span class="nav-number">1.1.</span> <span class="nav-text">Redis æ•°æ®ç±»å‹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Redis-æä¾›çš„åŠŸèƒ½"><span class="nav-number">1.2.</span> <span class="nav-text">Redis æä¾›çš„åŠŸèƒ½</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Redis-ä½¿ç”¨åœºæ™¯"><span class="nav-number">1.3.</span> <span class="nav-text">Redis ä½¿ç”¨åœºæ™¯</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ä¸ºä»€ä¹ˆ-Redis-å¾ˆå¿«ï¼Ÿ"><span class="nav-number">1.4.</span> <span class="nav-text">ä¸ºä»€ä¹ˆ Redis å¾ˆå¿«ï¼Ÿ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Redis-å¯æ‰§è¡Œæ–‡ä»¶è¯´æ˜"><span class="nav-number">1.5.</span> <span class="nav-text">Redis å¯æ‰§è¡Œæ–‡ä»¶è¯´æ˜</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å¯åŠ¨-Redis-çš„3ç§æ–¹å¼ï¼š"><span class="nav-number">1.6.</span> <span class="nav-text">å¯åŠ¨ Redis çš„3ç§æ–¹å¼ï¼š</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ç¬¬-2-ç« -API-çš„ç†è§£å’Œä½¿ç”¨"><span class="nav-number">2.</span> <span class="nav-text">ç¬¬ 2 ç«  API çš„ç†è§£å’Œä½¿ç”¨</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#åˆ¤æ–­é”®ä¸å­˜åœ¨çš„æ–¹æ³•ï¼š"><span class="nav-number">2.1.</span> <span class="nav-text">åˆ¤æ–­é”®ä¸å­˜åœ¨çš„æ–¹æ³•ï¼š</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#åˆ—è¡¨çš„å››ç§æ“ä½œç±»å‹"><span class="nav-number">2.2.</span> <span class="nav-text">åˆ—è¡¨çš„å››ç§æ“ä½œç±»å‹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#åˆ—è¡¨çš„ä½¿ç”¨åœºæ™¯ï¼š"><span class="nav-number">2.3.</span> <span class="nav-text">åˆ—è¡¨çš„ä½¿ç”¨åœºæ™¯ï¼š</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#é›†åˆçš„ä½¿ç”¨åœºæ™¯"><span class="nav-number">2.4.</span> <span class="nav-text">é›†åˆçš„ä½¿ç”¨åœºæ™¯</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#åˆ—è¡¨ã€é›†åˆã€æœ‰åºé›†åˆçš„å¼‚åŒç‚¹"><span class="nav-number">2.5.</span> <span class="nav-text">åˆ—è¡¨ã€é›†åˆã€æœ‰åºé›†åˆçš„å¼‚åŒç‚¹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Redis-æ•°æ®ç»“æ„ä¸å†…éƒ¨ç¼–ç "><span class="nav-number">2.6.</span> <span class="nav-text">Redis æ•°æ®ç»“æ„ä¸å†…éƒ¨ç¼–ç </span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ç¬¬-3-ç« -å°åŠŸèƒ½å¤§ç”¨å¤„"><span class="nav-number">3.</span> <span class="nav-text">ç¬¬ 3 ç«  å°åŠŸèƒ½å¤§ç”¨å¤„</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#æ…¢æŸ¥è¯¢"><span class="nav-number">3.1.</span> <span class="nav-text">æ…¢æŸ¥è¯¢</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#æ…¢æŸ¥è¯¢é…ç½®"><span class="nav-number">3.1.1.</span> <span class="nav-text">æ…¢æŸ¥è¯¢é…ç½®</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ…¢æŸ¥è¯¢å‘½ä»¤"><span class="nav-number">3.1.2.</span> <span class="nav-text">æ…¢æŸ¥è¯¢å‘½ä»¤</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ…¢æŸ¥è¯¢æ—¥å¿—ç»“æ„"><span class="nav-number">3.1.3.</span> <span class="nav-text">æ…¢æŸ¥è¯¢æ—¥å¿—ç»“æ„</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Redis-Shell"><span class="nav-number">3.2.</span> <span class="nav-text">Redis Shell</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#redis-cli"><span class="nav-number">3.2.1.</span> <span class="nav-text">redis-cli</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#redis-server"><span class="nav-number">3.2.2.</span> <span class="nav-text">redis-server</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#redis-benchmark"><span class="nav-number">3.2.3.</span> <span class="nav-text">redis-benchmark</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Pipeline"><span class="nav-number">3.3.</span> <span class="nav-text">Pipeline</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#äº‹åŠ¡ä¸-Lua"><span class="nav-number">3.4.</span> <span class="nav-text">äº‹åŠ¡ä¸ Lua</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#åœ¨-Redis-ä¸­æ‰§è¡Œ-Lua-çš„æ–¹æ³•"><span class="nav-number">3.4.1.</span> <span class="nav-text">åœ¨ Redis ä¸­æ‰§è¡Œ Lua çš„æ–¹æ³•</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Bitmaps"><span class="nav-number">3.5.</span> <span class="nav-text">Bitmaps</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HyperLogLog"><span class="nav-number">3.6.</span> <span class="nav-text">HyperLogLog</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å‘å¸ƒè®¢é˜…"><span class="nav-number">3.7.</span> <span class="nav-text">å‘å¸ƒè®¢é˜…</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#GEO"><span class="nav-number">3.8.</span> <span class="nav-text">GEO</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ç¬¬-4-ç« -å®¢æˆ·ç«¯"><span class="nav-number">4.</span> <span class="nav-text">ç¬¬ 4 ç«  å®¢æˆ·ç«¯</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ç¬¬-5-ç« -æŒä¹…åŒ–"><span class="nav-number">5.</span> <span class="nav-text">ç¬¬ 5 ç«  æŒä¹…åŒ–</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ç¬¬-6-ç« -å¤åˆ¶"><span class="nav-number">6.</span> <span class="nav-text">ç¬¬ 6 ç«  å¤åˆ¶</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ç¬¬-7-ç« -é˜»å¡"><span class="nav-number">7.</span> <span class="nav-text">ç¬¬ 7 ç«  é˜»å¡</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ç¬¬-8-ç« -ç†è§£å†…å­˜"><span class="nav-number">8.</span> <span class="nav-text">ç¬¬ 8 ç«  ç†è§£å†…å­˜</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ç¬¬-9-ç« -å“¨å…µ"><span class="nav-number">9.</span> <span class="nav-text">ç¬¬ 9 ç«  å“¨å…µ</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ç¬¬-10-ç« -é›†ç¾¤"><span class="nav-number">10.</span> <span class="nav-text">ç¬¬ 10 ç«  é›†ç¾¤</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ç¬¬-11-ç« -ç¼“å­˜è®¾è®¡"><span class="nav-number">11.</span> <span class="nav-text">ç¬¬ 11 ç«  ç¼“å­˜è®¾è®¡</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ç¬¬-12-ç« -Devops-çš„é™·é˜±"><span class="nav-number">12.</span> <span class="nav-text">ç¬¬ 12 ç«  Devops çš„é™·é˜±</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ç¬¬-13-ç« -Redis-ç›‘æ§è¿ç»´äº‘å¹³å°-CachedCloud"><span class="nav-number">13.</span> <span class="nav-text">ç¬¬ 13 ç«  Redis ç›‘æ§è¿ç»´äº‘å¹³å° CachedCloud</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ç¬¬-14-ç« -Redis-é…ç½®ç»Ÿè®¡å­—å…¸"><span class="nav-number">14.</span> <span class="nav-text">ç¬¬ 14 ç«  Redis é…ç½®ç»Ÿè®¡å­—å…¸</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="site-author-image" itemprop="image" alt="Palemoky"
    src="/images/orca.jpg">
  <p class="site-author-name" itemprop="name">Palemoky</p>
  <div class="site-description" itemprop="description">Learn by doing !</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">64</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">17</span>
        <span class="site-state-item-name">categories</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">46</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/palemoky" title="GitHub &amp;rarr; https:&#x2F;&#x2F;github.com&#x2F;palemoky" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:palemoky@gmail.com" title="E-Mail &amp;rarr; mailto:palemoky@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i></a>
      </span>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 2016 â€“ 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Palemoky Â© Copyright</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.0.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme â€“ <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.4.2
  </div>

        
<div class="busuanzi-count">
  <script pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</div>












        
      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/pjax/pjax.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/medium-zoom@1/dist/medium-zoom.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/pisces.js"></script>
<script src="/js/next-boot.js"></script>
  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.getAttribute('pjax') !== null) {
      element.setAttribute('pjax', '');
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  




  <script src="/js/local-search.js"></script>












    <div id="pjax">

  

  
      
<script type="text/x-mathjax-config">
    MathJax.Ajax.config.path['mhchem'] = '//cdn.jsdelivr.net/npm/mathjax-mhchem@3';

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
        extensions: ['[mhchem]/mhchem.js'],
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });

  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') {
          next = next.nextSibling;
        }
        if (next && next.nodeName.toLowerCase() === 'br') {
          next.parentNode.removeChild(next);
        }
      }
    });
  });

  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      element = document.getElementById(all[i].inputID + '-Frame').parentNode;
      if (element.nodeName.toLowerCase() == 'li') {
        element = element.parentNode;
      }
      element.classList.add('has-jax');
    }
  });
</script>
<script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML', () => {
    MathJax.Hub.Typeset();
  }, window.MathJax);
</script>

    

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://palemoky.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  function loadComments() {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: {page: {
            url: "https://blog.palemoky.top/post/redis-devops/",
            identifier: "post/redis-devops/",
            title: "ã€ŠRediså¼€å‘ä¸è¿ç»´ã€‹"
          }
        }
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://palemoky.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  }
    (function() {
      var offsetTop = document.getElementById('comments').offsetTop - window.innerHeight;
      if (offsetTop <= 0) {
        // load directly when there's no a scrollbar
        window.addEventListener('load', loadComments, false);
      } else {
        var disqus_scroll = () => {
          // offsetTop may changes because of manually resizing browser window or lazy loading images.
          var offsetTop = document.getElementById('comments').offsetTop - window.innerHeight;
          var scrollTop = window.scrollY;

          // pre-load comments a bit? (margin or anything else)
          if (offsetTop - scrollTop < 60) {
            window.removeEventListener('scroll', disqus_scroll);
            loadComments();
          }
        };
        window.addEventListener('scroll', disqus_scroll);
      }
    })();
  
</script>

    </div>
</body>
</html>
