<!DOCTYPE html><html lang="en"><head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/icon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/icon.png">
  <link rel="mask-icon" href="/images/icon.png" color="#222">
  <meta name="google-site-verification" content="HffpR8NKoAvdPtHw1WLz8yun_UKXOBTbuFVpUH6i77Q">







<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.4.2',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":"flat"},
    back2top: {"enable":true,"sidebar":true,"scrollpercent":true},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: true,
    lazyload: false,
    pangu: true,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    },
    sidebarPadding: 40
  };
</script>

  <meta property="og:type" content="article">
<meta property="og:title" content="《HTTP权威指南》">
<meta property="og:url" content="https://blog.shixinyu.space/post/http-definitive-guide/index.html">
<meta property="og:site_name" content="Xinyu's Space">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://tva1.sinaimg.cn/middle/006tNbRwly1g9w8q5c92zj30xc0hi434.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/006tNbRwly1g9wbf070kyj30ej06igm3.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/006tNbRwly1gacjkgnhr4j30wo0u04ho.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/006tNbRwly1gacjzsn0wnj31780fidkv.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/006tNbRwly1gade8xlrirj30kc0fnq44.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/006tNbRwly1gadn0sgnwmj30u00usncj.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/006tNbRwly1gadpha81d0j30ks0cqdjj.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/006tNbRwly1gaeqdw9524j318s0gsqcf.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/006tNbRwly1gaervii1rjj30zu0eq42u.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/006tNbRwly1gaesvn44oaj31a20i6k3z.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/006tNbRwly1gafqe4gnp4j30t40kgn03.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/006tNbRwly1gakjg3ndflj30mn0m3qbk.jpg">
<meta property="og:updated_time" content="2020-05-22T06:34:50.848Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://tva1.sinaimg.cn/middle/006tNbRwly1g9w8q5c92zj30xc0hi434.jpg">

<link rel="canonical" href="https://blog.shixinyu.space/post/http-definitive-guide/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>
<meta name="google-site-verification" content="HffpR8NKoAvdPtHw1WLz8yun_UKXOBTbuFVpUH6i77Q">
<script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>

<script src="https://cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget/autoload.js"></script>
  <title>《HTTP权威指南》 | Xinyu's Space</title>
  
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-88938102-1"></script>
    <script pjax="">
      var host = window.location.hostname;
      if (host !== "localhost" || !true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-88938102-1');
      }
    </script>






  <style>html {
  line-height: 1.15; /* 1 */
  -webkit-text-size-adjust: 100%; /* 2 */
}
body {
  margin: 0;
}
main {
  display: block;
}
h1 {
  font-size: 2em;
  margin: 0.67em 0;
}
hr {
  box-sizing: content-box; /* 1 */
  height: 0; /* 1 */
  overflow: visible; /* 2 */
}
pre {
  font-family: monospace, monospace; /* 1 */
  font-size: 1em; /* 2 */
}
a {
  background: transparent;
}
abbr[title] {
  border-bottom: none; /* 1 */
  text-decoration: underline; /* 2 */
  text-decoration: underline dotted; /* 2 */
}
b,
strong {
  font-weight: bolder;
}
code,
kbd,
samp {
  font-family: monospace, monospace; /* 1 */
  font-size: 1em; /* 2 */
}
small {
  font-size: 80%;
}
sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}
sub {
  bottom: -0.25em;
}
sup {
  top: -0.5em;
}
img {
  border-style: none;
}
button,
input,
optgroup,
select,
textarea {
  font-family: inherit; /* 1 */
  font-size: 100%; /* 1 */
  line-height: 1.15; /* 1 */
  margin: 0; /* 2 */
}
button,
input {
/* 1 */
  overflow: visible;
}
button,
select {
/* 1 */
  text-transform: none;
}
button,
[type='button'],
[type='reset'],
[type='submit'] {
  -webkit-appearance: button;
}
button::-moz-focus-inner,
[type='button']::-moz-focus-inner,
[type='reset']::-moz-focus-inner,
[type='submit']::-moz-focus-inner {
  border-style: none;
  padding: 0;
}
button:-moz-focusring,
[type='button']:-moz-focusring,
[type='reset']:-moz-focusring,
[type='submit']:-moz-focusring {
  outline: 1px dotted ButtonText;
}
fieldset {
  padding: 0.35em 0.75em 0.625em;
}
legend {
  box-sizing: border-box; /* 1 */
  color: inherit; /* 2 */
  display: table; /* 1 */
  max-width: 100%; /* 1 */
  padding: 0; /* 3 */
  white-space: normal; /* 1 */
}
progress {
  vertical-align: baseline;
}
textarea {
  overflow: auto;
}
[type='checkbox'],
[type='radio'] {
  box-sizing: border-box; /* 1 */
  padding: 0; /* 2 */
}
[type='number']::-webkit-inner-spin-button,
[type='number']::-webkit-outer-spin-button {
  height: auto;
}
[type='search'] {
  outline-offset: -2px; /* 2 */
  -webkit-appearance: textfield; /* 1 */
}
[type='search']::-webkit-search-decoration {
  -webkit-appearance: none;
}
::-webkit-file-upload-button {
  font: inherit; /* 2 */
  -webkit-appearance: button; /* 1 */
}
details {
  display: block;
}
summary {
  display: list-item;
}
template {
  display: none;
}
[hidden] {
  display: none;
}
::selection {
  background: #262a30;
  color: #fff;
}
html,
body {
  height: 100%;
}
body {
  background: #eee;
  color: #555;
  font-family: 'Roboto', "PingFang SC", "Microsoft YaHei", sans-serif;
  font-size: 1em;
  line-height: 2;
}
@media (max-width: 991px) {
  body {
    padding-left: 0 !important;
    padding-right: 0 !important;
  }
}
h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: 'Roboto', "PingFang SC", "Microsoft YaHei", sans-serif;
  font-weight: bold;
  line-height: 1.5;
  margin: 20px 0 15px;
  padding: 0;
}
h1 {
  font-size: 1.5em;
}
h2 {
  font-size: 1.375em;
}
h3 {
  font-size: 1.25em;
}
h4 {
  font-size: 1.125em;
}
h5 {
  font-size: 1em;
}
h6 {
  font-size: 0.875em;
}
p {
  margin: 0 0 20px 0;
}
a,
span.exturl {
  overflow-wrap: break-word;
  word-wrap: break-word;
  border-bottom: 1px solid #999;
  color: #555;
  outline: 0;
  text-decoration: none;
  cursor: pointer;
}
a:hover,
span.exturl:hover {
  border-bottom-color: #222;
  color: #222;
}
iframe,
img,
video {
  display: block;
  margin-left: auto;
  margin-right: auto;
  max-width: 100%;
}
hr {
  background-color: #ddd;
  background-image: repeating-linear-gradient(-45deg, #fff, #fff 4px, transparent 4px, transparent 8px);
  border: 0;
  height: 3px;
  margin: 40px 0;
}
blockquote {
  border-left: 4px solid #ddd;
  color: #666;
  margin: 0;
  padding: 0 15px;
}
blockquote cite::before {
  content: '-';
  padding: 0 5px;
}
dt {
  font-weight: 700;
}
dd {
  margin: 0;
  padding: 0;
}
kbd {
  background-color: #f5f5f5;
  background-image: linear-gradient(#eee, #fff, #eee);
  border: 1px solid #ccc;
  border-radius: 0.2em;
  box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1);
  font-family: inherit;
  padding: 0.1em 0.3em;
  white-space: nowrap;
}
.table-container {
  -webkit-overflow-scrolling: touch;
  overflow: auto;
}
table {
  border-collapse: collapse;
  border-spacing: 0;
  font-size: 0.875em;
  margin: 0 0 20px 0;
  width: 100%;
}
table > tbody > tr:nth-of-type(odd) {
  background: #f9f9f9;
}
table > tbody > tr:hover {
  background: #f5f5f5;
}
caption,
th,
td {
  font-weight: normal;
  padding: 8px;
  text-align: left;
  vertical-align: middle;
}
th,
td {
  border: 1px solid #ddd;
  border-bottom: 3px solid #ddd;
}
th {
  font-weight: 700;
  padding-bottom: 10px;
}
td {
  border-bottom-width: 1px;
}
.btn {
  background: #fff;
  border: 2px solid #555;
  border-radius: 2px;
  color: #555;
  display: inline-block;
  font-size: 0.875em;
  line-height: 2;
  padding: 0 20px;
  text-decoration: none;
  transition-property: background-color;
  transition-delay: 0s;
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
}
.btn:hover {
  background: #222;
  border-color: #222;
  color: #fff;
}
.btn + .btn {
  margin: 0 0 8px 8px;
}
.btn .fa-fw {
  text-align: left;
  width: 1.285714285714286em;
}
.toggle {
  line-height: 0;
}
.toggle .toggle-line {
  background: #fff;
  display: inline-block;
  height: 2px;
  left: 0;
  position: relative;
  top: 0;
  transition: all 0.4s;
  vertical-align: top;
  width: 100%;
}
.toggle .toggle-line:not(:first-child) {
  margin-top: 3px;
}
.toggle.toggle-arrow .toggle-line-first {
  left: 50%;
  top: 2px;
  transform: rotate(45deg);
  width: 50%;
}
.toggle.toggle-arrow .toggle-line-middle {
  left: 2px;
  width: 90%;
}
.toggle.toggle-arrow .toggle-line-last {
  left: 50%;
  top: -2px;
  transform: rotate(-45deg);
  width: 50%;
}
.toggle.toggle-close .toggle-line-first {
  transform: rotate(-45deg);
  top: 5px;
}
.toggle.toggle-close .toggle-line-middle {
  opacity: 0;
}
.toggle.toggle-close .toggle-line-last {
  transform: rotate(45deg);
  top: -5px;
}
.highlight-wrap {
  position: relative;
}
.highlight-wrap:hover .copy-btn,
.highlight-wrap .copy-btn:focus {
  opacity: 1;
}
.copy-btn {
  color: #333;
  cursor: pointer;
  display: inline-block;
  font-weight: 700;
  line-height: 1.6;
  opacity: 0;
  outline: 0;
  padding: 2px 6px;
  position: absolute;
  transition: opacity 0.3s ease-in-out;
  vertical-align: middle;
  white-space: nowrap;
  -moz-user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  user-select: none;
  background: #fff;
  border: 0;
  font-size: 0.8125em;
  right: 0;
  top: 0;
}
pre,
.highlight {
  background: #f7f7f7;
  color: #4d4d4c;
  line-height: 1.6;
  margin: 0 auto 20px;
}
pre,
code {
  font-family: consolas, Menlo, monospace, "PingFang SC", "Microsoft YaHei";
}
code {
  background: #eee;
  border-radius: 3px;
  color: #555;
  padding: 2px 4px;
  overflow-wrap: break-word;
  word-wrap: break-word;
}
pre {
  overflow: auto;
  padding: 10px;
}
pre code {
  background: none;
  color: #4d4d4c;
  font-size: 0.875em;
  padding: 0;
  text-shadow: none;
}
.highlight *::selection {
  background: #d6d6d6;
}
.highlight pre {
  border: 0;
  margin: 0;
  padding: 10px 0;
}
.highlight table {
  border: 0;
  margin: 0;
  width: auto;
}
.highlight td {
  border: 0;
  padding: 0;
}
.highlight figcaption {
  background: #eee;
  color: #4d4d4c;
  line-height: 1em;
  margin: 0;
  padding: 0.5em;
}
.highlight figcaption::before,
.highlight figcaption::after {
  content: ' ';
  display: table;
}
.highlight figcaption::after {
  clear: both;
}
.highlight figcaption a {
  color: #4d4d4c;
  float: right;
}
.highlight figcaption a:hover {
  border-bottom-color: #4d4d4c;
}
.highlight .gutter pre {
  background: #eff2f3;
  color: #869194;
  padding-left: 10px;
  padding-right: 10px;
  text-align: right;
}
.highlight .code pre {
  background: #f7f7f7;
  padding-left: 10px;
  width: 100%;
}
.gutter {
  -moz-user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  user-select: none;
}
.gist table {
  width: auto;
}
.gist table td {
  border: 0;
}
pre .deletion {
  background: #fdd;
}
pre .addition {
  background: #dfd;
}
pre .meta {
  color: #eab700;
  -moz-user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  user-select: none;
}
pre .comment {
  color: #8e908c;
}
pre .variable,
pre .attribute,
pre .tag,
pre .name,
pre .regexp,
pre .ruby .constant,
pre .xml .tag .title,
pre .xml .pi,
pre .xml .doctype,
pre .html .doctype,
pre .css .id,
pre .css .class,
pre .css .pseudo {
  color: #c82829;
}
pre .number,
pre .preprocessor,
pre .built_in,
pre .builtin-name,
pre .literal,
pre .params,
pre .constant,
pre .command {
  color: #f5871f;
}
pre .ruby .class .title,
pre .css .rules .attribute,
pre .string,
pre .symbol,
pre .value,
pre .inheritance,
pre .header,
pre .ruby .symbol,
pre .xml .cdata,
pre .special,
pre .formula {
  color: #718c00;
}
pre .title,
pre .css .hexcolor {
  color: #3e999f;
}
pre .function,
pre .python .decorator,
pre .python .title,
pre .ruby .function .title,
pre .ruby .title .keyword,
pre .perl .sub,
pre .javascript .title,
pre .coffeescript .title {
  color: #4271ae;
}
pre .keyword,
pre .javascript .function {
  color: #8959a8;
}
.blockquote-center {
  border-left: none;
  margin: 40px 0;
  padding: 0;
  position: relative;
  text-align: center;
}
.blockquote-center::before,
.blockquote-center::after {
  background-repeat: no-repeat;
  background-size: 22px 22px;
  content: ' ';
  display: block;
  height: 24px;
  opacity: 0.2;
  position: absolute;
  width: 100%;
}
.blockquote-center::before {
  background-image: url("../images/quote-l.svg");
  background-position: 0 -6px;
  border-top: 1px solid #ccc;
  top: -20px;
}
.blockquote-center::after {
  background-image: url("../images/quote-r.svg");
  background-position: 100% 8px;
  border-bottom: 1px solid #ccc;
  bottom: -20px;
}
.blockquote-center p,
.blockquote-center div {
  text-align: center;
}
.post-body .group-picture img {
  border: 0;
  margin: 0 auto;
  padding: 0 3px;
}
.post-body .group-picture-row {
  margin-bottom: 6px;
  overflow: hidden;
}
.post-body .group-picture-column {
  float: left;
  margin-bottom: 10px;
}
.post-body .label {
  display: inline;
  padding: 0 2px;
}
.post-body .label.default {
  background: #f0f0f0;
}
.post-body .label.primary {
  background: #efe6f7;
}
.post-body .label.info {
  background: #e5f2f8;
}
.post-body .label.success {
  background: #e7f4e9;
}
.post-body .label.warning {
  background: #fcf6e1;
}
.post-body .label.danger {
  background: #fae8eb;
}
.post-body .tabs {
  margin-bottom: 20px;
}
.post-body .tabs,
.tabs-comment {
  display: block;
  padding-top: 10px;
  position: relative;
}
.post-body .tabs ul.nav-tabs,
.tabs-comment ul.nav-tabs {
  display: flex;
  flex-wrap: wrap;
  margin: 0;
  margin-bottom: -1px;
  padding: 0;
}
@media (max-width: 413px) {
  .post-body .tabs ul.nav-tabs,
  .tabs-comment ul.nav-tabs {
    display: block;
    margin-bottom: 5px;
  }
}
.post-body .tabs ul.nav-tabs li.tab,
.tabs-comment ul.nav-tabs li.tab {
  background: #fff;
  border-bottom: 1px solid #ddd;
  border-left: 1px solid transparent;
  border-right: 1px solid transparent;
  border-top: 3px solid transparent;
  flex-grow: 1;
  list-style-type: none;
}
@media (max-width: 413px) {
  .post-body .tabs ul.nav-tabs li.tab,
  .tabs-comment ul.nav-tabs li.tab {
    border-bottom: 1px solid transparent;
    border-left: 3px solid transparent;
    border-right: 1px solid transparent;
    border-top: 1px solid transparent;
  }
}
.post-body .tabs ul.nav-tabs li.tab a,
.tabs-comment ul.nav-tabs li.tab a {
  border-bottom: initial;
  display: block;
  line-height: 1.8em;
  outline: 0;
  padding: 0.25em 0.75em;
  text-align: center;
  transition-delay: 0s;
  transition-duration: 0.2s;
  transition-timing-function: ease-out;
}
.post-body .tabs ul.nav-tabs li.tab a i,
.tabs-comment ul.nav-tabs li.tab a i {
  width: 1.285714285714286em;
}
.post-body .tabs ul.nav-tabs li.tab.active,
.tabs-comment ul.nav-tabs li.tab.active {
  border-bottom: 1px solid transparent;
  border-left: 1px solid #ddd;
  border-right: 1px solid #ddd;
  border-top: 3px solid #fc6423;
}
@media (max-width: 413px) {
  .post-body .tabs ul.nav-tabs li.tab.active,
  .tabs-comment ul.nav-tabs li.tab.active {
    border-bottom: 1px solid #ddd;
    border-left: 3px solid #fc6423;
    border-right: 1px solid #ddd;
    border-top: 1px solid #ddd;
  }
}
.post-body .tabs ul.nav-tabs li.tab.active a,
.tabs-comment ul.nav-tabs li.tab.active a {
  color: #555;
  cursor: default;
}
.post-body .tabs .tab-content .tab-pane,
.tabs-comment .tab-content .tab-pane {
  border: 1px solid #ddd;
  padding: 20px 20px 0 20px;
}
.post-body .tabs .tab-content .tab-pane:not(.active),
.tabs-comment .tab-content .tab-pane:not(.active) {
  display: none;
}
.post-body .tabs .tab-content .tab-pane.active,
.tabs-comment .tab-content .tab-pane.active {
  display: block;
}
.post-body .note {
  margin-bottom: 20px;
  padding: 15px;
  position: relative;
  border: 1px solid #eee;
  border-left-width: 5px;
  border-radius: 3px;
}
.post-body .note h2,
.post-body .note h3,
.post-body .note h4,
.post-body .note h5,
.post-body .note h6 {
  margin-top: 0;
  border-bottom: initial;
  margin-bottom: 0;
  padding-top: 0;
}
.post-body .note p:first-child,
.post-body .note ul:first-child,
.post-body .note ol:first-child,
.post-body .note table:first-child,
.post-body .note pre:first-child,
.post-body .note blockquote:first-child,
.post-body .note img:first-child {
  margin-top: 0;
}
.post-body .note p:last-child,
.post-body .note ul:last-child,
.post-body .note ol:last-child,
.post-body .note table:last-child,
.post-body .note pre:last-child,
.post-body .note blockquote:last-child,
.post-body .note img:last-child {
  margin-bottom: 0;
}
.post-body .note.default {
  border-left-color: #777;
}
.post-body .note.default h2,
.post-body .note.default h3,
.post-body .note.default h4,
.post-body .note.default h5,
.post-body .note.default h6 {
  color: #777;
}
.post-body .note.primary {
  border-left-color: #6f42c1;
}
.post-body .note.primary h2,
.post-body .note.primary h3,
.post-body .note.primary h4,
.post-body .note.primary h5,
.post-body .note.primary h6 {
  color: #6f42c1;
}
.post-body .note.info {
  border-left-color: #428bca;
}
.post-body .note.info h2,
.post-body .note.info h3,
.post-body .note.info h4,
.post-body .note.info h5,
.post-body .note.info h6 {
  color: #428bca;
}
.post-body .note.success {
  border-left-color: #5cb85c;
}
.post-body .note.success h2,
.post-body .note.success h3,
.post-body .note.success h4,
.post-body .note.success h5,
.post-body .note.success h6 {
  color: #5cb85c;
}
.post-body .note.warning {
  border-left-color: #f0ad4e;
}
.post-body .note.warning h2,
.post-body .note.warning h3,
.post-body .note.warning h4,
.post-body .note.warning h5,
.post-body .note.warning h6 {
  color: #f0ad4e;
}
.post-body .note.danger {
  border-left-color: #d9534f;
}
.post-body .note.danger h2,
.post-body .note.danger h3,
.post-body .note.danger h4,
.post-body .note.danger h5,
.post-body .note.danger h6 {
  color: #d9534f;
}
.pagination .prev,
.pagination .next,
.pagination .page-number,
.pagination .space {
  display: inline-block;
  margin: 0 10px;
  padding: 0 11px;
  position: relative;
  top: -1px;
}
@media (max-width: 767px) {
  .pagination .prev,
  .pagination .next,
  .pagination .page-number,
  .pagination .space {
    margin: 0 5px;
  }
}
.pagination {
  border-top: 1px solid #eee;
  margin: 120px 0 0;
  text-align: center;
}
.pagination .prev,
.pagination .next,
.pagination .page-number {
  border-bottom: 0;
  border-top: 1px solid #eee;
  transition-property: border-color;
  transition-delay: 0s;
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
}
.pagination .prev:hover,
.pagination .next:hover,
.pagination .page-number:hover {
  border-top-color: #222;
}
.pagination .space {
  margin: 0;
  padding: 0;
}
.pagination .prev {
  margin-left: 0;
}
.pagination .next {
  margin-right: 0;
}
.pagination .page-number.current {
  background: #ccc;
  border-top-color: #ccc;
  color: #fff;
}
@media (max-width: 767px) {
  .pagination {
    border-top: none;
  }
  .pagination .prev,
  .pagination .next,
  .pagination .page-number {
    border-bottom: 1px solid #eee;
    border-top: 0;
    margin-bottom: 10px;
    padding: 0 10px;
  }
  .pagination .prev:hover,
  .pagination .next:hover,
  .pagination .page-number:hover {
    border-bottom-color: #222;
  }
}
.comments {
  margin: 60px 20px 0;
  overflow: hidden;
}
.comment-button-group {
  display: flex;
  flex-wrap: wrap-reverse;
  justify-content: center;
  margin: 1em 0;
}
.comment-button-group .comment-button {
  margin: 0.1em 0.2em;
}
.comment-button-group .comment-button.active {
  background: #222;
  border-color: #222;
  color: #fff;
}
.comment-position {
  display: none;
}
.comment-position.active {
  display: block;
}
.tabs-comment {
  background: #fff;
  margin-top: 4em;
  padding-top: 0;
}
.tabs-comment .comments {
  border: 0;
  box-shadow: none;
  margin-top: 0;
  padding-top: 0;
}
.container {
  min-height: 100%;
  position: relative;
}
.main-inner {
  margin: 0 auto;
  width: calc(100% - 20px);
}
@media (min-width: 1200px) {
  .main-inner {
    width: 1160px;
  }
}
@media (min-width: 1600px) {
  .main-inner {
    width: 73%;
  }
}
.header {
  background: transparent;
}
.header-inner {
  margin: 0 auto;
  position: relative;
  width: calc(100% - 20px);
}
@media (min-width: 1200px) {
  .header-inner {
    width: 1160px;
  }
}
@media (min-width: 1600px) {
  .header-inner {
    width: 73%;
  }
}
.headband {
  background: #222;
  height: 3px;
}
.site-meta {
  margin: 0;
  text-align: center;
}
@media (max-width: 767px) {
  .site-meta {
    text-align: center;
  }
}
.brand {
  background: #222;
  border-bottom: none;
  color: #fff;
  display: inline-block;
  line-height: 1.375em;
  padding: 0 40px;
  position: relative;
}
.brand:hover {
  color: #fff;
}
.site-title {
  display: inline-block;
  font-family: 'Roboto', "PingFang SC", "Microsoft YaHei", sans-serif;
  font-size: 1.375em;
  font-weight: normal;
  line-height: 1.5;
  vertical-align: top;
}
.site-subtitle {
  color: #ddd;
  font-size: 0.8125em;
  margin-top: 10px;
}
.use-motion .brand {
  opacity: 0;
}
.use-motion .site-title,
.use-motion .site-subtitle,
.use-motion .custom-logo-image {
  opacity: 0;
  position: relative;
  top: -10px;
}
.site-nav-toggle {
  display: none;
  left: 10px;
  position: absolute;
}
@media (max-width: 767px) {
  .site-nav-toggle {
    display: block;
  }
}
.site-nav-toggle .toggle {
  background: transparent;
  border: 0;
  margin-top: 2px;
  padding: 10px;
  width: 22px;
}
.site-nav-toggle .toggle .toggle-line {
  background: #555;
  border-radius: 1px;
}
.site-nav {
  display: block;
}
@media (max-width: 767px) {
  .site-nav {
    border-top: 1px solid #ddd;
    clear: both;
    display: none;
    margin: 0 -10px;
    padding: 0 10px;
  }
}
.site-nav.site-nav-on {
  display: block;
}
.menu {
  margin-top: 20px;
  padding-left: 0;
  text-align: center;
}
.menu-item {
  display: inline-block;
  list-style: none;
  margin: 0 10px;
}
@media (max-width: 767px) {
  .menu-item {
    margin-top: 10px;
  }
}
.menu-item a,
.menu-item span.exturl {
  border-bottom: 0;
  display: block;
  font-size: 0.8125em;
  transition-property: border-color;
  transition-delay: 0s;
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
}
@media (hover: none) {
  .menu-item a:hover,
  .menu-item span.exturl:hover {
    border-bottom-color: transparent !important;
  }
}
.menu-item .fa {
  margin-right: 8px;
}
.menu-item .badge {
  display: inline-block;
  font-weight: 700;
  line-height: 1;
  margin-left: 0.35em;
  margin-top: 0.35em;
  text-align: center;
  white-space: nowrap;
}
@media (max-width: 767px) {
  .menu-item .badge {
    float: right;
    margin-left: 0;
  }
}
.use-motion .menu-item {
  opacity: 0;
}
.github-corner :hover .octo-arm {
  animation: octocat-wave 560ms ease-in-out;
}
.github-corner svg {
  border: 0;
  color: #fff;
  fill: #222;
  position: absolute;
  right: 0;
  top: 0;
  z-index: 1000;
}
@media (max-width: 991px) {
  .github-corner svg {
    color: #222;
    fill: #fff;
  }
  .github-corner .github-corner:hover .octo-arm {
    animation: none;
  }
  .github-corner .github-corner .octo-arm {
    animation: octocat-wave 560ms ease-in-out;
  }
}
@-moz-keyframes octocat-wave {
  0%, 100% {
    transform: rotate(0);
  }
  20%, 60% {
    transform: rotate(-25deg);
  }
  40%, 80% {
    transform: rotate(10deg);
  }
}
@-webkit-keyframes octocat-wave {
  0%, 100% {
    transform: rotate(0);
  }
  20%, 60% {
    transform: rotate(-25deg);
  }
  40%, 80% {
    transform: rotate(10deg);
  }
}
@-o-keyframes octocat-wave {
  0%, 100% {
    transform: rotate(0);
  }
  20%, 60% {
    transform: rotate(-25deg);
  }
  40%, 80% {
    transform: rotate(10deg);
  }
}
@keyframes octocat-wave {
  0%, 100% {
    transform: rotate(0);
  }
  20%, 60% {
    transform: rotate(-25deg);
  }
  40%, 80% {
    transform: rotate(10deg);
  }
}
.sidebar {
  background: #222;
  bottom: 0;
  box-shadow: inset 0 2px 6px #000;
  position: fixed;
  top: 0;
  z-index: 1200;
}
.sidebar a,
.sidebar span.exturl {
  border-bottom-color: #555;
  color: #999;
}
.sidebar a:hover,
.sidebar span.exturl:hover {
  border-bottom-color: #eee;
  color: #eee;
}
@media (max-width: 991px) {
  .sidebar {
    display: none;
  }
}
.sidebar-inner {
  color: #999;
  padding: 20px 10px;
  text-align: center;
}
.site-overview-wrap {
  overflow-x: hidden;
  overflow-y: auto;
}
.cc-license {
  margin-top: 10px;
  text-align: center;
}
.cc-license .cc-opacity {
  border-bottom: none;
  opacity: 0.7;
}
.cc-license .cc-opacity:hover {
  opacity: 0.9;
}
.cc-license img {
  display: inline-block;
}
.site-author-image {
  border: 1px solid #eee;
  display: block;
  height: auto;
  margin: 0 auto;
  max-width: 120px;
  padding: 2px;
  border-radius: 50%;
}
.site-author-name {
  color: #222;
  font-weight: 600;
  margin: 0;
  text-align: center;
}
.site-description {
  color: #999;
  font-size: 0.8125em;
  margin-top: 0;
  text-align: center;
}
.links-of-author {
  margin-top: 15px;
}
.links-of-author a,
.links-of-author span.exturl {
  border-bottom-color: #555;
  display: inline-block;
  font-size: 0.8125em;
  margin-bottom: 10px;
  margin-right: 10px;
  vertical-align: middle;
  transition-delay: 0s;
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
}
.links-of-author a::before,
.links-of-author span.exturl::before {
  background: #ff4e14;
  border-radius: 50%;
  content: ' ';
  display: inline-block;
  height: 4px;
  margin-right: 3px;
  vertical-align: middle;
  width: 4px;
}
.feed-link,
.chat {
  margin-top: 15px;
}
.feed-link a,
.chat a {
  border: 1px solid #fc6423;
  border-radius: 4px;
  color: #fc6423;
  display: inline-block;
  padding: 0 15px;
}
.feed-link a .fa,
.chat a .fa {
  margin-right: 5px;
}
.feed-link a:hover,
.chat a:hover {
  background: #fc6423;
  border: 1px solid #fc6423;
  color: #fff;
}
.feed-link a:hover .fa,
.chat a:hover .fa {
  color: #fff;
}
.links-of-blogroll {
  font-size: 0.8125em;
  margin-top: 10px;
}
.links-of-blogroll-title {
  font-size: 0.875em;
  font-weight: 600;
  margin-top: 0;
}
.links-of-blogroll-list {
  list-style: none;
  margin: 0;
  padding: 0;
}
.links-of-blogroll-item {
  padding: 2px 10px;
}
.links-of-blogroll-item a,
.links-of-blogroll-item span.exturl {
  box-sizing: border-box;
  display: inline-block;
  max-width: 280px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
#sidebar-dimmer {
  display: none;
}
@media (max-width: 767px) {
  #sidebar-dimmer {
    background: #000;
    display: block;
    height: 100%;
    left: 100%;
    opacity: 0;
    position: fixed;
    top: 0;
    width: 100%;
    z-index: 1100;
  }
  .sidebar-active + #sidebar-dimmer {
    opacity: 0.7;
    transform: translateX(-100%);
    transition: opacity 0.5s;
  }
}
.sidebar-nav {
  margin: 0;
  padding-bottom: 20px;
  padding-left: 0;
}
.sidebar-nav li {
  border-bottom: 1px solid transparent;
  color: #555;
  cursor: pointer;
  display: inline-block;
  font-size: 0.875em;
}
.sidebar-nav li.sidebar-nav-overview {
  margin-left: 10px;
}
.sidebar-nav li:hover {
  color: #fc6423;
}
.sidebar-nav .sidebar-nav-active {
  border-bottom-color: #fc6423;
  color: #fc6423;
}
.sidebar-nav .sidebar-nav-active:hover {
  color: #fc6423;
}
.sidebar-panel {
  display: none;
}
.sidebar-panel-active {
  display: block;
}
.sidebar-toggle {
  background: #222;
  bottom: 45px;
  cursor: pointer;
  height: 14px;
  left: 30px;
  padding: 5px;
  position: fixed;
  width: 14px;
  z-index: 1300;
}
@media (max-width: 991px) {
  .sidebar-toggle {
    left: 20px;
    opacity: 0.8;
    display: none;
  }
}
.sidebar-toggle:hover .toggle-line {
  background: #fc6423;
}
.post-toc-wrap {
  overflow-x: hidden;
  overflow-y: auto;
}
.post-toc {
  font-size: 0.875em;
}
.post-toc ol {
  list-style: none;
  margin: 0;
  padding: 0 2px 5px 10px;
  text-align: left;
}
.post-toc ol > ol {
  padding-left: 0;
}
.post-toc ol a {
  border-bottom-color: #ccc;
  color: #666;
  transition-property: all;
  transition-delay: 0s;
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
}
.post-toc ol a:hover {
  border-bottom-color: #000;
  color: #000;
}
.post-toc .nav-item {
  line-height: 1.8;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.post-toc .nav .nav-child {
  display: none;
}
.post-toc .nav .active > .nav-child {
  display: block;
}
.post-toc .nav .active-current > .nav-child {
  display: block;
}
.post-toc .nav .active-current > .nav-child > .nav-item {
  display: block;
}
.post-toc .nav .active > a {
  border-bottom-color: #fc6423;
  color: #fc6423;
}
.post-toc .nav .active-current > a {
  color: #fc6423;
}
.post-toc .nav .active-current > a:hover {
  color: #fc6423;
}
.site-state {
  display: flex;
  justify-content: center;
  line-height: 1.4;
  margin-top: 10px;
  overflow: hidden;
  text-align: center;
  white-space: nowrap;
}
.site-state-item {
  padding: 0 15px;
}
.site-state-item:not(:first-child) {
  border-left: 1px solid #eee;
}
.site-state-item a {
  border-bottom: none;
}
.site-state-item-count {
  color: inherit;
  display: block;
  font-size: 1em;
  font-weight: 600;
  text-align: center;
}
.site-state-item-name {
  color: #999;
  font-size: 0.8125em;
}
.footer {
  color: #999;
  font-size: 0.875em;
  padding: 20px 0;
}
.footer.footer-fixed {
  bottom: 0;
  left: 0;
  position: absolute;
  right: 0;
}
.footer img {
  border: 0;
}
.footer-inner {
  box-sizing: border-box;
  margin: 0 auto;
  text-align: center;
  width: calc(100% - 20px);
}
@media (min-width: 1200px) {
  .footer-inner {
    width: 1160px;
  }
}
@media (min-width: 1600px) {
  .footer-inner {
    width: 73%;
  }
}
.with-love {
  color: #ff0000;
  display: inline-block;
  margin: 0 5px;
  animation: iconAnimate 1.33s ease-in-out infinite;
}
.powered-by,
.theme-info {
  display: inline-block;
}
@-moz-keyframes iconAnimate {
  0%, 100% {
    transform: scale(1);
  }
  10%, 30% {
    transform: scale(0.9);
  }
  20%, 40%, 60%, 80% {
    transform: scale(1.1);
  }
  50%, 70% {
    transform: scale(1.1);
  }
}
@-webkit-keyframes iconAnimate {
  0%, 100% {
    transform: scale(1);
  }
  10%, 30% {
    transform: scale(0.9);
  }
  20%, 40%, 60%, 80% {
    transform: scale(1.1);
  }
  50%, 70% {
    transform: scale(1.1);
  }
}
@-o-keyframes iconAnimate {
  0%, 100% {
    transform: scale(1);
  }
  10%, 30% {
    transform: scale(0.9);
  }
  20%, 40%, 60%, 80% {
    transform: scale(1.1);
  }
  50%, 70% {
    transform: scale(1.1);
  }
}
@keyframes iconAnimate {
  0%, 100% {
    transform: scale(1);
  }
  10%, 30% {
    transform: scale(0.9);
  }
  20%, 40%, 60%, 80% {
    transform: scale(1.1);
  }
  50%, 70% {
    transform: scale(1.1);
  }
}
.back-to-top {
  background: #eee;
  font-size: 12px;
  margin: 8px -10px -20px;
  opacity: 0;
  text-align: center;
  transition-delay: 0s;
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
}
.back-to-top.back-to-top-on {
  cursor: pointer;
  opacity: 0.6;
}
.back-to-top.back-to-top-on:hover {
  opacity: 0.8;
}
.reading-progress-bar {
  background: #37c6c0;
  display: block;
  height: 3px;
  left: 0;
  position: fixed;
  top: 0;
  width: 0;
  z-index: 1500;
}
.post-body {
  overflow-wrap: break-word;
  word-wrap: break-word;
  font-family: 'Roboto', "PingFang SC", "Microsoft YaHei", sans-serif;
}
@media (min-width: 1200px) {
  .post-body {
    font-size: 1.125em;
  }
}
.post-body span.exturl .fa {
  font-size: 0.875em;
  margin-left: 4px;
}
.post-body .image-caption,
.post-body .figure .caption {
  color: #999;
  font-size: 0.875em;
  font-weight: bold;
  line-height: 1;
  margin: -20px auto 15px;
  text-align: center;
}
.post-sticky-flag {
  display: inline-block;
  transform: rotate(30deg);
}
.post-button {
  margin-top: 40px;
  text-align: center;
}
.use-motion .post-block,
.use-motion .pagination,
.use-motion .comments {
  opacity: 0;
}
.use-motion .post-header {
  opacity: 0;
}
.use-motion .post-body {
  opacity: 0;
}
.use-motion .collection-header {
  opacity: 0;
}
.posts-collapse {
  margin-left: 55px;
  position: relative;
}
@media (max-width: 767px) {
  .posts-collapse {
    margin-left: 20px;
    margin-right: 20px;
  }
}
.posts-collapse .collection-title {
  font-size: 1.125em;
  position: relative;
}
.posts-collapse .collection-title::before {
  background: #999;
  border: 1px solid #fff;
  border-radius: 50%;
  content: ' ';
  height: 10px;
  left: 0;
  margin-left: -6px;
  margin-top: -4px;
  position: absolute;
  top: 50%;
  width: 10px;
}
.posts-collapse .collection-year {
  margin: 60px 0;
  position: relative;
}
.posts-collapse .collection-year::before {
  background: #bbb;
  border-radius: 50%;
  content: ' ';
  height: 8px;
  left: 0;
  margin-left: -4px;
  margin-top: -4px;
  position: absolute;
  top: 50%;
  width: 8px;
}
.posts-collapse .collection-header {
  display: inline-block;
  margin: 0 0 0 20px;
}
.posts-collapse .collection-header small {
  color: #bbb;
  margin-left: 5px;
}
.posts-collapse .post-header {
  border-bottom: 1px dashed #ccc;
  margin: 30px 0;
  padding-left: 15px;
  position: relative;
  transition-property: border;
  transition-delay: 0s;
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
}
.posts-collapse .post-header::before {
  background: #bbb;
  border: 1px solid #fff;
  border-radius: 50%;
  content: ' ';
  height: 6px;
  left: 0;
  margin-left: -4px;
  position: absolute;
  top: 0.75em;
  transition-property: background;
  width: 6px;
  transition-delay: 0s;
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
}
.posts-collapse .post-header:hover {
  border-bottom-color: #666;
}
.posts-collapse .post-header:hover::before {
  background: #222;
}
.posts-collapse .post-meta {
  display: inline;
  font-size: 0.75em;
  margin-right: 10px;
}
.posts-collapse .post-title {
  display: inline;
  font-size: 1em;
  font-weight: normal;
  margin-bottom: 0;
  margin-top: 0;
}
.posts-collapse .post-title a,
.posts-collapse .post-title span.exturl {
  border-bottom: none;
  color: #666;
}
.posts-collapse::before {
  background: #f5f5f5;
  content: ' ';
  height: 100%;
  left: 0;
  margin-left: -2px;
  position: absolute;
  top: 1.25em;
  width: 4px;
}
.posts-collapse .fa-external-link {
  font-size: 0.875em;
  margin-left: 5px;
}
.post-eof {
  background: #ccc;
  height: 1px;
  margin: 80px auto 60px;
  text-align: center;
  width: 8%;
}
.post-block:last-child .post-eof {
  display: none;
}
.posts-expand {
  padding-top: 40px;
}
@media (max-width: 767px) {
  .posts-expand {
    margin: 0 20px;
  }
}
@media (min-width: 992px) {
  .post-body {
    text-align: justify;
  }
}
@media (max-width: 991px) {
  .post-body {
    text-align: justify;
  }
}
.post-body h2,
.post-body h3,
.post-body h4,
.post-body h5,
.post-body h6 {
  padding-top: 10px;
}
.post-body h2 .header-anchor,
.post-body h3 .header-anchor,
.post-body h4 .header-anchor,
.post-body h5 .header-anchor,
.post-body h6 .header-anchor {
  border-bottom-style: none;
  color: #ccc;
  float: right;
  margin-left: 10px;
  visibility: hidden;
}
.post-body h2 .header-anchor:hover,
.post-body h3 .header-anchor:hover,
.post-body h4 .header-anchor:hover,
.post-body h5 .header-anchor:hover,
.post-body h6 .header-anchor:hover {
  color: inherit;
}
.post-body h2:hover .header-anchor,
.post-body h3:hover .header-anchor,
.post-body h4:hover .header-anchor,
.post-body h5:hover .header-anchor,
.post-body h6:hover .header-anchor {
  visibility: visible;
}
.post-body img {
  border: 1px solid #ddd;
  box-sizing: border-box;
  padding: 3px;
}
@media (max-width: 767px) {
  .post-body img {
    padding: initial;
  }
}
.post-body iframe,
.post-body img,
.post-body video {
  margin-bottom: 20px;
}
.post-body .video-container {
  height: 0;
  margin-bottom: 20px;
  overflow: hidden;
  padding-top: 75%;
  position: relative;
  width: 100%;
}
.post-body .video-container iframe,
.post-body .video-container object,
.post-body .video-container embed {
  height: 100%;
  left: 0;
  margin: 0;
  position: absolute;
  top: 0;
  width: 100%;
}
.post-gallery {
  border-collapse: separate;
  display: table;
  table-layout: fixed;
  width: 100%;
}
.post-gallery .post-gallery-img {
  border: 0;
  display: table-cell;
  text-align: center;
  vertical-align: middle;
}
.post-gallery .post-gallery-img img {
  border: 0;
  max-height: 100%;
  max-width: 100%;
}
.post-gallery-row {
  display: table-row;
}
.posts-expand .post-header {
  font-size: 1.125em;
}
.posts-expand .post-title {
  overflow-wrap: break-word;
  word-wrap: break-word;
  font-weight: 400;
  margin: initial;
  text-align: center;
}
.posts-expand .post-title-link {
  border-bottom: none;
  color: #555;
  display: inline-block;
  position: relative;
  vertical-align: top;
}
.posts-expand .post-title-link::before {
  background: #000;
  bottom: 0;
  content: '';
  height: 2px;
  left: 0;
  position: absolute;
  transform: scaleX(0);
  visibility: hidden;
  width: 100%;
  transition-delay: 0s;
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
}
.posts-expand .post-title-link:hover::before {
  transform: scaleX(1);
  visibility: visible;
}
.posts-expand .post-title-link .fa {
  font-size: 0.875em;
  margin-left: 5px;
}
.posts-expand .post-meta {
  color: #999;
  font-family: 'Roboto', "PingFang SC", "Microsoft YaHei", sans-serif;
  font-size: 0.75em;
  margin: 3px 0 60px 0;
  text-align: center;
}
.posts-expand .post-meta .post-description {
  font-size: 0.875em;
  margin-top: 2px;
}
.posts-expand .post-meta time {
  border-bottom: 1px dashed #999;
  cursor: pointer;
}
.post-meta .post-meta-item + .post-meta-item::before {
  content: '|';
  margin: 0 0.5em;
}
.post-meta-divider {
  margin: 0 0.5em;
}
.post-meta-item-icon {
  margin-right: 3px;
}
@media (max-width: 991px) {
  .post-meta-item-icon {
    display: inline-block;
  }
}
@media (max-width: 991px) {
  .post-meta-item-text {
    display: none;
  }
}
.post-nav {
  border-top: 1px solid #eee;
  display: table;
  margin-top: 15px;
  width: 100%;
}
.post-nav-divider {
  display: table-cell;
  width: 10%;
}
.post-nav-item {
  display: table-cell;
  padding: 10px 0 0 0;
  vertical-align: top;
  width: 45%;
}
.post-nav-item a {
  border-bottom: none;
  color: #555;
  display: block;
  font-size: 0.875em;
  line-height: 1.6;
  position: relative;
}
.post-nav-item a:hover {
  border-bottom: none;
  color: #222;
}
.post-nav-item a:active {
  top: 2px;
}
.post-nav-item .fa {
  font-size: 0.75em;
  margin-right: 5px;
}
.post-nav-prev a {
  padding-left: 5px;
}
.post-nav-next {
  text-align: right;
}
.post-nav-next a {
  padding-right: 5px;
}
.post-nav-next .fa {
  margin-left: 5px;
}
.rtl.post-body p,
.rtl.post-body a,
.rtl.post-body h1,
.rtl.post-body h2,
.rtl.post-body h3,
.rtl.post-body h4,
.rtl.post-body h5,
.rtl.post-body h6,
.rtl.post-body li,
.rtl.post-body ul,
.rtl.post-body ol {
  direction: rtl;
  font-family: UKIJ Ekran;
}
.rtl.post-title {
  font-family: UKIJ Ekran;
}
.post-tags {
  margin-top: 40px;
  text-align: center;
}
.post-tags a {
  display: inline-block;
  font-size: 0.8125em;
}
.post-tags a:not(:last-child) {
  margin-right: 10px;
}
.post-widgets {
  border-top: 1px solid #eee;
  margin-top: 15px;
  text-align: center;
}
.wp_rating {
  height: 20px;
  line-height: 20px;
  margin-top: 10px;
  padding-top: 6px;
  text-align: center;
}
.social-like {
  display: flex;
  font-size: 0.875em;
  justify-content: center;
  text-align: center;
}
.reward-container {
  margin: 20px auto;
  padding: 10px 0;
  text-align: center;
  width: 90%;
}
.reward-container button {
  background: #ff2a2a;
  border: 0;
  border-radius: 5px;
  color: #fff;
  cursor: pointer;
  display: inline-block;
  letter-spacing: normal;
  line-height: 2;
  margin: 0;
  outline: 0;
  padding: 0 15px;
  text-indent: 0;
  text-shadow: none;
  text-transform: none;
  vertical-align: text-top;
}
.reward-container button:hover {
  background: #f55;
}
#qr {
  padding-top: 20px;
}
#qr a {
  border: 0;
}
#qr img {
  display: inline-block;
  margin: 0.8em 2em 0 2em;
  max-width: 100%;
  width: 180px;
}
#qr p {
  text-align: center;
}
.category-all-page .category-all-title {
  text-align: center;
}
.category-all-page .category-all {
  margin-top: 20px;
}
.category-all-page .category-list {
  list-style: none;
  margin: 0;
  padding: 0;
}
.category-all-page .category-list-item {
  margin: 5px 10px;
}
.category-all-page .category-list-count {
  color: #bbb;
}
.category-all-page .category-list-count::before {
  content: ' (';
  display: inline;
}
.category-all-page .category-list-count::after {
  content: ') ';
  display: inline;
}
.category-all-page .category-list-child {
  padding-left: 10px;
}
.event-list {
  padding: 0;
}
.event-list hr {
  background: #222;
  margin: 20px 0 45px 0;
}
.event-list hr::after {
  background: #222;
  color: #fff;
  content: 'NOW';
  display: inline-block;
  font-weight: bold;
  padding: 0 5px;
  text-align: right;
}
.event-list .event {
  background: #222;
  margin: 20px 0;
  min-height: 40px;
  padding: 15px 0 15px 10px;
}
.event-list .event .event-summary {
  color: #fff;
  margin: 0;
  padding-bottom: 3px;
}
.event-list .event .event-summary::before {
  animation: dot-flash 1s alternate infinite ease-in-out;
  color: #fff;
  content: '\f111';
  display: inline-block;
  font-family: 'FontAwesome';
  font-size: 10px;
  margin-right: 25px;
  vertical-align: middle;
}
.event-list .event .event-relative-time {
  color: #bbb;
  display: inline-block;
  font-size: 12px;
  font-weight: 400;
  padding-left: 12px;
}
.event-list .event .event-details {
  color: #fff;
  display: block;
  line-height: 18px;
  margin-left: 56px;
  padding-bottom: 6px;
  padding-top: 3px;
  text-indent: -24px;
}
.event-list .event .event-details::before {
  color: #fff;
  display: inline-block;
  font-family: 'FontAwesome';
  margin-right: 9px;
  text-align: center;
  text-indent: 0;
  width: 14px;
}
.event-list .event .event-details.event-location::before {
  content: '\f041';
}
.event-list .event .event-details.event-duration::before {
  content: '\f017';
}
.event-list .event-past {
  background: #f5f5f5;
}
.event-list .event-past .event-summary,
.event-list .event-past .event-details {
  color: #bbb;
  opacity: 0.9;
}
.event-list .event-past .event-summary::before,
.event-list .event-past .event-details::before {
  animation: none;
  color: #bbb;
}
@-moz-keyframes dot-flash {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.8);
  }
}
@-webkit-keyframes dot-flash {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.8);
  }
}
@-o-keyframes dot-flash {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.8);
  }
}
@keyframes dot-flash {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.8);
  }
}
ul.breadcrumb {
  font-size: 0.75em;
  list-style: none;
  margin: 1em 0;
  padding: 0 2em;
  text-align: center;
}
ul.breadcrumb li {
  display: inline;
}
ul.breadcrumb li + li::before {
  content: '/\00a0';
  font-weight: normal;
  padding: 0.5em;
}
ul.breadcrumb li + li:last-child {
  font-weight: bold;
}
.tag-cloud {
  text-align: center;
}
.tag-cloud a {
  display: inline-block;
  margin: 10px;
}
.tag-cloud a:hover {
  color: #222 !important;
}
.search-pop-overlay {
  background: rgba(0,0,0,0.3);
  display: none;
  height: 100%;
  left: 0;
  overflow: hidden;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 1400;
}
.search-popup {
  background: #fff;
  border-radius: 5px;
  color: #333;
  display: none;
  height: 80%;
  left: 50%;
  margin-left: -350px;
  padding: 0;
  position: fixed;
  top: 10%;
  width: 700px;
  z-index: 1500;
}
@media (max-width: 767px) {
  .search-popup {
    border-radius: 0;
    height: 100%;
    left: 0;
    margin: 0;
    padding: 0;
    top: 0;
    width: 100%;
  }
}
.search-popup .search-icon,
.search-popup .popup-btn-close {
  color: #999;
  display: inline-block;
  font-size: 18px;
  height: 36px;
  padding-left: 10px;
  padding-right: 10px;
  width: 18px;
}
.search-popup .popup-btn-close {
  border-left: 1px solid #eee;
  cursor: pointer;
  float: right;
}
.search-popup .popup-btn-close:hover .fa {
  color: #222;
}
.search-popup .search-header {
  background: #f5f5f5;
  border-top-left-radius: 5px;
  border-top-right-radius: 5px;
  padding: 5px;
}
.search-loading-icon {
  margin: 20% auto 0 auto;
  text-align: center;
}
.search-popup ul.search-result-list {
  margin: 0 5px;
  padding: 0;
}
.search-popup p.search-result {
  border-bottom: 1px dashed #ccc;
  padding: 5px 0;
}
.search-popup a.search-result-title {
  font-weight: bold;
}
.search-popup .search-keyword {
  border-bottom: 1px dashed #ff2a2a;
  color: #ff2a2a;
  font-weight: bold;
}
.search-popup #search-result {
  height: calc(100% - 55px);
  overflow: auto;
  padding: 5px 25px;
  position: relative;
}
.search-popup .search-input-container {
  display: inline-block;
  height: 36px;
  line-height: 36px;
  padding: 0 5px;
  position: absolute;
  width: calc(100% - 90px);
}
.search-popup .search-input-container input {
  background: transparent;
  border: 0;
  display: block;
  height: 20px;
  outline: 0;
  padding: 8px 0;
  vertical-align: middle;
  width: 100%;
}
.search-popup #no-result {
  color: #ccc;
  left: 50%;
  position: absolute;
  top: 50%;
  transform: translate(-50%, -50%);
}
body {
  overscroll-behavior: none;
}
@media screen and (-webkit-min-device-pixel-ratio: 0) {
  body::before {
    animation: rainbow 15s ease infinite;
    background: linear-gradient(124deg, #f00, #ff7f00, #ff0, #7fff00, #0f0, #00ff7f, #0ff, #007fff, #00f, #7f00ff, #f0f, #ff007f, #f00);
    background-size: 1000% 1000%;
    content: '';
    display: block;
    height: 100px;
    left: 0;
    position: fixed;
    right: 0;
    top: 0;
    transform: translateY(-99.99px);
    z-index: 1500;
  }
}
@-moz-keyframes rainbow {
  0% {
    background-position: 0 80%;
  }
  50% {
    background-position: 100% 20%;
  }
  100% {
    background-position: 0 80%;
  }
}
@-webkit-keyframes rainbow {
  0% {
    background-position: 0 80%;
  }
  50% {
    background-position: 100% 20%;
  }
  100% {
    background-position: 0 80%;
  }
}
@-o-keyframes rainbow {
  0% {
    background-position: 0 80%;
  }
  50% {
    background-position: 100% 20%;
  }
  100% {
    background-position: 0 80%;
  }
}
@keyframes rainbow {
  0% {
    background-position: 0 80%;
  }
  50% {
    background-position: 100% 20%;
  }
  100% {
    background-position: 0 80%;
  }
}
.header {
  margin: 0 auto;
  position: relative;
  width: calc(100% - 20px);
}
@media (min-width: 1200px) {
  .header {
    width: 1160px;
  }
}
@media (min-width: 1600px) {
  .header {
    width: 73%;
  }
}
@media (max-width: 991px) {
  .header {
    width: auto;
  }
}
.header-inner {
  background: #fff;
  border-radius: initial;
  box-shadow: 0 2px 2px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.06), 0 1px 5px 0 rgba(0,0,0,0.12);
  overflow: hidden;
  padding: 0;
  position: absolute;
  top: 0;
  width: 240px;
}
@media (min-width: 1200px) {
  .header-inner {
    width: 240px;
  }
}
@media (max-width: 991px) {
  .header-inner {
    border-radius: initial;
    position: relative;
    width: auto;
  }
}
.main::before,
.main::after {
  content: ' ';
  display: table;
}
.main::after {
  clear: both;
}
@media (max-width: 991px) {
  .main-inner {
    width: auto;
  }
}
.content-wrap {
  background: #fff;
  border-radius: initial;
  box-shadow: 0 2px 2px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.06), 0 1px 5px 0 rgba(0,0,0,0.12);
  box-sizing: border-box;
  float: right;
  padding: 40px;
  width: calc(100% - 252px);
}
@media (max-width: 991px) {
  .content-wrap {
    border-radius: initial;
    padding: 20px;
    width: 100%;
  }
}
.sidebar {
  background: #eee;
  box-shadow: none;
  float: left;
  position: static;
  width: 240px;
}
@media (max-width: 991px) {
  .sidebar {
    display: none;
  }
}
.sidebar-toggle {
  display: none;
}
.footer-inner {
  padding-left: 260px;
}
.back-to-top {
  left: auto;
  right: 30px;
}
@media (max-width: 991px) {
  .back-to-top {
    right: 20px;
  }
}
@media (max-width: 991px) {
  .footer-inner {
    padding-left: 0;
    padding-right: 0;
    width: auto;
  }
}
.site-brand-container {
  position: relative;
}
.site-meta {
  background: #222;
  color: #fff;
  padding: 20px 0;
}
@media (max-width: 991px) {
  .site-meta {
    box-shadow: 0 0 16px rgba(0,0,0,0.5);
  }
}
.brand {
  background: none;
  padding: 0;
}
.brand:hover {
  color: #fff;
}
.site-subtitle {
  font-weight: initial;
  margin: 10px 10px 0;
}
.custom-logo-image {
  margin-top: 20px;
}
@media (max-width: 991px) {
  .custom-logo-image {
    display: none;
  }
}
.site-nav-toggle {
  left: 20px;
  top: 50%;
  transform: translateY(-50%);
}
@media (min-width: 768px) and (max-width: 991px) {
  .site-nav-toggle {
    display: block;
  }
}
.site-nav-toggle .toggle .toggle-line {
  background: #fff;
}
.site-nav {
  border-top: none;
}
@media (min-width: 768px) and (max-width: 991px) {
  .site-nav {
    display: none;
  }
}
.menu-item-active a,
.menu .menu-item a:hover,
.menu .menu-item span.exturl:hover {
  background: #f5f5f5;
}
.menu-item-active a::after,
.menu .menu-item a:hover::after,
.menu .menu-item span.exturl:hover::after {
  background: #bbb;
  border-radius: 50%;
  content: ' ';
  height: 6px;
  margin-top: -3px;
  position: absolute;
  right: 15px;
  top: 50%;
  width: 6px;
}
.menu .menu-item {
  display: block;
  margin: 0;
}
.menu .menu-item a,
.menu .menu-item span.exturl {
  padding: 5px 20px;
  position: relative;
  text-align: left;
  transition-property: background-color;
}
.menu .menu-item .badge {
  background: #ccc;
  border-radius: 10px;
  color: #fff;
  float: right;
  padding: 2px 5px;
  text-shadow: 1px 1px 0 rgba(0,0,0,0.1);
  vertical-align: middle;
}
.sub-menu {
  background: #fff;
  border-bottom: 1px solid #ddd;
  margin: 0;
  padding: 6px 0;
}
.sub-menu .menu-item {
  display: inline-block;
}
.sub-menu .menu-item a,
.sub-menu .menu-item span.exturl {
  margin: 5px 10px;
  padding: initial;
}
.sub-menu .menu-item a:hover,
.sub-menu .menu-item span.exturl:hover {
  background: initial;
  color: #fc6423;
}
.sub-menu .menu-item a::after,
.sub-menu .menu-item span.exturl::after {
  content: initial !important;
}
.sub-menu .menu-item-active a {
  background: #fff;
  border-bottom-color: #fc6423;
  color: #fc6423;
}
.sub-menu .menu-item-active a:hover {
  background: #fff;
  border-bottom-color: #fc6423;
}
.sidebar {
  bottom: auto;
  right: auto;
}
.sidebar a,
.sidebar span.exturl {
  color: #555;
}
.sidebar a:hover,
.sidebar span.exturl:hover {
  border-bottom-color: #222;
  color: #222;
}
.sidebar-inner {
  background: #fff;
  border-radius: initial;
  box-shadow: 0 2px 2px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.06), 0 1px 5px 0 rgba(0,0,0,0.12), 0 -1px 0.5px 0 rgba(0,0,0,0.09);
  box-sizing: border-box;
  color: #555;
  width: 240px;
  opacity: 0;
}
.sidebar-inner.affix {
  position: fixed;
  top: 12px;
}
.sidebar-inner.affix-bottom {
  position: absolute;
}
.site-state-item {
  padding: 0 10px;
}
.feed-link,
.chat {
  border-bottom: 1px dotted #ccc;
  border-top: 1px dotted #ccc;
  margin-top: 10px;
  text-align: center;
}
.feed-link a,
.chat a {
  border: 0;
  color: #fc6423;
  display: block;
}
.feed-link a:hover,
.chat a:hover {
  background: none;
  border: 0;
  color: #e34603;
}
.feed-link a:hover .fa,
.chat a:hover .fa {
  color: #e34603;
}
.links-of-author {
  display: flex;
  flex-wrap: wrap;
  margin-top: 10px;
  justify-content: center;
}
.links-of-author-item {
  margin: 5px 0 0;
}
.links-of-author-item a,
.links-of-author-item span.exturl {
  box-sizing: border-box;
  display: inline-block;
  margin-bottom: 0;
  margin-right: 0;
  max-width: 216px;
  overflow: hidden;
  padding: 0 5px;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.links-of-author-item a,
.links-of-author-item span.exturl {
  border-bottom: none;
  display: block;
  text-decoration: none;
}
.links-of-author-item a::before,
.links-of-author-item span.exturl::before {
  display: none;
}
.links-of-author-item a:hover,
.links-of-author-item span.exturl:hover {
  background: #eee;
  border-radius: 4px;
}
.links-of-author-item .fa {
  margin-right: 2px;
}
.links-of-blogroll-item {
  padding: 0;
}
.content-wrap {
  background: initial;
  box-shadow: initial;
  padding: initial;
}
.post-block {
  background: #fff;
  border-radius: initial;
  box-shadow: 0 2px 2px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.06), 0 1px 5px 0 rgba(0,0,0,0.12);
  padding: 40px;
}
.post-block + .post-block {
  border-radius: initial;
  box-shadow: 0 2px 2px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.06), 0 1px 5px 0 rgba(0,0,0,0.12), 0 -1px 0.5px 0 rgba(0,0,0,0.09);
  margin-top: 12px;
}
.comments {
  background: #fff;
  border-radius: initial;
  box-shadow: 0 2px 2px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.06), 0 1px 5px 0 rgba(0,0,0,0.12), 0 -1px 0.5px 0 rgba(0,0,0,0.09);
  margin: auto;
  margin-top: 12px;
  padding: 40px;
}
.tabs-comment {
  margin-top: 1em;
}
.posts-expand {
  padding-top: initial;
}
.post-nav-divider {
  width: 4%;
}
.post-nav-item {
  width: 48%;
}
.post-eof {
  display: none;
}
.pagination {
  background: #fff;
  border-radius: initial;
  border-top: initial;
  box-shadow: 0 2px 2px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.06), 0 1px 5px 0 rgba(0,0,0,0.12), 0 -1px 0.5px 0 rgba(0,0,0,0.09);
  margin: 12px 0 0;
  padding: 10px 0 10px;
}
.pagination .prev,
.pagination .next,
.pagination .page-number {
  margin-bottom: initial;
  top: initial;
}
.main {
  padding-bottom: initial;
}
.footer {
  bottom: auto;
}
.sub-menu {
  border-bottom: initial;
  box-shadow: 0 2px 2px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.06), 0 1px 5px 0 rgba(0,0,0,0.12);
}
.sub-menu + .content .post-block {
  box-shadow: 0 2px 2px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.06), 0 1px 5px 0 rgba(0,0,0,0.12), 0 -1px 0.5px 0 rgba(0,0,0,0.09);
  margin-top: 12px;
}
@media (min-width: 768px) and (max-width: 991px) {
  .sub-menu + .content .post-block {
    margin-top: 10px;
  }
}
@media (max-width: 767px) {
  .sub-menu + .content .post-block {
    margin-top: 8px;
  }
}
.post-body h1,
.post-body h2 {
  border-bottom: 1px solid #eee;
}
.post-body h3 {
  border-bottom: 1px solid #eee;
}
.post-body h4 {
  border-bottom: 1px dotted #eee;
}
@media (min-width: 768px) and (max-width: 991px) {
  .content-wrap {
    padding: 10px;
  }
  .posts-expand {
    margin: initial;
  }
  .posts-expand .post-button {
    margin-top: 20px;
  }
  .post-block {
    border-radius: initial;
    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.06), 0 1px 5px 0 rgba(0,0,0,0.12), 0 -1px 0.5px 0 rgba(0,0,0,0.09);
    padding: 20px;
  }
  .post-block + .post-block {
    margin-top: 10px;
  }
  .comments {
    margin-top: 10px;
    padding: 10px 20px;
  }
  .pagination {
    margin: 10px 0 0;
  }
}
@media (max-width: 767px) {
  .content-wrap {
    padding: 8px;
  }
  .posts-expand {
    margin: initial;
  }
  .posts-expand .post-button {
    margin: 12px 0;
  }
  .post-block {
    border-radius: initial;
    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.06), 0 1px 5px 0 rgba(0,0,0,0.12), 0 -1px 0.5px 0 rgba(0,0,0,0.09);
    min-height: auto;
    padding: 12px;
  }
  .post-block + .post-block {
    margin-top: 8px;
  }
  .comments {
    margin-top: 8px;
    padding: 10px 12px;
  }
  .pagination {
    margin: 8px 0 0;
  }
}
</style><noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

  <script type="text/javascript">
    var host = "blog.shixinyu.space";
    if ((host == window.location.host) && (window.location.protocol != "https:"))
        window.location.protocol = "https";
</script>
<script>function loadCss(l){var d=document,h=d.head,s=d.createElement('link');s.rel='stylesheet';s.href=l;!function e(f){if (d.body)return f();setTimeout(function(){e(f)})}(function(){h.appendChild(s);});}loadCss('//fonts.googleapis.com/css?family=Roboto:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext');loadCss('//cdn.jsdelivr.net/npm/font-awesome@4/css/font-awesome.min.css');loadCss('https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css');</script><noscript><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:300,300italic,400,400italic,700,700italic&amp;display=swap&amp;subset=latin,latin-ext"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css"></noscript></head>

<body itemscope="" itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Xinyu's Space</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <h1 class="site-subtitle" itemprop="description">七窍通了六窍</h1>
      
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>About</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-todo">

    <a href="/todo/" rel="section"><i class="fa fa-fw fa-list"></i>Todo</a>

  </li>
        <li class="menu-item menu-item-ascii">

    <a href="/ASCII/" rel="section"><i class="fa fa-fw fa-globe"></i>ASCII</a>

  </li>
        <li class="menu-item menu-item-collection">

    <a href="/collection/" rel="section"><i class="fa fa-fw fa-heart"></i>Collection</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="Searching..." spellcheck="false" type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/palemoky" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope="" itemtype="http://schema.org/Article" class="post-block " lang="en">
    <link itemprop="mainEntityOfPage" href="https://blog.shixinyu.space/post/http-definitive-guide/">

    <span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://tva1.sinaimg.cn/large/006tNbRwly1g9hf0u8313j305o05p3ye.jpg">
      <meta itemprop="name" content="Shi Xinyu">
      <meta itemprop="description" content="Learn by doing !">
    </span>

    <span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xinyu's Space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          《HTTP权威指南》
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-12-14 14:31:33" itemprop="dateCreated datePublished" datetime="2019-12-14T14:31:33+08:00">2019-12-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-05-22 14:34:50" itemprop="dateModified" datetime="2020-05-22T14:34:50+08:00">2020-05-22</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index">
                    <span itemprop="name">学习笔记</span>
                  </a>
                </span>
            </span>

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/post/http-definitive-guide/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/post/http-definitive-guide/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><img src="https://tva1.sinaimg.cn/middle/006tNbRwly1g9w8q5c92zj30xc0hi434.jpg" alt=""></p>
<a id="more"></a>

<h1 id="第1章-HTTP-概述"><a href="#第1章-HTTP-概述" class="headerlink" title="第1章 HTTP 概述"></a>第1章 HTTP 概述</h1><p>http 通过为 web 传输的对象打上 MIME 来区分数据类型。MIME 设计之初被用于解决在不同电子邮件间移动报文时存在的问题。MIME 类型通过主要的对象类型与特定的子类型来表示，如：text/plain。完整的 MIME 类型参见<a href="https://www.iana.org/assignments/media-types/media-types.xhtml" target="_blank" rel="noopener">Media Types - IANA</a></p>
<h2 id="HTTP状态码"><a href="#HTTP状态码" class="headerlink" title="HTTP状态码"></a>HTTP状态码</h2><table>
<thead>
<tr>
<th>状态码</th>
<th>类别</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>1XX</td>
<td>Informational</td>
<td>接收的请求正在处理</td>
</tr>
<tr>
<td>2XX</td>
<td>Success</td>
<td>请求正常处理完毕</td>
</tr>
<tr>
<td>3XX</td>
<td>Redirection</td>
<td>重定向</td>
</tr>
<tr>
<td>4XX</td>
<td>Client Error</td>
<td>客户端错误</td>
</tr>
<tr>
<td>5XX</td>
<td>Server Error</td>
<td>服务器端错误</td>
</tr>
</tbody></table>
<blockquote>
<p>业务状态码应该与 HTTP 状态码混用吗？<br>根据个人的经验，不建议这样使用。很多程序员都喜欢将200作为业务成功处理返回，代码逻辑 catch 作为 500 处理。这样导致 HTTP 状态与业务状态混乱，难以维护，比如，一个请求得到了 500 的响应，我不知道是服务器资源导致的内部错误还是我本次请求的代码逻辑错误，这增加了调试的难度。<br>个人建议以<code>0</code>作为业务码的成功响应码，大于 0 的值作为错误码，并且如 HTTP 将错误码分段处理，比如 1xxx 代表传入参数异常，2xxx 代表相关请求限制等，内部维护这样的错误关系。<br>当一个请求传入了非法参数时，http 状态码为 200，业务状态码为 1001，这样很清晰的得到网络及服务通讯正常，业务处理异常，并通过简单的提示信息进行纠错处理。<br>在错误状态返回时，还需要有相应简洁的错误描述，以及纠错处理，而且在给普通用户显示代码逻辑错误时，应当重点展示错误码，因为文字很容易在表述过程中偏离其含义，错误码则有效解决了该问题。关于错误码，微信公众号的开发文档就有很好的示例，可<a href="https://developers.weixin.qq.com/doc/offiaccount/Getting_Started/Global_Return_Code.html" target="_blank" rel="noopener">点击此处</a>查看。</p>
</blockquote>
<p>我应该使用 RESTful 开发吗？<br>我认为每个标准接口都应该是 RESTful 的。很多开发者可能只用到<code>GET</code>或者<code>POST</code>，或者一个<code>POST</code>走天下。这种开发习惯会导致接口语义不清，代码耦合，HTTP 中的多种请求方式可以更加清晰的解决该问题，如<code>PUT</code>用于表示创建资源，<code>GET</code>表示获取资源，且该请求允许是幂等的，<code>DELETE</code>表示删除资源，<code>POST</code>表示修改资源，将所有的请求糅合在一个<code>POST</code>中，显然不是一种良好的设计实现。</p>
<p>HTTP 与 HPPTS 网络协议栈<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9wbf070kyj30ej06igm3.jpg" alt=""></p>
<h2 id="Web的结构组件"><a href="#Web的结构组件" class="headerlink" title="Web的结构组件"></a>Web的结构组件</h2><ul>
<li>代理<ul>
<li>代理的作用有：①隐藏真实访问者，如匿名代理；②实现流量的控制与分析，如通过代理控制某些网站的访问</li>
</ul>
</li>
<li>缓存</li>
<li>网关<ul>
<li>在局域网通过路由接入网络的环境中，网关指用于连接局域网和 Internet。网关也常指把一种协议封装为另一种协议的设备，如语音网关。</li>
</ul>
</li>
<li>隧道</li>
<li>Agent 代理<ul>
<li>如搜索引擎的爬虫</li>
</ul>
</li>
</ul>
<h1 id="第2章-URL-与资源"><a href="#第2章-URL-与资源" class="headerlink" title="第2章 URL 与资源"></a>第2章 URL 与资源</h1><h2 id="URL-的各种形式"><a href="#URL-的各种形式" class="headerlink" title="URL 的各种形式"></a>URL 的各种形式</h2><p>大多数的URL语法都建立在<code>&lt;scheme&gt;://&lt;user&gt;:&lt;password&gt;@&lt;host&gt;:&lt;port&gt;/&lt;path&gt;;&lt;params&gt;?&lt;query&gt;#&lt;frag&gt;</code>的通用格式上，但最重要的三个部分是由<code>scheme://host/path</code>组成。</p>
<figure class="highlight less"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">http</span>:<span class="comment">//www.example.com:80</span></span><br><span class="line"><span class="attribute">ftp</span>:<span class="comment">//ftp.example.com</span></span><br><span class="line"><span class="attribute">ssh</span>:<span class="comment">//example.github.com</span></span><br><span class="line"><span class="attribute">mailto</span>:username<span class="variable">@example</span>.com</span><br></pre></td></tr></tbody></table></figure>

<p>对于一个 GET 请求<code>http://www.example.com/index.php?item=1245&amp;color=blue</code>，我们应该如何理解呢？<br>该 URL 中的<code>?</code>表示向服务器询问/查询，查询什么呢？编号为 12456 和颜色为蓝色的商品，这样我们就能从 URL 中获得清晰的语义了。</p>
<h1 id="第3章-HTTP-报文"><a href="#第3章-HTTP-报文" class="headerlink" title="第3章 HTTP 报文"></a>第3章 HTTP 报文</h1><h2 id="常用的-HTTP-方法"><a href="#常用的-HTTP-方法" class="headerlink" title="常用的 HTTP 方法"></a>常用的 HTTP 方法</h2><table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
<th>是否包含主体</th>
</tr>
</thead>
<tbody><tr>
<td><code>GET</code></td>
<td>从服务器获取内容</td>
<td>否</td>
</tr>
<tr>
<td><code>POST</code></td>
<td>向服务器发送需要处理的数据</td>
<td>是</td>
</tr>
<tr>
<td><code>PUT</code></td>
<td>将请求主体内容存储在服务器中</td>
<td>是</td>
</tr>
<tr>
<td><code>DELETE</code></td>
<td>从服务器删除文件</td>
<td>否</td>
</tr>
<tr>
<td><code>HEAD</code></td>
<td>只从服务器获取文档的首部</td>
<td>否</td>
</tr>
<tr>
<td><code>TRACE</code></td>
<td>对可能经过代理服务器传送到服务器上的报文进行追踪</td>
<td>否</td>
</tr>
<tr>
<td><code>OPTIONS</code></td>
<td>决定可以在服务器上执行哪些方法</td>
<td>否</td>
</tr>
</tbody></table>
<p> POST 与 PUT 的不同之处在于，PUT 表示对资源进行整体覆盖，而 POST 则表示对资源的部分修改。</p>
<p>HEAD 允许客户端在未获取实际资源的情况下，对资源的首部进行检查。我们可以利用 HEAD 来实现：</p>
<ul>
<li>在不获取资源的情况下了解资源的情况，如判断资源类型</li>
<li>通过查看响应中的状态码，判断某个对象是否存在</li>
<li>通过查看首部，测试资源是否被修改</li>
</ul>
<p>客户端发起一个请求时，这个请求额能要穿过防火墙、代理、网关或者其他一些应用程序。每个中间节点都可能会修改原始的 HTTP 请求，TRACE 允许客户端在最终请求发送给服务器时，查看请求的变化。</p>
<h2 id="常用-HTTP-状态码"><a href="#常用-HTTP-状态码" class="headerlink" title="常用 HTTP 状态码"></a>常用 HTTP 状态码</h2><ul>
<li>301：代表资源被永久移除，响应的 Location 首部中应该包含资源现在所处的 URL。</li>
<li>302：代表资源被临时移除（临时重定向）</li>
<li>304：代表自从上次请求后，服务端资源未发生变化，可以直接从本地缓存加载，避免带宽的浪费。</li>
<li>401：当前请求未被认证，可作为业务状态码，</li>
<li>403：请求不被允许。如用户无权限访问某个资源</li>
<li>404：请求的资源未找到</li>
<li>405：不支持的请求方法，如使用 TRACE 方法请求。使用此状态码时，应该在响应中包含 Allow 首部，以告知客户端对所请求的资源允许的方法</li>
<li>408：请求超时</li>
<li>500：服务器内部错误。建议仅在意外时使用，此时需要人工介入修复。</li>
<li>502：网关错误</li>
<li>503：服务不可用</li>
<li>504：网关超时</li>
</ul>
<h2 id="首部"><a href="#首部" class="headerlink" title="首部"></a>首部</h2><p>HTTP 首部字段将定义成缓存代理和非缓存代理的行为，分成 2 种类型</p>
<ul>
<li>端对端首部(End-to-end)：分在此类别中的首部会转发给请求 / 响应对应的最终接收目标，且必须保存在有缓存生成的响应中，另外规定它必须被转发</li>
<li>逐跳首部(Hop-by-hop)：分在此类别中的首部只对单次转发有效，会因通过缓存或代理而不再转发。</li>
</ul>
<p>在 HTTP 1.1 中，除了<code>Connection</code>、<code>Keep-Alive</code>、<code>Proxy-Authenticate</code>、<code>Proxy-Authorization</code>、<code>Trailer</code>、<code>TE</code>、<code>Transfer-Encoding</code>、<code>Upgrade</code>等 8 个逐跳首部外，其余都是端对端首部。</p>
<h3 id="Connection-首部"><a href="#Connection-首部" class="headerlink" title="Connection 首部"></a>Connection 首部</h3><ul>
<li>控制不再转发给代理的首部字段。在客户端发送请求和服务器返回响应内，使用 Connection 首部字段，可控制不再转发给代理的首部字段（即 Hop-by-hop 首部）。</li>
<li>管理持久连接。HTTP/1.1 版本的默认连接都是持久连接。当服务器想明确断开连接时，则指定 Connection 首部字段的值为 Close。HTTP/1.1 之前的 HTTP 版本的默认连接都是非持久连接，则需要指定 Connection 首部字段的值为 Keep-Alive。</li>
</ul>
<h3 id="Accept-首部"><a href="#Accept-首部" class="headerlink" title="Accept 首部"></a>Accept 首部</h3><table>
<thead>
<tr>
<th>首部</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>Accept</code></td>
<td>可处理的媒体类型</td>
</tr>
<tr>
<td><code>Accept-Charset</code></td>
<td>可处理的字符集</td>
</tr>
<tr>
<td><code>Accept-Encoding</code></td>
<td>可处理的编码方式</td>
</tr>
<tr>
<td><code>Accept-Language</code></td>
<td>可处理的语言</td>
</tr>
</tbody></table>
<h3 id="Upgrade-首部"><a href="#Upgrade-首部" class="headerlink" title="Upgrade 首部"></a>Upgrade 首部</h3><p>用于检测 HTTP 协议及其他协议是否可使用更高的版本进行通信，其参数值可以用来指定一个完全不同的通信协议。</p>
<h3 id="Via-首部"><a href="#Via-首部" class="headerlink" title="Via 首部"></a>Via 首部</h3><p>Via 是为了追踪客户端与服务器之间的请求和响应报文的传输路径。报文经过代理或网关时，会先在首部字段 Via 中附加该服务器的信息，然后再进行转发。首部字段 Via 不仅用于追踪报文的转发，还可避免请求回环的发生。所以必须在经过代理时附加该首部字段内容。<br>Via 首部是为了追踪传输路径，所以经常会和 TRACE 方法一起使用。</p>
<h3 id="条件请求首部"><a href="#条件请求首部" class="headerlink" title="条件请求首部"></a>条件请求首部</h3><table>
<thead>
<tr>
<th>首部</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>Expect</code></td>
<td></td>
</tr>
<tr>
<td><code>If-Match</code></td>
<td>若匹配则获取该资源</td>
</tr>
<tr>
<td><code>If-Modified-Since</code></td>
<td>若从某个时间后修改则获取</td>
</tr>
<tr>
<td><code>If-None-Match</code></td>
<td>若不匹配则获取</td>
</tr>
<tr>
<td><code>If-Range</code></td>
<td>指定范围获取</td>
</tr>
<tr>
<td><code>If-Unmodified-Since</code></td>
<td>若从某个时间后未修改则获取</td>
</tr>
</tbody></table>
<h3 id="内容首部"><a href="#内容首部" class="headerlink" title="内容首部"></a>内容首部</h3><table>
<thead>
<tr>
<th>首部</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>Content-Encoding</code></td>
<td>主体的编码方式，如 gzip</td>
</tr>
<tr>
<td><code>Content-Language</code></td>
<td>主体的最佳语言</td>
</tr>
<tr>
<td><code>Content-Length</code></td>
<td>主体的长度或尺寸</td>
</tr>
<tr>
<td><code>Content-Location</code></td>
<td>资源实际位置</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>该主体的对象类型</td>
</tr>
<tr>
<td><code>Content-Range</code></td>
<td>在整个资源中此实体表示的字节范围</td>
</tr>
</tbody></table>
<h1 id="第4章-连接管理"><a href="#第4章-连接管理" class="headerlink" title="第4章 连接管理"></a>第4章 连接管理</h1><p>TCP 连接通过&lt;source ip, source port, destn ip, destn port&gt; 唯一定义一个连接。</p>
<p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gacjkgnhr4j30wo0u04ho.jpg" alt=""></p>
<p>单个 HTTP 时延如下图：<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gacjzsn0wnj31780fidkv.jpg" alt=""></p>
<p>从图中我们可以看到，与TCP 的建立、传输请求与响应报文相比，事务处理的时间很短。造成 HTTP 时延的主要原因有：</p>
<ul>
<li>DNS 解析</li>
<li>TCP 连接的建立</li>
<li>服务端对请求的处理</li>
</ul>
<p>常见的影响 TCP 时延的因素包括：</p>
<ul>
<li>TCP 连接建立握手</li>
<li>TCP 慢启动拥塞控制<ul>
<li>TCP 连接会随着时间进行自我“调谐”，起初会限制连接的最大速度，如果数据传输成功，会随着时间的推移提高传输的速度。该调谐即为 TCP 慢启动，用于防止因特网的突然过载和拥塞。</li>
</ul>
</li>
<li>数据聚集的 Nagle 算法<ul>
<li>该算法让数据在缓冲到一定尺寸后发送，若大量小块数据则会造成严重的延时。当确保向 TCP 写入大块数据时，可以禁用 Nagle 算法</li>
</ul>
</li>
<li>用于捎带确认的 TCP 延迟确认算法<ul>
<li>若在指定时间窗口内未收到确认分组，则重新发送分组数据。由于分组数据较少，因此在某个时间窗口内存放于缓冲区，待区满后发送；时间窗口内未满则单独发送。</li>
</ul>
</li>
<li>TIME_WAIT 时延和端口耗尽</li>
</ul>
<p>根据以上情况，我们可得到优化的方向：</p>
<ul>
<li>将多个请求进行合并，避免频繁建立连接</li>
<li>优化 TCP，加速连接的建立</li>
</ul>
<h2 id="TIME-WAIT-与-CLOSE-WAIT"><a href="#TIME-WAIT-与-CLOSE-WAIT" class="headerlink" title="TIME_WAIT 与 CLOSE_WAIT"></a>TIME_WAIT 与 CLOSE_WAIT</h2><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gade8xlrirj30kc0fnq44.jpg" alt=""><br>从上图我们可以看到，TIME_WAIT 出现在主动关闭方，CLOSE_WAIT 则出现在被动关闭方（两个通话结束的人，先挂断电话的一方进入TIME_WAIT，另一方则进入CLOSE_WAIT）。</p>
<h3 id="TIME-WAIT-产生的场景"><a href="#TIME-WAIT-产生的场景" class="headerlink" title="TIME_WAIT 产生的场景"></a>TIME_WAIT 产生的场景</h3><p>基于 TCP 的 HTTP 协议，一般由服务端主动关闭 TCP（keepalive 时间内客户端主动关闭则是客户端进入 TIME_WAIT），这样服务端就会进入 TIME_WAIT 状态。当服务端出现大量请求时，就会产生大量的 TIME_WAIT 状态。如果堆积的大量TIME_WAIT不及时处理，可能会造成服务端无法接收新的请求。</p>
<h3 id="CLOSE-WAIT-产生的场景"><a href="#CLOSE-WAIT-产生的场景" class="headerlink" title="CLOSE_WAIT 产生的场景"></a>CLOSE_WAIT 产生的场景</h3><p>爬虫运行在 A 主机，向 B 主机采集数据，但是 A 很快就发现出现了大量的 CLOSE_WAIT 状态的连接，经检查发现这些处于 CLOSE_WAIT 状态的请求结果都是 404。这是由于，在 404 的状态下，B 主动关闭了连接，A 进入了CLOSE_WAIT，如果 A 的程序中未能释放 HTTP 连接，则造成了CLOSE_WAIT。</p>
<blockquote>
<p>小疑惑：TIME_WAIT 与 CLOSE_WAIT 是成对出现的，即通信是由双方完成的，因此，其中一方出现了TIME_WAIT 或 CLOSE_WAIT，则另一方必然出现与之对立的状态。</p>
</blockquote>
<h3 id="为什么需要TIME-WAIT-与-CLOSE-WAIT-呢？"><a href="#为什么需要TIME-WAIT-与-CLOSE-WAIT-呢？" class="headerlink" title="为什么需要TIME_WAIT 与 CLOSE_WAIT 呢？"></a>为什么需要TIME_WAIT 与 CLOSE_WAIT 呢？</h3><p>当一个 socket 关闭的时候，是通过两端四次握手完成的，当一端调用 close() 时，就说明本端没有数据要发送了。这好似看来在握手完成以后，socket 就都可以处于初始的 CLOSED 状态了，其实不然。原因是这样安排状态有两个问题，首先，我们没有任何机制保证最后的一个 ACK 能够正常传输，第二，网络上仍然有可能有残余的数据包（残留的数据包经2MSL时间丢弃），我们也必须能够正常处理。</p>
<h3 id="如果已经进入TIME-WAIT-与-CLOSE-WAIT连接，这个连接接下来会被怎样处理呢？"><a href="#如果已经进入TIME-WAIT-与-CLOSE-WAIT连接，这个连接接下来会被怎样处理呢？" class="headerlink" title="如果已经进入TIME_WAIT 与 CLOSE_WAIT连接，这个连接接下来会被怎样处理呢？"></a>如果已经进入TIME_WAIT 与 CLOSE_WAIT连接，这个连接接下来会被怎样处理呢？</h3><p>目前优化 HTTP 资源加载速度的方式有</p>
<ul>
<li>并行连接<ul>
<li>并行连接适用于总数较小（通常是 4 个）的情况，如果一个页面有 100 个图片，使用并行的方式处理的话，每个客户端要打开 100 个连接，100 个用户的请求，服务器则需要处理 10000 个连接，这造成了服务器性能的严重下降。请勿滥用并行连接。</li>
<li>并行连接的缺点<ul>
<li>每个事务都会打开/关闭一条新的连接，会耗费时间和宽带</li>
<li>由于 TCP 慢启动特性的存在，每条新的连接性能都会有所降低</li>
<li>可打开的并行连接数量实际上是有限的</li>
</ul>
</li>
</ul>
</li>
<li>持久连接<ul>
<li>由于初始化了对某服务器 HTTP 请求的应用程序很可能会在不久的将来对那台服务器发起更多的请求（站点局部性 site locality），因此持久连接适用于对同一个站点多次获取资源（如 12306 购票？淘宝购物？）。</li>
<li>重用已对目标服务器打开的空闲持久连接，就可以避开缓慢的连接建立阶段。而且，已经打开的连接还可以避免慢启动的拥塞适应阶段，以便更快速地进行数据的传输。</li>
<li>管理持久连接时要特别小心，避免出现大量空闲连接，耗费本地及远程客户端和服务器的资源</li>
<li><strong>在 HTTP 1.1 中，持久连接时默认激活的， 主动关闭连接时向报文中显示添加<code>Connection: close</code></strong>。客户端与服务器仍可以随时关闭空闲连接，并非不发送 close 就永久保持连接。</li>
<li>一个用户客户端对任何服务器或代理最多只能维护两条持久连接，以免服务器过载。</li>
</ul>
</li>
<li>管道化连接<ul>
<li>如果HTTP客户端无法确认连接是持久的，就不应该使用管道。</li>
<li>必须按照与请求相同的顺序回送HTTP响应。</li>
<li>HTTP客户端必须做好连接会在任意时刻关闭的准备，还要准备好重发所有未完成的管道化请求。如果客户端打开了一条持久连接，并立即发出了10条请求，服务器可能在处理5条请求之后关闭连接。剩下的5条请求会失败，客户端必须能够应对这些过早关闭连接的情况，重新发出这些请求。</li>
<li>HTTP客户端不应该用管道化的方式发送会产生副作用的请求(比如POST).总之，出错的时候，管道化方式会阻碍客户端了解服务器执行的是一系列管道化请求中的哪一些。由于无法安全地重试POST这样的非幕等请求，所以出错时，就存在某些方法永远不会被执行的风险。</li>
</ul>
</li>
</ul>
<p>如果服务器愿意为下一条请求将连接保持在打开状态，就在响应中包含相同的首部，若响应中没有 <code>Connection: Keep-Alive</code> 首部，客户端就认为服务器不支持 keep-alive，会在发回响应报文之后关闭连接。<code>Keep-Alive:  max=5, timeout=120</code>首部中的值都仅仅是预估值，并不是承诺值，即，虽然声明服务器可能保持活跃状态在120s 内，但可能 20s 就关闭了。</p>
<p>现代代理不应该转发的一些HTTP首部包括：Connection,  Proxy-Authenticate, Proxy-Connection, Transfer-Encoding 和 Upgrade。</p>
<p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gadn0sgnwmj30u00usncj.jpg" alt=""></p>
<h2 id="关于连接关闭"><a href="#关于连接关闭" class="headerlink" title="关于连接关闭"></a>关于连接关闭</h2><p>所有 HTTP 客户端、服务器或代理都可以在任意时刻关闭一条 TCP 传输连接。在持久连接空闲一段时间之后，服务器可能会决定将其关闭。但是，服务器永远都无法确定在它关闭“空闲”连接的那一刻，在线路那一头的客户端有没有数据要发送。如果出现这种情况，客户端就会在写入半截请求报文时发现出现了连接错误。</p>
<p>每条HTTP响应都应该有精确的<code>Content-Length</code>首部，用以描述响应主体的尺寸。客户端或代理收到一条随连接关闭而结束的HTTP响应，且实际传输的实体长度与<code>Content-Length</code>并不匹配(或没有<code>Content -Length</code>)时，接收端就应该质疑长度的正确性。如果接收端是个缓存代理，接收端就不应该缓存这条响应(以降低今后将潜在的错误报文混合起来的可能)。代理应该将有问题的报文原封不动地转发出去，而不应该试图去“校正”<code>Content-Length</code>，以维护语义的透明性。</p>
<p>即使在非错误情况下，连接也可以在任意时刻关闭。HTTP应用程序要做好正确处理非预期关闭的准备。如果在客户端执行事务的过程中，传输连接关闭了，那么，除非事务处理会带来一些副作用，否则客户端就应该重新打开连接，并重试一次。对管道化连接来说，这种情况更加严重-些。客户端可以将大量请求放入队列中排队，但源端服务器可以关闭连接，这样就会留下大量未处理的请求，需要重新调度。副作用是很重要的问题。如果在发送出一些请求数据之后，收到返回结果之前，连接关闭了，客户端就无法百分之百地确定服务器端实际激活了多少事务。有些事务，比如GET一个静态的HTML页面，可以反复执行多次，也不会有什么变化。而其他一些事务，比如向一个在线书店POST一张订单，就不能重复执行，不然会有下多张订单的危险。</p>
<p>TCP 是双向的，TCP 连接的每一端都有一个输入队列和一个输出队列，用于数据的读或者写。如果另一端向你已关闭的输入信道发送数据，操作系统就会向另一端的机器回送一条 TCP“连接被对端重置”的报文。实现正常关闭的应用程序首先应该关闭它们的输出信道，然后等待连接另一端的对等实体关闭它的输出信道。当两端都告诉对方它们不会再发送任何数据(比如关闭输出信道)之后，连接就会被完全关闭，而不会有重置的危险。</p>
<h1 id="第5章-Web-服务器"><a href="#第5章-Web-服务器" class="headerlink" title="第5章 Web 服务器"></a>第5章 Web 服务器</h1><p>服务器的工作流程：</p>
<ol>
<li>建立连接 - 接受一个客户端连接，不希望建立连接则关闭</li>
<li>接收请求 - 从网络中读取一条 HTTP 请求报文</li>
<li>处理请求 - 对请求报文进行解释，并采取行动</li>
<li>访问资源 - 访问报文中指定的资源</li>
<li>构建响应 - 创建带有正确首部的 HTTP 响应报文</li>
<li>发送响应 - 将响应回送给客户端</li>
<li>记录事务处理过程 - 将与已完成事务有关的内容记录在一个日志文件中</li>
</ol>
<p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gadpha81d0j30ks0cqdjj.jpg" alt=""></p>
<h1 id="第6章-代理"><a href="#第6章-代理" class="headerlink" title="第6章 代理"></a>第6章 代理</h1><h2 id="为什么使用代理"><a href="#为什么使用代理" class="headerlink" title="为什么使用代理"></a>为什么使用代理</h2><ul>
<li>儿童过滤器</li>
<li>文档访问控制</li>
<li>安全防火墙</li>
<li>Web 缓存</li>
<li>反向代理</li>
<li>内容路由器</li>
<li>转码器</li>
<li>匿名性<ul>
<li>匿名代理会主动从 HTTP 报文中删除身份特性，如客户端 IP，From 首部，Referer 首部，cookie，URI 回话 ID 等，从而提供高度私密性和匿名性。</li>
</ul>
</li>
</ul>
<p>Via 首部字段列出了与报文途经的每个中间节点（代理或网关）有关的信息。</p>
<h1 id="第7章-缓存"><a href="#第7章-缓存" class="headerlink" title="第7章 缓存"></a>第7章 缓存</h1><p>缓存的优点：</p>
<ul>
<li>减少了冗余的数据传输</li>
<li>缓解了网络瓶颈的问题</li>
<li>降低了对原始服务器的要求</li>
<li>降低了距离时延</li>
</ul>
<p>缓存的缺点：</p>
<ul>
<li>未及时更新的缓存造成信息滞后，如抢购时的库存缓存可能导致超售</li>
<li>缓存会占用空间资源</li>
</ul>
<p>过期日期以<code>Expires</code>或<code>Cache-Control: max-age=86400</code>来控制，二者的区别在于，前者是一个绝对时间，如 <code>Expires: Fri, 05 Jul 2002, 05:00:00 GMT</code>，后者则是一个相对时间（单位为秒）。我们更推荐使用相对时间，因为绝对时间依赖于计算机时钟的正确设置。</p>
<h1 id="第8章-集成点：网关、隧道及中继"><a href="#第8章-集成点：网关、隧道及中继" class="headerlink" title="第8章 集成点：网关、隧道及中继"></a>第8章 集成点：网关、隧道及中继</h1><p>Web 隧道允许用户通过 HTTP 连接发送非 HTTP 流量，这样就可以在 HTTP 上捎带其它协议数据了。使用 Web 隧道最常见的原因就是要在 HTTP 连接中嵌入非 HTTP 流量，这样，这类流量就可以穿过只允许 Web 流量通过的防火墙了。</p>
<p>Web 隧道是通过 HTTP 的 CONNECT 方法建立起来的。</p>
<p>盲中继可能导致 keep-alive 的挂起<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gaeqdw9524j318s0gsqcf.jpg" alt=""></p>
<h1 id="第9章-Web-机器人"><a href="#第9章-Web-机器人" class="headerlink" title="第9章 Web 机器人"></a>第9章 Web 机器人</h1><h2 id="爬虫的工作流"><a href="#爬虫的工作流" class="headerlink" title="爬虫的工作流"></a>爬虫的工作流</h2><p>爬虫从根集开始，爬取所需的大多数页面，在以下的示例中，根集只需要 A、G、S 即可抓取到所有页面。<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gaervii1rjj30zu0eq42u.jpg" alt=""></p>
<p>爬虫在 Web 上移动时，会不停地对 HTML 页面进行解析，它要对所解析的每个页面上的 URL 链接进行分析，并将这些链接添加到需要爬行的页面列表中去。随着爬虫的前进，当期发现需要探查的新链接时，这个列表常常会迅速地扩张。爬虫要通过简单的 HTML 解析，将这些链接提取出来，并将相对 URL 转换为绝对形式。</p>
<h2 id="循环陷阱"><a href="#循环陷阱" class="headerlink" title="循环陷阱"></a>循环陷阱</h2><p>爬虫在抓取页面时，要特别小心不要陷入循环。爬虫必须知道它们所到之处，以避免环路的出现。一些复杂的爬虫可能会用搜索树或散列表来记录已访问的 URL。</p>
<p>大型爬虫会采用“集群”的方式，每个爬虫分配一个特定的 URL“片”，然后配合抓取整个 Web。</p>
<p>别名与机器人环路<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gaesvn44oaj31a20i6k3z.jpg" alt=""></p>
<p>解决循环陷阱的方法</p>
<ul>
<li>规范化 URL<ul>
<li>如果没有指定端口的话，就像主机名中添加”:80”</li>
<li>将所有转义符 %xx 都转换成等价字符</li>
<li>删除 # 标签</li>
</ul>
</li>
<li>广度优先的爬行<ul>
<li>如果采用了深度优先，很有可能会陷入循环，无法访问其它站点</li>
</ul>
</li>
<li>节流<ul>
<li>限制一段时间内机器人可以从一个 web 站点获取的页面数量</li>
</ul>
</li>
<li>限制 URL 的大小<ul>
<li>现在很多站点都会用 URL 来管理用户的状态（如，在一个页面引用的 URL 中存储用户 ID），这可能会让你错过一些东西</li>
</ul>
</li>
<li>URL/站点黑名单</li>
<li>模式检测</li>
<li>内容指纹<ul>
<li>将采集的内容计算校验和，避免重复采集</li>
</ul>
</li>
<li>人工监视<ul>
<li>当爬虫遇到困难时可以及时发出警告</li>
</ul>
</li>
</ul>
<p>高级爬虫只在内容发生了变化时才重新获取内容，它们实现了条件 HTTP 请求，即它们会对时间戳或实体标签进行比较，查看最近的内容是否发生变化。</p>
<p>Web 管理者应该记住，不止用户会访问站点，也会有很多爬虫来访问站点。</p>
<h2 id="robots-txt"><a href="#robots-txt" class="headerlink" title="robots.txt"></a>robots.txt</h2><p>如果网站不希望爬虫采集某些页面，可以在根目录下放置<code>robots.txt</code>文件（因为一些系统中的 URL 是大小写敏感的，所以 robots.txt 的文件名应统一为小写），声明哪些是允许抓取的，哪些是不允许抓取的，如<a href="https://www.baidu.com/robots.txt" target="_blank" rel="noopener">百度的robots.txt</a>，<a href="https://cn.bing.com/robots.txt" target="_blank" rel="noopener">必应的 robots.txt</a>，<a href="https://www.zhihu.com/robots.txt" target="_blank" rel="noopener">知乎的robots.txt</a>。该文件并不是规范，只能限制遵循规则的爬虫，并不代表声明禁止抓取的内容一定不会被抓取。</p>
<p>爬虫应该首先访问 robots.txt 文件，并根据该文件状态和内容来决定最终的访问。即该文件是 401 或 403 时，表明该网站受限；503 时，表明该网站当前不可用，应推迟访问；404 则表示无任何限制；200 则需要依据文件内容访问网站。</p>
<h2 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h2><p>当你在搜索引擎中键入关键字时，可能会有数以亿计的文件中包含该关键字，因此，如何对这些文件排序成为了各搜索引擎的关键。通常来说，用户会点击排名靠前的搜索结果，如何才能让用户最快找到自己想要的呢？很多搜索引擎会将页面的被引用次数作为重要的排名依据，被引用越多，说明该页面价值也高，用户也最可能得到想要的东西。</p>
<p>部分网站为了获取较高的排名，列出了无数的关键字，甚至有些是毫不相干的，因此需要爬虫能够及时识别并过滤此类页面。</p>
<h1 id="第10章-HTTP-NG"><a href="#第10章-HTTP-NG" class="headerlink" title="第10章 HTTP-NG"></a>第10章 HTTP-NG</h1><h1 id="第11章-客户端识别与-cookie-机制"><a href="#第11章-客户端识别与-cookie-机制" class="headerlink" title="第11章 客户端识别与 cookie 机制"></a>第11章 客户端识别与 cookie 机制</h1><p>为了使 Web 站点的登陆更加简便，HTTP 中包含了一种内建机制，可以用 WWW-Authenticate 首部和 Authorization 首部向 Web 站点传送用户的相关信息。</p>
<p>本章 cookie内容较为简单且已过时，需要当前的浏览器与开发框架对 cookie 的处理及管理，以及未来如何更加准确识别用户，并让保证用户的信息不会被泄露。当前缓解用户在每个网站注册账户的方式是引入用户的社交账户登录，未来是否可以让所有用户以统一方式登录所有网站，而且这些网站获取不到用户的真实信息，eID 或许是未来的一个方向。</p>
<h1 id="第12章-基本认证机制"><a href="#第12章-基本认证机制" class="headerlink" title="第12章 基本认证机制"></a>第12章 基本认证机制</h1><p>服务器对用户进行质询时，会返回一条 401 响应，并在<code>WWW-Authenticate</code>首部说明如何以及在哪里认证，如以下示例。其中，<code>realm</code>是安全域，帮助用户了解应该使用哪个账号密码（不同资源有不同的访问权限，每个安全域都有不同的授权用户集）</p>
<figure class="highlight http"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 <span class="number">401</span> Unauthorized</span><br><span class="line"><span class="attribute">WWW-Authenticate</span>: Basic realm="Corporate Financials"</span><br></pre></td></tr></tbody></table></figure>

<p>当客户端收到 401 时，填写账号密码后，会在<code>Authorization</code>首部附加经 base64 编码的<code>账号:密码</code>形式的认证信息。如以下请求的认证信息即为<code>username:passowrd</code>的编码结果。<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gafqe4gnp4j30t40kgn03.jpg" alt=""></p>
<p>从基本认证的工作流中我们可以看到，用户的账号密码几乎就是明文传输的，这造成了很大的安全隐患，安全使用基本认证的唯一方式就是将其与 SSL 配合使用。</p>
<h1 id="第13章-摘要认证"><a href="#第13章-摘要认证" class="headerlink" title="第13章 摘要认证"></a>第13章 摘要认证</h1><p>摘要认证的箴言是“绝不通过网络发送密码”。客户端不会发送密码，而是会发送一个“指纹”或密码的“摘要”，这是密码的不可逆扰码。客户端和服务器都知道这个密码，因此服务器可以验证所提供的摘要是否与密码相匹配。（某公司的 X5 协议）</p>
<p>摘要是“对信息主体的浓缩”。摘要是一种单向函数，主要用于将无限的输入值转换为有限的浓缩输出值。常见的摘要函数有 MD5、SHA-1、SHA-2 等。</p>
<p>为了防止重放攻击，服务器可以向客户端发送一个称为随机数（nonce）的特殊令牌，这个数会经常发生变化（可能是每毫秒，或者是每次认证都变化）。客户端在计算摘要之前要先将这个随机数令牌附加到密码上去。<strong>摘要认证要求使用随机数来破坏重放攻击</strong>，因为这个小小的重放弱点会使未随机化的摘要认证变得和基本认证一样脆弱，随机数是在<code>WWW-Authenticate</code>质询中从服务器传送给客户端的。</p>
<p>随机数过期时，即便老的<code>Authorization</code>首部所包含的随机数不再新鲜了，服务器也可以选择接受其中的信息。服务器也可以返回一个带有新随机数的 401 响应，让客户端重试这条请求；指定这个响应为<code>stale=true</code>，表示服务器在告知客户端用新的随机数来重试，而不再重新提示输入新的用户名和密码了。（参照微信公众号的 token 过期处理方式）</p>
<p>RFC 2617 建议采用这个假想的随机数公式：<code>BASE64(time-stamp H(time-stamp ":" ETag ":" private-key))</code>。其中 time-stamp 是服务器产生的时间或其他不会重复的值，ETag 是与所请求实体有关的 HTTP ETag 首部的值，private-key 是只有服务器知道的数据。</p>
<p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gakjg3ndflj30mn0m3qbk.jpg" alt=""></p>
<p>在实际应用中，我们需要考虑到服务器可以对某个资源发起多重质询。比如，如果服务器不了解客户端的能力，就可以既提供基本认证质询，又提供摘要认证质询。客户端面对多重质询时，必须以它所支持的最强的质询机制来应答。另外，如果请求的摘要不匹配，就应该记录一次登录失败。某客户端连续多次失败可能说明有攻击者正在猜测密码。</p>
<p>一种可以完全避免重放攻击的方法就是为每个事务都使用一个唯一的随机数。在这种实现方式中，服务器会为每个事务发布唯一的随机数和一个超时值。发布的随机数只对指定的事务有效，而且只在超时值的持续区间内有效。这种方式会增加服务器的负担，但这种负担可忽略不计。</p>
<p>nonce 用于认证客户端，cnonce 用于认证服务端。</p>
<h1 id="第14章-安全-HTTP"><a href="#第14章-安全-HTTP" class="headerlink" title="第14章 安全 HTTP"></a>第14章 安全 HTTP</h1><p>安全 HTTP 需要满足</p>
<ul>
<li>服务器认证。服务单不会被伪造</li>
<li>客户端认证。客户端不会被伪造</li>
<li>完整性。数据不会被修改</li>
<li>加密。通信内容加密</li>
<li>效率。足够快的算法</li>
<li>普适性。基本上所有的客户端和服务器都支持这些协议</li>
<li>管理的可扩展性。在任何地方的任何人都可以立即进行安全通信</li>
<li>适应性。能够支持当前最知名的安全方法</li>
<li>在社会上的可行性</li>
</ul>
<p>早期，人们使用密码机加解密，加密算法和密码机都有可能落入敌人手中，所以大部分机器上都有一些号盘，可以将其设置为大量不同的值以改变密码的工作方式，即使机器被盗，没有正确的号盘设置（密钥），解码器也无法正常工作。</p>
<h2 id="对称加密"><a href="#对称加密" class="headerlink" title="对称加密"></a>对称加密</h2><p>在对称加密技术中，发送端与接收端要共享相同的密钥才能进行通信。常见的对称加密算法有：AES、3DES、DES(已被证明不安全)等。</p>
<p>可用密钥值的数量取决于密钥中的位数，以及可能的密钥中有多少是有效的。就对称密钥加密技术来说，通常所有的密钥值都是有效的（RSA 中，有效密钥必须以某种方式与质数相关）。8位的密钥只有256个可能的密钥值，40位的密钥可以有2^40个可能的密钥值(大约是-万亿个密钥)，128 位的密钥可以产生大约 3.4*10^38 个可能的密钥值。</p>
<p>在对称加密中，如果服务器与 100 万个用户进行安全会话，就需要维护 100 万个密钥，这无疑是一笔不小的开销。公开密钥技术避免了对称加密技术中成对密钥数目的 N^2 扩展问题。</p>
<h2 id="非对称加密"><a href="#非对称加密" class="headerlink" title="非对称加密"></a>非对称加密</h2><p>非对称加密是使用一对密钥进行加解密，分别称为公钥和私钥，使用公钥加密的内容只能用私钥解密，使用私钥加密的内容只能用公钥解密。常见的非对称加密算法有 RSA、DES、ECDSA，其中使用最广泛的算法是 RSA。</p>
<p>RSA原理资料：</p>
<ol>
<li><a href="https://luyuhuang.github.io/2019/10/24/mathematics-principle-of-rsa-algorithm.html" target="_blank" rel="noopener">RSA 算法背后的数学原理</a></li>
<li><a href="https://cjting.me/2020/03/13/rsa/" target="_blank" rel="noopener">RSA 的原理与实现</a></li>
<li><a href="https://www.bilibili.com/video/av26639065" target="_blank" rel="noopener">李永乐老师 11 分钟讲 RSA 加密算法</a></li>
<li><a href="https://www.bilibili.com/video/av35557954" target="_blank" rel="noopener">基于欧拉函数的 RSA 算法加密原理是什么</a></li>
<li><a href="https://www.bilibili.com/video/av34660391" target="_blank" rel="noopener">RSA 算法 – 基本原理篇</a></li>
</ol>
<p>ECDSA 原理资料：</p>
<ol>
<li><a href="https://www.bilibili.com/video/av74880228" target="_blank" rel="noopener">椭圆曲线加密与哈希函数是什么？</a></li>
</ol>
<blockquote>
<p>判定一个整数是否是质数则比分解该整数简单许多（给出两个大因数，很容易就能将它们两个相乘。但是，给出它们的乘积，找出它们的因子就显得不是那么容易了）。这就是许多现代密码系统的关键所在。如果能够找到解决整数分解问题的快速方法，几个重要的密码系统将会被攻破，包括 RSA 公钥算法和 Blum Blum Shub 随机数发生器。</p>
</blockquote>
<h1 id="第15章-实体和编码"><a href="#第15章-实体和编码" class="headerlink" title="第15章 实体和编码"></a>第15章 实体和编码</h1><p>每天都有数以亿计的各种媒体对象经由 HTTP 发送，HTTP 要确保它所承载的“货物”满足以下条件：</p>
<ul>
<li>可以被正确地识别（Content-type 说明媒体格式，Content-Language 说明语言），以便浏览器等正确处理内容</li>
<li>可以被正确地几包（Content-Length 和 Content-Encoding）</li>
<li>是最新的（通过实体验证码和缓存过期控制）</li>
<li>符合用户的需要（基于 Accept 系列的内容协商首部）</li>
<li>在网络上可以快速有效地传输（通过范围请求、差异编码以及其他数据压缩方法）</li>
<li>完整到达、未被篡改（通过传输编码首部和 Content-MD5 校验和首部）</li>
</ul>
<h2 id="HTTP-1-1定义了以下-10-个基本首部字段："><a href="#HTTP-1-1定义了以下-10-个基本首部字段：" class="headerlink" title="HTTP/1.1定义了以下 10 个基本首部字段："></a>HTTP/1.1定义了以下 10 个基本首部字段：</h2><table>
<thead>
<tr>
<th>首部</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>Content-Type</code></td>
<td>实体中所承载对象的类型</td>
</tr>
<tr>
<td><code>Content-Length</code></td>
<td>所传送实体主体的长度或大小</td>
</tr>
<tr>
<td><code>Content-Language</code></td>
<td>与所传送对象最相匹配的人类语言</td>
</tr>
<tr>
<td><code>Content-Encoding</code></td>
<td>对象数据所做的任意变换（如压缩）</td>
</tr>
<tr>
<td><code>Content-Location</code></td>
<td>一个备用位置，请求时可通过它获得对象</td>
</tr>
<tr>
<td><code>Content-Range</code></td>
<td>如果这是部分实体，这个首部说明它是整体的哪个部分</td>
</tr>
<tr>
<td><code>Content-MD5</code></td>
<td>实体主体内容的校验和</td>
</tr>
<tr>
<td><code>Last-Modified</code></td>
<td>所传输内容在服务器上创建或最后修改的日期时间</td>
</tr>
<tr>
<td><code>Expires</code></td>
<td>实体数据将要失效的日期时间</td>
</tr>
<tr>
<td><code>Allow</code></td>
<td>该资源所允许的各种请求方法，如 GET 或 POST</td>
</tr>
<tr>
<td><code>ETag</code></td>
<td>该文档特定示例的唯一验证码。ETag 未被定义为实体首部</td>
</tr>
<tr>
<td><code>Cache-Control</code></td>
<td>指出该文档应该如何缓存，与 ETag 首部类似，也未被定义为正式实体首部</td>
</tr>
</tbody></table>
<h3 id="Content-Length"><a href="#Content-Length" class="headerlink" title="Content-Length"></a>Content-Length</h3><p>Content-Length对于持久连接是必不可少的，如果没有Content-Length，HTTP 应用程序就不知道实体主体在哪里结束，下一条报文从哪里开始。</p>
<h3 id="Content-Type"><a href="#Content-Type" class="headerlink" title="Content-Type"></a>Content-Type</h3><p>Content-Type 的值是标准化的 MIME 类型，都是在互联网号码分配机构（IANA）中注册的。</p>
<h3 id="Content-Encoding-常用值"><a href="#Content-Encoding-常用值" class="headerlink" title="Content-Encoding 常用值"></a>Content-Encoding 常用值</h3><table>
<thead>
<tr>
<th>值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>gzip</td>
<td>采用 GNU zip 编码</td>
</tr>
<tr>
<td>compress</td>
<td>采用 Unix 的文件压缩程序</td>
</tr>
<tr>
<td>deflate</td>
<td>采用用 zlib 格式压缩</td>
</tr>
<tr>
<td>identity</td>
<td>未对实体编码，无Content-Encoding 首部时，默认此种情况</td>
</tr>
</tbody></table>
<p>gzip、compress、deflate 都是无损压缩算法，用于减少传输报文的大小，不会导致信息的损失。其中，gzip 通常效率最高，使用最广泛。gzip 与 deflate 的压缩算法可以阅读<a href="https://luyuhuang.github.io/2020/04/28/gzip-and-deflate.html" target="_blank" rel="noopener">Gzip 格式和 DEFLATE 压缩算法</a>。</p>
<h3 id="Accept-Encoding"><a href="#Accept-Encoding" class="headerlink" title="Accept-Encoding"></a>Accept-Encoding</h3><p>客户端将支持的编码方式列表放在 Accept-Encoding，如果请求中没有该首部，则服务端认为客户端能够接受任何编码形式（等同于 Accept-Encoding:*）。</p>
<p>Accept-Encoding字段包含用逗号分隔的支持编码的列表，如</p>
<ul>
<li>Accept-Encoding: compress, gzip</li>
<li>Accept-Encoding: </li>
<li>Accept-Encoding: *</li>
<li>Accept-Encoding: compress;q=0.5, gzip;q=1.0</li>
<li>Accept-Encoding: gzip;q=1.0, identity; q=0.5, *;q=0</li>
</ul>
<p>客户端可以给每种编码附带Q (质量)值参数来说明编码的优先级。Q值的范围从0.0到1.0，0.0说明客户端不想接受所说明的编码，1.0则表明最希望使用的编码，缺省时则为 1.0。“*”表示“任何其他方法”。identity编码代号只能在Accept-Encoding首部中出现，客户端用它来说明相对于其他内容编码算法的优先级。</p>
<h3 id="Transfer-Encoding"><a href="#Transfer-Encoding" class="headerlink" title="Transfer-Encoding"></a>Transfer-Encoding</h3><p>用于告知接收方为了可靠地传输报文，已经对其进行了何种编码。</p>
<h3 id="新鲜度"><a href="#新鲜度" class="headerlink" title="新鲜度"></a>新鲜度</h3><p>服务器可以用 Expires 和 Cache-Control 首部提供客户端缓存文档的新鲜度。<br>为了正确使用 Expires 首部，服务器与客户端必须时钟同步，这并不总是很容易，而 Cache-Control 首部可以用秒数来规定文档的最长使用期，Cache-Control 除了使用期或过期时间外，还有其他指令可用：<br>|指令|报文类型|描述|<br>|-|-|-|<br>|no-cache|请求|在重新向服务验证之前，不要返回文档的缓存副本|<br>|no-store|请求|不要反悔文档的缓存副本，不要保存服务器的响应|<br>|max-age|请求|缓存中的文档不能超过指定的使用期|<br>|max-stale|请求|文档允许过期，但不能超过指令中的过期值|<br>|min-fresh|请求|文档的使用期不能小于这个指定的时间与它的当前存活时间之和。换言之，响应必须至少在指定的这段时间内保持新鲜<br>|no-transform|请求|文档在发送之前不允许被转换<br>|only-if-cached|请求|仅当文档在缓存中才发送，不要联系原始服务器<br>|public|响应|响应可以被任何服务器缓存<br>|private|响应|响应可以被缓存，但只能被单个客户端访问<br>|no-cache|响应|如果该智力高伴随一个首部列表的话，那么内容可以被缓存并提供给客户端，但必须先删除所列出的首部，如果没有指定首部，缓存中的副本在没有重新向服务器验证之前不能提供给客户端<br>|no-store|响应|响应不允许被缓存<br>|no-transform|响应|响应在提供给客户端之前不能做任何形式的修改<br>|must-revalidate|响应|响应在提供给客户端之前重新向服务器验证<br>|proxy-revalidate|响应|共享的缓存在提供给客户端之前重新向服务器验证。私有的缓存可以忽略本指令<br>|max-age|响应|指定文档可以被缓存的时间以及新鲜度的最长时间<br>|s-max-age|响应|指定文档作为共享缓存时的最长使用时间（如果有 max-age 指令的话，以本指令为准）。私有的缓存可以忽略本指令</p>
<h3 id="有条件的请求类型"><a href="#有条件的请求类型" class="headerlink" title="有条件的请求类型"></a>有条件的请求类型</h3><table>
<thead>
<tr>
<th>请求类型</th>
<th>验证码</th>
</tr>
</thead>
<tbody><tr>
<td>If-Modified-Since</td>
<td>Last-Modified</td>
</tr>
<tr>
<td>If-Unmodified-Since</td>
<td>Last-Modified</td>
</tr>
<tr>
<td>If-Match</td>
<td>ETag</td>
</tr>
<tr>
<td>If-None-Match</td>
<td>ETag</td>
</tr>
</tbody></table>
<h3 id="范围请求"><a href="#范围请求" class="headerlink" title="范围请求"></a>范围请求</h3><p>HTTP 客户端可以通过请求获取实体的某个范围，如：</p>
<figure class="highlight http"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GET</span> <span class="string">/index.html</span> HTTP/1.1</span><br><span class="line"><span class="attribute">Host</span>: www.google.com</span><br><span class="line"><span class="attribute">Range</span>: byte=4000-</span><br><span class="line"><span class="attribute">User-Agent</span>: Mozilla/4.61</span><br></pre></td></tr></tbody></table></figure>
<p>该示例表示获取文档 4000 字节之后的内容，也可以使用 Range 首部来请求多个范围（这些范围可以任意顺序给出，也可以相互重叠）。对于一个客户端在一个请求内请求多个不同范围的情况，返回的响应也是单个实体，它有一个多部分主体及 Content-Type: multipart/byteranges 首部。</p>
<p>并非所有服务器都接受范围请求，服务器可以在响应中包含 Accept-Ranges 首部的形式向客户端说明可以接受的范围请求，其值为计算范围的单位，通常以字节计算，如</p>
<figure class="highlight angelscript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">HTTP/<span class="number">1.1</span> <span class="number">200</span> OK</span><br><span class="line">Date: Fri, <span class="number">05</span> Nov <span class="number">2019</span> <span class="number">22</span>:<span class="number">00</span>:<span class="number">00</span> GMT </span><br><span class="line">Server: Apache/ <span class="number">1.2</span><span class="number">.4</span></span><br><span class="line">Accept-Ranges: bytes</span><br></pre></td></tr></tbody></table></figure>

<p><strong>Range 首部在 P2P 中得到了广泛应用</strong>，他们从不同的对等实体同时下载多媒体文件的不同部分。</p>
<h1 id="第16章-国际化"><a href="#第16章-国际化" class="headerlink" title="第16章 国际化"></a>第16章 国际化</h1><p>服务器通过 Content-Type 中的 charset 和 Content-Language 告知客户端文档的字母表和语言。客户端通过 Accept-Charset 和 Accept-Language 告知服务器它所理解的字符集和语言以及其中的优先顺序。如下示例，表示该用户可以同时接受法语与英语，但法语的优先级更高(q 缺省为 1.0)，同时浏览器支持iso-8859-1 和 utf-8 字符集。</p>
<figure class="highlight angelscript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Accept-Language: fr, en;q=<span class="number">0.8</span></span><br><span class="line">Accept-Charset: iso<span class="number">-8859</span><span class="number">-1</span>, utf<span class="number">-8</span></span><br></pre></td></tr></tbody></table></figure>

<p>编码部分可查看博文<a href="https://blog.shixinyu.space/post/computer-encoding/">计算机常用编码的二三事</a><br>语言标准查看 ISO-639，国家代码标准查看 ISO-3166。</p>
<h1 id="第17章-内容协商与转码"><a href="#第17章-内容协商与转码" class="headerlink" title="第17章 内容协商与转码"></a>第17章 内容协商与转码</h1><h1 id="第18章-Web-主机托管"><a href="#第18章-Web-主机托管" class="headerlink" title="第18章 Web 主机托管"></a>第18章 Web 主机托管</h1><h1 id="第19章-发布系统"><a href="#第19章-发布系统" class="headerlink" title="第19章 发布系统"></a>第19章 发布系统</h1><h1 id="第20章-重定向与负载均衡"><a href="#第20章-重定向与负载均衡" class="headerlink" title="第20章 重定向与负载均衡"></a>第20章 重定向与负载均衡</h1><h1 id="第21章-日志记录与使用情况跟踪"><a href="#第21章-日志记录与使用情况跟踪" class="headerlink" title="第21章 日志记录与使用情况跟踪"></a>第21章 日志记录与使用情况跟踪</h1><hr>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ol>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP" target="_blank" rel="noopener">HTTP - MDN</a></li>
<li><a href="https://httpstatuses.com/" target="_blank" rel="noopener">HTTP Status</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods" target="_blank" rel="noopener">HTTP request methods - MDN</a></li>
<li><a href="https://www.zhihu.com/question/28469005/answer/40934178" target="_blank" rel="noopener">请求参数用string好还是数字好？ - Ivony的回答</a></li>
</ol>

    </div>

    
    
    
      
        <div class="reward-container">
  <div>因为热爱，所以执着。</div>
  <button disable="enable" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    Donate
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechat.png" alt="Shi Xinyu WeChat Pay">
        <p>WeChat Pay</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/images/alipay.png" alt="Shi Xinyu Alipay">
        <p>Alipay</p>
      </div>

  </div>
</div>


      <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-prev post-nav-item">
                <a href="/post/php-array/" rel="prev" title="PHP数组函数总结">
                  <i class="fa fa-chevron-left"></i> PHP数组函数总结
                </a>
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-next post-nav-item">
                <a href="/post/python-learning-notes/" rel="next" title="Python 学习笔记">
                  Python 学习笔记 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          
    <div class="comments" id="comments"></div>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#第1章-HTTP-概述"><span class="nav-text">第1章 HTTP 概述</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP状态码"><span class="nav-text">HTTP状态码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Web的结构组件"><span class="nav-text">Web的结构组件</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第2章-URL-与资源"><span class="nav-text">第2章 URL 与资源</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#URL-的各种形式"><span class="nav-text">URL 的各种形式</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第3章-HTTP-报文"><span class="nav-text">第3章 HTTP 报文</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#常用的-HTTP-方法"><span class="nav-text">常用的 HTTP 方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#常用-HTTP-状态码"><span class="nav-text">常用 HTTP 状态码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#首部"><span class="nav-text">首部</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Connection-首部"><span class="nav-text">Connection 首部</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Accept-首部"><span class="nav-text">Accept 首部</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Upgrade-首部"><span class="nav-text">Upgrade 首部</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Via-首部"><span class="nav-text">Via 首部</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#条件请求首部"><span class="nav-text">条件请求首部</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#内容首部"><span class="nav-text">内容首部</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第4章-连接管理"><span class="nav-text">第4章 连接管理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#TIME-WAIT-与-CLOSE-WAIT"><span class="nav-text">TIME_WAIT 与 CLOSE_WAIT</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#TIME-WAIT-产生的场景"><span class="nav-text">TIME_WAIT 产生的场景</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CLOSE-WAIT-产生的场景"><span class="nav-text">CLOSE_WAIT 产生的场景</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#为什么需要TIME-WAIT-与-CLOSE-WAIT-呢？"><span class="nav-text">为什么需要TIME_WAIT 与 CLOSE_WAIT 呢？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#如果已经进入TIME-WAIT-与-CLOSE-WAIT连接，这个连接接下来会被怎样处理呢？"><span class="nav-text">如果已经进入TIME_WAIT 与 CLOSE_WAIT连接，这个连接接下来会被怎样处理呢？</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#关于连接关闭"><span class="nav-text">关于连接关闭</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第5章-Web-服务器"><span class="nav-text">第5章 Web 服务器</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第6章-代理"><span class="nav-text">第6章 代理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#为什么使用代理"><span class="nav-text">为什么使用代理</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第7章-缓存"><span class="nav-text">第7章 缓存</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第8章-集成点：网关、隧道及中继"><span class="nav-text">第8章 集成点：网关、隧道及中继</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第9章-Web-机器人"><span class="nav-text">第9章 Web 机器人</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#爬虫的工作流"><span class="nav-text">爬虫的工作流</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#循环陷阱"><span class="nav-text">循环陷阱</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#robots-txt"><span class="nav-text">robots.txt</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#搜索"><span class="nav-text">搜索</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第10章-HTTP-NG"><span class="nav-text">第10章 HTTP-NG</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第11章-客户端识别与-cookie-机制"><span class="nav-text">第11章 客户端识别与 cookie 机制</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第12章-基本认证机制"><span class="nav-text">第12章 基本认证机制</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第13章-摘要认证"><span class="nav-text">第13章 摘要认证</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第14章-安全-HTTP"><span class="nav-text">第14章 安全 HTTP</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#对称加密"><span class="nav-text">对称加密</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#非对称加密"><span class="nav-text">非对称加密</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第15章-实体和编码"><span class="nav-text">第15章 实体和编码</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP-1-1定义了以下-10-个基本首部字段："><span class="nav-text">HTTP/1.1定义了以下 10 个基本首部字段：</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Content-Length"><span class="nav-text">Content-Length</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Content-Type"><span class="nav-text">Content-Type</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Content-Encoding-常用值"><span class="nav-text">Content-Encoding 常用值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Accept-Encoding"><span class="nav-text">Accept-Encoding</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Transfer-Encoding"><span class="nav-text">Transfer-Encoding</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#新鲜度"><span class="nav-text">新鲜度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#有条件的请求类型"><span class="nav-text">有条件的请求类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#范围请求"><span class="nav-text">范围请求</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第16章-国际化"><span class="nav-text">第16章 国际化</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第17章-内容协商与转码"><span class="nav-text">第17章 内容协商与转码</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第18章-Web-主机托管"><span class="nav-text">第18章 Web 主机托管</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第19章-发布系统"><span class="nav-text">第19章 发布系统</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第20章-重定向与负载均衡"><span class="nav-text">第20章 重定向与负载均衡</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第21章-日志记录与使用情况跟踪"><span class="nav-text">第21章 日志记录与使用情况跟踪</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#参考资料"><span class="nav-text">参考资料</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
  <img class="site-author-image" itemprop="image" alt="Shi Xinyu" src="https://tva1.sinaimg.cn/large/006tNbRwly1g9hf0u8313j305o05p3ye.jpg">
  <p class="site-author-name" itemprop="name">Shi Xinyu</p>
  <div class="site-description" itemprop="description">Learn by doing !</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">96</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">18</span>
        <span class="site-state-item-name">categories</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">61</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  © 2016 – 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xinyu © Copyright  |  <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener"> BY-NC-SA</a></span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.0.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.4.2
  </div>

        
<div class="busuanzi-count">
  <script pjax="" async="" src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</div>












        
      </div>
    </footer>
  </div>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.1.0/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-pjax@0/pjax.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/medium-zoom@1/dist/medium-zoom.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>
  
  



  




  
  




  












    <div id="pjax">

  

  

  




    </div>


<script type="text/javascript" src="/bundle.js"></script><script type="text/javascript">
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.getAttribute('pjax') !== null) {
      element.setAttribute('pjax', '');
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
;

    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  ;

NexT.utils.getScript('//cdn.jsdelivr.net/npm/valine@1/dist/Valine.min.js', () => {
  var GUEST = ['nick', 'mail', 'link'];
  var guest = 'nick,mail,link';
  guest = guest.split(',').filter(item => {
    return GUEST.includes(item);
  });
  new Valine({
    el: '#comments',
    verify: true,
    notify: false,
    appId: 'CEo3hR7qTLSO1hx0GRgh4VkR-gzGzoHsz',
    appKey: 'mOoWJCRObxe1hAfLmzmXWKSS',
    placeholder: "拙笔若博君一思，幸甚之至",
    avatar: 'mm',
    meta: guest,
    pageSize: '10' || 10,
    visitor: false,
    lang: '' || 'zh-cn',
    path: location.pathname,
    recordIP: true,
    serverURLs: ''
  });
}, window.Valine);
</script></body></html>